{"data":"{\"post_stream\":{\"posts\":[{\"id\":2962943,\"name\":\"Marshall Hamon\",\"username\":\"Zekrim\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/z/b487fb/{size}.png\",\"created_at\":\"2021-07-25T23:28:49.599Z\",\"cooked\":\"\\u003cp\\u003eHey all,\\u003cbr\\u003e\\nSo our team is running a shooter on PID control, and have encountered errors symptomatic of not updating quickly enough. What is the best way to overcome or circumvent the limit of a 50ms update delay for the CANSparkMax motor controllers?\\u003c/p\\u003e\\n\\u003cp\\u003eThank you!\\u003c/p\\u003e\",\"post_number\":1,\"post_type\":1,\"posts_count\":9,\"updated_at\":\"2021-07-25T23:30:28.267Z\",\"reply_count\":1,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":101,\"reads\":167,\"readers_count\":166,\"score\":573.4,\"yours\":false,\"topic_id\":395216,\"topic_slug\":\"improving-update-rate-on-cansparkmax-motor-controllers-for-pid-controller\",\"display_username\":\"Marshall Hamon\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":null,\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":2}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":48651,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"post_url\":\"/t/improving-update-rate-on-cansparkmax-motor-controllers-for-pid-controller/395216/1\",\"custom_user_title\":null,\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":2}],\"current_user_reaction\":null,\"reaction_users_count\":2,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null,\"can_vote\":false},{\"id\":2962947,\"name\":\"Allen Nuttle\",\"username\":\"nuttle\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/nuttle/{size}/124105_2.png\",\"created_at\":\"2021-07-26T00:39:01.848Z\",\"cooked\":\"\\u003cp\\u003eIt would probably help to describe the symptoms you are seeing and also provide some specifics on your shooter (how it’s powered, any gearing, approx. moment of inertia – just a description of what’s spinning).\\u003c/p\\u003e\",\"post_number\":2,\"post_type\":1,\"posts_count\":9,\"updated_at\":\"2021-07-26T00:39:01.848Z\",\"reply_count\":0,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":1,\"reads\":165,\"readers_count\":164,\"score\":38.0,\"yours\":false,\"topic_id\":395216,\"topic_slug\":\"improving-update-rate-on-cansparkmax-motor-controllers-for-pid-controller\",\"display_username\":\"Allen Nuttle\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":14283,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"\"},\"post_url\":\"/t/improving-update-rate-on-cansparkmax-motor-controllers-for-pid-controller/395216/2\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":2962952,\"name\":\"Kim\",\"username\":\"krf\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/krf/{size}/158158_2.png\",\"created_at\":\"2021-07-26T01:49:09.233Z\",\"cooked\":\"\\u003cp\\u003eAre you using onboard or external PID control?  Trying to use set calls is a perfectly functional option with a roboRIO-side PID controller but you may also want to try tuning the onboard controller and using that instead, especially if only interacting with velocity control.  The encoders being directly connected to the motor controller and factored into internal loops are going to be faster than CAN bus propagation 100% of the time.\\u003c/p\\u003e\",\"post_number\":3,\"post_type\":1,\"posts_count\":9,\"updated_at\":\"2021-07-26T01:49:09.233Z\",\"reply_count\":1,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":1,\"reads\":157,\"readers_count\":156,\"score\":41.4,\"yours\":false,\"topic_id\":395216,\"topic_slug\":\"improving-update-rate-on-cansparkmax-motor-controllers-for-pid-controller\",\"display_username\":\"Kim\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[],\"moderator\":true,\"admin\":false,\"staff\":true,\"user_id\":28161,\"hidden\":false,\"trust_level\":4,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"she/her | old curmudgeon\"},\"post_url\":\"/t/improving-update-rate-on-cansparkmax-motor-controllers-for-pid-controller/395216/3\",\"custom_user_title\":\"she/her | old curmudgeon\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":2962956,\"name\":\"Marshall Hamon\",\"username\":\"Zekrim\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/z/b487fb/{size}.png\",\"created_at\":\"2021-07-26T02:23:49.725Z\",\"cooked\":\"\\u003cp\\u003eWe are using the CANPIDController’s .setReference() method, I’m assuming that’s what you mean by onboard control. Is the fact that we’re using this method and still finding the update time lethargic symptomatic of some other time-consuming code?\\u003c/p\\u003e\\n\\u003cp\\u003eOh, and answering nuttle’s question, our robot has a single flywheel, a colson wheel, being driven by two neo’s at a 24:10 gear ratio. It is firing Power Cells with moderate compression.\\u003c/p\\u003e\",\"post_number\":4,\"post_type\":1,\"posts_count\":9,\"updated_at\":\"2021-07-26T02:24:28.379Z\",\"reply_count\":2,\"reply_to_post_number\":3,\"quote_count\":0,\"incoming_link_count\":2,\"reads\":142,\"readers_count\":141,\"score\":48.4,\"yours\":false,\"topic_id\":395216,\"topic_slug\":\"improving-update-rate-on-cansparkmax-motor-controllers-for-pid-controller\",\"display_username\":\"Marshall Hamon\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":2,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":null,\"reply_to_user\":{\"id\":28161,\"username\":\"krf\",\"name\":\"Kim\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/krf/{size}/158158_2.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":48651,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"post_url\":\"/t/improving-update-rate-on-cansparkmax-motor-controllers-for-pid-controller/395216/4\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":2962958,\"name\":\"Kim\",\"username\":\"krf\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/krf/{size}/158158_2.png\",\"created_at\":\"2021-07-26T02:31:34.408Z\",\"cooked\":\"\\u003cp\\u003eHow is the lethargy of control response exhibited?  Call timeouts in your robot code, slow to spinup / change target, or something else?  setReference() shouldn’t cause significant lag but if you’re calling it every robot loop, depending on how the REV libraries work, may not cache identical values and actually try to set every loop, causing delays.\\u003c/p\\u003e\",\"post_number\":5,\"post_type\":1,\"posts_count\":9,\"updated_at\":\"2021-07-26T02:31:34.408Z\",\"reply_count\":0,\"reply_to_post_number\":4,\"quote_count\":0,\"incoming_link_count\":3,\"reads\":139,\"readers_count\":138,\"score\":57.8,\"yours\":false,\"topic_id\":395216,\"topic_slug\":\"improving-update-rate-on-cansparkmax-motor-controllers-for-pid-controller\",\"display_username\":\"Kim\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"reply_to_user\":{\"id\":48651,\"username\":\"Zekrim\",\"name\":\"Marshall Hamon\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/z/b487fb/{size}.png\"},\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":1}],\"moderator\":true,\"admin\":false,\"staff\":true,\"user_id\":28161,\"hidden\":false,\"trust_level\":4,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"she/her | old curmudgeon\"},\"post_url\":\"/t/improving-update-rate-on-cansparkmax-motor-controllers-for-pid-controller/395216/5\",\"custom_user_title\":\"she/her | old curmudgeon\",\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":1}],\"current_user_reaction\":null,\"reaction_users_count\":1,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":2962964,\"name\":null,\"username\":\"Starlight220\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/starlight220/{size}/150872_2.png\",\"created_at\":\"2021-07-26T05:54:06.012Z\",\"cooked\":\"\\u003cp\\u003eWhat encoders are you using? The internal NEO encoders have an non-configurable filtering delay.\\u003c/p\\u003e\",\"post_number\":6,\"post_type\":1,\"posts_count\":9,\"updated_at\":\"2021-07-26T05:54:06.012Z\",\"reply_count\":1,\"reply_to_post_number\":4,\"quote_count\":0,\"incoming_link_count\":3,\"reads\":134,\"readers_count\":133,\"score\":61.8,\"yours\":false,\"topic_id\":395216,\"topic_slug\":\"improving-update-rate-on-cansparkmax-motor-controllers-for-pid-controller\",\"display_username\":null,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":null,\"reply_to_user\":{\"id\":48651,\"username\":\"Zekrim\",\"name\":\"Marshall Hamon\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/z/b487fb/{size}.png\"},\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":1}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":45763,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"6738a | ISR | WPILib\"},\"post_url\":\"/t/improving-update-rate-on-cansparkmax-motor-controllers-for-pid-controller/395216/6\",\"custom_user_title\":\"6738a | ISR | WPILib\",\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":1}],\"current_user_reaction\":null,\"reaction_users_count\":1,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":2962968,\"name\":\"Allen Nuttle\",\"username\":\"nuttle\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/nuttle/{size}/124105_2.png\",\"created_at\":\"2021-07-26T12:18:03.610Z\",\"cooked\":\"\\u003cp\\u003eIf you are running velocity control on the SPARK MAX, you set the various parameters and then setReference() – at that point, the RIO is out of the loop, and you don’t need to call setReference() repeatedly, only when you are trying to vary the desired velocity.  So, the only other code that’s relevant is on the controller.\\u003c/p\\u003e\\n\\u003cp\\u003eUsing an external encoder with higher resolution is generally helpful, but may not make much difference in some scenarios.  For a given RPM, you can work out how many encoder transitions will happen in 50ms.  There are 42 of these per revolution of the motor, and you have to account for the gearing.\\u003c/p\\u003e\\n\\u003cp\\u003eLooking at: \\u003ca href=\\\"https://github.com/REVrobotics/SPARK-MAX-Documentation/blob/master/software-resources/configuration-parameters.md\\\" class=\\\"inline-onebox\\\"\\u003eSPARK-MAX-Documentation/configuration-parameters.md at master · REVrobotics/SPARK-MAX-Documentation · GitHub\\u003c/a\\u003e, k[Alt]EncoderAverageDepth and k[Alt]EncoderSampleDelta are of interest.  But the non-“Alt” forms of these seem to be for brushed motors (with an external encoder) and the “Alt” forms certainly require an external encoder (with a brushless motor).  So this is another way an external encoder might help.  I don’t know enough about the controller internals or the specific setup you are using to be sure here though; see the other comment on this (above).\\u003c/p\\u003e\\n\\u003cp\\u003eIt’s also possible that shooting slows things down enough that no matter what the controller does, it’s going to take time to recover.  So it is helpful to know if the problem is variation in velocity while not shooting, or if you are trying to address something you see when you shoot.  And, it can also make a difference how you are measuring the velocity.  Are you reading data from the controller, using an external tachometer, or going by symptoms you see in the overall mechanisim?\\u003c/p\\u003e\",\"post_number\":7,\"post_type\":1,\"posts_count\":9,\"updated_at\":\"2021-07-26T12:18:33.570Z\",\"reply_count\":0,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":7,\"reads\":122,\"readers_count\":121,\"score\":59.4,\"yours\":false,\"topic_id\":395216,\"topic_slug\":\"improving-update-rate-on-cansparkmax-motor-controllers-for-pid-controller\",\"display_username\":\"Allen Nuttle\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"link_counts\":[{\"url\":\"https://github.com/REVrobotics/SPARK-MAX-Documentation/blob/master/software-resources/configuration-parameters.md\",\"internal\":false,\"reflection\":false,\"title\":\"SPARK-MAX-Documentation/configuration-parameters.md at master · REVrobotics/SPARK-MAX-Documentation · GitHub\",\"clicks\":8}],\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":14283,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"\"},\"post_url\":\"/t/improving-update-rate-on-cansparkmax-motor-controllers-for-pid-controller/395216/7\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":2962975,\"name\":\"Chris Gerth\",\"username\":\"gerthworm\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/gerthworm/{size}/268658_2.png\",\"created_at\":\"2021-07-26T14:43:59.364Z\",\"cooked\":\"\\u003caside class=\\\"quote no-group\\\" data-username=\\\"Zekrim\\\" data-post=\\\"1\\\" data-topic=\\\"395216\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg loading=\\\"lazy\\\" alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/letter_avatar_proxy/v4/letter/z/b487fb/48.png\\\" class=\\\"avatar\\\"\\u003e Zekrim:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003e50ms update delay for the CANSparkMax motor controllers?\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003caside class=\\\"quote no-group\\\" data-username=\\\"Starlight220\\\" data-post=\\\"6\\\" data-topic=\\\"395216\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg loading=\\\"lazy\\\" alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/user_avatar/www.chiefdelphi.com/starlight220/48/150872_2.png\\\" class=\\\"avatar\\\"\\u003e Starlight220:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003eThe internal NEO encoders have an non-configurable filtering delay.\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003cp\\u003eThese seem to roughly align if you ask me, based on a very similar configuration on our shooter wheel in 2020.\\u003c/p\\u003e\\n\\u003cp\\u003eThat being said, keep in mind… 50ms is 2.5 control loops on the RIO. While that’s not completely trivial, it’s also quite small - in the region where things like \\u003cspan class=\\\"abbreviation\\\"\\u003eCAN\\u003ctemplate class=\\\"tooltiptext\\\" data-text=\\\"Controller Area Network\\\"\\u003e\\u003c/template\\u003e\\u003c/span\\u003e bus delay, code order of operations, how you extract out and analyze the desired/actual speed timeseries signals… all this can start to stack up.\\u003c/p\\u003e\\n\\u003cp\\u003eAll that being said -\\u003c/p\\u003e\\n\\u003caside class=\\\"quote no-group\\\" data-username=\\\"Zekrim\\\" data-post=\\\"1\\\" data-topic=\\\"395216\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg loading=\\\"lazy\\\" alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/letter_avatar_proxy/v4/letter/z/b487fb/48.png\\\" class=\\\"avatar\\\"\\u003e Zekrim:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003esymptomatic of not updating quickly enough.\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003cp\\u003eA couple concrete scenarios that fit this description:\\u003c/p\\u003e\\n\\u003col\\u003e\\n\\u003cli\\u003eRIO has unexpected delay between executing a line of code, and sending a \\u003cspan class=\\\"abbreviation\\\"\\u003eCAN\\u003ctemplate class=\\\"tooltiptext\\\" data-text=\\\"Controller Area Network\\\"\\u003e\\u003c/template\\u003e\\u003c/span\\u003e bus message\\u003c/li\\u003e\\n\\u003cli\\u003eSparkMax has unexpected delay between receiving a \\u003cspan class=\\\"abbreviation\\\"\\u003eCAN\\u003ctemplate class=\\\"tooltiptext\\\" data-text=\\\"Controller Area Network\\\"\\u003e\\u003c/template\\u003e\\u003c/span\\u003e bus message and changing the motor output voltage\\u003c/li\\u003e\\n\\u003cli\\u003eSparkMax has unexpected delay between a change in mechanism motion, and reading it with some sensor (internal encoder? external encoder? limit switch?)\\u003c/li\\u003e\\n\\u003cli\\u003eSparkMax has unexpected delay between reading a change in the world in a sensor, and transmitting a corresponding \\u003cspan class=\\\"abbreviation\\\"\\u003eCAN\\u003ctemplate class=\\\"tooltiptext\\\" data-text=\\\"Controller Area Network\\\"\\u003e\\u003c/template\\u003e\\u003c/span\\u003e bus message\\u003c/li\\u003e\\n\\u003cli\\u003eRIO has unexpected delay between getting a \\u003cspan class=\\\"abbreviation\\\"\\u003eCAN\\u003ctemplate class=\\\"tooltiptext\\\" data-text=\\\"Controller Area Network\\\"\\u003e\\u003c/template\\u003e\\u003c/span\\u003e bus message, and changing the value in your software which you are reading\\u003c/li\\u003e\\n\\u003c/ol\\u003e\\n\\u003cp\\u003eI’m not sure if all of these apply. Not all are easy to measure… for example, using something like the REV hardware client will take certain delays out of the loop, but add new ones.\\u003c/p\\u003e\\n\\u003cp\\u003eThe key though is that the correct “knobs” to adjust depend on which delay you’re attempting to attack.\\u003c/p\\u003e\\n\\u003cp\\u003eFor example, 1 and 5 are both dependent on the underlying hardware/software in the RIO which reads \\u003cspan class=\\\"abbreviation\\\"\\u003eCAN\\u003ctemplate class=\\\"tooltiptext\\\" data-text=\\\"Controller Area Network\\\"\\u003e\\u003c/template\\u003e\\u003c/span\\u003e bus electrical signals and queues messages back and forth in software. FWIW I doubt the issue is here, given others haven’t found major issues, but that’s not to discard the possibility you’ve uncovered something new.\\u003c/p\\u003e\\n\\u003cp\\u003eNuttle’s advice applies a lot to 3, but assumes external encoder (internal encoder has no corresponding knobs and, indeed, has a non-trivial amount of filtering on it).\\u003c/p\\u003e\",\"post_number\":8,\"post_type\":1,\"posts_count\":9,\"updated_at\":\"2021-07-26T14:53:25.882Z\",\"reply_count\":0,\"reply_to_post_number\":null,\"quote_count\":2,\"incoming_link_count\":5,\"reads\":101,\"readers_count\":100,\"score\":45.2,\"yours\":false,\"topic_id\":395216,\"topic_slug\":\"improving-update-rate-on-cansparkmax-motor-controllers-for-pid-controller\",\"display_username\":\"Chris Gerth\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":2,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":24617,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"\"},\"post_url\":\"/t/improving-update-rate-on-cansparkmax-motor-controllers-for-pid-controller/395216/8\",\"custom_user_title\":null,\"reactions\":[{\"id\":\"cry\",\"type\":\"emoji\",\"count\":1}],\"current_user_reaction\":null,\"reaction_users_count\":1,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3074646,\"name\":\"system\",\"username\":\"system\",\"avatar_template\":\"/uploads/default/original/4X/9/3/2/93234578e69f55873c63fc00fe2d0d85f23bce55.png\",\"created_at\":\"2022-07-26T14:44:57.054Z\",\"cooked\":\"\\u003cp\\u003eThis topic was automatically closed 365 days after the last reply. New replies are no longer allowed.\\u003c/p\\u003e\",\"post_number\":9,\"post_type\":3,\"posts_count\":9,\"updated_at\":\"2022-07-26T14:44:57.054Z\",\"reply_count\":0,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":1,\"reads\":15,\"readers_count\":14,\"score\":8.0,\"yours\":false,\"topic_id\":395216,\"topic_slug\":\"improving-update-rate-on-cansparkmax-motor-controllers-for-pid-controller\",\"display_username\":\"system\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[],\"moderator\":true,\"admin\":true,\"staff\":true,\"user_id\":-1,\"hidden\":false,\"trust_level\":4,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"action_code\":\"autoclosed.enabled\",\"post_url\":\"/t/improving-update-rate-on-cansparkmax-motor-controllers-for-pid-controller/395216/9\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null}],\"stream\":[2962943,2962947,2962952,2962956,2962958,2962964,2962968,2962975,3074646]},\"timeline_lookup\":[[1,1539],[9,1174]],\"suggested_topics\":[{\"fancy_title\":\"How to go about feedback control for a feedforward\",\"id\":475718,\"title\":\"How to go about feedback control for a feedforward\",\"slug\":\"how-to-go-about-feedback-control-for-a-feedforward\",\"posts_count\":7,\"reply_count\":2,\"highest_post_number\":7,\"image_url\":null,\"created_at\":\"2024-11-28T01:39:53.292Z\",\"last_posted_at\":\"2024-11-28T13:41:15.288Z\",\"bumped\":true,\"bumped_at\":\"2024-11-28T13:41:15.288Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"One thing that has caused issues for my team in past seasons that involved launching game pieces has been that we can’t always get our shooter exactly to our target velocity. A simple motor feed forwa…\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[],\"tags_descriptions\":{},\"like_count\":12,\"views\":239,\"category_id\":30,\"featured_link\":null,\"has_accepted_answer\":false,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3452778,\"topic_post_liked\":false,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":true,\"topic_post_is_current_users\":null,\"topic_post_number\":1,\"topic_post_user\":{\"id\":62698,\"username\":\"CakeDeer6\",\"name\":\"Ethan Grieshop\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/cakedeer6/{size}/264680_2.png\"},\"posters\":[{\"extras\":null,\"description\":\"Original Poster\",\"user\":{\"id\":62698,\"username\":\"CakeDeer6\",\"name\":\"Ethan Grieshop\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/cakedeer6/{size}/264680_2.png\",\"trust_level\":2}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":42519,\"username\":\"Haxo\",\"name\":\"Guy\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/haxo/{size}/132812_2.png\",\"trust_level\":2}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":50219,\"username\":\"Alex_Y\",\"name\":\"\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/a/82dd89/{size}.png\",\"trust_level\":2}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":53190,\"username\":\"truher\",\"name\":\"joel truher\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/truher/{size}/172222_2.png\",\"trust_level\":2}},{\"extras\":\"latest\",\"description\":\"Most Recent Poster\",\"user\":{\"id\":24594,\"username\":\"SLAB-Mr.Thomas\",\"name\":\"SLAB-Mr.Thomas\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/slab-mr.thomas/{size}/182153_2.png\",\"trust_level\":2}}]},{\"fancy_title\":\"YAGSL slow driving\",\"id\":481879,\"title\":\"YAGSL slow driving\",\"slug\":\"yagsl-slow-driving\",\"posts_count\":7,\"reply_count\":5,\"highest_post_number\":8,\"image_url\":null,\"created_at\":\"2025-01-15T14:29:58.425Z\",\"last_posted_at\":\"2025-01-16T13:22:42.660Z\",\"bumped\":true,\"bumped_at\":\"2025-01-16T13:22:42.660Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"Try with beta3\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[],\"tags_descriptions\":{},\"like_count\":2,\"views\":150,\"category_id\":30,\"featured_link\":null,\"has_accepted_answer\":true,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3483438,\"topic_post_liked\":false,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":false,\"topic_post_is_current_users\":null,\"topic_post_number\":6,\"topic_post_user\":{\"id\":51887,\"username\":\"nstrike\",\"name\":\"\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/nstrike/{size}/167038_2.png\"},\"posters\":[{\"extras\":\"latest\",\"description\":\"Original Poster, Most Recent Poster\",\"user\":{\"id\":60651,\"username\":\"enishangck\",\"name\":\"Enishan Eren Gücük \",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/e/a4c791/{size}.png\",\"trust_level\":2}},{\"extras\":null,\"description\":\"Frequent Poster, Accepted Answer\",\"user\":{\"id\":51887,\"username\":\"nstrike\",\"name\":\"\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/nstrike/{size}/167038_2.png\",\"trust_level\":2}}]},{\"fancy_title\":\"Alignment Swerve\",\"id\":483031,\"title\":\"Alignment Swerve\",\"slug\":\"alignment-swerve\",\"posts_count\":4,\"reply_count\":2,\"highest_post_number\":4,\"image_url\":null,\"created_at\":\"2025-01-22T13:27:03.535Z\",\"last_posted_at\":\"2025-01-23T03:17:48.798Z\",\"bumped\":true,\"bumped_at\":\"2025-01-23T03:17:48.798Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"Hi guys, I’m not sure how to do a good alignment using limelight for the yagsl library, but I’m not sure how to do this, any example code?\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[\"swerve\",\"limelight\",\"alignment\"],\"tags_descriptions\":{},\"like_count\":0,\"views\":286,\"category_id\":30,\"featured_link\":null,\"has_accepted_answer\":false,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3489706,\"topic_post_liked\":false,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":true,\"topic_post_is_current_users\":null,\"topic_post_number\":1,\"topic_post_user\":{\"id\":64053,\"username\":\"Matheus\",\"name\":\"\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/m/ecd19e/{size}.png\"},\"posters\":[{\"extras\":null,\"description\":\"Original Poster\",\"user\":{\"id\":64053,\"username\":\"Matheus\",\"name\":\"\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/m/ecd19e/{size}.png\",\"trust_level\":1}},{\"extras\":\"latest\",\"description\":\"Most Recent Poster\",\"user\":{\"id\":61741,\"username\":\"kr1699\",\"name\":\"Kevin \",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/kr1699/{size}/207533_2.png\",\"trust_level\":2}}]},{\"fancy_title\":\"386 Swerve Code Base Release\",\"id\":478078,\"title\":\"386 Swerve Code Base Release\",\"slug\":\"386-swerve-code-base-release\",\"posts_count\":1,\"reply_count\":0,\"highest_post_number\":1,\"image_url\":null,\"created_at\":\"2025-01-03T15:44:20.953Z\",\"last_posted_at\":\"2025-01-03T15:44:21.007Z\",\"bumped\":true,\"bumped_at\":\"2025-01-03T15:44:21.007Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"Should anyone want to explore another version of Swerve code, you are welcome to take a look at ours. This repo is just the swerve drive code from the 2024 season without any other functionality - whi…\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[],\"tags_descriptions\":{},\"like_count\":1,\"views\":97,\"category_id\":30,\"featured_link\":null,\"has_accepted_answer\":false,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3467536,\"topic_post_liked\":false,\"topic_post_like_count\":1,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":false,\"topic_post_is_current_users\":null,\"topic_post_number\":1,\"topic_post_user\":{\"id\":26700,\"username\":\"crazycats\",\"name\":\"Debbie Bernier\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/c/4af34b/{size}.png\"},\"posters\":[{\"extras\":\"latest single\",\"description\":\"Original Poster, Most Recent Poster\",\"user\":{\"id\":26700,\"username\":\"crazycats\",\"name\":\"Debbie Bernier\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/c/4af34b/{size}.png\",\"trust_level\":2}}]},{\"fancy_title\":\"Distance sensor\",\"id\":485457,\"title\":\"Distance sensor\",\"slug\":\"distance-sensor\",\"posts_count\":2,\"reply_count\":0,\"highest_post_number\":2,\"image_url\":null,\"created_at\":\"2025-02-06T20:58:11.610Z\",\"last_posted_at\":\"2025-02-06T21:25:58.911Z\",\"bumped\":true,\"bumped_at\":\"2025-02-06T21:25:58.911Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"We are using Rev 2m Distance sensor and do not have a experience to use that distance sensor who have a experience with distance sensor can help?\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[\"java\"],\"tags_descriptions\":{},\"like_count\":0,\"views\":98,\"category_id\":30,\"featured_link\":null,\"has_accepted_answer\":false,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3504332,\"topic_post_liked\":false,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":false,\"topic_post_is_current_users\":null,\"topic_post_number\":1,\"topic_post_user\":{\"id\":68070,\"username\":\"demir9028\",\"name\":\"Demir\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/d/34f0e0/{size}.png\"},\"posters\":[{\"extras\":null,\"description\":\"Original Poster\",\"user\":{\"id\":68070,\"username\":\"demir9028\",\"name\":\"Demir\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/d/34f0e0/{size}.png\",\"trust_level\":1}},{\"extras\":\"latest\",\"description\":\"Most Recent Poster\",\"user\":{\"id\":56954,\"username\":\"aopalka\",\"name\":\"Alex\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/a/f9ae1b/{size}.png\",\"trust_level\":2}}]}],\"tags\":[\"pid\"],\"tags_descriptions\":{},\"fancy_title\":\"Improving update rate on CANSparkMax motor controllers for PID controller\",\"id\":395216,\"title\":\"Improving update rate on CANSparkMax motor controllers for PID controller\",\"posts_count\":9,\"created_at\":\"2021-07-25T23:28:49.313Z\",\"views\":1084,\"reply_count\":3,\"like_count\":4,\"last_posted_at\":\"2022-07-26T14:44:57.054Z\",\"visible\":true,\"closed\":true,\"archived\":false,\"has_summary\":false,\"archetype\":\"regular\",\"slug\":\"improving-update-rate-on-cansparkmax-motor-controllers-for-pid-controller\",\"category_id\":30,\"word_count\":993,\"deleted_at\":null,\"user_id\":48651,\"featured_link\":null,\"pinned_globally\":false,\"pinned_at\":null,\"pinned_until\":null,\"image_url\":null,\"slow_mode_seconds\":0,\"draft\":null,\"draft_key\":\"topic_395216\",\"draft_sequence\":null,\"unpinned\":null,\"pinned\":false,\"current_post_number\":1,\"highest_post_number\":9,\"deleted_by\":null,\"actions_summary\":[{\"id\":4,\"count\":0,\"hidden\":false,\"can_act\":false},{\"id\":8,\"count\":0,\"hidden\":false,\"can_act\":false},{\"id\":10,\"count\":0,\"hidden\":false,\"can_act\":false},{\"id\":7,\"count\":0,\"hidden\":false,\"can_act\":false}],\"chunk_size\":20,\"bookmarked\":false,\"topic_timer\":null,\"message_bus_last_id\":0,\"participant_count\":5,\"show_read_indicator\":false,\"thumbnails\":null,\"slow_mode_enabled_until\":null,\"valid_reactions\":[\"heart\",\"laughing\",\"point_up\",\"+1\",\"-1\",\"100\",\"open_mouth\",\"cry\",\"question\",\"thinking\",\"call_me_hand\",\"hugs\",\"angry\"],\"user_chosen_thumbnail_url\":null,\"sidecar_installed\":true,\"can_vote\":false,\"vote_count\":0,\"user_voted\":false,\"discourse_zendesk_plugin_zendesk_id\":null,\"discourse_zendesk_plugin_zendesk_url\":\"https://your-url.zendesk.com/agent/tickets/\",\"details\":{\"can_edit\":false,\"notification_level\":1,\"participants\":[{\"id\":14283,\"username\":\"nuttle\",\"name\":\"Allen Nuttle\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/nuttle/{size}/124105_2.png\",\"post_count\":2,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":28161,\"username\":\"krf\",\"name\":\"Kim\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/krf/{size}/158158_2.png\",\"post_count\":2,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"moderator\":true,\"trust_level\":4},{\"id\":48651,\"username\":\"Zekrim\",\"name\":\"Marshall Hamon\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/z/b487fb/{size}.png\",\"post_count\":2,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":24617,\"username\":\"gerthworm\",\"name\":\"Chris Gerth\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/gerthworm/{size}/268658_2.png\",\"post_count\":1,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":45763,\"username\":\"Starlight220\",\"name\":null,\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/starlight220/{size}/150872_2.png\",\"post_count\":1,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2}],\"created_by\":{\"id\":48651,\"username\":\"Zekrim\",\"name\":\"Marshall Hamon\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/z/b487fb/{size}.png\"},\"last_poster\":{\"id\":-1,\"username\":\"system\",\"name\":\"system\",\"avatar_template\":\"/uploads/default/original/4X/9/3/2/93234578e69f55873c63fc00fe2d0d85f23bce55.png\"},\"links\":[{\"url\":\"https://github.com/REVrobotics/SPARK-MAX-Documentation/blob/master/software-resources/configuration-parameters.md\",\"title\":\"SPARK-MAX-Documentation/configuration-parameters.md at master · REVrobotics/SPARK-MAX-Documentation · GitHub\",\"internal\":false,\"attachment\":false,\"reflection\":false,\"clicks\":8,\"user_id\":14283,\"domain\":\"github.com\",\"root_domain\":\"github.com\"}]},\"bookmarks\":[]}"}
