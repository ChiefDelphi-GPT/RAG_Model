{"data":"{\"post_stream\":{\"posts\":[{\"id\":3009248,\"name\":\"\",\"username\":\"crueter\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/crueter/{size}/258043_2.png\",\"created_at\":\"2022-02-18T01:43:03.500Z\",\"cooked\":\"\\u003cp\\u003eI have a general idea of the process we need to do to get our final distance calculation equation:\\u003c/p\\u003e\\n\\u003col\\u003e\\n\\u003cli\\u003eGet working thresholds and contours (done)\\u003c/li\\u003e\\n\\u003cli\\u003eCreate a table in excel mapping LL area to actual distance\\u003c/li\\u003e\\n\\u003cli\\u003eCreate a regression trendline\\u003c/li\\u003e\\n\\u003cli\\u003eimplement that equation into code\\u003c/li\\u003e\\n\\u003c/ol\\u003e\\n\\u003cp\\u003eSo I’ve gotten working thresholds and contours, however, there’s a problem. It seems like the area is almost completely random depending on the orientation of the Limelight. For example, at 8 feet, the LL’s area invariably hovers around 0.34. It then dips down to around 0.28 at 9 feet.\\u003c/p\\u003e\\n\\u003cp\\u003eHowever, at 10 feet, it seems to be almost completely random. At certain orientations, it ranges from anywhere from 0.15 to 0.5, frequently going to .26 or .34.\\u003c/p\\u003e\\n\\u003cp\\u003eAt the moment, I’m using a laser distance thing to get the distance to the goal from the Limelight’s camera, and have it mounted at 45 degrees on a makeshift wooden mount. However it seems to be nearly impossible to have the mount keep the exact same orientation relative to the target.\\u003c/p\\u003e\\n\\u003cp\\u003eI need some potential ways to keep the orientation exactly the same. I theorized that a PID loop with \\u003ccode\\u003etx\\u003c/code\\u003e could work but I’m not entirely sure how accurate it would be.\\u003c/p\\u003e\\n\\u003cp\\u003eAny ideas?\\u003c/p\\u003e\",\"post_number\":1,\"post_type\":1,\"posts_count\":34,\"updated_at\":\"2022-02-18T01:43:03.500Z\",\"reply_count\":0,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":1974,\"reads\":535,\"readers_count\":534,\"score\":9982.0,\"yours\":false,\"topic_id\":403297,\"topic_slug\":\"limelight-distance-calculation-process-question\",\"display_username\":\"\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":1}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":50684,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"6032 | QDash\"},\"post_url\":\"/t/limelight-distance-calculation-process-question/403297/1\",\"custom_user_title\":\"6032 | QDash\",\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":1}],\"current_user_reaction\":null,\"reaction_users_count\":1,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true,\"can_vote\":false},{\"id\":3009252,\"name\":\"Alberto Jahuey Moncada\",\"username\":\"Darksainor\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/darksainor/{size}/165448_2.png\",\"created_at\":\"2022-02-18T01:46:41.384Z\",\"cooked\":\"\\u003cp\\u003eI would recommend you take a look into this: \\u003ca href=\\\"https://docs.limelightvision.io/en/latest/cs_estimating_distance.html\\\" class=\\\"inline-onebox\\\" rel=\\\"noopener nofollow ugc\\\"\\u003eCase Study: Estimating Distance — Limelight 1.0 documentation\\u003c/a\\u003e\\u003c/p\\u003e\\n\\u003cp\\u003eIts a fairly simple but useful method for calculating the distance to a target. If you are using PhotonVision they have the functions already implemented in their library.\\u003c/p\\u003e\\u003caside class=\\\"onebox allowlistedgeneric\\\"\\u003e\\n  \\u003cheader class=\\\"source\\\"\\u003e\\n      \\u003cimg src=\\\"https://docs.photonvision.org/en/latest/docs/programming/photonlib/util-calculations.html/../../../_static/RoundLogo.png\\\" class=\\\"site-icon\\\" width=\\\"\\\" height=\\\"\\\"\\u003e\\n      \\u003ca href=\\\"https://docs.photonvision.org/en/latest/docs/programming/photonlib/util-calculations.html#calculating-distance-to-target\\\" target=\\\"_blank\\\" rel=\\\"noopener nofollow ugc\\\"\\u003ePhotonVision Documentation\\u003c/a\\u003e\\n  \\u003c/header\\u003e\\n  \\u003carticle class=\\\"onebox-body\\\"\\u003e\\n    \\u003cimg src=\\\"https://raw.githubusercontent.com/PhotonVision/photonvision-docs/master/source/assets/RectLogo.png\\\" class=\\\"thumbnail onebox-avatar\\\" width=\\\"60\\\" height=\\\"60\\\"\\u003e\\n\\n\\u003ch3\\u003e\\u003ca href=\\\"https://docs.photonvision.org/en/latest/docs/programming/photonlib/util-calculations.html#calculating-distance-to-target\\\" target=\\\"_blank\\\" rel=\\\"noopener nofollow ugc\\\"\\u003eUtility Class: Common Calculations\\u003c/a\\u003e\\u003c/h3\\u003e\\n\\n\\u003cp\\u003eA PhotonUtils class with helpful common calculations is included within PhotonLib to aid teams. This class contains two methods, calculateDistanceToTargetMeters()/ CalculateDistanceToTarget() and e...\\u003c/p\\u003e\\n\\n\\n  \\u003c/article\\u003e\\n  \\u003cdiv class=\\\"onebox-metadata\\\"\\u003e\\n    \\n    \\n  \\u003c/div\\u003e\\n  \\u003cdiv style=\\\"clear: both\\\"\\u003e\\u003c/div\\u003e\\n\\u003c/aside\\u003e\\n\",\"post_number\":2,\"post_type\":1,\"posts_count\":34,\"updated_at\":\"2022-02-19T17:25:27.377Z\",\"reply_count\":2,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":37,\"reads\":481,\"readers_count\":480,\"score\":336.2,\"yours\":false,\"topic_id\":403297,\"topic_slug\":\"limelight-distance-calculation-process-question\",\"display_username\":\"Alberto Jahuey Moncada\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"link_counts\":[{\"url\":\"https://docs.limelightvision.io/en/latest/cs_estimating_distance.html\",\"internal\":false,\"reflection\":false,\"title\":\"Case Study: Estimating Distance — Limelight 1.0 documentation\",\"clicks\":263},{\"url\":\"https://docs.photonvision.org/en/latest/docs/programming/photonlib/util-calculations.html#calculating-distance-to-target\",\"internal\":false,\"reflection\":false,\"title\":\"Utility Class: Common Calculations - PhotonVision Docs\",\"clicks\":119}],\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":4}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":28916,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"Software Mentor\"},\"post_url\":\"/t/limelight-distance-calculation-process-question/403297/2\",\"custom_user_title\":\"Software Mentor\",\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":3},{\"id\":\"point_up\",\"type\":\"emoji\",\"count\":1}],\"current_user_reaction\":null,\"reaction_users_count\":4,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":true,\"topic_accepted_answer\":true},{\"id\":3009253,\"name\":\"Alberto Jahuey Moncada\",\"username\":\"Darksainor\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/darksainor/{size}/165448_2.png\",\"created_at\":\"2022-02-18T01:47:37.357Z\",\"cooked\":\"\\u003cp\\u003eAlso, you would use a PID controller that uses the Yaw reported by the camera, and a setpoint of 0 (assuming your camera and shooter are aligned). You would use the PID’s output to control the robots angular velocity.\\u003c/p\\u003e\",\"post_number\":3,\"post_type\":1,\"posts_count\":34,\"updated_at\":\"2022-02-18T01:47:37.357Z\",\"reply_count\":1,\"reply_to_post_number\":2,\"quote_count\":0,\"incoming_link_count\":3,\"reads\":430,\"readers_count\":429,\"score\":106.0,\"yours\":false,\"topic_id\":403297,\"topic_slug\":\"limelight-distance-calculation-process-question\",\"display_username\":\"Alberto Jahuey Moncada\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"reply_to_user\":{\"id\":28916,\"username\":\"Darksainor\",\"name\":\"Alberto Jahuey Moncada\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/darksainor/{size}/165448_2.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":28916,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"Software Mentor\"},\"post_url\":\"/t/limelight-distance-calculation-process-question/403297/3\",\"custom_user_title\":\"Software Mentor\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3009258,\"name\":\"Tom Line\",\"username\":\"Tom_Line\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/tom_line/{size}/236809_2.png\",\"created_at\":\"2022-02-18T02:08:08.948Z\",\"cooked\":\"\\u003cp\\u003eThis is one way to do it.  However, in many cases you’ll find that your view gets blocked etc.  Then its a good idea to get the amount you’re off and Servo to that and not constantly rely on the camera.\\u003c/p\\u003e\",\"post_number\":4,\"post_type\":1,\"posts_count\":34,\"updated_at\":\"2022-02-18T02:08:08.948Z\",\"reply_count\":0,\"reply_to_post_number\":3,\"quote_count\":0,\"incoming_link_count\":1,\"reads\":394,\"readers_count\":393,\"score\":83.8,\"yours\":false,\"topic_id\":403297,\"topic_slug\":\"limelight-distance-calculation-process-question\",\"display_username\":\"Tom Line\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"reply_to_user\":{\"id\":28916,\"username\":\"Darksainor\",\"name\":\"Alberto Jahuey Moncada\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/darksainor/{size}/165448_2.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":7841,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"Team 1498\"},\"post_url\":\"/t/limelight-distance-calculation-process-question/403297/4\",\"custom_user_title\":\"Team 1498\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3009271,\"name\":\"\",\"username\":\"crueter\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/crueter/{size}/258043_2.png\",\"created_at\":\"2022-02-18T02:30:09.754Z\",\"cooked\":\"\\u003cp\\u003eIs PhotonVision compatible hardware-wise with Limelights? I know that it’s still an RPi internally but idk about the LEDs.\\u003c/p\\u003e\\n\\u003cp\\u003eAlso, I already tried this. After tuning it for 3 hours I gave up, because it’s so crude that it can realistically only give an accurate (±1ft) distance within an extremely small area (2-3ft max). We need it to work in an area of around 7-8 feet.\\u003c/p\\u003e\\n\\u003cp\\u003eAbout PID: Like I said I considered it but don’t believe it to be accurate enough. It might be as accurate as a fixed mount on a Swerve train, if not less because of overshooting.\\u003c/p\\u003e\",\"post_number\":5,\"post_type\":1,\"posts_count\":34,\"updated_at\":\"2022-02-18T02:30:09.754Z\",\"reply_count\":2,\"reply_to_post_number\":2,\"quote_count\":0,\"incoming_link_count\":22,\"reads\":378,\"readers_count\":377,\"score\":195.6,\"yours\":false,\"topic_id\":403297,\"topic_slug\":\"limelight-distance-calculation-process-question\",\"display_username\":\"\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"reply_to_user\":{\"id\":28916,\"username\":\"Darksainor\",\"name\":\"Alberto Jahuey Moncada\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/darksainor/{size}/165448_2.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":50684,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"6032 | QDash\"},\"post_url\":\"/t/limelight-distance-calculation-process-question/403297/5\",\"custom_user_title\":\"6032 | QDash\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3009303,\"name\":\"Alberto Jahuey Moncada\",\"username\":\"Darksainor\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/darksainor/{size}/165448_2.png\",\"created_at\":\"2022-02-18T03:35:32.052Z\",\"cooked\":\"\\u003cp\\u003eIt is, we are currently using a Limelight with PhotonVision, if you are not doing anything too fancy the Limelight’s default image should work well enough, but here is the guide to install PhotonVision: \\u003ca href=\\\"https://docs.photonvision.org/en/latest/docs/getting-started/installation/limelight.html\\\" class=\\\"inline-onebox\\\" rel=\\\"noopener nofollow ugc\\\"\\u003eInstalling PhotonVision on a Limelight - PhotonVision Docs\\u003c/a\\u003e\\u003c/p\\u003e\\n\\u003cp\\u003eRegarding the accuracy of that method, which resolution are you using?? We have used the trigonometry approach in previous years and it was quite accurate. Although you do need to have the camera aimed at the target before taking the distance measurement.\\u003c/p\\u003e\\n\\u003cp\\u003eUsing a PID to control the heading based on the Yaw reported by the camera is a good way to keep the robot aimed at the target. Here is an example of an implementation\\u003c/p\\u003e\\u003caside class=\\\"onebox githubblob\\\"\\u003e\\n  \\u003cheader class=\\\"source\\\"\\u003e\\n      \\u003ca href=\\\"https://github.com/Overture-7421/Overture-FRC/blob/bd1d8a95abcdf67cf0f7830bc402fbf02053ef6a/src/commands/AlignToTower/AlignToTower.cpp\\\" target=\\\"_blank\\\" rel=\\\"noopener nofollow ugc\\\"\\u003egithub.com\\u003c/a\\u003e\\n  \\u003c/header\\u003e\\n  \\u003carticle class=\\\"onebox-body\\\"\\u003e\\n    \\u003ch4\\u003e\\u003ca href=\\\"https://github.com/Overture-7421/Overture-FRC/blob/bd1d8a95abcdf67cf0f7830bc402fbf02053ef6a/src/commands/AlignToTower/AlignToTower.cpp\\\" target=\\\"_blank\\\" rel=\\\"noopener nofollow ugc\\\"\\u003eOverture-7421/Overture-FRC/blob/bd1d8a95abcdf67cf0f7830bc402fbf02053ef6a/src/commands/AlignToTower/AlignToTower.cpp\\u003c/a\\u003e\\u003c/h4\\u003e\\n\\u003cpre\\u003e\\u003ccode class=\\\"lang-cpp\\\"\\u003e  \\n/*----------------------------------------------------------------------------*/\\n/* Copyright (c) 2019 FIRST. All Rights Reserved.                             */\\n/* Open Source Software - may be modified and shared by FRC teams. The code   */\\n/* must be accompanied by the FIRST BSD license file in the root directory of */\\n/* the project.                                                               */\\n/*----------------------------------------------------------------------------*/\\n\\n#include \\\"AlignToTower.h\\\"\\n\\nAlignToTower::AlignToTower(Chassis* chassis) {\\n  // Use addRequirements() here to declare subsystem dependencies.\\n  AddRequirements(chassis);\\n  this-\\u0026gt;chassis = chassis;\\n}\\n\\n// Called when the command is initially scheduled.\\nvoid AlignToTower::Initialize() {\\n  visionYaw.Reset();\\n}\\n\\u003c/code\\u003e\\u003c/pre\\u003e\\n\\n  This file has been truncated. \\u003ca href=\\\"https://github.com/Overture-7421/Overture-FRC/blob/bd1d8a95abcdf67cf0f7830bc402fbf02053ef6a/src/commands/AlignToTower/AlignToTower.cpp\\\" target=\\\"_blank\\\" rel=\\\"noopener nofollow ugc\\\"\\u003eshow original\\u003c/a\\u003e\\n\\n  \\u003c/article\\u003e\\n  \\u003cdiv class=\\\"onebox-metadata\\\"\\u003e\\n    \\n    \\n  \\u003c/div\\u003e\\n  \\u003cdiv style=\\\"clear: both\\\"\\u003e\\u003c/div\\u003e\\n\\u003c/aside\\u003e\\n\\n\\u003cp\\u003e(It used Chameleon Vision with a Lifecam, but the general algorithm works with any vision system that can report Yaw)\\u003c/p\\u003e\",\"post_number\":6,\"post_type\":1,\"posts_count\":34,\"updated_at\":\"2022-02-18T03:36:47.151Z\",\"reply_count\":0,\"reply_to_post_number\":5,\"quote_count\":0,\"incoming_link_count\":20,\"reads\":347,\"readers_count\":346,\"score\":169.4,\"yours\":false,\"topic_id\":403297,\"topic_slug\":\"limelight-distance-calculation-process-question\",\"display_username\":\"Alberto Jahuey Moncada\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":2,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"link_counts\":[{\"url\":\"https://github.com/Overture-7421/Overture-FRC/blob/bd1d8a95abcdf67cf0f7830bc402fbf02053ef6a/src/commands/AlignToTower/AlignToTower.cpp\",\"internal\":false,\"reflection\":false,\"clicks\":27},{\"url\":\"https://docs.photonvision.org/en/latest/docs/getting-started/installation/limelight.html\",\"internal\":false,\"reflection\":false,\"title\":\"Installing PhotonVision on a Limelight - PhotonVision Docs\",\"clicks\":23}],\"read\":true,\"user_title\":\"\",\"reply_to_user\":{\"id\":50684,\"username\":\"crueter\",\"name\":\"\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/crueter/{size}/258043_2.png\"},\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":1}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":28916,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"Software Mentor\"},\"post_url\":\"/t/limelight-distance-calculation-process-question/403297/6\",\"custom_user_title\":\"Software Mentor\",\"reactions\":[{\"id\":\"+1\",\"type\":\"emoji\",\"count\":1}],\"current_user_reaction\":null,\"reaction_users_count\":1,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3009311,\"name\":\"Mika Okamoto\",\"username\":\"mikao\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/mikao/{size}/171820_2.png\",\"created_at\":\"2022-02-18T03:57:42.218Z\",\"cooked\":\"\\u003cp\\u003eI recommend you use trig and estimating distance via angles and height instead (draw a right triangle!)\\u003c/p\\u003e\\n\\u003cp\\u003eWe are using that currently and it worked pretty well,\\u003c/p\\u003e\",\"post_number\":7,\"post_type\":1,\"posts_count\":34,\"updated_at\":\"2022-02-18T03:57:42.218Z\",\"reply_count\":1,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":3,\"reads\":284,\"readers_count\":283,\"score\":136.8,\"yours\":false,\"topic_id\":403297,\"topic_slug\":\"limelight-distance-calculation-process-question\",\"display_username\":\"Mika Okamoto\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":5}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":50514,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"3128 Programmer\"},\"post_url\":\"/t/limelight-distance-calculation-process-question/403297/7\",\"custom_user_title\":\"3128 Programmer\",\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":4},{\"id\":\"hugs\",\"type\":\"emoji\",\"count\":1}],\"current_user_reaction\":null,\"reaction_users_count\":5,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3009318,\"name\":\"\",\"username\":\"crueter\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/crueter/{size}/258043_2.png\",\"created_at\":\"2022-02-18T04:08:23.246Z\",\"cooked\":\"\\u003cp\\u003eI already tried that and it didn’t work like I said. Maybe I’ll try a slightly modified trig approach\\u003c/p\\u003e\",\"post_number\":8,\"post_type\":1,\"posts_count\":34,\"updated_at\":\"2022-02-18T04:08:23.246Z\",\"reply_count\":2,\"reply_to_post_number\":7,\"quote_count\":0,\"incoming_link_count\":1,\"reads\":279,\"readers_count\":278,\"score\":70.8,\"yours\":false,\"topic_id\":403297,\"topic_slug\":\"limelight-distance-calculation-process-question\",\"display_username\":\"\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"reply_to_user\":{\"id\":50514,\"username\":\"mikao\",\"name\":\"Mika Okamoto\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/mikao/{size}/171820_2.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":50684,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"6032 | QDash\"},\"post_url\":\"/t/limelight-distance-calculation-process-question/403297/8\",\"custom_user_title\":\"6032 | QDash\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3009443,\"name\":\"NewtonCrosby\",\"username\":\"NewtonCrosby\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/n/ed8c4c/{size}.png\",\"created_at\":\"2022-02-18T14:30:54.970Z\",\"cooked\":\"\\u003caside class=\\\"quote no-group quote-modified\\\" data-username=\\\"crueter\\\" data-post=\\\"5\\\" data-topic=\\\"403297\\\" data-full=\\\"true\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg loading=\\\"lazy\\\" alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/user_avatar/www.chiefdelphi.com/crueter/48/258043_2.png\\\" class=\\\"avatar\\\"\\u003e crueter:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003eIs PhotonVision compatible hardware-wise with Limelights? I know that it’s still an RPi internally but idk about the LEDs.\\u003c/p\\u003e\\n\\u003cp\\u003e…\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003cp\\u003eTheir docs explain how to setup (already linked above) but they already have a built-in distance calculation in the API that is based on the trig formulation.\\u003c/p\\u003e\",\"post_number\":9,\"post_type\":1,\"posts_count\":34,\"updated_at\":\"2022-02-18T14:30:54.970Z\",\"reply_count\":0,\"reply_to_post_number\":5,\"quote_count\":1,\"incoming_link_count\":9,\"reads\":263,\"readers_count\":262,\"score\":97.6,\"yours\":false,\"topic_id\":403297,\"topic_slug\":\"limelight-distance-calculation-process-question\",\"display_username\":\"NewtonCrosby\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":31346,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"post_url\":\"/t/limelight-distance-calculation-process-question/403297/9\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3009589,\"name\":\"Tom Line\",\"username\":\"Tom_Line\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/tom_line/{size}/236809_2.png\",\"created_at\":\"2022-02-18T21:24:51.011Z\",\"cooked\":\"\\u003cp\\u003eI’m not sure what setup you’re utilizing, but I can guarantee you that using trig OR a regression based on the V angle returned from the limelight will work.\\u003c/p\\u003e\",\"post_number\":10,\"post_type\":1,\"posts_count\":34,\"updated_at\":\"2022-02-18T21:24:51.011Z\",\"reply_count\":0,\"reply_to_post_number\":8,\"quote_count\":0,\"incoming_link_count\":1,\"reads\":239,\"readers_count\":238,\"score\":97.8,\"yours\":false,\"topic_id\":403297,\"topic_slug\":\"limelight-distance-calculation-process-question\",\"display_username\":\"Tom Line\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"reply_to_user\":{\"id\":50684,\"username\":\"crueter\",\"name\":\"\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/crueter/{size}/258043_2.png\"},\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":3}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":7841,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"Team 1498\"},\"post_url\":\"/t/limelight-distance-calculation-process-question/403297/10\",\"custom_user_title\":\"Team 1498\",\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":3}],\"current_user_reaction\":null,\"reaction_users_count\":3,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3009646,\"name\":\"Mika Okamoto\",\"username\":\"mikao\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/mikao/{size}/171820_2.png\",\"created_at\":\"2022-02-18T22:56:00.639Z\",\"cooked\":\"\\u003cp\\u003eYou don’t need to use the exact formula if that isn’t how your setup is, just draw a right triangle with your angle having some combination of your mounting angle and ty, and your height having some combination of target height and mounting height, then solve for your range.\\u003c/p\\u003e\",\"post_number\":11,\"post_type\":1,\"posts_count\":34,\"updated_at\":\"2022-02-18T22:56:00.639Z\",\"reply_count\":0,\"reply_to_post_number\":8,\"quote_count\":0,\"incoming_link_count\":11,\"reads\":236,\"readers_count\":235,\"score\":117.2,\"yours\":false,\"topic_id\":403297,\"topic_slug\":\"limelight-distance-calculation-process-question\",\"display_username\":\"Mika Okamoto\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"reply_to_user\":{\"id\":50684,\"username\":\"crueter\",\"name\":\"\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/crueter/{size}/258043_2.png\"},\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":1}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":50514,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"3128 Programmer\"},\"post_url\":\"/t/limelight-distance-calculation-process-question/403297/11\",\"custom_user_title\":\"3128 Programmer\",\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":1}],\"current_user_reaction\":null,\"reaction_users_count\":1,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3009683,\"name\":\"Brandon_Hjelstrom\",\"username\":\"Brandon_Hjelstrom\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/b/6a8cbe/{size}.png\",\"created_at\":\"2022-02-19T00:00:17.450Z\",\"cooked\":\"\\u003cp\\u003eThis has made me realize that we need better code samples for flywheels. The docs have been updated with the following distance calculation example. One important point that was not previously called out is the conversion from degrees to radians:\\u003c/p\\u003e\\n\\u003cpre\\u003e\\u003ccode class=\\\"lang-auto\\\"\\u003edouble targetOffsetAngle_Vertical = ty.getDouble(0.0);\\n\\n// how many degrees back is your limelight rotated from perfectly vertical?\\ndouble limelightMountAngleDegrees = 25.0;\\n\\n// distance from the center of the Limelight lens to the floor\\ndouble limelightLensHeightInches = 20.0;\\n\\n// distance from the target to the floor\\ndouble goalHeightInches = 60.0;\\n\\ndouble angleToGoalDegrees = limelightMountAngleDegrees + targetOffsetAngle_Vertical;\\ndouble angleToGoalRadians = angleToGoalDegrees * (3.14159 / 180.0);\\n\\n//calculate distance\\ndouble distanceFromLimelightToGoalInches = (goalHeightInches - limelightHeightInches)/Math.tan(angleToGoalRadians);\\u003c/code\\u003e\\u003c/pre\\u003e\\n\\u003cp\\u003e\\u003ca href=\\\"https://docs.limelightvision.io/en/latest/cs_estimating_distance.html\\\" class=\\\"onebox\\\" target=\\\"_blank\\\" rel=\\\"noopener nofollow ugc\\\"\\u003ehttps://docs.limelightvision.io/en/latest/cs_estimating_distance.html\\u003c/a\\u003e\\u003c/p\\u003e\",\"post_number\":12,\"post_type\":1,\"posts_count\":34,\"updated_at\":\"2022-02-19T00:07:04.815Z\",\"reply_count\":2,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":16,\"reads\":240,\"readers_count\":239,\"score\":138.0,\"yours\":false,\"topic_id\":403297,\"topic_slug\":\"limelight-distance-calculation-process-question\",\"display_username\":\"Brandon_Hjelstrom\",\"primary_group_name\":\"Limelight\",\"flair_name\":\"Limelight\",\"flair_url\":\"/uploads/default/original/3X/1/e/1e94f21b87a41e6da386d6191b529acb3f383240.png\",\"flair_bg_color\":\"\",\"flair_color\":\"\",\"flair_group_id\":68,\"badges_granted\":[],\"version\":2,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"link_counts\":[{\"url\":\"https://docs.limelightvision.io/en/latest/cs_estimating_distance.html\",\"internal\":false,\"reflection\":false,\"title\":\"Case Study: Estimating Distance — Limelight 1.0 documentation\",\"clicks\":34}],\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":17110,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"Limelight, 987\"},\"post_url\":\"/t/limelight-distance-calculation-process-question/403297/12\",\"custom_user_title\":\"Limelight, 987\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3009685,\"name\":\"\",\"username\":\"crueter\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/crueter/{size}/258043_2.png\",\"created_at\":\"2022-02-19T00:03:02.381Z\",\"cooked\":\"\\u003cp\\u003eNoticed that as well, thanks for updating.\\u003c/p\\u003e\",\"post_number\":13,\"post_type\":1,\"posts_count\":34,\"updated_at\":\"2022-02-19T00:03:02.381Z\",\"reply_count\":0,\"reply_to_post_number\":12,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":210,\"readers_count\":209,\"score\":57.0,\"yours\":false,\"topic_id\":403297,\"topic_slug\":\"limelight-distance-calculation-process-question\",\"display_username\":\"\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"reply_to_user\":{\"id\":17110,\"username\":\"Brandon_Hjelstrom\",\"name\":\"Brandon_Hjelstrom\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/b/6a8cbe/{size}.png\"},\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":1}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":50684,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"6032 | QDash\"},\"post_url\":\"/t/limelight-distance-calculation-process-question/403297/13\",\"custom_user_title\":\"6032 | QDash\",\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":1}],\"current_user_reaction\":null,\"reaction_users_count\":1,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3009688,\"name\":\"\",\"username\":\"crueter\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/crueter/{size}/258043_2.png\",\"created_at\":\"2022-02-19T00:04:15.209Z\",\"cooked\":\"\\u003cp\\u003eAdditionally, in Java, you can just use \\u003ccode\\u003eMath.toRadians()\\u003c/code\\u003e. And I think tan is also in \\u003ccode\\u003eMath.tan\\u003c/code\\u003e\\u003c/p\\u003e\",\"post_number\":14,\"post_type\":1,\"posts_count\":34,\"updated_at\":\"2022-02-19T00:04:15.209Z\",\"reply_count\":0,\"reply_to_post_number\":12,\"quote_count\":0,\"incoming_link_count\":6,\"reads\":207,\"readers_count\":206,\"score\":101.4,\"yours\":false,\"topic_id\":403297,\"topic_slug\":\"limelight-distance-calculation-process-question\",\"display_username\":\"\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"reply_to_user\":{\"id\":17110,\"username\":\"Brandon_Hjelstrom\",\"name\":\"Brandon_Hjelstrom\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/b/6a8cbe/{size}.png\"},\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":2}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":50684,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"6032 | QDash\"},\"post_url\":\"/t/limelight-distance-calculation-process-question/403297/14\",\"custom_user_title\":\"6032 | QDash\",\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":2}],\"current_user_reaction\":null,\"reaction_users_count\":2,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3009965,\"name\":\"\",\"username\":\"crueter\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/crueter/{size}/258043_2.png\",\"created_at\":\"2022-02-19T17:25:16.898Z\",\"cooked\":\"\\u003cp\\u003eTRIGONOMETRY WORKED WITHIN 4-8 INCHES. This is perfectly good enough given the size of the goal, plus our good shooter tables.\\u003c/p\\u003e\\n\\u003cp\\u003eThanks for the help\\u003c/p\\u003e\",\"post_number\":15,\"post_type\":1,\"posts_count\":34,\"updated_at\":\"2022-02-19T17:25:16.898Z\",\"reply_count\":1,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":5,\"reads\":211,\"readers_count\":210,\"score\":147.2,\"yours\":false,\"topic_id\":403297,\"topic_slug\":\"limelight-distance-calculation-process-question\",\"display_username\":\"\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":5}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":50684,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"6032 | QDash\"},\"post_url\":\"/t/limelight-distance-calculation-process-question/403297/15\",\"custom_user_title\":\"6032 | QDash\",\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":5}],\"current_user_reaction\":null,\"reaction_users_count\":5,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3010192,\"name\":\"\",\"username\":\"FRC6302\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/frc6302/{size}/165591_2.png\",\"created_at\":\"2022-02-20T01:12:10.653Z\",\"cooked\":\"\\u003cp\\u003eThis might be a little overkill considering your desired accuracy, but you may want to look into correcting for the shape of the camera for when it isn’t pointing straight at the target:\\u003c/p\\u003e\\u003caside class=\\\"quote quote-modified\\\" data-post=\\\"6\\\" data-topic=\\\"387183\\\"\\u003e\\n  \\u003cdiv class=\\\"title\\\"\\u003e\\n    \\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n    \\u003cimg loading=\\\"lazy\\\" alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/user_avatar/www.chiefdelphi.com/prateek_m/48/148861_2.png\\\" class=\\\"avatar\\\"\\u003e\\n    \\u003ca href=\\\"https://www.chiefdelphi.com/t/calculating-distance-to-vision-target/387183/6\\\"\\u003eCalculating distance to vision target\\u003c/a\\u003e \\u003ca class=\\\"badge-category__wrapper \\\" href=\\\"/c/technical/programming/30\\\"\\u003e\\u003cspan data-category-id=\\\"30\\\" style=\\\"--category-badge-color: #F7941D; --category-badge-text-color: #FFF; --parent-category-badge-color: #3AB54A;\\\" data-parent-category-id=\\\"9\\\" data-drop-close=\\\"true\\\" class=\\\"badge-category --has-parent\\\" title=\\\"Discussion of any ideas, algorithms, etc.\\\"\\u003e\\u003cspan class=\\\"badge-category__name\\\"\\u003eProgramming\\u003c/span\\u003e\\u003c/span\\u003e\\u003c/a\\u003e\\n  \\u003c/div\\u003e\\n  \\u003cblockquote\\u003e\\n    My calculations here will go off the post made by \\u003ca class=\\\"mention\\\" href=\\\"/u/jared_russell\\\"\\u003e@Jared_Russell\\u003c/a\\u003e here: \\n \\n \\nFrom that post, \\n\\nz = \\\\frac{1}{\\\\sqrt{1 + \\\\tan^2{ty}+\\\\tan^2{tx}}}\\n\\n\\ny = \\\\frac{\\\\tan{ty}}{\\\\sqrt{1 + \\\\tan^2{ty}+\\\\tan^2{tx}}}\\n\\n\\nx = \\\\frac{\\\\tan{tx}}{\\\\sqrt{1 + \\\\tan^2{ty}+\\\\tan^2{tx}}}\\n\\nBecause these coordinates are normalized, we need to “denormalize them” using a “known dimension”. Often times, this is the y-coordinate (the height of the target from the camera). We can calculate the scaling factor as follows: \\n\\n\\\\text{scale_fac…\\n  \\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\",\"post_number\":16,\"post_type\":1,\"posts_count\":34,\"updated_at\":\"2022-02-20T01:12:10.653Z\",\"reply_count\":1,\"reply_to_post_number\":15,\"quote_count\":0,\"incoming_link_count\":19,\"reads\":207,\"readers_count\":206,\"score\":186.4,\"yours\":false,\"topic_id\":403297,\"topic_slug\":\"limelight-distance-calculation-process-question\",\"display_username\":\"\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"link_counts\":[{\"url\":\"https://www.chiefdelphi.com/t/calculating-distance-to-vision-target/387183/6\",\"internal\":true,\"reflection\":false,\"title\":\"Calculating distance to vision target\",\"clicks\":0},{\"url\":\"https://www.chiefdelphi.com/t/inconsistent-distance-readings-between-limelights/406092/5\",\"internal\":true,\"reflection\":true,\"title\":\"Inconsistent Distance Readings Between Limelights\",\"clicks\":2}],\"read\":true,\"user_title\":\"\",\"reply_to_user\":{\"id\":50684,\"username\":\"crueter\",\"name\":\"\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/crueter/{size}/258043_2.png\"},\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":3}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":48779,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"Sam - Programming Lead\"},\"post_url\":\"/t/limelight-distance-calculation-process-question/403297/16\",\"custom_user_title\":\"Sam - Programming Lead\",\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":3}],\"current_user_reaction\":null,\"reaction_users_count\":3,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3010280,\"name\":\"\",\"username\":\"crueter\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/crueter/{size}/258043_2.png\",\"created_at\":\"2022-02-20T04:45:24.996Z\",\"cooked\":\"\\u003cp\\u003eTo verify, is that saying the equation should be:\\u003c/p\\u003e\\n\\u003cp\\u003e\\u003ccode\\u003edouble dist = (kTargetHeight - kMountHeight) / (Math.tan(ty) * Math.cos(tx))\\u003c/code\\u003e ?\\u003c/p\\u003e\\n\\u003cp\\u003eThough we’d have to switch ty and tx, as it’s mounted vertically.\\u003c/p\\u003e\",\"post_number\":17,\"post_type\":1,\"posts_count\":34,\"updated_at\":\"2022-02-20T04:45:24.996Z\",\"reply_count\":2,\"reply_to_post_number\":16,\"quote_count\":0,\"incoming_link_count\":2,\"reads\":195,\"readers_count\":194,\"score\":74.0,\"yours\":false,\"topic_id\":403297,\"topic_slug\":\"limelight-distance-calculation-process-question\",\"display_username\":\"\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"reply_to_user\":{\"id\":48779,\"username\":\"FRC6302\",\"name\":\"\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/frc6302/{size}/165591_2.png\"},\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":1}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":50684,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"6032 | QDash\"},\"post_url\":\"/t/limelight-distance-calculation-process-question/403297/17\",\"custom_user_title\":\"6032 | QDash\",\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":1}],\"current_user_reaction\":null,\"reaction_users_count\":1,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3010366,\"name\":\"\",\"username\":\"FRC6302\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/frc6302/{size}/165591_2.png\",\"created_at\":\"2022-02-20T15:20:33.239Z\",\"cooked\":\"\\u003cp\\u003eYes, although I haven’t tested it for myself yet\\u003c/p\\u003e\",\"post_number\":18,\"post_type\":1,\"posts_count\":34,\"updated_at\":\"2022-02-20T15:20:33.239Z\",\"reply_count\":0,\"reply_to_post_number\":17,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":183,\"readers_count\":182,\"score\":36.6,\"yours\":false,\"topic_id\":403297,\"topic_slug\":\"limelight-distance-calculation-process-question\",\"display_username\":\"\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"reply_to_user\":{\"id\":50684,\"username\":\"crueter\",\"name\":\"\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/crueter/{size}/258043_2.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":48779,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"Sam - Programming Lead\"},\"post_url\":\"/t/limelight-distance-calculation-process-question/403297/18\",\"custom_user_title\":\"Sam - Programming Lead\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3010912,\"name\":\"\",\"username\":\"FRC6302\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/frc6302/{size}/165591_2.png\",\"created_at\":\"2022-02-21T18:25:08.087Z\",\"cooked\":\"\\u003cp\\u003eI just tested it with the target this year and the first equation was about 9-10% too low when the target was on either edge of the screen. The second equation was perfect though, the distance value it gave didn’t change when I changed which way the camera was facing.\\u003c/p\\u003e\\n\\u003cp\\u003e\\u003ca class=\\\"mention\\\" href=\\\"/u/prateek_m\\\"\\u003e@Prateek_M\\u003c/a\\u003e in case you never tested this for yourself, your equation works!\\u003c/p\\u003e\",\"post_number\":19,\"post_type\":1,\"posts_count\":34,\"updated_at\":\"2022-02-21T18:26:19.534Z\",\"reply_count\":1,\"reply_to_post_number\":17,\"quote_count\":0,\"incoming_link_count\":14,\"reads\":178,\"readers_count\":177,\"score\":125.6,\"yours\":false,\"topic_id\":403297,\"topic_slug\":\"limelight-distance-calculation-process-question\",\"display_username\":\"\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"reply_to_user\":{\"id\":50684,\"username\":\"crueter\",\"name\":\"\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/crueter/{size}/258043_2.png\"},\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":1}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":48779,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"Sam - Programming Lead\"},\"post_url\":\"/t/limelight-distance-calculation-process-question/403297/19\",\"custom_user_title\":\"Sam - Programming Lead\",\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":1}],\"current_user_reaction\":null,\"reaction_users_count\":1,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3010919,\"name\":\"\",\"username\":\"Override\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/override/{size}/156283_2.png\",\"created_at\":\"2022-02-21T18:43:33.189Z\",\"cooked\":\"\\u003cp\\u003eWhy exactly do you need the area of the target? Because if you are getting distance based on the ratio of the area to the rest of the image,  its always going to be pretty unreliable. Truthfully I don’t remember exactly why it tends to be less reliable, but I know there was a good reason as to why it is. I’ll look into it and see if I can find something.\\u003c/p\\u003e\\n\\u003cp\\u003eI would suggest to target the middle of the target, (the limelight documentation shows you how to do this). From there its just trig.\\u003c/p\\u003e\\n\\u003cp\\u003eYou could also try to improve the tuning of the limelight. Do you by chance have have the numbers from your tuning? From my own experiance, the tuning of the LL can greatly affect the numbers you get back\\u003c/p\\u003e\",\"post_number\":20,\"post_type\":1,\"posts_count\":34,\"updated_at\":\"2022-02-21T18:43:33.189Z\",\"reply_count\":1,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":13,\"reads\":171,\"readers_count\":170,\"score\":104.2,\"yours\":false,\"topic_id\":403297,\"topic_slug\":\"limelight-distance-calculation-process-question\",\"display_username\":\"\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":null,\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":45576,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"Programmer\"},\"post_url\":\"/t/limelight-distance-calculation-process-question/403297/20\",\"custom_user_title\":\"Programmer\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true}],\"stream\":[3009248,3009252,3009253,3009258,3009271,3009303,3009311,3009318,3009443,3009589,3009646,3009683,3009685,3009688,3009965,3010192,3010280,3010366,3010912,3010919,3010925,3011090,3011282,3011540,3011642,3011898,3011922,3011945,3012364,3012492,3012633,3012680,3013443,3153239]},\"timeline_lookup\":[[1,1332],[10,1331],[15,1330],[19,1328],[24,1327],[26,1326],[30,1325],[33,1323],[34,958]],\"tags\":[],\"tags_descriptions\":{},\"fancy_title\":\"Limelight distance calculation process question\",\"id\":403297,\"title\":\"Limelight distance calculation process question\",\"posts_count\":34,\"created_at\":\"2022-02-18T01:43:03.359Z\",\"views\":4698,\"reply_count\":27,\"like_count\":33,\"last_posted_at\":\"2023-02-26T20:35:13.226Z\",\"visible\":true,\"closed\":true,\"archived\":false,\"has_summary\":false,\"archetype\":\"regular\",\"slug\":\"limelight-distance-calculation-process-question\",\"category_id\":25,\"word_count\":2080,\"deleted_at\":null,\"user_id\":50684,\"featured_link\":null,\"pinned_globally\":false,\"pinned_at\":null,\"pinned_until\":null,\"image_url\":null,\"slow_mode_seconds\":0,\"draft\":null,\"draft_key\":\"topic_403297\",\"draft_sequence\":null,\"unpinned\":null,\"pinned\":false,\"current_post_number\":1,\"highest_post_number\":34,\"deleted_by\":null,\"actions_summary\":[{\"id\":4,\"count\":0,\"hidden\":false,\"can_act\":false},{\"id\":8,\"count\":0,\"hidden\":false,\"can_act\":false},{\"id\":10,\"count\":0,\"hidden\":false,\"can_act\":false},{\"id\":7,\"count\":0,\"hidden\":false,\"can_act\":false}],\"chunk_size\":20,\"bookmarked\":false,\"topic_timer\":null,\"message_bus_last_id\":0,\"participant_count\":9,\"show_read_indicator\":false,\"thumbnails\":null,\"slow_mode_enabled_until\":null,\"valid_reactions\":[\"heart\",\"laughing\",\"point_up\",\"+1\",\"-1\",\"100\",\"open_mouth\",\"cry\",\"question\",\"thinking\",\"call_me_hand\",\"hugs\",\"angry\"],\"accepted_answer\":{\"post_number\":2,\"username\":\"Darksainor\",\"name\":null,\"excerpt\":\"I would recommend you take a look into this: \\u003ca href=\\\"https://docs.limelightvision.io/en/latest/cs_estimating_distance.html\\\" class=\\\"inline-onebox\\\" rel=\\\"noopener nofollow ugc\\\"\\u003eCase Study: Estimating Distance — Limelight 1.0 documentation\\u003c/a\\u003e \\nIts a fairly simple but useful method for calculating the distance to a target. If you are using PhotonVision they have the functions already implemented in their library.\",\"accepter_name\":null},\"user_chosen_thumbnail_url\":null,\"sidecar_installed\":true,\"can_vote\":false,\"vote_count\":0,\"user_voted\":false,\"discourse_zendesk_plugin_zendesk_id\":null,\"discourse_zendesk_plugin_zendesk_url\":\"https://your-url.zendesk.com/agent/tickets/\",\"details\":{\"can_edit\":false,\"notification_level\":1,\"participants\":[{\"id\":50684,\"username\":\"crueter\",\"name\":\"\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/crueter/{size}/258043_2.png\",\"post_count\":15,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":48779,\"username\":\"FRC6302\",\"name\":\"\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/frc6302/{size}/165591_2.png\",\"post_count\":7,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":28916,\"username\":\"Darksainor\",\"name\":\"Alberto Jahuey Moncada\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/darksainor/{size}/165448_2.png\",\"post_count\":3,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":50514,\"username\":\"mikao\",\"name\":\"Mika Okamoto\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/mikao/{size}/171820_2.png\",\"post_count\":2,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":7841,\"username\":\"Tom_Line\",\"name\":\"Tom Line\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/tom_line/{size}/236809_2.png\",\"post_count\":2,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":50942,\"username\":\"JeffG\",\"name\":\"\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/j/53a042/{size}.png\",\"post_count\":1,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":17110,\"username\":\"Brandon_Hjelstrom\",\"name\":\"Brandon_Hjelstrom\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/b/6a8cbe/{size}.png\",\"post_count\":1,\"primary_group_name\":\"Limelight\",\"flair_name\":\"Limelight\",\"flair_url\":\"/uploads/default/original/3X/1/e/1e94f21b87a41e6da386d6191b529acb3f383240.png\",\"flair_color\":\"\",\"flair_bg_color\":\"\",\"flair_group_id\":68,\"trust_level\":2},{\"id\":31346,\"username\":\"NewtonCrosby\",\"name\":\"NewtonCrosby\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/n/ed8c4c/{size}.png\",\"post_count\":1,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":45576,\"username\":\"Override\",\"name\":\"\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/override/{size}/156283_2.png\",\"post_count\":1,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2}],\"created_by\":{\"id\":50684,\"username\":\"crueter\",\"name\":\"\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/crueter/{size}/258043_2.png\"},\"last_poster\":{\"id\":-1,\"username\":\"system\",\"name\":\"system\",\"avatar_template\":\"/uploads/default/original/4X/9/3/2/93234578e69f55873c63fc00fe2d0d85f23bce55.png\"},\"links\":[{\"url\":\"https://docs.limelightvision.io/en/latest/cs_estimating_distance.html\",\"title\":\"Case Study: Estimating Distance — Limelight 1.0 documentation\",\"internal\":false,\"attachment\":false,\"reflection\":false,\"clicks\":297,\"user_id\":17110,\"domain\":\"docs.limelightvision.io\",\"root_domain\":\"limelightvision.io\"},{\"url\":\"https://docs.photonvision.org/en/latest/docs/programming/photonlib/util-calculations.html#calculating-distance-to-target\",\"title\":\"Utility Class: Common Calculations - PhotonVision Docs\",\"internal\":false,\"attachment\":false,\"reflection\":false,\"clicks\":119,\"user_id\":28916,\"domain\":\"docs.photonvision.org\",\"root_domain\":\"photonvision.org\"},{\"url\":\"https://github.com/Overture-7421/Overture-FRC/blob/bd1d8a95abcdf67cf0f7830bc402fbf02053ef6a/src/commands/AlignToTower/AlignToTower.cpp\",\"title\":null,\"internal\":false,\"attachment\":false,\"reflection\":false,\"clicks\":27,\"user_id\":28916,\"domain\":\"github.com\",\"root_domain\":\"github.com\"},{\"url\":\"https://docs.photonvision.org/en/latest/docs/getting-started/installation/limelight.html\",\"title\":\"Installing PhotonVision on a Limelight - PhotonVision Docs\",\"internal\":false,\"attachment\":false,\"reflection\":false,\"clicks\":23,\"user_id\":28916,\"domain\":\"docs.photonvision.org\",\"root_domain\":\"photonvision.org\"},{\"url\":\"https://www.chiefdelphi.com/t/inconsistent-distance-readings-between-limelights/406092/5\",\"title\":\"Inconsistent Distance Readings Between Limelights\",\"internal\":true,\"attachment\":false,\"reflection\":true,\"clicks\":2,\"user_id\":48779,\"domain\":\"www.chiefdelphi.com\",\"root_domain\":\"chiefdelphi.com\"}]},\"bookmarks\":[]}"}
