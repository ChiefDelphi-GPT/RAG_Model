{"data":"{\"post_stream\":{\"posts\":[{\"id\":3002209,\"name\":\"Rishi Rao\",\"username\":\"22raor\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/22raor/{size}/127971_2.png\",\"created_at\":\"2022-02-03T01:01:25.251Z\",\"cooked\":\"\\u003cp\\u003eMy team and I are attempting to make code capable of driving the robot to a specifc TrapezoidalProfile State. We based our code off the WPILib example \\u003ca href=\\\"https://github.com/wpilibsuite/allwpilib/blob/main/wpilibjExamples/src/main/java/edu/wpi/first/wpilibj/examples/drivedistanceoffboard/commands/DriveDistanceProfiled.java\\\" rel=\\\"noopener nofollow ugc\\\"\\u003ehere\\u003c/a\\u003e.\\u003cbr\\u003e\\n\\u003ca href=\\\"https://gist.github.com/22raor/809852ab8875a4f6feb1383d86bd7444\\\" rel=\\\"noopener nofollow ugc\\\"\\u003eHere\\u003c/a\\u003e is our full DriveSubsytem, and the relevant code is below:\\u003c/p\\u003e\\n\\u003cpre\\u003e\\u003ccode\\u003e  private final SimpleMotorFeedforward m_feedforward = new SimpleMotorFeedforward(\\n  DriveConstants.ksVolts,\\n  DriveConstants.kvVoltSecondsPerMeter,\\n  DriveConstants.kaVoltSecondsSquaredPerMeter);\\n\\n\\n  public void setDriveStates(TrapezoidProfile.State left, TrapezoidProfile.State right) {\\nleftMotor1.getPIDController().setReference(left.position, ControlType.kPosition, 0,\\n    m_feedforward.calculate(left.velocity));\\n\\n    leftMotor1.getPIDController().setReference(right.position, ControlType.kPosition, 0,\\n    m_feedforward.calculate(right.velocity));\\n  }\\n\\u003c/code\\u003e\\u003c/pre\\u003e\\n\\u003cp\\u003eThe profile is executed through a class that extends TrapezoidalProfileCommand, below:\\u003c/p\\u003e\\n\\u003cpre\\u003e\\u003ccode\\u003e   package frc.robot.commands;\\n\\n    import edu.wpi.first.math.trajectory.TrapezoidProfile;\\n    import edu.wpi.first.wpilibj2.command.TrapezoidProfileCommand;\\n    import frc.robot.Constants.AutoConstants;\\n    import frc.robot.RobotContainer.Subsystems;\\n\\n    /** Drives a set distance using a motion profile. */\\n    public class TrapezoidDriveCommand extends TrapezoidProfileCommand {\\n      /**\\n       * Creates a new DriveDistanceProfiled command.\\n       *\\n       * @param meters The distance to drive.\\n       * @param drive The drive subsystem to use.\\n       */\\n      public TrapezoidDriveCommand(double meters) {\\n    super(\\n        new TrapezoidProfile(\\n            // Limit the max acceleration and velocity\\n            new TrapezoidProfile.Constraints(\\n                AutoConstants.kMaxSpeedMetersPerSecond,\\n                AutoConstants.kMaxAccelerationMetersPerSecondSquared),\\n            // End at desired position in meters; implicitly starts at 0\\n            new TrapezoidProfile.State(meters, 0)),\\n        // Pipe the profile state to the drive\\n        setpointState -\\u0026gt; Subsystems.driveSubsystem.setDriveStates(setpointState, setpointState),\\n        // Require the drive\\n        Subsystems.driveSubsystem);\\n    // Reset drive encoders since we're starting at 0\\n    Subsystems.driveSubsystem.resetEncoders();\\n\\n      }\\n    }\\n\\u003c/code\\u003e\\u003c/pre\\u003e\\n\\u003cp\\u003eWhen we run the code to drive to a distance of 2 meters, it drives an extremely short distance and the motors stutter. We can see by the SparkMax LED’s that they are rapidly getting forward and backwards commands. I’m unsure if there is an issue in our implementation, or in our \\u003ca href=\\\"https://gist.github.com/22raor/18fb811b8ca03f8963bfdcc3bb26a08a\\\" rel=\\\"noopener nofollow ugc\\\"\\u003econstants\\u003c/a\\u003e, but if anyone with expertise on the WPILib Trapezoidal classes and SparkMax’s could help, we would appreciate it.\\u003c/p\\u003e\",\"post_number\":1,\"post_type\":1,\"posts_count\":18,\"updated_at\":\"2022-02-03T01:17:01.281Z\",\"reply_count\":0,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":743,\"reads\":274,\"readers_count\":273,\"score\":3769.8,\"yours\":false,\"topic_id\":402056,\"topic_slug\":\"trapezoidal-profile-drive-using-sparkmax\",\"display_username\":\"Rishi Rao\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":2,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"link_counts\":[{\"url\":\"https://gist.github.com/22raor/809852ab8875a4f6feb1383d86bd7444\",\"internal\":false,\"reflection\":false,\"clicks\":27},{\"url\":\"https://github.com/wpilibsuite/allwpilib/blob/main/wpilibjExamples/src/main/java/edu/wpi/first/wpilibj/examples/drivedistanceoffboard/commands/DriveDistanceProfiled.java\",\"internal\":false,\"reflection\":false,\"clicks\":27},{\"url\":\"https://gist.github.com/22raor/18fb811b8ca03f8963bfdcc3bb26a08a\",\"internal\":false,\"reflection\":false,\"clicks\":5}],\"read\":true,\"user_title\":null,\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":41300,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"8429 Mentor | 4926 Alum\"},\"post_url\":\"/t/trapezoidal-profile-drive-using-sparkmax/402056/1\",\"custom_user_title\":\"8429 Mentor | 4926 Alum\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true,\"can_vote\":false},{\"id\":3002212,\"name\":\"Eli Barnett\",\"username\":\"Oblarg\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/oblarg/{size}/161674_2.png\",\"created_at\":\"2022-02-03T01:06:38.655Z\",\"cooked\":\"\\u003cp\\u003ePut as much of the relevant telemetry on your dashboard as you can.  You need to see what the setpoints and measurements are at each point in your control stack.\\u003c/p\\u003e\",\"post_number\":2,\"post_type\":1,\"posts_count\":18,\"updated_at\":\"2022-02-03T01:06:38.655Z\",\"reply_count\":0,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":3,\"reads\":219,\"readers_count\":218,\"score\":73.8,\"yours\":false,\"topic_id\":402056,\"topic_slug\":\"trapezoidal-profile-drive-using-sparkmax\",\"display_username\":\"Eli Barnett\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":1}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":12381,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"Robot apartments! invisible suburbs! skeleton treasuries!\"},\"post_url\":\"/t/trapezoidal-profile-drive-using-sparkmax/402056/2\",\"custom_user_title\":\"Robot apartments! invisible suburbs! skeleton treasuries!\",\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":1}],\"current_user_reaction\":null,\"reaction_users_count\":1,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3002219,\"name\":\"Rishi Rao\",\"username\":\"22raor\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/22raor/{size}/127971_2.png\",\"created_at\":\"2022-02-03T01:29:09.902Z\",\"cooked\":\"\\u003cp\\u003eWe are able to print the setpoints, but I’m unsure what values to compare them to. In fact, looking over the WPILib example, I’m a little confused on how it works. The TrapezoidalCommand constructor doesn’t take in the distances from our encoders, so how is it getting feedback that it has reached the specified distance?\\u003c/p\\u003e\",\"post_number\":3,\"post_type\":1,\"posts_count\":18,\"updated_at\":\"2022-02-03T01:29:09.902Z\",\"reply_count\":1,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":2,\"reads\":213,\"readers_count\":212,\"score\":57.6,\"yours\":false,\"topic_id\":402056,\"topic_slug\":\"trapezoidal-profile-drive-using-sparkmax\",\"display_username\":\"Rishi Rao\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":null,\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":41300,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"8429 Mentor | 4926 Alum\"},\"post_url\":\"/t/trapezoidal-profile-drive-using-sparkmax/402056/3\",\"custom_user_title\":\"8429 Mentor | 4926 Alum\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3002223,\"name\":\"Ryan Blue\",\"username\":\"Ryan_Blue\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/ryan_blue/{size}/174016_2.png\",\"created_at\":\"2022-02-03T01:47:04.837Z\",\"cooked\":\"\\u003cp\\u003eIt doesn’t. That’s the job of your PID controllers. All the trapezoidal profile generator does is limit the velocity and acceleration of the reference position.\\u003c/p\\u003e\",\"post_number\":4,\"post_type\":1,\"posts_count\":18,\"updated_at\":\"2022-02-03T01:47:04.837Z\",\"reply_count\":1,\"reply_to_post_number\":3,\"quote_count\":0,\"incoming_link_count\":2,\"reads\":191,\"readers_count\":190,\"score\":83.2,\"yours\":false,\"topic_id\":402056,\"topic_slug\":\"trapezoidal-profile-drive-using-sparkmax\",\"display_username\":\"Ryan Blue\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"reply_to_user\":{\"id\":41300,\"username\":\"22raor\",\"name\":\"Rishi Rao\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/22raor/{size}/127971_2.png\"},\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":2}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":29846,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"WPILib Dev | 1024 Mentor\"},\"post_url\":\"/t/trapezoidal-profile-drive-using-sparkmax/402056/4\",\"custom_user_title\":\"WPILib Dev | 1024 Mentor\",\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":2}],\"current_user_reaction\":null,\"reaction_users_count\":2,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3002228,\"name\":\"Rishi Rao\",\"username\":\"22raor\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/22raor/{size}/127971_2.png\",\"created_at\":\"2022-02-03T02:01:30.420Z\",\"cooked\":\"\\u003cp\\u003eOk, so in that case the Spark Max’s should get feedback from their RelativeEncoder. We set the conversions for that RelativeEncoder and ran the above code, but the same problem persists.\\u003c/p\\u003e\",\"post_number\":5,\"post_type\":1,\"posts_count\":18,\"updated_at\":\"2022-02-03T02:01:43.868Z\",\"reply_count\":1,\"reply_to_post_number\":4,\"quote_count\":0,\"incoming_link_count\":2,\"reads\":173,\"readers_count\":172,\"score\":49.6,\"yours\":false,\"topic_id\":402056,\"topic_slug\":\"trapezoidal-profile-drive-using-sparkmax\",\"display_username\":\"Rishi Rao\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":null,\"reply_to_user\":{\"id\":29846,\"username\":\"Ryan_Blue\",\"name\":\"Ryan Blue\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/ryan_blue/{size}/174016_2.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":41300,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"8429 Mentor | 4926 Alum\"},\"post_url\":\"/t/trapezoidal-profile-drive-using-sparkmax/402056/5\",\"custom_user_title\":\"8429 Mentor | 4926 Alum\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3002230,\"name\":\"Ryan Blue\",\"username\":\"Ryan_Blue\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/ryan_blue/{size}/174016_2.png\",\"created_at\":\"2022-02-03T02:10:48.966Z\",\"cooked\":\"\\u003cp\\u003eWhat are your PID constants? It sounds like the controller is oscillating violently due to excessive gains. Start by reducing kP very low then raising it until you start getting a response\\u003c/p\\u003e\",\"post_number\":6,\"post_type\":1,\"posts_count\":18,\"updated_at\":\"2022-02-03T02:11:08.634Z\",\"reply_count\":0,\"reply_to_post_number\":5,\"quote_count\":0,\"incoming_link_count\":3,\"reads\":155,\"readers_count\":154,\"score\":61.0,\"yours\":false,\"topic_id\":402056,\"topic_slug\":\"trapezoidal-profile-drive-using-sparkmax\",\"display_username\":\"Ryan Blue\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"reply_to_user\":{\"id\":41300,\"username\":\"22raor\",\"name\":\"Rishi Rao\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/22raor/{size}/127971_2.png\"},\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":1}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":29846,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"WPILib Dev | 1024 Mentor\"},\"post_url\":\"/t/trapezoidal-profile-drive-using-sparkmax/402056/6\",\"custom_user_title\":\"WPILib Dev | 1024 Mentor\",\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":1}],\"current_user_reaction\":null,\"reaction_users_count\":1,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3002238,\"name\":\"Eli Barnett\",\"username\":\"Oblarg\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/oblarg/{size}/161674_2.png\",\"created_at\":\"2022-02-03T02:26:31.193Z\",\"cooked\":\"\\u003cp\\u003eMake sure you include a feedforward; pure feedback control is not a very good control strategy.\\u003c/p\\u003e\",\"post_number\":7,\"post_type\":1,\"posts_count\":18,\"updated_at\":\"2022-02-03T02:26:31.193Z\",\"reply_count\":1,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":1,\"reads\":145,\"readers_count\":144,\"score\":54.0,\"yours\":false,\"topic_id\":402056,\"topic_slug\":\"trapezoidal-profile-drive-using-sparkmax\",\"display_username\":\"Eli Barnett\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":1}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":12381,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"Robot apartments! invisible suburbs! skeleton treasuries!\"},\"post_url\":\"/t/trapezoidal-profile-drive-using-sparkmax/402056/7\",\"custom_user_title\":\"Robot apartments! invisible suburbs! skeleton treasuries!\",\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":1}],\"current_user_reaction\":null,\"reaction_users_count\":1,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3002344,\"name\":null,\"username\":\"Starlight220\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/starlight220/{size}/150872_2.png\",\"created_at\":\"2022-02-03T07:15:47.743Z\",\"cooked\":\"\\u003cp\\u003eJust going to make sure that this isn’t the issue; you’re running Position PID and adding a velocity feedforward. If I understand correctly how profiles work, you should be running velocity PID+FF tracking the profile-supplied setpoint. I might be wrong though; I’m happy to be corrected on this.\\u003c/p\\u003e\\n\\u003cp\\u003eIf this is velocity PID, would the 112ms internal NEO encoder velocity filtering delay be an issue for a drivetrain or an elevator? I know it is a major problem for flywheels.\\u003c/p\\u003e\",\"post_number\":8,\"post_type\":1,\"posts_count\":18,\"updated_at\":\"2022-02-03T07:15:47.743Z\",\"reply_count\":0,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":2,\"reads\":137,\"readers_count\":136,\"score\":52.4,\"yours\":false,\"topic_id\":402056,\"topic_slug\":\"trapezoidal-profile-drive-using-sparkmax\",\"display_username\":null,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":null,\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":1}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":45763,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"6738a | ISR | WPILib\"},\"post_url\":\"/t/trapezoidal-profile-drive-using-sparkmax/402056/8\",\"custom_user_title\":\"6738a | ISR | WPILib\",\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":1}],\"current_user_reaction\":null,\"reaction_users_count\":1,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3002347,\"name\":\"Antonio Dias\",\"username\":\"adias\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/a/8c91f0/{size}.png\",\"created_at\":\"2022-02-03T07:55:55.093Z\",\"cooked\":\"\\u003cp\\u003eIt may be unrelated but seeing your description reminded me of this: \\u003ca href=\\\"https://www.chiefdelphi.com/t/spark-max-controllers-stuttering/366807/21\\\" class=\\\"inline-onebox\\\"\\u003eSpark MAX controllers stuttering - #21 by adias\\u003c/a\\u003e\\u003c/p\\u003e\\n\\u003cp\\u003eYou don’t want to call getPIDController() repeatedly. Call it once for each motor controller and stash the result and re-use it. It’s at least worth eliminating as a possible problem.\\u003c/p\\u003e\",\"post_number\":9,\"post_type\":1,\"posts_count\":18,\"updated_at\":\"2022-02-03T07:55:55.093Z\",\"reply_count\":0,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":4,\"reads\":131,\"readers_count\":130,\"score\":46.2,\"yours\":false,\"topic_id\":402056,\"topic_slug\":\"trapezoidal-profile-drive-using-sparkmax\",\"display_username\":\"Antonio Dias\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"link_counts\":[{\"url\":\"https://www.chiefdelphi.com/t/spark-max-controllers-stuttering/366807/21\",\"internal\":true,\"reflection\":false,\"title\":\"Spark MAX controllers stuttering\",\"clicks\":16}],\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":32204,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"670 mentor\"},\"post_url\":\"/t/trapezoidal-profile-drive-using-sparkmax/402056/9\",\"custom_user_title\":\"670 mentor\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3002388,\"name\":\"tkchan\",\"username\":\"tkchan\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/t/ee59a6/{size}.png\",\"created_at\":\"2022-02-03T14:18:55.822Z\",\"cooked\":\"\\u003cp\\u003eDid you do the Robot Characteristization (or SysID) which helps you arrive at your PID constants?  Each robot will be different from motor, motor controller, encoders, gear ratio, width, length, etc etc so you can’t just use other ppl’s drive train constants and assume they’ll just work.\\u003c/p\\u003e\",\"post_number\":10,\"post_type\":1,\"posts_count\":18,\"updated_at\":\"2022-02-03T14:18:55.822Z\",\"reply_count\":1,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":3,\"reads\":122,\"readers_count\":121,\"score\":44.4,\"yours\":false,\"topic_id\":402056,\"topic_slug\":\"trapezoidal-profile-drive-using-sparkmax\",\"display_username\":\"tkchan\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":26389,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"think outside of the box from time to time\"},\"post_url\":\"/t/trapezoidal-profile-drive-using-sparkmax/402056/10\",\"custom_user_title\":\"think outside of the box from time to time\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3002413,\"name\":\"Ryan Blue\",\"username\":\"Ryan_Blue\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/ryan_blue/{size}/174016_2.png\",\"created_at\":\"2022-02-03T16:03:54.342Z\",\"cooked\":\"\\u003cp\\u003eKeep in mind the SysID tool generates velocity feedback gains by default, so if you go this route you’ll want to make sure Position is selected for loop type.\\u003c/p\\u003e\",\"post_number\":11,\"post_type\":1,\"posts_count\":18,\"updated_at\":\"2022-02-03T16:03:54.342Z\",\"reply_count\":0,\"reply_to_post_number\":10,\"quote_count\":0,\"incoming_link_count\":2,\"reads\":107,\"readers_count\":106,\"score\":31.4,\"yours\":false,\"topic_id\":402056,\"topic_slug\":\"trapezoidal-profile-drive-using-sparkmax\",\"display_username\":\"Ryan Blue\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"reply_to_user\":{\"id\":26389,\"username\":\"tkchan\",\"name\":\"tkchan\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/t/ee59a6/{size}.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":29846,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"WPILib Dev | 1024 Mentor\"},\"post_url\":\"/t/trapezoidal-profile-drive-using-sparkmax/402056/11\",\"custom_user_title\":\"WPILib Dev | 1024 Mentor\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3002434,\"name\":\"Tom Line\",\"username\":\"Tom_Line\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/tom_line/{size}/236809_2.png\",\"created_at\":\"2022-02-03T16:42:25.854Z\",\"cooked\":\"\\u003cp\\u003eOut of curiosity, how does the feed forward for a position PID work?\\u003c/p\\u003e\\n\\u003cp\\u003eI understand on a velocity, the feed forward scales with the desired input.  I.e., set a feed forward that gets you near the output when you set the Input.\\u003c/p\\u003e\\n\\u003cp\\u003eBut how does the math work for a feed forward for a positional PID?  Anything that scales with the distance from your goal seems like it  would be a duplication of the P term.\\u003c/p\\u003e\",\"post_number\":12,\"post_type\":1,\"posts_count\":18,\"updated_at\":\"2022-02-03T16:43:20.065Z\",\"reply_count\":1,\"reply_to_post_number\":7,\"quote_count\":0,\"incoming_link_count\":1,\"reads\":107,\"readers_count\":106,\"score\":61.4,\"yours\":false,\"topic_id\":402056,\"topic_slug\":\"trapezoidal-profile-drive-using-sparkmax\",\"display_username\":\"Tom Line\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"reply_to_user\":{\"id\":12381,\"username\":\"Oblarg\",\"name\":\"Eli Barnett\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/oblarg/{size}/161674_2.png\"},\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":2}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":7841,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"Team 1498\"},\"post_url\":\"/t/trapezoidal-profile-drive-using-sparkmax/402056/12\",\"custom_user_title\":\"Team 1498\",\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":2}],\"current_user_reaction\":null,\"reaction_users_count\":2,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3002439,\"name\":\"Ryan Blue\",\"username\":\"Ryan_Blue\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/ryan_blue/{size}/174016_2.png\",\"created_at\":\"2022-02-03T16:47:55.326Z\",\"cooked\":\"\\u003cp\\u003eIf you have a desired velocity as well as position (as is the case for motion profiles), you can calculate feedforward based on that. Feedforward for a purely positional reference is usually only used for compensation against gravity.\\u003c/p\\u003e\",\"post_number\":13,\"post_type\":1,\"posts_count\":18,\"updated_at\":\"2022-02-03T16:47:55.326Z\",\"reply_count\":1,\"reply_to_post_number\":12,\"quote_count\":0,\"incoming_link_count\":2,\"reads\":98,\"readers_count\":97,\"score\":64.6,\"yours\":false,\"topic_id\":402056,\"topic_slug\":\"trapezoidal-profile-drive-using-sparkmax\",\"display_username\":\"Ryan Blue\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"reply_to_user\":{\"id\":7841,\"username\":\"Tom_Line\",\"name\":\"Tom Line\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/tom_line/{size}/236809_2.png\"},\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":2}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":29846,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"WPILib Dev | 1024 Mentor\"},\"post_url\":\"/t/trapezoidal-profile-drive-using-sparkmax/402056/13\",\"custom_user_title\":\"WPILib Dev | 1024 Mentor\",\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":2}],\"current_user_reaction\":null,\"reaction_users_count\":2,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3002442,\"name\":\"Tom Line\",\"username\":\"Tom_Line\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/tom_line/{size}/236809_2.png\",\"created_at\":\"2022-02-03T16:49:27.581Z\",\"cooked\":\"\\u003cp\\u003eOk - that makes perfect sense.  So if, for instance, I’m using straight PID on a swerve module steering azimuth but not using motion profiling, feed forward doesn’t exist.\\u003c/p\\u003e\",\"post_number\":14,\"post_type\":1,\"posts_count\":18,\"updated_at\":\"2022-02-03T16:49:27.581Z\",\"reply_count\":1,\"reply_to_post_number\":13,\"quote_count\":0,\"incoming_link_count\":1,\"reads\":99,\"readers_count\":98,\"score\":44.8,\"yours\":false,\"topic_id\":402056,\"topic_slug\":\"trapezoidal-profile-drive-using-sparkmax\",\"display_username\":\"Tom Line\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"reply_to_user\":{\"id\":29846,\"username\":\"Ryan_Blue\",\"name\":\"Ryan Blue\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/ryan_blue/{size}/174016_2.png\"},\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":1}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":7841,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"Team 1498\"},\"post_url\":\"/t/trapezoidal-profile-drive-using-sparkmax/402056/14\",\"custom_user_title\":\"Team 1498\",\"reactions\":[{\"id\":\"+1\",\"type\":\"emoji\",\"count\":1},{\"id\":\"heart\",\"type\":\"emoji\",\"count\":1}],\"current_user_reaction\":null,\"reaction_users_count\":2,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3002451,\"name\":\"Eli Barnett\",\"username\":\"Oblarg\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/oblarg/{size}/161674_2.png\",\"created_at\":\"2022-02-03T17:05:33.335Z\",\"cooked\":\"\\u003cp\\u003eYou could hack in a \\u003ccode\\u003ekS\\u003c/code\\u003e feedforward based on the direction of motion in that situation, but if your azimuthal motor is sufficiently overpowered it won’t really matter.\\u003c/p\\u003e\",\"post_number\":15,\"post_type\":1,\"posts_count\":18,\"updated_at\":\"2022-02-03T17:05:33.335Z\",\"reply_count\":0,\"reply_to_post_number\":14,\"quote_count\":0,\"incoming_link_count\":1,\"reads\":91,\"readers_count\":90,\"score\":53.2,\"yours\":false,\"topic_id\":402056,\"topic_slug\":\"trapezoidal-profile-drive-using-sparkmax\",\"display_username\":\"Eli Barnett\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"reply_to_user\":{\"id\":7841,\"username\":\"Tom_Line\",\"name\":\"Tom Line\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/tom_line/{size}/236809_2.png\"},\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":2}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":12381,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"Robot apartments! invisible suburbs! skeleton treasuries!\"},\"post_url\":\"/t/trapezoidal-profile-drive-using-sparkmax/402056/15\",\"custom_user_title\":\"Robot apartments! invisible suburbs! skeleton treasuries!\",\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":2}],\"current_user_reaction\":null,\"reaction_users_count\":2,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3003395,\"name\":\"Rishi Rao\",\"username\":\"22raor\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/22raor/{size}/127971_2.png\",\"created_at\":\"2022-02-05T17:53:26.942Z\",\"cooked\":\"\\u003cp\\u003eUpdate:\\u003cbr\\u003e\\nWe fixed an error in our encoder conversions, and now we have a different problem. When constructed for a 1 meter distance, the trapezoidal profile (left graph) gives setpoints correctly. However, the Spark Max (right graph is encoder distance), goes to approximately double the distance. Any ideas?\\u003c/p\\u003e\\n\\u003cp\\u003e\\u003cdiv class=\\\"lightbox-wrapper\\\"\\u003e\\u003ca class=\\\"lightbox\\\" href=\\\"https://www.chiefdelphi.com/uploads/default/original/3X/e/9/e941062edc9d6657ff9003f9dc66d889dbd7889e.png\\\" data-download-href=\\\"https://www.chiefdelphi.com/uploads/default/e941062edc9d6657ff9003f9dc66d889dbd7889e\\\" title=\\\"image\\\"\\u003e\\u003cimg src=\\\"https://www.chiefdelphi.com/uploads/default/optimized/3X/e/9/e941062edc9d6657ff9003f9dc66d889dbd7889e_2_690x262.png\\\" alt=\\\"image\\\" data-base62-sha1=\\\"xhsyYRb3Hs5XPEfFo4P8b0tmySy\\\" width=\\\"690\\\" height=\\\"262\\\" srcset=\\\"https://www.chiefdelphi.com/uploads/default/optimized/3X/e/9/e941062edc9d6657ff9003f9dc66d889dbd7889e_2_690x262.png, https://www.chiefdelphi.com/uploads/default/optimized/3X/e/9/e941062edc9d6657ff9003f9dc66d889dbd7889e_2_1035x393.png 1.5x, https://www.chiefdelphi.com/uploads/default/original/3X/e/9/e941062edc9d6657ff9003f9dc66d889dbd7889e.png 2x\\\" data-dominant-color=\\\"ECEEF1\\\"\\u003e\\u003cdiv class=\\\"meta\\\"\\u003e\\u003csvg class=\\\"fa d-icon d-icon-far-image svg-icon\\\" aria-hidden=\\\"true\\\"\\u003e\\u003cuse href=\\\"#far-image\\\"\\u003e\\u003c/use\\u003e\\u003c/svg\\u003e\\u003cspan class=\\\"filename\\\"\\u003eimage\\u003c/span\\u003e\\u003cspan class=\\\"informations\\\"\\u003e1132×430 44.1 KB\\u003c/span\\u003e\\u003csvg class=\\\"fa d-icon d-icon-discourse-expand svg-icon\\\" aria-hidden=\\\"true\\\"\\u003e\\u003cuse href=\\\"#discourse-expand\\\"\\u003e\\u003c/use\\u003e\\u003c/svg\\u003e\\u003c/div\\u003e\\u003c/a\\u003e\\u003c/div\\u003e\\u003c/p\\u003e\",\"post_number\":16,\"post_type\":1,\"posts_count\":18,\"updated_at\":\"2022-02-05T17:53:26.942Z\",\"reply_count\":1,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":3,\"reads\":86,\"readers_count\":85,\"score\":37.2,\"yours\":false,\"topic_id\":402056,\"topic_slug\":\"trapezoidal-profile-drive-using-sparkmax\",\"display_username\":\"Rishi Rao\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"link_counts\":[{\"url\":\"https://www.chiefdelphi.com/uploads/default/original/3X/e/9/e941062edc9d6657ff9003f9dc66d889dbd7889e.png\",\"internal\":true,\"reflection\":false,\"clicks\":0}],\"read\":true,\"user_title\":null,\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":41300,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"8429 Mentor | 4926 Alum\"},\"post_url\":\"/t/trapezoidal-profile-drive-using-sparkmax/402056/16\",\"custom_user_title\":\"8429 Mentor | 4926 Alum\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3003496,\"name\":\"Rishi Rao\",\"username\":\"22raor\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/22raor/{size}/127971_2.png\",\"created_at\":\"2022-02-05T20:22:06.122Z\",\"cooked\":\"\\u003cp\\u003eOk looks like it wasn’t reaching setpoints because the P was too low.\\u003c/p\\u003e\",\"post_number\":17,\"post_type\":1,\"posts_count\":18,\"updated_at\":\"2022-02-05T20:22:07.463Z\",\"reply_count\":0,\"reply_to_post_number\":16,\"quote_count\":0,\"incoming_link_count\":3,\"reads\":79,\"readers_count\":78,\"score\":30.8,\"yours\":false,\"topic_id\":402056,\"topic_slug\":\"trapezoidal-profile-drive-using-sparkmax\",\"display_username\":\"Rishi Rao\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":null,\"reply_to_user\":{\"id\":41300,\"username\":\"22raor\",\"name\":\"Rishi Rao\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/22raor/{size}/127971_2.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":41300,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"8429 Mentor | 4926 Alum\"},\"post_url\":\"/t/trapezoidal-profile-drive-using-sparkmax/402056/17\",\"custom_user_title\":\"8429 Mentor | 4926 Alum\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":true,\"topic_accepted_answer\":true},{\"id\":3140173,\"name\":\"system\",\"username\":\"system\",\"avatar_template\":\"/uploads/default/original/4X/9/3/2/93234578e69f55873c63fc00fe2d0d85f23bce55.png\",\"created_at\":\"2023-02-05T20:22:43.664Z\",\"cooked\":\"\\u003cp\\u003eThis topic was automatically closed 365 days after the last reply. New replies are no longer allowed.\\u003c/p\\u003e\",\"post_number\":18,\"post_type\":3,\"posts_count\":18,\"updated_at\":\"2023-02-05T20:22:43.664Z\",\"reply_count\":0,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":1,\"reads\":42,\"readers_count\":41,\"score\":13.4,\"yours\":false,\"topic_id\":402056,\"topic_slug\":\"trapezoidal-profile-drive-using-sparkmax\",\"display_username\":\"system\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[],\"moderator\":true,\"admin\":true,\"staff\":true,\"user_id\":-1,\"hidden\":false,\"trust_level\":4,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"action_code\":\"autoclosed.enabled\",\"post_url\":\"/t/trapezoidal-profile-drive-using-sparkmax/402056/18\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true}],\"stream\":[3002209,3002212,3002219,3002223,3002228,3002230,3002238,3002344,3002347,3002388,3002413,3002434,3002439,3002442,3002451,3003395,3003496,3140173]},\"timeline_lookup\":[[1,1347],[16,1344],[18,979]],\"suggested_topics\":[{\"fancy_title\":\"Feedforward calculations using WPILIB updates\",\"id\":480558,\"title\":\"Feedforward calculations using WPILIB updates\",\"slug\":\"feedforward-calculations-using-wpilib-updates\",\"posts_count\":2,\"reply_count\":0,\"highest_post_number\":2,\"image_url\":\"https://www.chiefdelphi.com/uploads/default/optimized/3X/9/2/923183fa6aac508f5e9d120527c2117b65a18ca8_2_1024x290.png\",\"created_at\":\"2025-01-09T22:25:13.411Z\",\"last_posted_at\":\"2025-01-09T23:12:04.818Z\",\"bumped\":true,\"bumped_at\":\"2025-01-09T23:15:09.879Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"Use ElevatorFeedforward.calculateWithVelocities(double currentVelocity, double nextVelocity) with a motion profile. package frc.robot; import edu.wpi.first.math.controller.PIDController; import edu…\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[],\"tags_descriptions\":{},\"like_count\":1,\"views\":212,\"category_id\":30,\"featured_link\":null,\"has_accepted_answer\":true,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3477390,\"topic_post_liked\":false,\"topic_post_like_count\":1,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":false,\"topic_post_is_current_users\":null,\"topic_post_number\":2,\"topic_post_user\":{\"id\":16846,\"username\":\"calcmogul\",\"name\":\"Tyler Veness\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/calcmogul/{size}/128045_2.png\"},\"posters\":[{\"extras\":null,\"description\":\"Original Poster\",\"user\":{\"id\":49222,\"username\":\"Upcoming\",\"name\":\"Johnathon\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/u/a5b964/{size}.png\",\"trust_level\":2}},{\"extras\":\"latest\",\"description\":\"Most Recent Poster, Accepted Answer\",\"user\":{\"id\":16846,\"username\":\"calcmogul\",\"name\":\"Tyler Veness\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/calcmogul/{size}/128045_2.png\",\"trust_level\":2}}]},{\"fancy_title\":\"Was AprilTagFields.k2025Reefscape removed?\",\"id\":492656,\"title\":\"Was AprilTagFields.k2025Reefscape removed?\",\"slug\":\"was-apriltagfields-k2025reefscape-removed\",\"posts_count\":3,\"reply_count\":1,\"highest_post_number\":3,\"image_url\":null,\"created_at\":\"2025-02-22T00:20:55.610Z\",\"last_posted_at\":\"2025-02-22T00:47:19.468Z\",\"bumped\":true,\"bumped_at\":\"2025-02-22T00:47:19.468Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"It’s because there are two fields, and they discovered that the fields are different. WPILib 2025.3.1 contains updated 2025 AprilTag maps and a map naming change. This is a breaking change that w…\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[\"java\"],\"tags_descriptions\":{},\"like_count\":2,\"views\":180,\"category_id\":30,\"featured_link\":null,\"has_accepted_answer\":true,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3535929,\"topic_post_liked\":false,\"topic_post_like_count\":2,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":false,\"topic_post_is_current_users\":null,\"topic_post_number\":2,\"topic_post_user\":{\"id\":7334,\"username\":\"usbcd36\",\"name\":\"usbcd36\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/usbcd36/{size}/2444_2.png\"},\"posters\":[{\"extras\":\"latest\",\"description\":\"Original Poster, Most Recent Poster\",\"user\":{\"id\":56055,\"username\":\"lol\",\"name\":\"Adam\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/l/5daacb/{size}.png\",\"trust_level\":2}},{\"extras\":null,\"description\":\"Frequent Poster, Accepted Answer\",\"user\":{\"id\":7334,\"username\":\"usbcd36\",\"name\":\"usbcd36\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/usbcd36/{size}/2444_2.png\",\"trust_level\":2}}]},{\"fancy_title\":\"Error with pathfinding in autonomous\",\"id\":483631,\"title\":\"Error with pathfinding in autonomous\",\"slug\":\"error-with-pathfinding-in-autonomous\",\"posts_count\":6,\"reply_count\":3,\"highest_post_number\":6,\"image_url\":null,\"created_at\":\"2025-01-25T22:50:29.201Z\",\"last_posted_at\":\"2025-01-30T04:30:41.968Z\",\"bumped\":true,\"bumped_at\":\"2025-01-30T04:30:41.968Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"Hi, I am trying to write to code that has Path planner automatically pathfind to the closest depot path, I wrote a command for it but it will randomly return an error(down below). I think that the pro…\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[],\"tags_descriptions\":{},\"like_count\":0,\"views\":201,\"category_id\":30,\"featured_link\":null,\"has_accepted_answer\":false,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3492691,\"topic_post_liked\":false,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":false,\"topic_post_is_current_users\":null,\"topic_post_number\":1,\"topic_post_user\":{\"id\":71806,\"username\":\"FrcWarrior23\",\"name\":\"Benjamin Jobart\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/f/ce7236/{size}.png\"},\"posters\":[{\"extras\":\"latest\",\"description\":\"Original Poster, Most Recent Poster\",\"user\":{\"id\":71806,\"username\":\"FrcWarrior23\",\"name\":\"Benjamin Jobart\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/f/ce7236/{size}.png\",\"trust_level\":1}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":28240,\"username\":\"icemannie\",\"name\":\"icemannie\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/i/bc79bd/{size}.png\",\"trust_level\":2}}]},{\"fancy_title\":\"Pathplanner Hot Reload Bug\",\"id\":485330,\"title\":\"Pathplanner Hot Reload Bug\",\"slug\":\"pathplanner-hot-reload-bug\",\"posts_count\":1,\"reply_count\":0,\"highest_post_number\":1,\"image_url\":\"https://www.chiefdelphi.com/uploads/default/optimized/3X/0/2/027e4e535689939b37916a95d9e8f48a9a4888b9_2_1024x582.jpeg\",\"created_at\":\"2025-02-05T19:57:30.482Z\",\"last_posted_at\":\"2025-02-05T19:57:30.549Z\",\"bumped\":true,\"bumped_at\":\"2025-02-05T19:58:56.060Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"Hi all! I have been running into a pathplanner bug recently with reload I was hoping someone could help me with (Maybe @mjansen4857?). Our team has just started experimenting with hot reload, but ever…\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[\"pathplanner\"],\"tags_descriptions\":{},\"like_count\":0,\"views\":76,\"category_id\":30,\"featured_link\":null,\"has_accepted_answer\":false,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3503285,\"topic_post_liked\":false,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":false,\"topic_post_is_current_users\":null,\"topic_post_number\":1,\"topic_post_user\":{\"id\":72180,\"username\":\"Ben1418\",\"name\":\"Benjamin Berol\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/b/90db22/{size}.png\"},\"posters\":[{\"extras\":\"latest single\",\"description\":\"Original Poster, Most Recent Poster\",\"user\":{\"id\":72180,\"username\":\"Ben1418\",\"name\":\"Benjamin Berol\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/b/90db22/{size}.png\",\"trust_level\":1}}]},{\"fancy_title\":\"Simple 1m auto test\",\"id\":497091,\"title\":\"Simple 1m auto test\",\"slug\":\"simple-1m-auto-test\",\"posts_count\":2,\"reply_count\":0,\"highest_post_number\":2,\"image_url\":null,\"created_at\":\"2025-03-27T02:32:23.870Z\",\"last_posted_at\":\"2025-03-27T02:33:48.782Z\",\"bumped\":true,\"bumped_at\":\"2025-03-27T02:33:48.782Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"So I’m doing a simple drive forward 1 meter and drive back test using choreo. I’m finding that I’m only making it 85 percent of the trip. The robot thinks it’s at 1 meter though. Am I experiencing …\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[],\"tags_descriptions\":{},\"like_count\":1,\"views\":238,\"category_id\":30,\"featured_link\":null,\"has_accepted_answer\":false,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3569760,\"topic_post_liked\":false,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":false,\"topic_post_is_current_users\":null,\"topic_post_number\":1,\"topic_post_user\":{\"id\":48345,\"username\":\"narmstro\",\"name\":\"Nicholas Armstrong\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/n/5e9695/{size}.png\"},\"posters\":[{\"extras\":null,\"description\":\"Original Poster\",\"user\":{\"id\":48345,\"username\":\"narmstro\",\"name\":\"Nicholas Armstrong\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/n/5e9695/{size}.png\",\"trust_level\":2}},{\"extras\":\"latest\",\"description\":\"Most Recent Poster\",\"user\":{\"id\":66298,\"username\":\"sokoloff\",\"name\":\"Jim Sokoloff\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/sokoloff/{size}/231724_2.png\",\"trust_level\":2}}]}],\"tags\":[\"wpilib\",\"sparkmax\",\"rev\",\"pid\",\"revrobotics\"],\"tags_descriptions\":{},\"fancy_title\":\"Trapezoidal Profile Drive - Using SparkMax\",\"id\":402056,\"title\":\"Trapezoidal Profile Drive - Using SparkMax\",\"posts_count\":18,\"created_at\":\"2022-02-03T01:01:25.014Z\",\"views\":2077,\"reply_count\":9,\"like_count\":13,\"last_posted_at\":\"2023-02-05T20:22:43.664Z\",\"visible\":true,\"closed\":true,\"archived\":false,\"has_summary\":false,\"archetype\":\"regular\",\"slug\":\"trapezoidal-profile-drive-using-sparkmax\",\"category_id\":30,\"word_count\":999,\"deleted_at\":null,\"user_id\":41300,\"featured_link\":null,\"pinned_globally\":false,\"pinned_at\":null,\"pinned_until\":null,\"image_url\":null,\"slow_mode_seconds\":0,\"draft\":null,\"draft_key\":\"topic_402056\",\"draft_sequence\":null,\"unpinned\":null,\"pinned\":false,\"current_post_number\":1,\"highest_post_number\":18,\"deleted_by\":null,\"actions_summary\":[{\"id\":4,\"count\":0,\"hidden\":false,\"can_act\":false},{\"id\":8,\"count\":0,\"hidden\":false,\"can_act\":false},{\"id\":10,\"count\":0,\"hidden\":false,\"can_act\":false},{\"id\":7,\"count\":0,\"hidden\":false,\"can_act\":false}],\"chunk_size\":20,\"bookmarked\":false,\"topic_timer\":null,\"message_bus_last_id\":0,\"participant_count\":7,\"show_read_indicator\":false,\"thumbnails\":null,\"slow_mode_enabled_until\":null,\"valid_reactions\":[\"heart\",\"laughing\",\"point_up\",\"+1\",\"-1\",\"100\",\"open_mouth\",\"cry\",\"question\",\"thinking\",\"call_me_hand\",\"hugs\",\"angry\"],\"accepted_answer\":{\"post_number\":17,\"username\":\"22raor\",\"name\":null,\"excerpt\":\"Ok looks like it wasn’t reaching setpoints because the P was too low.\",\"accepter_name\":null},\"user_chosen_thumbnail_url\":null,\"sidecar_installed\":true,\"can_vote\":false,\"vote_count\":0,\"user_voted\":false,\"discourse_zendesk_plugin_zendesk_id\":null,\"discourse_zendesk_plugin_zendesk_url\":\"https://your-url.zendesk.com/agent/tickets/\",\"details\":{\"can_edit\":false,\"notification_level\":1,\"participants\":[{\"id\":41300,\"username\":\"22raor\",\"name\":\"Rishi Rao\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/22raor/{size}/127971_2.png\",\"post_count\":5,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":29846,\"username\":\"Ryan_Blue\",\"name\":\"Ryan Blue\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/ryan_blue/{size}/174016_2.png\",\"post_count\":4,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":12381,\"username\":\"Oblarg\",\"name\":\"Eli Barnett\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/oblarg/{size}/161674_2.png\",\"post_count\":3,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":7841,\"username\":\"Tom_Line\",\"name\":\"Tom Line\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/tom_line/{size}/236809_2.png\",\"post_count\":2,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":26389,\"username\":\"tkchan\",\"name\":\"tkchan\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/t/ee59a6/{size}.png\",\"post_count\":1,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":32204,\"username\":\"adias\",\"name\":\"Antonio Dias\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/a/8c91f0/{size}.png\",\"post_count\":1,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":45763,\"username\":\"Starlight220\",\"name\":null,\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/starlight220/{size}/150872_2.png\",\"post_count\":1,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2}],\"created_by\":{\"id\":41300,\"username\":\"22raor\",\"name\":\"Rishi Rao\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/22raor/{size}/127971_2.png\"},\"last_poster\":{\"id\":-1,\"username\":\"system\",\"name\":\"system\",\"avatar_template\":\"/uploads/default/original/4X/9/3/2/93234578e69f55873c63fc00fe2d0d85f23bce55.png\"},\"links\":[{\"url\":\"https://gist.github.com/22raor/809852ab8875a4f6feb1383d86bd7444\",\"title\":null,\"internal\":false,\"attachment\":false,\"reflection\":false,\"clicks\":27,\"user_id\":41300,\"domain\":\"gist.github.com\",\"root_domain\":\"github.com\"},{\"url\":\"https://github.com/wpilibsuite/allwpilib/blob/main/wpilibjExamples/src/main/java/edu/wpi/first/wpilibj/examples/drivedistanceoffboard/commands/DriveDistanceProfiled.java\",\"title\":null,\"internal\":false,\"attachment\":false,\"reflection\":false,\"clicks\":27,\"user_id\":41300,\"domain\":\"github.com\",\"root_domain\":\"github.com\"},{\"url\":\"https://www.chiefdelphi.com/t/spark-max-controllers-stuttering/366807/21\",\"title\":\"Spark MAX controllers stuttering\",\"internal\":true,\"attachment\":false,\"reflection\":false,\"clicks\":16,\"user_id\":32204,\"domain\":\"www.chiefdelphi.com\",\"root_domain\":\"chiefdelphi.com\"},{\"url\":\"https://gist.github.com/22raor/18fb811b8ca03f8963bfdcc3bb26a08a\",\"title\":null,\"internal\":false,\"attachment\":false,\"reflection\":false,\"clicks\":5,\"user_id\":41300,\"domain\":\"gist.github.com\",\"root_domain\":\"github.com\"}]},\"bookmarks\":[]}"}
