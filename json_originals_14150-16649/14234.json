{"data":"{\"post_stream\":{\"posts\":[{\"id\":3061741,\"name\":\"Tom Line\",\"username\":\"Tom_Line\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/tom_line/{size}/236809_2.png\",\"created_at\":\"2022-05-15T21:03:02.525Z\",\"cooked\":\"\\u003cp\\u003eOur team is working on sensor fusion for the limelight + encoders.  A critical factor in fusing those values in the latency in the vision.  I’ve seen different estimates of the latency.  So as far as I know, the components in that stream are:\\u003c/p\\u003e\\n\\u003col\\u003e\\n\\u003cli\\u003eLimelight Pipeline.\\u003c/li\\u003e\\n\\u003cli\\u003eNetwork Tables.\\u003c/li\\u003e\\n\\u003cli\\u003eRio Loop Timing (i.e., where in the ‘read’ loop are you when the data becomes available).\\u003c/li\\u003e\\n\\u003c/ol\\u003e\\n\\u003cp\\u003eI found one location that says something like this:\\u003cbr\\u003e\\nTotal latency (Photons → Robot) : 21-25 milliseconds\\u003cbr\\u003e\\n-Pipeline Latency: 3-7 milliseconds\\u003cbr\\u003e\\n-NetworkTables → Robot latency: .3 milliseconds\\u003cbr\\u003e\\n-(NT limits bypassed to instantly submit targeting data.)\\u003c/p\\u003e\\n\\u003cp\\u003eBut it sure seems like a lot of things are missing in that 21-25 milliseconds.  I’d like to quantify it a little better, and reduce it where possible.  I’m sure teams have already done this.  Anyone have some starting points?  For instance, how do you ‘bypass NT limits’.\\u003c/p\\u003e\\n\\u003cp\\u003eHow would you measure the latency?\\u003c/p\\u003e\",\"post_number\":1,\"post_type\":1,\"posts_count\":15,\"updated_at\":\"2022-05-15T21:03:02.525Z\",\"reply_count\":2,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":588,\"reads\":423,\"readers_count\":422,\"score\":3044.6,\"yours\":false,\"topic_id\":411597,\"topic_slug\":\"determining-limelight-latency\",\"display_username\":\"Tom Line\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":1}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":7841,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"Team 1498\"},\"post_url\":\"/t/determining-limelight-latency/411597/1\",\"custom_user_title\":\"Team 1498\",\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":1}],\"current_user_reaction\":null,\"reaction_users_count\":1,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null,\"can_vote\":false},{\"id\":3061749,\"name\":\"Tom Line\",\"username\":\"Tom_Line\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/tom_line/{size}/236809_2.png\",\"created_at\":\"2022-05-15T21:27:42.058Z\",\"cooked\":\"\\u003cp\\u003eReplying to myself.\\u003c/p\\u003e\\n\\u003cp\\u003eOne way I had considered measuring the total latency was to compare location based on odometry while driving toward a target while calculating the ‘distance’ from the ty value reported by the limelight.  If you know your drive velocity, then you can calculate how far behind your actual location the limelight is and back out the latency.  This would give you an experimental baseline.\\u003c/p\\u003e\\n\\u003cp\\u003eHowever, this would include the Rio loop timing, along with any inconsistencies from your encoders (for instance if you’re using cancoders).\\u003c/p\\u003e\\n\\u003cp\\u003eThoughts?\\u003c/p\\u003e\",\"post_number\":2,\"post_type\":1,\"posts_count\":15,\"updated_at\":\"2022-05-15T21:29:21.877Z\",\"reply_count\":0,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":6,\"reads\":397,\"readers_count\":396,\"score\":109.4,\"yours\":false,\"topic_id\":411597,\"topic_slug\":\"determining-limelight-latency\",\"display_username\":\"Tom Line\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":7841,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"Team 1498\"},\"post_url\":\"/t/determining-limelight-latency/411597/2\",\"custom_user_title\":\"Team 1498\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3061754,\"name\":\"Max\",\"username\":\"JohnnyWobble\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/johnnywobble/{size}/156676_2.png\",\"created_at\":\"2022-05-15T21:42:51.483Z\",\"cooked\":\"\\u003caside class=\\\"quote no-group quote-post-not-found\\\" data-username=\\\"tchatow\\\" data-post=\\\"3\\\" data-topic=\\\"411597\\\" data-full=\\\"true\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg loading=\\\"lazy\\\" alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/letter_avatar_proxy/v4/letter/t/e495f1/48.png\\\" class=\\\"avatar\\\"\\u003e tchatow:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003eWhat’s the camera’s exposure time? This is one significant source of latency which assume is not being included in the pipeline.\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003cp\\u003eProbably 1 or 2 ms\\u003c/p\\u003e\\n\\u003caside class=\\\"quote no-group\\\" data-username=\\\"Tom_Line\\\" data-post=\\\"1\\\" data-topic=\\\"411597\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg loading=\\\"lazy\\\" alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/user_avatar/www.chiefdelphi.com/tom_line/48/236809_2.png\\\" class=\\\"avatar\\\"\\u003e Tom_Line:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003e-NetworkTables → Robot latency: .3 milliseconds\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003cp\\u003eI had heard that this is closer to 10 ms, potentially even higher\\u003c/p\\u003e\",\"post_number\":4,\"post_type\":1,\"posts_count\":15,\"updated_at\":\"2022-05-15T21:42:51.483Z\",\"reply_count\":1,\"reply_to_post_number\":3,\"quote_count\":2,\"incoming_link_count\":8,\"reads\":383,\"readers_count\":382,\"score\":136.6,\"yours\":false,\"topic_id\":411597,\"topic_slug\":\"determining-limelight-latency\",\"display_username\":\"Max\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":null,\"reply_to_user\":{\"id\":32788,\"username\":\"tchatow\",\"name\":\"tchatow\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/t/e495f1/{size}.png\"},\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":1}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":45453,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"post_url\":\"/t/determining-limelight-latency/411597/4\",\"custom_user_title\":null,\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":1}],\"current_user_reaction\":null,\"reaction_users_count\":1,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3061761,\"name\":\"billbo911\",\"username\":\"billbo911\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/billbo911/{size}/110890_2.png\",\"created_at\":\"2022-05-15T22:41:18.943Z\",\"cooked\":\"\\u003cp\\u003eI am not sure if these values have been considered yet, so here they are.\\u003cbr\\u003e\\nThe default Flush rate for NT is 100ms(10Hz).  If using PyNetworktables, that rate is 50ms(20Hz).\\u003cbr\\u003e\\nThus the latency either can introduce is between 1-99ms for NT and 1-49ms for PNT.\\u003cbr\\u003e\\nBoth of these options have a “Flush” feature that immediately sends all cached data. I know that PNT claims this feature is “rate limited”, whatever that means. I do not know if the same is true for NT. I also am not currently aware if Limelight uses the default NT flush rate, or a modified rate. I have a PM into \\u003ca class=\\\"mention\\\" href=\\\"/u/brandon_hjelstrom\\\"\\u003e@Brandon_Hjelstrom\\u003c/a\\u003e to see if he can shed some light on the subject.\\u003c/p\\u003e\\n\\u003cp\\u003eA really useful feature that would help with determining that total system latency would be a “System Clock”. It may be possible to set up a time server on one of the devices on a robot network. Ideally this would be the Rio, but by no means has to be. For instance, I have a vision co-processor that has a UPS on it that also contains a RTC.\\u003cbr\\u003e\\nIf one device could be set up as a Time server, then all devices on that system (Robot) could have their clocks synchronized, thus making timestamping of all activities much easier.\\u003cbr\\u003e\\nThis could be set up in a test environment to help figure out the latency values, and then those values could be used on a competition bot without the need for the time server to be there as well.\\u003c/p\\u003e\",\"post_number\":5,\"post_type\":1,\"posts_count\":15,\"updated_at\":\"2022-05-15T23:02:17.607Z\",\"reply_count\":3,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":8,\"reads\":353,\"readers_count\":352,\"score\":125.6,\"yours\":false,\"topic_id\":411597,\"topic_slug\":\"determining-limelight-latency\",\"display_username\":\"billbo911\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":2,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":4760,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"KN6MPS, WRWZ842\"},\"post_url\":\"/t/determining-limelight-latency/411597/5\",\"custom_user_title\":\"KN6MPS, WRWZ842\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3061763,\"name\":\"Tom Line\",\"username\":\"Tom_Line\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/tom_line/{size}/236809_2.png\",\"created_at\":\"2022-05-15T22:48:22.049Z\",\"cooked\":\"\\u003cp\\u003eIdeally, the limelight could sync with the fpga timer on the Rio and send timestamped data.  But thats all pie in the sky.\\u003c/p\\u003e\\n\\u003cp\\u003eLike you, just knowing the network tables rate is a big question.\\u003c/p\\u003e\",\"post_number\":6,\"post_type\":1,\"posts_count\":15,\"updated_at\":\"2022-05-15T22:48:22.049Z\",\"reply_count\":1,\"reply_to_post_number\":5,\"quote_count\":0,\"incoming_link_count\":3,\"reads\":320,\"readers_count\":319,\"score\":99.0,\"yours\":false,\"topic_id\":411597,\"topic_slug\":\"determining-limelight-latency\",\"display_username\":\"Tom Line\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"reply_to_user\":{\"id\":4760,\"username\":\"billbo911\",\"name\":\"billbo911\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/billbo911/{size}/110890_2.png\"},\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":1}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":7841,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"Team 1498\"},\"post_url\":\"/t/determining-limelight-latency/411597/6\",\"custom_user_title\":\"Team 1498\",\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":1}],\"current_user_reaction\":null,\"reaction_users_count\":1,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3061767,\"name\":\"Chris Gerth\",\"username\":\"gerthworm\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/gerthworm/{size}/268658_2.png\",\"created_at\":\"2022-05-15T23:23:14.603Z\",\"cooked\":\"\\u003caside class=\\\"quote no-group\\\" data-username=\\\"billbo911\\\" data-post=\\\"5\\\" data-topic=\\\"411597\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg loading=\\\"lazy\\\" alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/user_avatar/www.chiefdelphi.com/billbo911/48/110890_2.png\\\" class=\\\"avatar\\\"\\u003e billbo911:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003eThe default Flush rate for NT is 100ms(10Hz).\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003cp\\u003eThis can be kicked up to 10ms, and I think the limelight libraries should be using the techniques which get the latency down to being… I wanna say at least sub-ms. Peter explained the details to me at one point and I’ve since forgotten them but… it’s small.\\u003c/p\\u003e\\n\\u003cp\\u003eThe pipeline delay is the biggest factor from everything I’ve seen.\\u003c/p\\u003e\\n\\u003caside class=\\\"quote no-group\\\" data-username=\\\"Tom_Line\\\" data-post=\\\"6\\\" data-topic=\\\"411597\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg loading=\\\"lazy\\\" alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/user_avatar/www.chiefdelphi.com/tom_line/48/236809_2.png\\\" class=\\\"avatar\\\"\\u003e Tom_Line:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003eIdeally, the limelight could sync with the fpga timer on the Rio and send timestamped data. But thats all pie in the sky.\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003cp\\u003eKeep an eye out for NT4 this coming year. built into the spec is functionality to sync clocks across servers and clients, allowing the coprocessor to report samples and observations WRT the FPGA timestamp.\\u003c/p\\u003e\",\"post_number\":7,\"post_type\":1,\"posts_count\":15,\"updated_at\":\"2022-05-15T23:23:14.603Z\",\"reply_count\":3,\"reply_to_post_number\":5,\"quote_count\":2,\"incoming_link_count\":7,\"reads\":293,\"readers_count\":292,\"score\":108.6,\"yours\":false,\"topic_id\":411597,\"topic_slug\":\"determining-limelight-latency\",\"display_username\":\"Chris Gerth\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":24617,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"\"},\"post_url\":\"/t/determining-limelight-latency/411597/7\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3061770,\"name\":\"Carlos Gross Jones\",\"username\":\"CarlosGJ\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/carlosgj/{size}/131747_2.png\",\"created_at\":\"2022-05-15T23:33:01.253Z\",\"cooked\":\"\\u003caside class=\\\"quote no-group\\\" data-username=\\\"gerthworm\\\" data-post=\\\"7\\\" data-topic=\\\"411597\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/user_avatar/www.chiefdelphi.com/gerthworm/48/268658_2.png\\\" class=\\\"avatar\\\"\\u003e gerthworm:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003eKeep an eye out for NT4 this coming year. built into the spec is functionality to sync clocks across servers and clients, allowing the coprocessor to report samples and observations WRT the FPGA timestamp.\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003cp\\u003eWould it not be a bit cleaner to do the syncing via existing protocols (NTP or PTP), and then just put a UTC timestamp in NT4 data?\\u003c/p\\u003e\",\"post_number\":8,\"post_type\":1,\"posts_count\":15,\"updated_at\":\"2022-05-15T23:33:01.253Z\",\"reply_count\":2,\"reply_to_post_number\":7,\"quote_count\":1,\"incoming_link_count\":3,\"reads\":268,\"readers_count\":267,\"score\":78.6,\"yours\":false,\"topic_id\":411597,\"topic_slug\":\"determining-limelight-latency\",\"display_username\":\"Carlos Gross Jones\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":16115,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"Mere hours of work can save you entire minutes of planning\"},\"post_url\":\"/t/determining-limelight-latency/411597/8\",\"custom_user_title\":\"Mere hours of work can save you entire minutes of planning\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3061771,\"name\":\"billbo911\",\"username\":\"billbo911\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/billbo911/{size}/110890_2.png\",\"created_at\":\"2022-05-15T23:34:09.332Z\",\"cooked\":\"\\u003caside class=\\\"quote no-group\\\" data-username=\\\"gerthworm\\\" data-post=\\\"7\\\" data-topic=\\\"411597\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/user_avatar/www.chiefdelphi.com/gerthworm/48/268658_2.png\\\" class=\\\"avatar\\\"\\u003e gerthworm:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003eKeep an eye out for NT4 this coming year. built into the spec is functionality to sync clocks across servers and clients, allowing the coprocessor to report samples and observations WRT the FPGA\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003cp\\u003eNow THAT  would be helpful!\\u003c/p\\u003e\\n\\u003caside class=\\\"quote no-group\\\" data-username=\\\"gerthworm\\\" data-post=\\\"7\\\" data-topic=\\\"411597\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/user_avatar/www.chiefdelphi.com/gerthworm/48/268658_2.png\\\" class=\\\"avatar\\\"\\u003e gerthworm:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003eThis can be kicked up to 10ms, and I think the limelight libraries should be using the techniques\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003cp\\u003eI need to see if I can do that with PNT. I know there is a setting for the interval.  I just don’t know if it will be stable or not. One way to find out \\u003cimg src=\\\"https://www.chiefdelphi.com/images/emoji/google/wink.png?v=14\\\" title=\\\":wink:\\\" class=\\\"emoji\\\" alt=\\\":wink:\\\" loading=\\\"lazy\\\" width=\\\"20\\\" height=\\\"20\\\"\\u003e\\u003c/p\\u003e\",\"post_number\":9,\"post_type\":1,\"posts_count\":15,\"updated_at\":\"2022-05-15T23:34:09.332Z\",\"reply_count\":0,\"reply_to_post_number\":7,\"quote_count\":1,\"incoming_link_count\":5,\"reads\":259,\"readers_count\":258,\"score\":76.8,\"yours\":false,\"topic_id\":411597,\"topic_slug\":\"determining-limelight-latency\",\"display_username\":\"billbo911\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":4760,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"KN6MPS, WRWZ842\"},\"post_url\":\"/t/determining-limelight-latency/411597/9\",\"custom_user_title\":\"KN6MPS, WRWZ842\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3061775,\"name\":\"Chris Gerth\",\"username\":\"gerthworm\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/gerthworm/{size}/268658_2.png\",\"created_at\":\"2022-05-15T23:52:44.664Z\",\"cooked\":\"\\u003cp\\u003e\\u003ca href=\\\"https://github.com/PeterJohnson/allwpilib/blob/5beb0804230b97b73e3ba34d6a41d79187a43636/ntcore/doc/networktables4.adoc\\\"\\u003ehttps://github.com/PeterJohnson/allwpilib/blob/5beb0804230b97b73e3ba34d6a41d79187a43636/ntcore/doc/networktables4.adoc\\u003c/a\\u003e spec is here. I can’t say I know all the thoughts that went into the current design but guessing Peter might have a solid answer?\\u003c/p\\u003e\",\"post_number\":10,\"post_type\":1,\"posts_count\":15,\"updated_at\":\"2022-05-15T23:52:44.664Z\",\"reply_count\":0,\"reply_to_post_number\":8,\"quote_count\":0,\"incoming_link_count\":3,\"reads\":244,\"readers_count\":243,\"score\":63.8,\"yours\":false,\"topic_id\":411597,\"topic_slug\":\"determining-limelight-latency\",\"display_username\":\"Chris Gerth\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"link_counts\":[{\"url\":\"https://github.com/PeterJohnson/allwpilib/blob/5beb0804230b97b73e3ba34d6a41d79187a43636/ntcore/doc/networktables4.adoc\",\"internal\":false,\"reflection\":false,\"clicks\":13}],\"read\":true,\"user_title\":\"\",\"reply_to_user\":{\"id\":16115,\"username\":\"CarlosGJ\",\"name\":\"Carlos Gross Jones\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/carlosgj/{size}/131747_2.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":24617,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"\"},\"post_url\":\"/t/determining-limelight-latency/411597/10\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3061776,\"name\":\"Peter Johnson\",\"username\":\"Peter_Johnson\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/peter_johnson/{size}/10417_2.png\",\"created_at\":\"2022-05-15T23:55:38.981Z\",\"cooked\":\"\\u003caside class=\\\"quote no-group\\\" data-username=\\\"CarlosGJ\\\" data-post=\\\"8\\\" data-topic=\\\"411597\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg loading=\\\"lazy\\\" alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/user_avatar/www.chiefdelphi.com/carlosgj/48/131747_2.png\\\" class=\\\"avatar\\\"\\u003e CarlosGJ:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003eWould it not be a bit cleaner to do the syncing via existing protocols (NTP or PTP), and then just put a UTC timestamp in NT4 data?\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003cp\\u003eNTP and PTP are a lot higher complexity (e.g. require additional services running) and require additional open ports beyond what’s open on the radio firewall.  NT4 builds in a very simple time synchronization mechanism that occasionally measures the RTT to calculate a time offset.\\u003c/p\\u003e\\n\\u003cp\\u003eThe NT4 timestamps are integer microseconds.  They are synchronized to the server, which in robot networks is the robot code, so it makes sense to synchronize to the FPGA’s microsecond clock.  UTC isn’t a good choice here for several reasons:\\u003c/p\\u003e\\n\\u003cul\\u003e\\n\\u003cli\\u003eUTC time is not necessarily correct when robot code starts, as the wall clock is set by NetComm when the DS connects, which may be many seconds after the robot code starts\\u003c/li\\u003e\\n\\u003cli\\u003eThe FPGA timestamp is a lot faster to read than UTC time (as it’s just a FPGA register read, no syscall required)\\u003c/li\\u003e\\n\\u003cli\\u003eFPGA timestamps are used for many purposes on the Rio, including notifiers; you can get FPGA timestamps for things like DIO changes by using DMA\\u003c/li\\u003e\\n\\u003cli\\u003eFPGA timestamps are significantly smaller for most robot purposes–a microsecond timestamp will run for about 70 minutes within 32-bits before needing to expand to 64-bits, so will run most of the time for robot purposes in 32-bits.  UTC timestamps need 8 bytes for microsecond resolution (assuming use of 32-bit unix time instead of 64-bit).\\u003c/li\\u003e\\n\\u003c/ul\\u003e\",\"post_number\":11,\"post_type\":1,\"posts_count\":15,\"updated_at\":\"2022-05-15T23:56:39.091Z\",\"reply_count\":0,\"reply_to_post_number\":8,\"quote_count\":1,\"incoming_link_count\":4,\"reads\":257,\"readers_count\":256,\"score\":116.4,\"yours\":false,\"topic_id\":411597,\"topic_slug\":\"determining-limelight-latency\",\"display_username\":\"Peter Johnson\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":3}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":13575,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"Volunteer WPILib Developer, CSA\"},\"post_url\":\"/t/determining-limelight-latency/411597/11\",\"custom_user_title\":\"Volunteer WPILib Developer, CSA\",\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":3}],\"current_user_reaction\":null,\"reaction_users_count\":3,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3061777,\"name\":\"Peter Johnson\",\"username\":\"Peter_Johnson\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/peter_johnson/{size}/10417_2.png\",\"created_at\":\"2022-05-16T00:04:24.341Z\",\"cooked\":\"\\u003caside class=\\\"quote no-group\\\" data-username=\\\"Tom_Line\\\" data-post=\\\"1\\\" data-topic=\\\"411597\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/user_avatar/www.chiefdelphi.com/tom_line/48/236809_2.png\\\" class=\\\"avatar\\\"\\u003e Tom_Line:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003eFor instance, how do you ‘bypass NT limits’.\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003caside class=\\\"quote no-group\\\" data-username=\\\"billbo911\\\" data-post=\\\"5\\\" data-topic=\\\"411597\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/user_avatar/www.chiefdelphi.com/billbo911/48/110890_2.png\\\" class=\\\"avatar\\\"\\u003e billbo911:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003eBoth of these options have a “Flush” feature that immediately sends all cached data. I know that PNT claims this feature is “rate limited”, whatever that means. I do not know if the same is true for NT.\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003caside class=\\\"quote no-group\\\" data-username=\\\"gerthworm\\\" data-post=\\\"7\\\" data-topic=\\\"411597\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/user_avatar/www.chiefdelphi.com/gerthworm/48/268658_2.png\\\" class=\\\"avatar\\\"\\u003e gerthworm:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003eThis can be kicked up to 10ms, and I think the limelight libraries should be using the techniques which get the latency down to being… I wanna say at least sub-ms.\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003cp\\u003eSo the current version of NT (NT3) has both an automatic “background” flush to network and a manual flush function call.  Both are rate-limited to 10 ms (e.g. trying to flush more frequently than this is ignored).  The approach to getting low latency is fairly straightforward: set the automatic flush to be fairly high (e.g. 100 ms or more), and call the manual flush immediately after setting your data values.  This gets the latency down to sub-ms range as long as you aren’t trying to manually flush more frequently than every 10 ms.\\u003c/p\\u003e\\n\\u003cp\\u003eSee this thread for more details: \\u003ca href=\\\"https://www.chiefdelphi.com/t/network-table-speed/368462\\\" class=\\\"inline-onebox\\\"\\u003eNetwork Table Speed\\u003c/a\\u003e\\u003c/p\\u003e\\n\\u003cp\\u003eI’ve not yet finalized all the aspects of how this will work for NT4.  There’s currently not a global flush mechanism (instead, there’s per-value settings), but that creates a challenge when a user might want to get low latency across multiple values.  There does need to be \\u003cem\\u003esome\\u003c/em\\u003e constraint to prevent teams from unnecessarily consuming airtime on wifi connections.\\u003c/p\\u003e\",\"post_number\":12,\"post_type\":1,\"posts_count\":15,\"updated_at\":\"2022-05-16T00:08:57.778Z\",\"reply_count\":1,\"reply_to_post_number\":null,\"quote_count\":3,\"incoming_link_count\":19,\"reads\":240,\"readers_count\":239,\"score\":208.0,\"yours\":false,\"topic_id\":411597,\"topic_slug\":\"determining-limelight-latency\",\"display_username\":\"Peter Johnson\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"link_counts\":[{\"url\":\"https://www.chiefdelphi.com/t/network-table-speed/368462\",\"internal\":true,\"reflection\":false,\"title\":\"Network Table Speed\",\"clicks\":18}],\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":4}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":13575,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"Volunteer WPILib Developer, CSA\"},\"post_url\":\"/t/determining-limelight-latency/411597/12\",\"custom_user_title\":\"Volunteer WPILib Developer, CSA\",\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":4}],\"current_user_reaction\":null,\"reaction_users_count\":4,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3061783,\"name\":\"billbo911\",\"username\":\"billbo911\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/billbo911/{size}/110890_2.png\",\"created_at\":\"2022-05-16T00:27:04.317Z\",\"cooked\":\"\\u003cp\\u003eHonestly,  it really doesn’t matter what time source is used as long as all devices can be in sync. Heck, make up your own time, let’s say Boogaloo time. As long as everything is synchronized down to the millisecond, you can call it what you want and you can source it from where you want, as long as everything is in sync.\\u003c/p\\u003e\\n\\u003cp\\u003e\\u003ca class=\\\"mention\\\" href=\\\"/u/peter_johnson\\\"\\u003e@Peter_Johnson\\u003c/a\\u003e , thanks for the suggestions on minimizing latency. I will definitely change my coding to take that approach. It’s simple, and easy to implement.\\u003c/p\\u003e\",\"post_number\":13,\"post_type\":1,\"posts_count\":15,\"updated_at\":\"2022-05-16T00:27:04.317Z\",\"reply_count\":0,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":1,\"reads\":215,\"readers_count\":214,\"score\":48.0,\"yours\":false,\"topic_id\":411597,\"topic_slug\":\"determining-limelight-latency\",\"display_username\":\"billbo911\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":4760,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"KN6MPS, WRWZ842\"},\"post_url\":\"/t/determining-limelight-latency/411597/13\",\"custom_user_title\":\"KN6MPS, WRWZ842\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3061801,\"name\":\"fovea1959\",\"username\":\"fovea1959\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/fovea1959/{size}/5301_2.png\",\"created_at\":\"2022-05-16T03:11:57.877Z\",\"cooked\":\"\\u003cp\\u003eWe were able to estimate this latency by sighting a target, turning off the Limelight LED, toggling a PH controlled LED (unknown latency there), and seeing how much time there was between the toggle and the corresponding update to the RIO network table entry (determined by a NT callback). 10-15 ms sticks in my head as being close.\\u003c/p\\u003e\\n\\u003cp\\u003eSince the Limelight is custom code, nothing to prevent them from disabling the rate limiting in the NT updates\\u003c/p\\u003e\\n\\u003cp\\u003e\\u003ca class=\\\"mention\\\" href=\\\"/u/peter_johnson\\\"\\u003e@Peter_Johnson\\u003c/a\\u003e Thanks for the tip of setting the default update rate to something high so that explicit NT flushes are less likely to get rate limited. Going to try that…\\u003c/p\\u003e\",\"post_number\":14,\"post_type\":1,\"posts_count\":15,\"updated_at\":\"2022-05-16T03:17:32.388Z\",\"reply_count\":0,\"reply_to_post_number\":4,\"quote_count\":0,\"incoming_link_count\":9,\"reads\":206,\"readers_count\":205,\"score\":86.2,\"yours\":false,\"topic_id\":411597,\"topic_slug\":\"determining-limelight-latency\",\"display_username\":\"fovea1959\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":2,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"reply_to_user\":{\"id\":45453,\"username\":\"JohnnyWobble\",\"name\":\"Max\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/johnnywobble/{size}/156676_2.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":15648,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"Herder of 3620 Programmers / LRI / CSA\"},\"post_url\":\"/t/determining-limelight-latency/411597/14\",\"custom_user_title\":\"Herder of 3620 Programmers / LRI / CSA\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3061893,\"name\":\"billbo911\",\"username\":\"billbo911\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/billbo911/{size}/110890_2.png\",\"created_at\":\"2022-05-16T16:54:50.936Z\",\"cooked\":\"\\u003caside class=\\\"quote no-group\\\" data-username=\\\"Peter_Johnson\\\" data-post=\\\"12\\\" data-topic=\\\"411597\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg loading=\\\"lazy\\\" alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/user_avatar/www.chiefdelphi.com/peter_johnson/48/10417_2.png\\\" class=\\\"avatar\\\"\\u003e Peter_Johnson:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003eSo the current version of NT (NT3) has both an automatic “background” flush to network and a manual flush function call. Both are rate-limited to 10 ms (e.g. trying to flush more frequently than this is ignored). The approach to getting low latency is fairly straightforward: set the automatic flush to be fairly high (e.g. 100 ms or more), and call the manual flush immediately after setting your data values. This gets the latency down to sub-ms range as long as you aren’t trying to manually flush more frequently than every 10 ms.\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003cp\\u003eI just had it verified that PNT works the exact same way with one exception.  The default automatic rate is 50ms.\\u003c/p\\u003e\",\"post_number\":15,\"post_type\":1,\"posts_count\":15,\"updated_at\":\"2022-05-16T16:54:50.936Z\",\"reply_count\":0,\"reply_to_post_number\":12,\"quote_count\":1,\"incoming_link_count\":1,\"reads\":147,\"readers_count\":146,\"score\":34.4,\"yours\":false,\"topic_id\":411597,\"topic_slug\":\"determining-limelight-latency\",\"display_username\":\"billbo911\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":4760,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"KN6MPS, WRWZ842\"},\"post_url\":\"/t/determining-limelight-latency/411597/15\",\"custom_user_title\":\"KN6MPS, WRWZ842\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3207864,\"name\":\"system\",\"username\":\"system\",\"avatar_template\":\"/uploads/default/original/4X/9/3/2/93234578e69f55873c63fc00fe2d0d85f23bce55.png\",\"created_at\":\"2023-05-16T16:55:13.066Z\",\"cooked\":\"\\u003cp\\u003eThis topic was automatically closed 365 days after the last reply. New replies are no longer allowed.\\u003c/p\\u003e\",\"post_number\":16,\"post_type\":3,\"posts_count\":15,\"updated_at\":\"2023-05-16T16:55:13.066Z\",\"reply_count\":0,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":34,\"readers_count\":33,\"score\":6.8,\"yours\":false,\"topic_id\":411597,\"topic_slug\":\"determining-limelight-latency\",\"display_username\":\"system\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[],\"moderator\":true,\"admin\":true,\"staff\":true,\"user_id\":-1,\"hidden\":false,\"trust_level\":4,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"action_code\":\"autoclosed.enabled\",\"post_url\":\"/t/determining-limelight-latency/411597/16\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null}],\"stream\":[3061741,3061749,3061754,3061761,3061763,3061767,3061770,3061771,3061775,3061776,3061777,3061783,3061801,3061893,3207864]},\"timeline_lookup\":[[1,1245],[14,1244],[15,879]],\"suggested_topics\":[{\"fancy_title\":\"[9062] Algorithms/Software Release: Collision Space (202505)\",\"id\":502052,\"title\":\"[9062] Algorithms/Software Release: Collision Space (202505)\",\"slug\":\"9062-algorithms-software-release-collision-space-202505\",\"posts_count\":1,\"reply_count\":0,\"highest_post_number\":1,\"image_url\":\"https://www.chiefdelphi.com/uploads/default/optimized/4X/f/8/6/f86c9bc6900bf0b41f8e77001f5845ff1d76f4eb_2_921x1024.png\",\"created_at\":\"2025-05-19T20:29:03.278Z\",\"last_posted_at\":\"2025-05-19T20:29:03.337Z\",\"bumped\":true,\"bumped_at\":\"2025-05-19T20:29:03.337Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"In this year’s robot, a lot of teams have a shaft blocking mechanisms like a wrist on the elevator, and here are two solutions for Graph Machine similar to this but with DFS. One issue with th…\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[],\"tags_descriptions\":{},\"like_count\":5,\"views\":261,\"category_id\":9,\"featured_link\":null,\"has_accepted_answer\":false,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3629350,\"topic_post_liked\":false,\"topic_post_like_count\":5,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":true,\"topic_post_is_current_users\":null,\"topic_post_number\":1,\"topic_post_user\":{\"id\":67733,\"username\":\"Raymondz\",\"name\":\"RaymondZ\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/r/e99b99/{size}.png\"},\"posters\":[{\"extras\":\"latest single\",\"description\":\"Original Poster, Most Recent Poster\",\"user\":{\"id\":67733,\"username\":\"Raymondz\",\"name\":\"RaymondZ\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/r/e99b99/{size}.png\",\"trust_level\":1}}]},{\"fancy_title\":\"REV Hardware Client does not allow firmware updates Offline?\",\"id\":482233,\"title\":\"REV Hardware Client does not allow firmware updates Offline?\",\"slug\":\"rev-hardware-client-does-not-allow-firmware-updates-offline\",\"posts_count\":2,\"reply_count\":0,\"highest_post_number\":2,\"image_url\":\"https://www.chiefdelphi.com/uploads/default/optimized/3X/7/1/71f90e314469a210d8c195a422c18fed464e215b_2_1024x368.png\",\"created_at\":\"2025-01-17T03:42:03.289Z\",\"last_posted_at\":\"2025-01-17T05:04:23.194Z\",\"bumped\":true,\"bumped_at\":\"2025-01-17T05:04:23.194Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"Is it intended that firmware for Spark Max Motor controllers cannot be updated if The REV Hardware Client is offline? This seems like something that should work offline especially since there appears…\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[\"rev\"],\"tags_descriptions\":{},\"like_count\":0,\"views\":95,\"category_id\":30,\"featured_link\":null,\"has_accepted_answer\":false,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3485360,\"topic_post_liked\":false,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":false,\"topic_post_is_current_users\":null,\"topic_post_number\":1,\"topic_post_user\":{\"id\":27557,\"username\":\"Oldgoer\",\"name\":\"Oldgoer\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/o/ecb155/{size}.png\"},\"posters\":[{\"extras\":null,\"description\":\"Original Poster\",\"user\":{\"id\":27557,\"username\":\"Oldgoer\",\"name\":\"Oldgoer\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/o/ecb155/{size}.png\",\"trust_level\":1}},{\"extras\":\"latest\",\"description\":\"Most Recent Poster\",\"user\":{\"id\":28614,\"username\":\"legoguy1000\",\"name\":\"Alex\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/legoguy1000/{size}/256261_2.png\",\"trust_level\":2}}]},{\"fancy_title\":\"Are faster FTC engines possible?\",\"id\":485164,\"title\":\"Are faster FTC engines possible?\",\"slug\":\"are-faster-ftc-engines-possible\",\"posts_count\":5,\"reply_count\":0,\"highest_post_number\":5,\"image_url\":null,\"created_at\":\"2025-02-04T18:57:55.579Z\",\"last_posted_at\":\"2025-03-10T20:41:17.350Z\",\"bumped\":true,\"bumped_at\":\"2025-03-10T20:41:17.350Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"Is there a way for FTC motors to run faster? For example, in programming, using more of your capacity, efficiency. Today, our city’s team has this doubt. We believe it is not possible, but just in cas…\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[\"robot\",\"motor\"],\"tags_descriptions\":{},\"like_count\":0,\"views\":690,\"category_id\":90,\"featured_link\":null,\"has_accepted_answer\":false,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3501997,\"topic_post_liked\":false,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":false,\"topic_post_is_current_users\":null,\"topic_post_number\":1,\"topic_post_user\":{\"id\":59215,\"username\":\"JoaoArthur\",\"name\":\"Arthur\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/joaoarthur/{size}/245332_2.png\"},\"posters\":[{\"extras\":null,\"description\":\"Original Poster\",\"user\":{\"id\":59215,\"username\":\"JoaoArthur\",\"name\":\"Arthur\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/joaoarthur/{size}/245332_2.png\",\"trust_level\":2}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":54687,\"username\":\"rainyskies\",\"name\":null,\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/rainyskies/{size}/222295_2.png\",\"trust_level\":2}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":32535,\"username\":\"wgorgen\",\"name\":\"wgorgen\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/wgorgen/{size}/10106_2.png\",\"trust_level\":2}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":14283,\"username\":\"nuttle\",\"name\":\"Allen Nuttle\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/nuttle/{size}/124105_2.png\",\"trust_level\":2}},{\"extras\":\"latest\",\"description\":\"Most Recent Poster\",\"user\":{\"id\":73488,\"username\":\"Zakk_J\",\"name\":\"Zakk Jackson\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/zakk_j/{size}/268534_2.png\",\"trust_level\":2}}]},{\"fancy_title\":\"Feedback creating an AutoAlign command\",\"id\":491553,\"title\":\"Feedback creating an AutoAlign command\",\"slug\":\"feedback-creating-an-autoalign-command\",\"posts_count\":8,\"reply_count\":6,\"highest_post_number\":9,\"image_url\":\"https://www.chiefdelphi.com/uploads/default/original/3X/0/b/0b55decb7fe514f7ff0a94685a2104d318bac3d0.png\",\"created_at\":\"2025-02-13T17:19:57.229Z\",\"last_posted_at\":\"2025-02-14T14:46:45.610Z\",\"bumped\":true,\"bumped_at\":\"2025-02-14T14:46:45.610Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"Im coding a command to autoalign, the current logic goes as 1)Detect an Apriltag using vision, get its ID. 2) Depending on what AprilTag is detected, the robot sets a setpoint that is fine tun…\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[\"autonomous\",\"reefscape\",\"sensors\",\"alignment\"],\"tags_descriptions\":{},\"like_count\":10,\"views\":389,\"category_id\":30,\"featured_link\":null,\"has_accepted_answer\":false,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3526179,\"topic_post_liked\":false,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":false,\"topic_post_is_current_users\":null,\"topic_post_number\":1,\"topic_post_user\":{\"id\":63738,\"username\":\"Rogerr079\",\"name\":\"Roger\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/rogerr079/{size}/222096_2.png\"},\"posters\":[{\"extras\":\"latest\",\"description\":\"Original Poster, Most Recent Poster\",\"user\":{\"id\":63738,\"username\":\"Rogerr079\",\"name\":\"Roger\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/rogerr079/{size}/222096_2.png\",\"trust_level\":2}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":32004,\"username\":\"dan\",\"name\":\"Dan Katzuv\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/d/eada6e/{size}.png\",\"trust_level\":2}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":41662,\"username\":\"collintrammell\",\"name\":\"collin trammell\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/c/94ad74/{size}.png\",\"trust_level\":2}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":44763,\"username\":\"tekdemo\",\"name\":\"Dan\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/tekdemo/{size}/138330_2.png\",\"trust_level\":2}}]},{\"fancy_title\":\"2 motor gearbox with ultraplanetary cartridges\",\"id\":480865,\"title\":\"2 motor gearbox with ultraplanetary cartridges\",\"slug\":\"2-motor-gearbox-with-ultraplanetary-cartridges\",\"posts_count\":1,\"reply_count\":0,\"highest_post_number\":1,\"image_url\":null,\"created_at\":\"2025-01-11T04:13:26.254Z\",\"last_posted_at\":\"2025-01-11T04:13:26.443Z\",\"bumped\":true,\"bumped_at\":\"2025-01-11T04:13:26.443Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"Has anyone use the rev 2 motor gearbox with ultraplanetary cartridges on the neos? If so, would I need any extra screws or materials?\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[\"gearbox\",\"mechanical\"],\"tags_descriptions\":{},\"like_count\":0,\"views\":95,\"category_id\":31,\"featured_link\":null,\"has_accepted_answer\":false,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3478872,\"topic_post_liked\":false,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":false,\"topic_post_is_current_users\":null,\"topic_post_number\":1,\"topic_post_user\":{\"id\":60218,\"username\":\"Corentfley.12\",\"name\":\"Luis Emilio Barragán Soto\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/c/a5b964/{size}.png\"},\"posters\":[{\"extras\":\"latest single\",\"description\":\"Original Poster, Most Recent Poster\",\"user\":{\"id\":60218,\"username\":\"Corentfley.12\",\"name\":\"Luis Emilio Barragán Soto\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/c/a5b964/{size}.png\",\"trust_level\":1}}]}],\"tags\":[\"vision\"],\"tags_descriptions\":{},\"fancy_title\":\"Determining Limelight latency\",\"id\":411597,\"title\":\"Determining Limelight latency\",\"posts_count\":15,\"created_at\":\"2022-05-15T21:03:02.364Z\",\"views\":1977,\"reply_count\":9,\"like_count\":10,\"last_posted_at\":\"2023-05-16T16:55:13.066Z\",\"visible\":true,\"closed\":true,\"archived\":false,\"has_summary\":false,\"archetype\":\"regular\",\"slug\":\"determining-limelight-latency\",\"category_id\":9,\"word_count\":1855,\"deleted_at\":null,\"user_id\":7841,\"featured_link\":null,\"pinned_globally\":false,\"pinned_at\":null,\"pinned_until\":null,\"image_url\":null,\"slow_mode_seconds\":0,\"draft\":null,\"draft_key\":\"topic_411597\",\"draft_sequence\":null,\"unpinned\":null,\"pinned\":false,\"current_post_number\":1,\"highest_post_number\":16,\"deleted_by\":null,\"actions_summary\":[{\"id\":4,\"count\":0,\"hidden\":false,\"can_act\":false},{\"id\":8,\"count\":0,\"hidden\":false,\"can_act\":false},{\"id\":10,\"count\":0,\"hidden\":false,\"can_act\":false},{\"id\":7,\"count\":0,\"hidden\":false,\"can_act\":false}],\"chunk_size\":20,\"bookmarked\":false,\"topic_timer\":null,\"message_bus_last_id\":0,\"participant_count\":7,\"show_read_indicator\":false,\"thumbnails\":null,\"slow_mode_enabled_until\":null,\"valid_reactions\":[\"heart\",\"laughing\",\"point_up\",\"+1\",\"-1\",\"100\",\"open_mouth\",\"cry\",\"question\",\"thinking\",\"call_me_hand\",\"hugs\",\"angry\"],\"user_chosen_thumbnail_url\":null,\"sidecar_installed\":true,\"can_vote\":false,\"vote_count\":0,\"user_voted\":false,\"discourse_zendesk_plugin_zendesk_id\":null,\"discourse_zendesk_plugin_zendesk_url\":\"https://your-url.zendesk.com/agent/tickets/\",\"details\":{\"can_edit\":false,\"notification_level\":1,\"participants\":[{\"id\":4760,\"username\":\"billbo911\",\"name\":\"billbo911\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/billbo911/{size}/110890_2.png\",\"post_count\":4,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":7841,\"username\":\"Tom_Line\",\"name\":\"Tom Line\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/tom_line/{size}/236809_2.png\",\"post_count\":3,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":24617,\"username\":\"gerthworm\",\"name\":\"Chris Gerth\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/gerthworm/{size}/268658_2.png\",\"post_count\":2,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":13575,\"username\":\"Peter_Johnson\",\"name\":\"Peter Johnson\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/peter_johnson/{size}/10417_2.png\",\"post_count\":2,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":15648,\"username\":\"fovea1959\",\"name\":\"fovea1959\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/fovea1959/{size}/5301_2.png\",\"post_count\":1,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":16115,\"username\":\"CarlosGJ\",\"name\":\"Carlos Gross Jones\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/carlosgj/{size}/131747_2.png\",\"post_count\":1,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":45453,\"username\":\"JohnnyWobble\",\"name\":\"Max\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/johnnywobble/{size}/156676_2.png\",\"post_count\":1,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2}],\"created_by\":{\"id\":7841,\"username\":\"Tom_Line\",\"name\":\"Tom Line\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/tom_line/{size}/236809_2.png\"},\"last_poster\":{\"id\":-1,\"username\":\"system\",\"name\":\"system\",\"avatar_template\":\"/uploads/default/original/4X/9/3/2/93234578e69f55873c63fc00fe2d0d85f23bce55.png\"},\"links\":[{\"url\":\"https://www.chiefdelphi.com/t/network-table-speed/368462\",\"title\":\"Network Table Speed\",\"internal\":true,\"attachment\":false,\"reflection\":false,\"clicks\":18,\"user_id\":13575,\"domain\":\"www.chiefdelphi.com\",\"root_domain\":\"chiefdelphi.com\"},{\"url\":\"https://github.com/PeterJohnson/allwpilib/blob/5beb0804230b97b73e3ba34d6a41d79187a43636/ntcore/doc/networktables4.adoc\",\"title\":null,\"internal\":false,\"attachment\":false,\"reflection\":false,\"clicks\":13,\"user_id\":24617,\"domain\":\"github.com\",\"root_domain\":\"github.com\"}]},\"bookmarks\":[]}"}
