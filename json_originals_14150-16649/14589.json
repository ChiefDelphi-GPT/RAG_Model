{"data":"{\"post_stream\":{\"posts\":[{\"id\":3031968,\"name\":\"mjbergman92\",\"username\":\"mjbergman92\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/mjbergman92/{size}/219086_2.png\",\"created_at\":\"2022-03-28T17:22:47.371Z\",\"cooked\":\"\\u003cp\\u003eFirst and foremost, I am not by any means a “white paper” technical writer, and I dont intend for this to be conveyed in that way.\\u003c/p\\u003e\\n\\u003cp\\u003eI have came across a method that has worked for my team to approximate distance that doesn’t involve having to know the height difference or anything like that and might take you 10 minutes to generate data for. The beauty of this method is sometimes the bounding rectangle around teh vision targets can be higher or lower than the actual height… so this can account for that as opposed to the usual method (triangulation and such). This equation requires pixel angle (“ty”) as an input and outputs distance (just use meters for everything, it’s so much easier). In order to make the equation, mark off distances from the target for the front bumper of your robot to touch (you can use feet here, but convert it for your data), then add in the distance from the front of your bumper straight back to your limelight. At each distance (distance to bumper plus to limelight), record the pixel angle (“ty”) (assuming your limelight is horizontal) at each distance. You should have several distances with their respective angles, all with the center of the crosshair lined up, this is imperitive, explanation in a moment. A quadratic regression fits this data best, using pixel angle as input and distance as output. You should get an r^2 of above .9, but it can be extremely accurate, I’ve had ~0.98 before. You will then need to divide this calculated value by the  cosine of the negated horizontal angle (“tx”) so that when not centered, you still get the corect straight line distance (when you eventually get to shooting while moving, you wouldn’t be centering yourself on the target, so it gets more important). I suggest inputing this as a lambda function in your program so that any pixel angle can be converted to a distance based of the function. All of this is in our code, sorry if it’s no well documented yet, we are working on it.\\u003c/p\\u003e\\n\\u003cp\\u003eMore common, we use a similar style of data to then determine the desired RPM of our launching mechanism. at each distance, using smartdashboard, we command the launcher motor to go a a specified RPM until we find the projectile acceptable, then moved to the next distance and record the RPM for each distance. This data will have distance as input in meters and output as RPM of the motor (or the output shaft, you have to convert the RPM to counts per 100ms anyway, so you could just add in a gear ration if you have one). The best fitting equation is a logarithmic regression. Use natural log (“ln”) and calculate your coefficients. Same as the pixel angle to distance function, use a lambda function for this in your code would be the easiest and most understandable implentation in your code.\\u003c/p\\u003e\\n\\u003cp\\u003eAt this point as long as you can target on the center of the of the target you can calculated your distance which then can be used to calculate your RPM. Has this been explained before in many ways? Yes. Is it sometimes best to have just one more look at it from another view point? Also yes.\\u003c/p\\u003e\\n\\u003cp\\u003eAs always, this is the best I’ve found for my team, take it with what you will. I will be posting again shortly with the method for launching projectiles while the robot is in motion, it’s actually quite simple, it just takes some time to think about. Im with Team 3534 and \\u003ca href=\\\"https://github.com/HOC-Team-3534/2022-Swerve-Test\\\" rel=\\\"noopener nofollow ugc\\\"\\u003ehere \\u003c/a\\u003e is our current code. (the main branch does not have a lot of the further updates, it will soon, look in the 1.5 branches).\\u003c/p\\u003e\",\"post_number\":1,\"post_type\":1,\"posts_count\":2,\"updated_at\":\"2022-03-28T17:22:47.371Z\",\"reply_count\":0,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":106,\"reads\":99,\"readers_count\":98,\"score\":579.8,\"yours\":false,\"topic_id\":407131,\"topic_slug\":\"using-limelight-for-target-distance-displacement-and-distance-to-rpm-all-while-moving\",\"display_username\":\"mjbergman92\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"link_counts\":[{\"url\":\"https://github.com/HOC-Team-3534/2022-Swerve-Test\",\"internal\":false,\"reflection\":false,\"clicks\":25}],\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":2}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":29382,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"post_url\":\"/t/using-limelight-for-target-distance-displacement-and-distance-to-rpm-all-while-moving/407131/1\",\"custom_user_title\":null,\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":2}],\"current_user_reaction\":null,\"reaction_users_count\":2,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null,\"can_vote\":false},{\"id\":3175426,\"name\":\"system\",\"username\":\"system\",\"avatar_template\":\"/uploads/default/original/4X/9/3/2/93234578e69f55873c63fc00fe2d0d85f23bce55.png\",\"created_at\":\"2023-03-28T17:22:57.095Z\",\"cooked\":\"\\u003cp\\u003eThis topic was automatically closed 365 days after the last reply. New replies are no longer allowed.\\u003c/p\\u003e\",\"post_number\":2,\"post_type\":3,\"posts_count\":2,\"updated_at\":\"2023-03-28T17:22:57.095Z\",\"reply_count\":0,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":10,\"readers_count\":9,\"score\":2.0,\"yours\":false,\"topic_id\":407131,\"topic_slug\":\"using-limelight-for-target-distance-displacement-and-distance-to-rpm-all-while-moving\",\"display_username\":\"system\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[],\"moderator\":true,\"admin\":true,\"staff\":true,\"user_id\":-1,\"hidden\":false,\"trust_level\":4,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"action_code\":\"autoclosed.enabled\",\"post_url\":\"/t/using-limelight-for-target-distance-displacement-and-distance-to-rpm-all-while-moving/407131/2\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null}],\"stream\":[3031968,3175426]},\"timeline_lookup\":[[1,1293],[2,928]],\"suggested_topics\":[{\"fancy_title\":\"Old FRC Radio Configuration Utility\",\"id\":481763,\"title\":\"Old FRC Radio Configuration Utility\",\"slug\":\"old-frc-radio-configuration-utility\",\"posts_count\":13,\"reply_count\":10,\"highest_post_number\":13,\"image_url\":null,\"created_at\":\"2025-01-14T22:51:21.210Z\",\"last_posted_at\":\"2025-02-03T22:25:35.449Z\",\"bumped\":true,\"bumped_at\":\"2025-02-03T22:25:35.449Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"Good evening! We know that we must switch to the new radios this year. However, we would like to keep the old radios for our testing platforms instead of upgrading all the radios that we would need. …\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[],\"tags_descriptions\":{},\"like_count\":2,\"views\":678,\"category_id\":30,\"featured_link\":null,\"has_accepted_answer\":false,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3482696,\"topic_post_liked\":false,\"topic_post_like_count\":1,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":false,\"topic_post_is_current_users\":null,\"topic_post_number\":1,\"topic_post_user\":{\"id\":56026,\"username\":\"Orange1\",\"name\":\"\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/orange1/{size}/211432_2.png\"},\"posters\":[{\"extras\":null,\"description\":\"Original Poster\",\"user\":{\"id\":56026,\"username\":\"Orange1\",\"name\":\"\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/orange1/{size}/211432_2.png\",\"trust_level\":2}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":65,\"username\":\"Joe_Ross\",\"name\":\"Joe Ross\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/joe_ross/{size}/37_2.png\",\"moderator\":true,\"trust_level\":4}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":16147,\"username\":\"Thad_House\",\"name\":\"Thad House\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/t/a4c791/{size}.png\",\"trust_level\":2}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":39084,\"username\":\"TFM110\",\"name\":\"Tauseef Afraz\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/tfm110/{size}/197758_2.png\",\"primary_group_name\":\"Swyft-Robotics\",\"flair_name\":\"FUN\",\"flair_url\":\"/uploads/default/original/3X/3/5/3523e759b0af37a7757142a8b2aa79b31f1a47c4.png\",\"flair_group_id\":60,\"trust_level\":2}},{\"extras\":\"latest\",\"description\":\"Most Recent Poster\",\"user\":{\"id\":66330,\"username\":\"NathanZhou\",\"name\":\"Nathan Zhou\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/nathanzhou/{size}/225374_2.png\",\"trust_level\":2}}]},{\"fancy_title\":\"MAXSwerve/Neo550 - Extremely fast oscillation\",\"id\":484335,\"title\":\"MAXSwerve/Neo550 - Extremely fast oscillation\",\"slug\":\"maxswerve-neo550-extremely-fast-oscillation\",\"posts_count\":4,\"reply_count\":1,\"highest_post_number\":4,\"image_url\":null,\"created_at\":\"2025-01-30T21:30:29.583Z\",\"last_posted_at\":\"2025-01-31T21:13:05.449Z\",\"bumped\":true,\"bumped_at\":\"2025-01-31T21:13:05.449Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"On our new robot’s drivetrain, position control on the neo550s is causing extremely fast oscillation. I’m using the same PID constants from last year, and I’m using rev hardware client to test values. …\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[\"rev\",\"neo550\",\"maxswerve\"],\"tags_descriptions\":{},\"like_count\":3,\"views\":183,\"category_id\":30,\"featured_link\":null,\"has_accepted_answer\":false,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3497117,\"topic_post_liked\":false,\"topic_post_like_count\":1,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":false,\"topic_post_is_current_users\":null,\"topic_post_number\":1,\"topic_post_user\":{\"id\":70834,\"username\":\"_Angad\",\"name\":\"Angad\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/_angad/{size}/262362_2.png\"},\"posters\":[{\"extras\":\"latest\",\"description\":\"Original Poster, Most Recent Poster\",\"user\":{\"id\":70834,\"username\":\"_Angad\",\"name\":\"Angad\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/_angad/{size}/262362_2.png\",\"trust_level\":1}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":52966,\"username\":\"Eliot\",\"name\":\"Eliot Dunn\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/eliot/{size}/207280_2.png\",\"trust_level\":2}}]},{\"fancy_title\":\"Spark Flex limit switch not reading unless enabled\",\"id\":491111,\"title\":\"Spark Flex limit switch not reading unless enabled\",\"slug\":\"spark-flex-limit-switch-not-reading-unless-enabled\",\"posts_count\":3,\"reply_count\":0,\"highest_post_number\":3,\"image_url\":null,\"created_at\":\"2025-02-11T00:24:59.787Z\",\"last_posted_at\":\"2025-02-17T23:36:19.679Z\",\"bumped\":true,\"bumped_at\":\"2025-02-17T23:36:19.679Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"We have a limit switch connected to the forward limit switch input on our spark Flex to detect the coral in our coral mechanism. When the limit switch is enabled in the spark config in code, we can r…\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[],\"tags_descriptions\":{},\"like_count\":4,\"views\":171,\"category_id\":30,\"featured_link\":null,\"has_accepted_answer\":false,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3522885,\"topic_post_liked\":false,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":false,\"topic_post_is_current_users\":null,\"topic_post_number\":1,\"topic_post_user\":{\"id\":6115,\"username\":\"Ty_Tremblay\",\"name\":\"Ty Tremblay\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/ty_tremblay/{size}/219248_2.png\"},\"posters\":[{\"extras\":null,\"description\":\"Original Poster\",\"user\":{\"id\":6115,\"username\":\"Ty_Tremblay\",\"name\":\"Ty Tremblay\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/ty_tremblay/{size}/219248_2.png\",\"trust_level\":2}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":49261,\"username\":\"jan\",\"name\":\"\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/jan/{size}/158811_2.png\",\"primary_group_name\":\"REV\",\"flair_name\":\"REV\",\"flair_url\":\"/uploads/default/original/3X/d/b/db93216ec14c273ae2ca04aa396186c0461d0620.png\",\"flair_bg_color\":\"F05A28\",\"flair_group_id\":55,\"trust_level\":2}},{\"extras\":\"latest\",\"description\":\"Most Recent Poster\",\"user\":{\"id\":14283,\"username\":\"nuttle\",\"name\":\"Allen Nuttle\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/nuttle/{size}/124105_2.png\",\"trust_level\":2}}]},{\"fancy_title\":\"SparkMAX Elevator Control with Feedforward\",\"id\":491894,\"title\":\"SparkMAX Elevator Control with Feedforward\",\"slug\":\"sparkmax-elevator-control-with-feedforward\",\"posts_count\":2,\"reply_count\":0,\"highest_post_number\":2,\"image_url\":null,\"created_at\":\"2025-02-16T02:33:06.610Z\",\"last_posted_at\":\"2025-02-16T02:42:55.189Z\",\"bumped\":true,\"bumped_at\":\"2025-02-16T02:42:55.189Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"My team just finished a video series explaining how we do our Elevator and how to recreate the Elevator subsystem. It explains Simulation Trapazoidal Profile Elevator Feedforwards Go…\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[\"rev\",\"elevator\"],\"tags_descriptions\":{},\"like_count\":4,\"views\":156,\"category_id\":30,\"featured_link\":null,\"has_accepted_answer\":false,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3528463,\"topic_post_liked\":false,\"topic_post_like_count\":3,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":true,\"topic_post_is_current_users\":null,\"topic_post_number\":1,\"topic_post_user\":{\"id\":51887,\"username\":\"nstrike\",\"name\":\"\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/nstrike/{size}/167038_2.png\"},\"posters\":[{\"extras\":null,\"description\":\"Original Poster\",\"user\":{\"id\":51887,\"username\":\"nstrike\",\"name\":\"\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/nstrike/{size}/167038_2.png\",\"trust_level\":2}},{\"extras\":\"latest\",\"description\":\"Most Recent Poster\",\"user\":{\"id\":51771,\"username\":\"jsjohn2000\",\"name\":\"Jason Johnson\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/j/a88e57/{size}.png\",\"trust_level\":2}}]},{\"fancy_title\":\"Need help with pid controller\",\"id\":494936,\"title\":\"Need help with pid controller\",\"slug\":\"need-help-with-pid-controller\",\"posts_count\":3,\"reply_count\":0,\"highest_post_number\":3,\"image_url\":null,\"created_at\":\"2025-03-10T03:25:18.755Z\",\"last_posted_at\":\"2025-03-10T22:43:08.141Z\",\"bumped\":true,\"bumped_at\":\"2025-03-10T22:43:08.141Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"Hi. We are having some issues with our pid. We have a button that moves our elevator, arm, and wrist to a set point. The elevator will go to the point not problems but the arm and wrist quickly jitt…\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[\"pid\"],\"tags_descriptions\":{},\"like_count\":0,\"views\":178,\"category_id\":30,\"featured_link\":null,\"has_accepted_answer\":false,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3552515,\"topic_post_liked\":false,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":false,\"topic_post_is_current_users\":null,\"topic_post_number\":1,\"topic_post_user\":{\"id\":63609,\"username\":\"crazyface\",\"name\":\"\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/c/67e7ee/{size}.png\"},\"posters\":[{\"extras\":null,\"description\":\"Original Poster\",\"user\":{\"id\":63609,\"username\":\"crazyface\",\"name\":\"\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/c/67e7ee/{size}.png\",\"trust_level\":1}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":28240,\"username\":\"icemannie\",\"name\":\"icemannie\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/i/bc79bd/{size}.png\",\"trust_level\":2}},{\"extras\":\"latest\",\"description\":\"Most Recent Poster\",\"user\":{\"id\":9105,\"username\":\"Fletch1373\",\"name\":\"Fletch\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/fletch1373/{size}/220073_2.png\",\"trust_level\":2}}]}],\"tags\":[],\"tags_descriptions\":{},\"fancy_title\":\"Using Limelight for Target Distance/Displacement and Distance to RPM, All While Moving\",\"id\":407131,\"title\":\"Using Limelight for Target Distance/Displacement and Distance to RPM, All While Moving\",\"posts_count\":2,\"created_at\":\"2022-03-28T17:22:47.276Z\",\"views\":566,\"reply_count\":0,\"like_count\":2,\"last_posted_at\":\"2023-03-28T17:22:57.095Z\",\"visible\":true,\"closed\":true,\"archived\":false,\"has_summary\":false,\"archetype\":\"regular\",\"slug\":\"using-limelight-for-target-distance-displacement-and-distance-to-rpm-all-while-moving\",\"category_id\":30,\"word_count\":662,\"deleted_at\":null,\"user_id\":29382,\"featured_link\":null,\"pinned_globally\":false,\"pinned_at\":null,\"pinned_until\":null,\"image_url\":null,\"slow_mode_seconds\":0,\"draft\":null,\"draft_key\":\"topic_407131\",\"draft_sequence\":null,\"unpinned\":null,\"pinned\":false,\"current_post_number\":1,\"highest_post_number\":2,\"deleted_by\":null,\"actions_summary\":[{\"id\":4,\"count\":0,\"hidden\":false,\"can_act\":false},{\"id\":8,\"count\":0,\"hidden\":false,\"can_act\":false},{\"id\":10,\"count\":0,\"hidden\":false,\"can_act\":false},{\"id\":7,\"count\":0,\"hidden\":false,\"can_act\":false}],\"chunk_size\":20,\"bookmarked\":false,\"topic_timer\":null,\"message_bus_last_id\":0,\"participant_count\":1,\"show_read_indicator\":false,\"thumbnails\":null,\"slow_mode_enabled_until\":null,\"valid_reactions\":[\"heart\",\"laughing\",\"point_up\",\"+1\",\"-1\",\"100\",\"open_mouth\",\"cry\",\"question\",\"thinking\",\"call_me_hand\",\"hugs\",\"angry\"],\"user_chosen_thumbnail_url\":null,\"sidecar_installed\":true,\"can_vote\":false,\"vote_count\":0,\"user_voted\":false,\"discourse_zendesk_plugin_zendesk_id\":null,\"discourse_zendesk_plugin_zendesk_url\":\"https://your-url.zendesk.com/agent/tickets/\",\"details\":{\"can_edit\":false,\"notification_level\":1,\"participants\":[{\"id\":29382,\"username\":\"mjbergman92\",\"name\":\"mjbergman92\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/mjbergman92/{size}/219086_2.png\",\"post_count\":1,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2}],\"created_by\":{\"id\":29382,\"username\":\"mjbergman92\",\"name\":\"mjbergman92\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/mjbergman92/{size}/219086_2.png\"},\"last_poster\":{\"id\":-1,\"username\":\"system\",\"name\":\"system\",\"avatar_template\":\"/uploads/default/original/4X/9/3/2/93234578e69f55873c63fc00fe2d0d85f23bce55.png\"},\"links\":[{\"url\":\"https://github.com/HOC-Team-3534/2022-Swerve-Test\",\"title\":null,\"internal\":false,\"attachment\":false,\"reflection\":false,\"clicks\":25,\"user_id\":29382,\"domain\":\"github.com\",\"root_domain\":\"github.com\"}]},\"bookmarks\":[]}"}
