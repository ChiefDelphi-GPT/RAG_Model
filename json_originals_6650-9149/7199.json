{"data":"{\"post_stream\":{\"posts\":[{\"id\":3318081,\"name\":\"\",\"username\":\"steel05\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/s/35a633/{size}.png\",\"created_at\":\"2024-02-26T19:10:07.083Z\",\"cooked\":\"\\u003cp\\u003eHey everyone, we have been working on our swerve drive for a long time now and just can’t seem to get it right. While everything works perfectly on the driving side, the odometry of the drivetrain drifts significantly. We are running MAXSwerve modules with NEO Vortex drive motors and 550 turning motors with the absolute encoder. Via some testing we realized the odometry drift only occurs when driving in smooth curves/arcs. We have tried switching to a PoseEstimator and assisting it with Limelight 3 AprilTag poses but nothing seems to help. THe drift is always consistent, when running a path from PathPlanner we see the odometry drift but the path will always end in the same place in real life. We checked the values from our encoders and don’t see any issues with it. If anyone has any information regarding how to fix this it would be much appreciated.\\u003c/p\\u003e\",\"post_number\":1,\"post_type\":1,\"posts_count\":24,\"updated_at\":\"2024-02-26T19:10:07.083Z\",\"reply_count\":0,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":474,\"reads\":475,\"readers_count\":474,\"score\":2465.0,\"yours\":false,\"topic_id\":456240,\"topic_slug\":\"swerve-drive-odometry-drift\",\"display_username\":\"\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":null,\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":57372,\"hidden\":false,\"trust_level\":1,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"post_url\":\"/t/swerve-drive-odometry-drift/456240/1\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null,\"can_vote\":false},{\"id\":3318083,\"name\":\"Jackson Elia\",\"username\":\"Traptricker\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/traptricker/{size}/215403_2.png\",\"created_at\":\"2024-02-26T19:12:26.795Z\",\"cooked\":\"\\u003cp\\u003eWhile using pose estimation with april tags is a great idea, before you get them working, get odometry from the drivetrain working first.\\u003c/p\\u003e\\n\\u003cp\\u003eWhat do you mean by odometry drift?\\u003c/p\\u003e\",\"post_number\":2,\"post_type\":1,\"posts_count\":24,\"updated_at\":\"2024-02-26T19:12:26.795Z\",\"reply_count\":1,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":1,\"reads\":452,\"readers_count\":451,\"score\":100.4,\"yours\":false,\"topic_id\":456240,\"topic_slug\":\"swerve-drive-odometry-drift\",\"display_username\":\"Jackson Elia\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":null,\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":53032,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"4829 Mentor\"},\"post_url\":\"/t/swerve-drive-odometry-drift/456240/2\",\"custom_user_title\":\"4829 Mentor\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3318099,\"name\":\"\",\"username\":\"steel05\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/s/35a633/{size}.png\",\"created_at\":\"2024-02-26T19:25:42.396Z\",\"cooked\":\"\\u003cp\\u003eThe pose the odometry is reporting back slowly deviates from the actual observed pose\\u003c/p\\u003e\",\"post_number\":3,\"post_type\":1,\"posts_count\":24,\"updated_at\":\"2024-02-26T19:25:42.396Z\",\"reply_count\":1,\"reply_to_post_number\":2,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":410,\"readers_count\":409,\"score\":87.0,\"yours\":false,\"topic_id\":456240,\"topic_slug\":\"swerve-drive-odometry-drift\",\"display_username\":\"\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":null,\"reply_to_user\":{\"id\":53032,\"username\":\"Traptricker\",\"name\":\"Jackson Elia\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/traptricker/{size}/215403_2.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":57372,\"hidden\":false,\"trust_level\":1,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"post_url\":\"/t/swerve-drive-odometry-drift/456240/3\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3318102,\"name\":\"Jackson Elia\",\"username\":\"Traptricker\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/traptricker/{size}/215403_2.png\",\"created_at\":\"2024-02-26T19:30:13.895Z\",\"cooked\":\"\\u003cp\\u003eCan you provide the code for your drive subsystem? I think there could be a few things causing the issue. Is your gear ratio correct? Are you swerve kinematics correct? \\u003cs\\u003eDo you have feedforward values for your drive motors, if so, are they right?\\u003c/s\\u003e\\u003c/p\\u003e\",\"post_number\":4,\"post_type\":1,\"posts_count\":24,\"updated_at\":\"2024-02-26T19:44:07.600Z\",\"reply_count\":1,\"reply_to_post_number\":3,\"quote_count\":0,\"incoming_link_count\":3,\"reads\":391,\"readers_count\":390,\"score\":98.2,\"yours\":false,\"topic_id\":456240,\"topic_slug\":\"swerve-drive-odometry-drift\",\"display_username\":\"Jackson Elia\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":2,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":null,\"reply_to_user\":{\"id\":57372,\"username\":\"steel05\",\"name\":\"\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/s/35a633/{size}.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":53032,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"4829 Mentor\"},\"post_url\":\"/t/swerve-drive-odometry-drift/456240/4\",\"custom_user_title\":\"4829 Mentor\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3318129,\"name\":\"\",\"username\":\"steel05\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/s/35a633/{size}.png\",\"created_at\":\"2024-02-26T19:45:17.008Z\",\"cooked\":\"\\u003cp\\u003eWe know the gear ratios are correct because when driving it in straight lines with no curvature the odometry stays synced with the actual pose and when we measure the distance traveled and compare it against how far it think it drove they are identical. The swerve kinematics have been double checked with the CAD team multiple times so we are assuming it is correct.\\u003c/p\\u003e\",\"post_number\":5,\"post_type\":1,\"posts_count\":24,\"updated_at\":\"2024-02-26T19:45:17.008Z\",\"reply_count\":1,\"reply_to_post_number\":4,\"quote_count\":0,\"incoming_link_count\":3,\"reads\":372,\"readers_count\":371,\"score\":94.4,\"yours\":false,\"topic_id\":456240,\"topic_slug\":\"swerve-drive-odometry-drift\",\"display_username\":\"\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":null,\"reply_to_user\":{\"id\":53032,\"username\":\"Traptricker\",\"name\":\"Jackson Elia\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/traptricker/{size}/215403_2.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":57372,\"hidden\":false,\"trust_level\":1,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"post_url\":\"/t/swerve-drive-odometry-drift/456240/5\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3318132,\"name\":\"Jackson Elia\",\"username\":\"Traptricker\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/traptricker/{size}/215403_2.png\",\"created_at\":\"2024-02-26T19:50:14.149Z\",\"cooked\":\"\\u003cp\\u003eOkay, I don’t think this would be the issue, but have you made sure you’re measuring the wheel base and trackwidth for the kinematics from the center of the modules, rather than measuring the drivetrain frame?\\u003c/p\\u003e\\n\\u003cp\\u003eI’m not exactly sure what is happening, but if I were you I would start testing the turn motors thoroughly. If you set them to an angle, do they go to that angle? For whatever method you’re using to get your module position, is the angle displayed in that in the correct units for odometry? It’s hard to diagnose this problem without your code.\\u003c/p\\u003e\",\"post_number\":6,\"post_type\":1,\"posts_count\":24,\"updated_at\":\"2024-02-26T19:50:14.149Z\",\"reply_count\":1,\"reply_to_post_number\":5,\"quote_count\":0,\"incoming_link_count\":1,\"reads\":352,\"readers_count\":351,\"score\":80.4,\"yours\":false,\"topic_id\":456240,\"topic_slug\":\"swerve-drive-odometry-drift\",\"display_username\":\"Jackson Elia\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":null,\"reply_to_user\":{\"id\":57372,\"username\":\"steel05\",\"name\":\"\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/s/35a633/{size}.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":53032,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"4829 Mentor\"},\"post_url\":\"/t/swerve-drive-odometry-drift/456240/6\",\"custom_user_title\":\"4829 Mentor\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3318194,\"name\":\"\",\"username\":\"steel05\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/s/35a633/{size}.png\",\"created_at\":\"2024-02-26T20:43:39.901Z\",\"cooked\":\"\\u003cp\\u003eHere is our Drivetrain subsystem\\u003cbr\\u003e\\n\\u003ca class=\\\"attachment\\\" href=\\\"/uploads/short-url/ejChmnWrWxcrLhUQbFCTH2vQiWt.java\\\"\\u003eDriveTrain.java\\u003c/a\\u003e (13.1 KB)\\u003c/p\\u003e\",\"post_number\":7,\"post_type\":1,\"posts_count\":24,\"updated_at\":\"2024-02-26T20:43:39.901Z\",\"reply_count\":1,\"reply_to_post_number\":6,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":327,\"readers_count\":326,\"score\":70.4,\"yours\":false,\"topic_id\":456240,\"topic_slug\":\"swerve-drive-odometry-drift\",\"display_username\":\"\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"link_counts\":[{\"url\":\"/uploads/short-url/ejChmnWrWxcrLhUQbFCTH2vQiWt.java\",\"internal\":true,\"reflection\":false,\"clicks\":0}],\"read\":true,\"user_title\":null,\"reply_to_user\":{\"id\":53032,\"username\":\"Traptricker\",\"name\":\"Jackson Elia\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/traptricker/{size}/215403_2.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":57372,\"hidden\":false,\"trust_level\":1,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"post_url\":\"/t/swerve-drive-odometry-drift/456240/7\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3318239,\"name\":\"Jackson Elia\",\"username\":\"Traptricker\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/traptricker/{size}/215403_2.png\",\"created_at\":\"2024-02-26T21:24:51.074Z\",\"cooked\":\"\\u003cp\\u003eCould you also provide your SwerveModule code please?\\u003c/p\\u003e\",\"post_number\":8,\"post_type\":1,\"posts_count\":24,\"updated_at\":\"2024-02-26T21:24:51.074Z\",\"reply_count\":1,\"reply_to_post_number\":7,\"quote_count\":0,\"incoming_link_count\":1,\"reads\":307,\"readers_count\":306,\"score\":71.4,\"yours\":false,\"topic_id\":456240,\"topic_slug\":\"swerve-drive-odometry-drift\",\"display_username\":\"Jackson Elia\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":null,\"reply_to_user\":{\"id\":57372,\"username\":\"steel05\",\"name\":\"\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/s/35a633/{size}.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":53032,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"4829 Mentor\"},\"post_url\":\"/t/swerve-drive-odometry-drift/456240/8\",\"custom_user_title\":\"4829 Mentor\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3318653,\"name\":\"\",\"username\":\"steel05\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/s/35a633/{size}.png\",\"created_at\":\"2024-02-27T04:28:37.849Z\",\"cooked\":\"\\u003cp\\u003e\\u003ca class=\\\"attachment\\\" href=\\\"/uploads/short-url/4LcaCQpbeMpV1Dus1415q41qfCf.java\\\"\\u003eSwerveModule.java\\u003c/a\\u003e (5.5 KB)\\u003c/p\\u003e\",\"post_number\":9,\"post_type\":1,\"posts_count\":24,\"updated_at\":\"2024-02-27T04:28:37.849Z\",\"reply_count\":1,\"reply_to_post_number\":8,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":292,\"readers_count\":291,\"score\":63.4,\"yours\":false,\"topic_id\":456240,\"topic_slug\":\"swerve-drive-odometry-drift\",\"display_username\":\"\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"link_counts\":[{\"url\":\"/uploads/short-url/4LcaCQpbeMpV1Dus1415q41qfCf.java\",\"internal\":true,\"reflection\":false,\"clicks\":0}],\"read\":true,\"user_title\":null,\"reply_to_user\":{\"id\":53032,\"username\":\"Traptricker\",\"name\":\"Jackson Elia\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/traptricker/{size}/215403_2.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":57372,\"hidden\":false,\"trust_level\":1,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"post_url\":\"/t/swerve-drive-odometry-drift/456240/9\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3318679,\"name\":\"Jackson Elia\",\"username\":\"Traptricker\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/traptricker/{size}/215403_2.png\",\"created_at\":\"2024-02-27T05:50:00.755Z\",\"cooked\":\"\\u003cp\\u003eCan you explain in detail more about the odometry drift? It’s weird that when driving in a straight line, it works.\\u003c/p\\u003e\\n\\u003cp\\u003eThat being said, I think your code for getting the module position isn’t right. The first value should be the distance in meters that the wheel has spun, and I don’t think \\u003ccode\\u003edriveEncoder.getPosition()\\u003c/code\\u003e can get that as it doesn’t factor in wheel diameter and gear ratio. This is what my team has (granted we use falcons):\\u003c/p\\u003e\\n\\u003cpre\\u003e\\u003ccode class=\\\"lang-auto\\\"\\u003e  /**\\n   * Gets the module position consisting of the distance it has traveled and the angle it is rotated.\\n   * @return a SwerveModulePosition object containing position and rotation\\n   */\\n  public SwerveModulePosition getPosition() {\\n    driveMotorPosition.refresh();\\n    double position = ModuleConstants.DRIVE_TO_METERS * driveMotorPosition.getValue();\\n    Rotation2d rotation = Rotation2d.fromRotations(getModuleHeading());\\n    return new SwerveModulePosition(position, rotation);\\n  }\\n\\u003c/code\\u003e\\u003c/pre\\u003e\\n\\u003cp\\u003ewith \\u003ccode\\u003eDRIVE_TO_METERS =  WHEEL_CIRCUMFERENCE_METERS / DRIVE_GEAR_RATIO\\u003c/code\\u003e\\u003c/p\\u003e\\n\\u003cp\\u003eThat being said, this might not fix your issue completely. What’s annoying about troubleshooting swerve is that the problem can easily be caused by multiple things all messing it up a little.\\u003c/p\\u003e\",\"post_number\":10,\"post_type\":1,\"posts_count\":24,\"updated_at\":\"2024-02-27T05:50:00.755Z\",\"reply_count\":1,\"reply_to_post_number\":9,\"quote_count\":0,\"incoming_link_count\":5,\"reads\":279,\"readers_count\":278,\"score\":85.8,\"yours\":false,\"topic_id\":456240,\"topic_slug\":\"swerve-drive-odometry-drift\",\"display_username\":\"Jackson Elia\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":null,\"reply_to_user\":{\"id\":57372,\"username\":\"steel05\",\"name\":\"\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/s/35a633/{size}.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":53032,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"4829 Mentor\"},\"post_url\":\"/t/swerve-drive-odometry-drift/456240/10\",\"custom_user_title\":\"4829 Mentor\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3318721,\"name\":\"\",\"username\":\"steel05\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/s/35a633/{size}.png\",\"created_at\":\"2024-02-27T08:20:11.560Z\",\"cooked\":\"\\u003cp\\u003eOn the odometry drift:\\u003cbr\\u003e\\nI don’t have a better of way of explaining it other than it starts to desync when driving in arcs. The more arc-ing and curved movements we make the more it deviates from the actual position. When driving in perfectly straight lines it functions perfectly. The reported distance driven matches the actual distance driven and the odometry pose matches perfectly with the actual pose of the robot. Because straight lines work, we are inclined to believe it is nothing with the drive motors or encoders.\\u003c/p\\u003e\\n\\u003cp\\u003eWhen we have a test path in PathPlanner that we use. It is a U shaped path where the end pose and the start pose are aligned vertically with about 1.5 meters between them. When we actually run the path the robot will end slightly offset from the desired pose. Around about 6 inches to the right (When considering a top-down view such as the one in the PathPlanner UI). Comparing this to the odometry, which thinks it is right on the money and in the perfect spot. We set up the logging and telemetry in PathPlanner as well and the odometry thinks it is going off course during the arc.\\u003c/p\\u003e\\n\\u003cp\\u003eWe currently think the issue would lie with the turning motor and its encoder. When having it log out data and when combing through the code, we can’t find any discrepancy or issues that jump out at us. We also saw this issue arise last year towards the end of the season as we tried to increase the complexity of our autos.\\u003c/p\\u003e\\n\\u003chr\\u003e\\n\\u003cp\\u003eOn the drive motor position:\\u003cbr\\u003e\\nThe REV library provides the ability to automatically have the SparkMAX scale the units from encoders before sending them to the RIO via the \\u003cspan class=\\\"abbreviation\\\"\\u003eCAN\\u003ctemplate class=\\\"tooltiptext\\\" data-text=\\\"Controller Area Network\\\"\\u003e\\u003c/template\\u003e\\u003c/span\\u003e bus. We set up this scale factor with this call in the constructor of the modules:\\u003c/p\\u003e\\n\\u003cpre data-code-wrap=\\\"java\\\"\\u003e\\u003ccode class=\\\"lang-java\\\"\\u003edriveEncoder.setPositionConversionFactor(ModuleConstants.DRIVE_ENCODER_POS_FACTOR); //Line 52\\n\\u003c/code\\u003e\\u003c/pre\\u003e\\n\\u003cp\\u003eSimilarly you can also set up a different conversion factor for the encoder’s reported velocity which we do on the subsequent line.\\u003c/p\\u003e\",\"post_number\":11,\"post_type\":1,\"posts_count\":24,\"updated_at\":\"2024-02-27T08:20:11.560Z\",\"reply_count\":1,\"reply_to_post_number\":10,\"quote_count\":0,\"incoming_link_count\":11,\"reads\":260,\"readers_count\":259,\"score\":112.0,\"yours\":false,\"topic_id\":456240,\"topic_slug\":\"swerve-drive-odometry-drift\",\"display_username\":\"\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":null,\"reply_to_user\":{\"id\":53032,\"username\":\"Traptricker\",\"name\":\"Jackson Elia\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/traptricker/{size}/215403_2.png\"},\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":1}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":57372,\"hidden\":false,\"trust_level\":1,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"post_url\":\"/t/swerve-drive-odometry-drift/456240/11\",\"custom_user_title\":null,\"reactions\":[{\"id\":\"+1\",\"type\":\"emoji\",\"count\":1}],\"current_user_reaction\":null,\"reaction_users_count\":1,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3318900,\"name\":\"jwhite\",\"username\":\"jwhite\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/j/d26b3c/{size}.png\",\"created_at\":\"2024-02-27T16:13:11.045Z\",\"cooked\":\"\\u003cp\\u003eNot sure this is helpful, but we see exactly the same issue.  Our code is here:\\u003cbr\\u003e\\n\\u003ca href=\\\"https://github.com/HP-Robotics/Automatons-2024/blob/Competition/src/main/java/frc/robot/subsystems/DriveSubsystem.java#L74\\\" class=\\\"inline-onebox\\\" rel=\\\"noopener nofollow ugc\\\"\\u003eAutomatons-2024/src/main/java/frc/robot/subsystems/DriveSubsystem.java at Competition · HP-Robotics/Automatons-2024 · GitHub\\u003c/a\\u003e\\u003c/p\\u003e\\n\\u003cp\\u003eFor us, our robot ‘thinks’ it has nailed the moves correctly, but if a path includes a curve, it is usually off; 6\\\" in a 2 meter diagonal move sounds familiar.  We did a path that was straight 5 meters and our odometry and real life matched nicely.  We use that to calibrate a wheel radius ‘fudge factor’ to adjust for tread wear and such.  But if we plot a 5 meter forward move that includes a spin en-route, we end up with the robot thinking X and Y are correct, but the robot being off by  a few inches.\\u003c/p\\u003e\\n\\u003cp\\u003eOne novel thing is that our drive modules are not perfectly regular.  That is, we have a small intake mechanism that lives past the ‘front’ swerve modules.  So the center of our chassis is not the center of our swerve modules.\\u003c/p\\u003e\",\"post_number\":12,\"post_type\":1,\"posts_count\":24,\"updated_at\":\"2024-02-27T16:13:11.045Z\",\"reply_count\":0,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":1,\"reads\":217,\"readers_count\":216,\"score\":48.4,\"yours\":false,\"topic_id\":456240,\"topic_slug\":\"swerve-drive-odometry-drift\",\"display_username\":\"jwhite\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"link_counts\":[{\"url\":\"https://github.com/HP-Robotics/Automatons-2024/blob/Competition/src/main/java/frc/robot/subsystems/DriveSubsystem.java#L74\",\"internal\":false,\"reflection\":false,\"title\":\"Automatons-2024/src/main/java/frc/robot/subsystems/DriveSubsystem.java at Competition · HP-Robotics/Automatons-2024 · GitHub\",\"clicks\":9}],\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":20412,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"post_url\":\"/t/swerve-drive-odometry-drift/456240/12\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3318988,\"name\":\"Jackson Elia\",\"username\":\"Traptricker\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/traptricker/{size}/215403_2.png\",\"created_at\":\"2024-02-27T17:54:59.146Z\",\"cooked\":\"\\u003cp\\u003eI really don’t know at this point, but the only thing I can think of would be your \\u003cspan class=\\\"abbreviation\\\"\\u003ePID\\u003ctemplate class=\\\"tooltiptext\\\" data-text=\\\"Proportional Integral Derivative\\\"\\u003e\\u003c/template\\u003e\\u003c/span\\u003e control. Have you tried tuning your values, specifically your P values? I mean this both for your motor \\u003cspan class=\\\"abbreviation\\\"\\u003ePID\\u003ctemplate class=\\\"tooltiptext\\\" data-text=\\\"Proportional Integral Derivative\\\"\\u003e\\u003c/template\\u003e\\u003c/span\\u003e and for your trajectory \\u003cspan class=\\\"abbreviation\\\"\\u003ePID\\u003ctemplate class=\\\"tooltiptext\\\" data-text=\\\"Proportional Integral Derivative\\\"\\u003e\\u003c/template\\u003e\\u003c/span\\u003e.\\u003c/p\\u003e\",\"post_number\":13,\"post_type\":1,\"posts_count\":24,\"updated_at\":\"2024-02-27T17:54:59.146Z\",\"reply_count\":1,\"reply_to_post_number\":11,\"quote_count\":0,\"incoming_link_count\":1,\"reads\":195,\"readers_count\":194,\"score\":49.0,\"yours\":false,\"topic_id\":456240,\"topic_slug\":\"swerve-drive-odometry-drift\",\"display_username\":\"Jackson Elia\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":null,\"reply_to_user\":{\"id\":57372,\"username\":\"steel05\",\"name\":\"\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/s/35a633/{size}.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":53032,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"4829 Mentor\"},\"post_url\":\"/t/swerve-drive-odometry-drift/456240/13\",\"custom_user_title\":\"4829 Mentor\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3319104,\"name\":\"Cole Cyr\",\"username\":\"Cole_Cyr\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/cole_cyr/{size}/218272_2.png\",\"created_at\":\"2024-02-27T19:26:49.083Z\",\"cooked\":\"\\u003cp\\u003eIf the drift you are experiencing is constant enough then you can intercept the pose estimation before you feed it into whatever your using it for and adjust it.\\u003c/p\\u003e\\n\\u003cp\\u003eOld Pose → Adjuster → New pose\\u003c/p\\u003e\\n\\u003cp\\u003ejust measure how far you have traveled and how far you are off and create a formula that changes the new pose to match what it should be.\\u003c/p\\u003e\\n\\u003cp\\u003eas long as you update your pose every so often with the April tags then this fix should be good enough\\u003c/p\\u003e\",\"post_number\":14,\"post_type\":1,\"posts_count\":24,\"updated_at\":\"2024-02-27T19:26:49.083Z\",\"reply_count\":1,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":7,\"reads\":181,\"readers_count\":180,\"score\":76.2,\"yours\":false,\"topic_id\":456240,\"topic_slug\":\"swerve-drive-odometry-drift\",\"display_username\":\"Cole Cyr\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":27549,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"4946 Mentor, Coach\"},\"post_url\":\"/t/swerve-drive-odometry-drift/456240/14\",\"custom_user_title\":\"4946 Mentor, Coach\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3319330,\"name\":\"\",\"username\":\"steel05\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/s/35a633/{size}.png\",\"created_at\":\"2024-02-28T01:14:09.669Z\",\"cooked\":\"\\u003cp\\u003eWhile this is a good idea, because the odometry drifts depending on the curvature of the path of the robot (Whether it be from an actual trajectory/path or during TeleOp) that would require knowing the curvature of the robots path at any given point and then some how creating a function to nudge it in the correct direction. That sounds pretty advanced.\\u003c/p\\u003e\\n\\u003cp\\u003eWhat we are ideally looking for is what is causing the drift in the first place, but so far we’ve come up empty handed.\\u003c/p\\u003e\\n\\u003cp\\u003eAnother piece of information that we figured could be relevant:\\u003cbr\\u003e\\nWhen driving in a straight line during TeleOp, the robot begins to rotate. Even though it should just be driving straight and not imparting any angular velocity.\\u003c/p\\u003e\\n\\u003cp\\u003eIs this perhaps a known issue with REV’s MAXSwerve system?\\u003c/p\\u003e\",\"post_number\":15,\"post_type\":1,\"posts_count\":24,\"updated_at\":\"2024-02-28T01:14:09.669Z\",\"reply_count\":0,\"reply_to_post_number\":14,\"quote_count\":0,\"incoming_link_count\":2,\"reads\":156,\"readers_count\":155,\"score\":41.2,\"yours\":false,\"topic_id\":456240,\"topic_slug\":\"swerve-drive-odometry-drift\",\"display_username\":\"\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":null,\"reply_to_user\":{\"id\":27549,\"username\":\"Cole_Cyr\",\"name\":\"Cole Cyr\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/cole_cyr/{size}/218272_2.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":57372,\"hidden\":false,\"trust_level\":1,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"post_url\":\"/t/swerve-drive-odometry-drift/456240/15\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3319992,\"name\":\"\",\"username\":\"steel05\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/s/35a633/{size}.png\",\"created_at\":\"2024-02-28T21:15:18.865Z\",\"cooked\":\"\\u003cp\\u003eWe tried tuning both the motor’s \\u003cspan class=\\\"abbreviation\\\"\\u003ePID\\u003ctemplate class=\\\"tooltiptext\\\" data-text=\\\"Proportional Integral Derivative\\\"\\u003e\\u003c/template\\u003e\\u003c/span\\u003e and the path’s \\u003cspan class=\\\"abbreviation\\\"\\u003ePID\\u003ctemplate class=\\\"tooltiptext\\\" data-text=\\\"Proportional Integral Derivative\\\"\\u003e\\u003c/template\\u003e\\u003c/span\\u003e but it didn’t seem to help with the odometry issue\\u003c/p\\u003e\",\"post_number\":16,\"post_type\":1,\"posts_count\":24,\"updated_at\":\"2024-02-28T21:15:18.865Z\",\"reply_count\":1,\"reply_to_post_number\":13,\"quote_count\":0,\"incoming_link_count\":3,\"reads\":140,\"readers_count\":139,\"score\":48.0,\"yours\":false,\"topic_id\":456240,\"topic_slug\":\"swerve-drive-odometry-drift\",\"display_username\":\"\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":null,\"reply_to_user\":{\"id\":53032,\"username\":\"Traptricker\",\"name\":\"Jackson Elia\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/traptricker/{size}/215403_2.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":57372,\"hidden\":false,\"trust_level\":1,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"post_url\":\"/t/swerve-drive-odometry-drift/456240/16\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3320000,\"name\":\"\",\"username\":\"nstrike\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/nstrike/{size}/167038_2.png\",\"created_at\":\"2024-02-28T21:22:37.099Z\",\"cooked\":\"\\u003cp\\u003eHave you tried using a \\u003ccode\\u003eSimpleMotorFeedforward\\u003c/code\\u003e on the drive motors and passing that into the arbitrary feedforward of the \\u003ccode\\u003esetReference\\u003c/code\\u003e function?\\u003c/p\\u003e\\n\\u003cp\\u003eAlso you may want to remeasure your wheels they can and do wear out to under 4in which throws off odometry.\\u003c/p\\u003e\\n\\u003cp\\u003eWhat gyro are you using? Is it calibrated?\\u003c/p\\u003e\",\"post_number\":17,\"post_type\":1,\"posts_count\":24,\"updated_at\":\"2024-02-28T21:22:37.099Z\",\"reply_count\":2,\"reply_to_post_number\":16,\"quote_count\":0,\"incoming_link_count\":6,\"reads\":148,\"readers_count\":147,\"score\":69.6,\"yours\":false,\"topic_id\":456240,\"topic_slug\":\"swerve-drive-odometry-drift\",\"display_username\":\"\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"reply_to_user\":{\"id\":57372,\"username\":\"steel05\",\"name\":\"\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/s/35a633/{size}.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":51887,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"YAGSL \\u0026 YASS Creator \"},\"post_url\":\"/t/swerve-drive-odometry-drift/456240/17\",\"custom_user_title\":\"YAGSL \\u0026 YASS Creator \",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3320223,\"name\":\"\",\"username\":\"steel05\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/s/35a633/{size}.png\",\"created_at\":\"2024-02-29T02:31:53.509Z\",\"cooked\":\"\\u003cp\\u003eWe are using a Pigeon2 for the gyro. The device comes precalibrated from the factory and is supposed to auto correct itself after 4 seconds of no motion and on startup. The bot is always stationary on startup.\\u003c/p\\u003e\\n\\u003cp\\u003eWe’ll look into implementing a feedforward tomorrow as well as remeasuring the wheels.\\u003c/p\\u003e\",\"post_number\":18,\"post_type\":1,\"posts_count\":24,\"updated_at\":\"2024-02-29T02:31:53.509Z\",\"reply_count\":0,\"reply_to_post_number\":17,\"quote_count\":0,\"incoming_link_count\":2,\"reads\":143,\"readers_count\":142,\"score\":38.6,\"yours\":false,\"topic_id\":456240,\"topic_slug\":\"swerve-drive-odometry-drift\",\"display_username\":\"\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":null,\"reply_to_user\":{\"id\":51887,\"username\":\"nstrike\",\"name\":\"\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/nstrike/{size}/167038_2.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":57372,\"hidden\":false,\"trust_level\":1,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"post_url\":\"/t/swerve-drive-odometry-drift/456240/18\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3341320,\"name\":\"Eric Ward\",\"username\":\"bathtubed\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/bathtubed/{size}/220364_2.png\",\"created_at\":\"2024-03-23T14:57:33.696Z\",\"cooked\":\"\\u003cp\\u003eDid you ever come up with a resolution for this? We’re seeing a very similar issue.\\u003c/p\\u003e\",\"post_number\":19,\"post_type\":1,\"posts_count\":24,\"updated_at\":\"2024-03-23T14:57:33.696Z\",\"reply_count\":0,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":1,\"reads\":118,\"readers_count\":117,\"score\":28.6,\"yours\":false,\"topic_id\":456240,\"topic_slug\":\"swerve-drive-odometry-drift\",\"display_username\":\"Eric Ward\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":35208,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"3637 Mentor\"},\"post_url\":\"/t/swerve-drive-odometry-drift/456240/19\",\"custom_user_title\":\"3637 Mentor\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3341714,\"name\":\"jwhite\",\"username\":\"jwhite\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/j/d26b3c/{size}.png\",\"created_at\":\"2024-03-24T04:27:35.295Z\",\"cooked\":\"\\u003cp\\u003eWe found that if we used our absolute encoders for odometry, rather than the relative encoders on the falcon, that we got a better result.  Our theory is that there’s enough slop in our swerve modules that we were getting inferior results.\\u003c/p\\u003e\",\"post_number\":20,\"post_type\":1,\"posts_count\":24,\"updated_at\":\"2024-03-24T04:27:35.295Z\",\"reply_count\":1,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":1,\"reads\":111,\"readers_count\":110,\"score\":32.2,\"yours\":false,\"topic_id\":456240,\"topic_slug\":\"swerve-drive-odometry-drift\",\"display_username\":\"jwhite\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":20412,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"post_url\":\"/t/swerve-drive-odometry-drift/456240/20\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null}],\"stream\":[3318081,3318083,3318099,3318102,3318129,3318132,3318194,3318239,3318653,3318679,3318721,3318900,3318988,3319104,3319330,3319992,3320000,3320223,3341320,3341714,3341730,3341739,3341764,3566720]},\"timeline_lookup\":[[1,593],[12,592],[16,591],[19,567],[24,202]],\"tags\":[],\"tags_descriptions\":{},\"fancy_title\":\"Swerve Drive Odometry Drift\",\"id\":456240,\"title\":\"Swerve Drive Odometry Drift\",\"posts_count\":24,\"created_at\":\"2024-02-26T19:10:07.033Z\",\"views\":1544,\"reply_count\":16,\"like_count\":1,\"last_posted_at\":\"2025-03-24T11:35:49.418Z\",\"visible\":true,\"closed\":true,\"archived\":false,\"has_summary\":false,\"archetype\":\"regular\",\"slug\":\"swerve-drive-odometry-drift\",\"category_id\":30,\"word_count\":1695,\"deleted_at\":null,\"user_id\":57372,\"featured_link\":null,\"pinned_globally\":false,\"pinned_at\":null,\"pinned_until\":null,\"image_url\":null,\"slow_mode_seconds\":0,\"draft\":null,\"draft_key\":\"topic_456240\",\"draft_sequence\":null,\"unpinned\":null,\"pinned\":false,\"current_post_number\":1,\"highest_post_number\":24,\"deleted_by\":null,\"actions_summary\":[{\"id\":4,\"count\":0,\"hidden\":false,\"can_act\":false},{\"id\":8,\"count\":0,\"hidden\":false,\"can_act\":false},{\"id\":10,\"count\":0,\"hidden\":false,\"can_act\":false},{\"id\":7,\"count\":0,\"hidden\":false,\"can_act\":false}],\"chunk_size\":20,\"bookmarked\":false,\"topic_timer\":null,\"message_bus_last_id\":0,\"participant_count\":7,\"show_read_indicator\":false,\"thumbnails\":null,\"slow_mode_enabled_until\":null,\"valid_reactions\":[\"heart\",\"laughing\",\"point_up\",\"+1\",\"-1\",\"100\",\"open_mouth\",\"cry\",\"question\",\"thinking\",\"call_me_hand\",\"hugs\",\"angry\"],\"user_chosen_thumbnail_url\":null,\"sidecar_installed\":true,\"can_vote\":false,\"vote_count\":0,\"user_voted\":false,\"discourse_zendesk_plugin_zendesk_id\":null,\"discourse_zendesk_plugin_zendesk_url\":\"https://your-url.zendesk.com/agent/tickets/\",\"details\":{\"can_edit\":false,\"notification_level\":1,\"participants\":[{\"id\":57372,\"username\":\"steel05\",\"name\":\"\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/s/35a633/{size}.png\",\"post_count\":9,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":1},{\"id\":53032,\"username\":\"Traptricker\",\"name\":\"Jackson Elia\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/traptricker/{size}/215403_2.png\",\"post_count\":6,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":20412,\"username\":\"jwhite\",\"name\":\"jwhite\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/j/d26b3c/{size}.png\",\"post_count\":3,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":35208,\"username\":\"bathtubed\",\"name\":\"Eric Ward\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/bathtubed/{size}/220364_2.png\",\"post_count\":2,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":50457,\"username\":\"Aleejan\",\"name\":\"Justin\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/a/c2a13f/{size}.png\",\"post_count\":1,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":27549,\"username\":\"Cole_Cyr\",\"name\":\"Cole Cyr\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/cole_cyr/{size}/218272_2.png\",\"post_count\":1,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":51887,\"username\":\"nstrike\",\"name\":\"\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/nstrike/{size}/167038_2.png\",\"post_count\":1,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2}],\"created_by\":{\"id\":57372,\"username\":\"steel05\",\"name\":\"\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/s/35a633/{size}.png\"},\"last_poster\":{\"id\":-1,\"username\":\"system\",\"name\":\"system\",\"avatar_template\":\"/uploads/default/original/4X/9/3/2/93234578e69f55873c63fc00fe2d0d85f23bce55.png\"},\"links\":[{\"url\":\"https://github.com/HP-Robotics/Automatons-2024/blob/Competition/src/main/java/frc/robot/subsystems/DriveSubsystem.java#L74\",\"title\":\"Automatons-2024/src/main/java/frc/robot/subsystems/DriveSubsystem.java at Competition · HP-Robotics/Automatons-2024 · GitHub\",\"internal\":false,\"attachment\":false,\"reflection\":false,\"clicks\":9,\"user_id\":20412,\"domain\":\"github.com\",\"root_domain\":\"github.com\"}]},\"bookmarks\":[]}"}
