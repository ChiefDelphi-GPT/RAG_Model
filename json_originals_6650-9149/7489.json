{"data":"{\"post_stream\":{\"posts\":[{\"id\":3330702,\"name\":\"\",\"username\":\"Popcorn\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/popcorn/{size}/219298_2.png\",\"created_at\":\"2024-03-12T01:20:33.944Z\",\"cooked\":\"\\u003cp\\u003eHello! Programming student here. First time posting on Chief Delphi so apologies if my post doesn’t follow conventions.\\u003c/p\\u003e\\n\\u003cp\\u003eMy team is struggling with pathplanner and encountering the following problem:\\u003c/p\\u003e\\n\\u003col\\u003e\\n\\u003cli\\u003eThe robot can translate and rotate correctly with no \\u003cspan class=\\\"abbreviation\\\"\\u003ePID\\u003ctemplate class=\\\"tooltiptext\\\" data-text=\\\"Proportional Integral Derivative\\\"\\u003e\\u003c/template\\u003e\\u003c/span\\u003e configured in pathplanner’s AutoBuilder, i.e. just feedforward\\u003c/li\\u003e\\n\\u003cli\\u003eThe robot can translate and hold its rotation (correct rotational error) with \\u003cspan class=\\\"abbreviation\\\"\\u003ePID\\u003ctemplate class=\\\"tooltiptext\\\" data-text=\\\"Proportional Integral Derivative\\\"\\u003e\\u003c/template\\u003e\\u003c/span\\u003e enabled if pathplanner does not command a rotation\\u003c/li\\u003e\\n\\u003cli\\u003eThe robot will spin out of control and translate extremely rapidly if \\u003cspan class=\\\"abbreviation\\\"\\u003ePID\\u003ctemplate class=\\\"tooltiptext\\\" data-text=\\\"Proportional Integral Derivative\\\"\\u003e\\u003c/template\\u003e\\u003c/span\\u003e is enabled and pathplanner commands a rotation\\u003c/li\\u003e\\n\\u003cli\\u003eThe robot will drive in reverse/speeds are inverted\\u003c/li\\u003e\\n\\u003c/ol\\u003e\\n\\u003cp\\u003e\\u003cimg src=\\\"https://www.chiefdelphi.com/uploads/default/original/3X/a/c/ac00e457334d57151c7af97a81dc6c000861c9f0.gif\\\" alt=\\\"Recording 2024-03-11 174925\\\" data-base62-sha1=\\\"oxC2e5vPtQmZOKEAlF9wngzfyow\\\" width=\\\"600\\\" height=\\\"500\\\" class=\\\"animated\\\"\\u003e\\u003c/p\\u003e\\n\\u003cp\\u003eThis is the path that works correctly.\\u003c/p\\u003e\\n\\u003cp\\u003e\\u003cimg src=\\\"https://www.chiefdelphi.com/uploads/default/original/3X/e/e/ee4a838315a13d5e94e9c27bdb67f5e6bcca20ca.gif\\\" alt=\\\"Recording 2024-03-11 174840\\\" data-base62-sha1=\\\"y01hxmEQUqLOr2iY7s7CekPiZdg\\\" width=\\\"522\\\" height=\\\"500\\\" class=\\\"animated\\\"\\u003e\\u003c/p\\u003e\\n\\u003cp\\u003eThis is the path that drives incorrectly.\\u003c/p\\u003e\\n\\u003cp\\u003eHere is how our auto builder is being configured:\\u003c/p\\u003e\\n\\u003cpre\\u003e\\u003ccode class=\\\"lang-auto\\\"\\u003e// / Setup autobuilder for pathplannerlib\\n    pathplanner::AutoBuilder::configureHolonomic(\\n        [this](){ return GetEstimatedPose(); }, // Robot pose supplier\\n        [this](frc::Pose2d pose){ SetPose(pose, false); }, // Method to reset odometry (will be called if your auto has a starting pose)\\n        [this](){ return GetRobotRelativeSpeeds(); }, // ChassisSpeeds supplier. MUST BE ROBOT RELATIVE\\n        [this](frc::ChassisSpeeds speeds){ DriveRobotRelative(speeds); }, // Method that will drive the robot given ROBOT RELATIVE ChassisSpeeds\\n        // [this](frc::ChassisSpeeds speeds){},\\n        AutoConstants::autoConfig,\\n        []() {\\n            // Boolean supplier that controls when the path will be mirrored for the red alliance\\n            // This will flip the path being followed to the red side of the field.\\n            // THE ORIGIN WILL REMAIN ON THE BLUE SIDE\\n\\n            auto alliance = frc::DriverStation::GetAlliance();\\n            if (alliance) {\\n                return alliance.value() == frc::DriverStation::Alliance::kRed;\\n            }\\n            return false;\\n        },\\n        this // Reference to this subsystem to set requirements\\n    );\\n\\u003c/code\\u003e\\u003c/pre\\u003e\\n\\u003cpre\\u003e\\u003ccode class=\\\"lang-auto\\\"\\u003e   constexpr auto kDriveBaseRadius {0.282575_m};\\n    constexpr auto kMaxAutoSpeed{3.0_mps};\\n    constexpr double kPTranslationAuto {4.5};\\n    constexpr double kITranslationAuto {0.0};\\n    constexpr double kDTranslationAuto {0.0};\\n    // 4.0\\n    constexpr double kPRotationAuto {0.0};\\n    constexpr double kIRotationAuto {0.0};\\n    constexpr double kDRotationAuto {0.0};\\n    const pathplanner::HolonomicPathFollowerConfig autoConfig {\\n        pathplanner::PIDConstants(kPTranslationAuto, kITranslationAuto, kDTranslationAuto), // Translation PID constants\\n        pathplanner::PIDConstants(kPRotationAuto, kIRotationAuto, kDRotationAuto), // Rotation PID constants\\n        kMaxAutoSpeed, // Max module speed, in m/s\\n        kDriveBaseRadius, // Drive base radius in meters. Distance from robot center to furthest module.\\n        pathplanner::ReplanningConfig() // Defaults to replanning if robot is not at starting point, doesn't replan if robot strays too far\\n    };\\n\\u003c/code\\u003e\\u003c/pre\\u003e\\n\\u003cp\\u003eThe robot’s estimated pose from \\u003ccode\\u003eGetEstimatedPose()\\u003c/code\\u003e is being calculated from both the odometry and vision systems combined, and works properly/gives accurate values in teleop. \\u003ccode\\u003eGetRobotRelativeSpeeds()\\u003c/code\\u003e also reports correct values. However, calling \\u003ccode\\u003eDriveRobotRelative()\\u003c/code\\u003e from pathplanner will drive in reverse unless the chassis speeds are inverted. I’m wondering if this has anything to do with the issue.\\u003c/p\\u003e\\n\\u003cp\\u003eHere’s a link to the full code for all relevant files in case it helps:\\u003c/p\\u003e\\u003caside class=\\\"onebox githubgist\\\" data-onebox-src=\\\"https://gist.github.com/PopcornEggs/9e5f4f3ef542baa1144dcf3e8875228b\\\"\\u003e\\n  \\u003cheader class=\\\"source\\\"\\u003e\\n\\n      \\u003ca href=\\\"https://gist.github.com/PopcornEggs/9e5f4f3ef542baa1144dcf3e8875228b\\\" target=\\\"_blank\\\" rel=\\\"noopener nofollow ugc\\\"\\u003egist.github.com\\u003c/a\\u003e\\n  \\u003c/header\\u003e\\n\\n  \\u003carticle class=\\\"onebox-body\\\"\\u003e\\n    \\u003ch4\\u003e\\u003ca href=\\\"https://gist.github.com/PopcornEggs/9e5f4f3ef542baa1144dcf3e8875228b\\\" target=\\\"_blank\\\" rel=\\\"noopener nofollow ugc\\\"\\u003ehttps://gist.github.com/PopcornEggs/9e5f4f3ef542baa1144dcf3e8875228b\\u003c/a\\u003e\\u003c/h4\\u003e\\n\\n  \\u003ch5\\u003eAutoConstants.h\\u003c/h5\\u003e\\n  \\u003cpre\\u003e\\u003ccode class=\\\"C++\\\"\\u003e#pragma once\\n\\n#include \\u0026lt;pathplanner/lib/util/PIDConstants.h\\u0026gt;\\n#include \\u0026lt;pathplanner/lib/util/HolonomicPathFollowerConfig.h\\u0026gt;\\n\\n#define Pi 3.14159265358979323846\\n\\nenum class StartingPosition { RedAmp, RedMid, RedSource, BlueAmp, BlueMid, BlueSource };\\n\\nnamespace AutoConstants {\\u003c/code\\u003e\\u003c/pre\\u003e\\n    This file has been truncated. \\u003ca href=\\\"https://gist.github.com/PopcornEggs/9e5f4f3ef542baa1144dcf3e8875228b\\\" target=\\\"_blank\\\" rel=\\\"noopener nofollow ugc\\\"\\u003eshow original\\u003c/a\\u003e\\n  \\u003ch5\\u003eSwerveDrive.cpp\\u003c/h5\\u003e\\n  \\u003cpre\\u003e\\u003ccode class=\\\"C++\\\"\\u003e#include \\\"subsystems/SwerveDrive.h\\\"\\n\\nSwerveDrive::SwerveDrive(PoseEstimatorHelper *helper):\\nm_modules{\\n  {+SwerveDriveConstants::kXDistanceFromCenter, +SwerveDriveConstants::kYDistanceFromCenter},\\n  {+SwerveDriveConstants::kXDistanceFromCenter, -SwerveDriveConstants::kYDistanceFromCenter},\\n  {-SwerveDriveConstants::kXDistanceFromCenter, +SwerveDriveConstants::kYDistanceFromCenter},\\n  {-SwerveDriveConstants::kXDistanceFromCenter, -SwerveDriveConstants::kYDistanceFromCenter},\\n  {0, SwerveModuleConstants::kFrontLeftDriveID, SwerveModuleConstants::kFrontLeftAngleID,\\n   SwerveModuleConstants::kFrontLeftCANcoderID, SwerveModuleConstants::kFrontLeftOffset},\\u003c/code\\u003e\\u003c/pre\\u003e\\n    This file has been truncated. \\u003ca href=\\\"https://gist.github.com/PopcornEggs/9e5f4f3ef542baa1144dcf3e8875228b\\\" target=\\\"_blank\\\" rel=\\\"noopener nofollow ugc\\\"\\u003eshow original\\u003c/a\\u003e\\n  \\u003ch5\\u003eSwerveDriveConstants.h\\u003c/h5\\u003e\\n  \\u003cpre\\u003e\\u003ccode class=\\\"C++\\\"\\u003e#pragma once\\n\\n#include \\u0026lt;units/acceleration.h\\u0026gt;\\n#include \\u0026lt;units/angular_acceleration.h\\u0026gt;\\n#include \\u0026lt;frc/kinematics/SwerveDriveKinematics.h\\u0026gt;\\n\\n#define Pi 3.14159265358979323846\\n\\nnamespace SwerveDriveConstants {\\n    constexpr int kGyroID {13};\\u003c/code\\u003e\\u003c/pre\\u003e\\n    This file has been truncated. \\u003ca href=\\\"https://gist.github.com/PopcornEggs/9e5f4f3ef542baa1144dcf3e8875228b\\\" target=\\\"_blank\\\" rel=\\\"noopener nofollow ugc\\\"\\u003eshow original\\u003c/a\\u003e\\n\\n\\u003cp\\u003e\\n    There are more than three files. \\u003ca href=\\\"https://gist.github.com/PopcornEggs/9e5f4f3ef542baa1144dcf3e8875228b\\\" target=\\\"_blank\\\" rel=\\\"noopener nofollow ugc\\\"\\u003eshow original\\u003c/a\\u003e\\n\\u003c/p\\u003e\\n\\n  \\u003c/article\\u003e\\n\\n  \\u003cdiv class=\\\"onebox-metadata\\\"\\u003e\\n    \\n    \\n  \\u003c/div\\u003e\\n\\n  \\u003cdiv style=\\\"clear: both\\\"\\u003e\\u003c/div\\u003e\\n\\u003c/aside\\u003e\\n\\n\\u003cp\\u003eThanks in advance!\\u003c/p\\u003e\",\"post_number\":1,\"post_type\":1,\"posts_count\":11,\"updated_at\":\"2024-03-12T01:20:33.944Z\",\"reply_count\":0,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":223,\"reads\":165,\"readers_count\":164,\"score\":1223.0,\"yours\":false,\"topic_id\":458354,\"topic_slug\":\"pathplanner-pid-rotation-issues\",\"display_username\":\"\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"link_counts\":[{\"url\":\"https://gist.github.com/PopcornEggs/9e5f4f3ef542baa1144dcf3e8875228b\",\"internal\":false,\"reflection\":false,\"title\":\"AutoConstants.h · GitHub\",\"clicks\":3}],\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":5}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":65004,\"hidden\":false,\"trust_level\":1,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"\"},\"post_url\":\"/t/pathplanner-pid-rotation-issues/458354/1\",\"custom_user_title\":null,\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":5}],\"current_user_reaction\":null,\"reaction_users_count\":5,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true,\"can_vote\":false},{\"id\":3331097,\"name\":\"Andy Gasser\",\"username\":\"gdefender\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/gdefender/{size}/168507_2.png\",\"created_at\":\"2024-03-12T15:05:43.798Z\",\"cooked\":\"\\u003cp\\u003eCan you share all of your code? The easiest way is to upload it to a public GitHub repository and share a link.\\u003c/p\\u003e\\n\\u003cp\\u003eMy guess is that your drive code isn’t right, it’s not PathPlanner. Look at this \\u003ca href=\\\"https://docs.wpilib.org/en/stable/docs/software/basic-programming/coordinate-system.html\\\" rel=\\\"noopener nofollow ugc\\\"\\u003eCoordinate System\\u003c/a\\u003e document and see if it looks like what you have.\\u003c/p\\u003e\\n\\u003cp\\u003eMy guess is that your gyro is not rotating the correct direction. When the robot rotates counter-clockwise (left) the value from the gyro should get \\u003cem\\u003elarger\\u003c/em\\u003e.\\u003c/p\\u003e\\n\\u003cp\\u003eIt’s not clear from your post, but you also mentioned something about driving in reverse. If that’s the case, you probably are driving your robot “backwards” in teleop, this is a common mistake. Joysticks and XBox controllers produce a \\u003cem\\u003enegative\\u003c/em\\u003e Y value when you push the stick upward. \\u003ca href=\\\"https://docs.wpilib.org/en/stable/docs/software/basic-programming/coordinate-system.html#joystick-and-controller-coordinate-system\\\" rel=\\\"noopener nofollow ugc\\\"\\u003eThe X and Y translation, as well as the rotation need to be inverted\\u003c/a\\u003e to drive correctly.\\u003c/p\\u003e\",\"post_number\":2,\"post_type\":1,\"posts_count\":11,\"updated_at\":\"2024-03-12T15:06:08.547Z\",\"reply_count\":1,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":1,\"reads\":121,\"readers_count\":120,\"score\":34.2,\"yours\":false,\"topic_id\":458354,\"topic_slug\":\"pathplanner-pid-rotation-issues\",\"display_username\":\"Andy Gasser\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"link_counts\":[{\"url\":\"https://docs.wpilib.org/en/stable/docs/software/basic-programming/coordinate-system.html\",\"internal\":false,\"reflection\":false,\"title\":\"Coordinate System — FIRST Robotics Competition documentation\",\"clicks\":5},{\"url\":\"https://docs.wpilib.org/en/stable/docs/software/basic-programming/coordinate-system.html#joystick-and-controller-coordinate-system\",\"internal\":false,\"reflection\":false,\"title\":\"Coordinate System — FIRST Robotics Competition documentation\",\"clicks\":0}],\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":44380,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"7028 - Java Programming Mentor\"},\"post_url\":\"/t/pathplanner-pid-rotation-issues/458354/2\",\"custom_user_title\":\"7028 - Java Programming Mentor\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3331255,\"name\":\"\",\"username\":\"Popcorn\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/popcorn/{size}/219298_2.png\",\"created_at\":\"2024-03-12T17:13:35.536Z\",\"cooked\":\"\\u003cp\\u003eSure, here’s the link:\\u003c/p\\u003e\\u003caside class=\\\"onebox allowlistedgeneric\\\" data-onebox-src=\\\"https://github.com/FIRSTTeam3189/Robot2024/\\\"\\u003e\\n  \\u003cheader class=\\\"source\\\"\\u003e\\n      \\u003cimg src=\\\"https://github.githubassets.com/favicons/favicon.svg\\\" class=\\\"site-icon\\\" width=\\\"32\\\" height=\\\"32\\\"\\u003e\\n\\n      \\u003ca href=\\\"https://github.com/FIRSTTeam3189/Robot2024/\\\" target=\\\"_blank\\\" rel=\\\"noopener nofollow ugc\\\"\\u003eGitHub\\u003c/a\\u003e\\n  \\u003c/header\\u003e\\n\\n  \\u003carticle class=\\\"onebox-body\\\"\\u003e\\n    \\u003cdiv class=\\\"aspect-image\\\" style=\\\"--aspect-ratio:690/344;\\\"\\u003e\\u003cimg src=\\\"https://opengraph.githubassets.com/1596e0544429b71201dbc2d56e67d164707f2d718637a2bcef7761bb588a869e/FIRSTTeam3189/Robot2024\\\" class=\\\"thumbnail\\\" width=\\\"690\\\" height=\\\"345\\\"\\u003e\\u003c/div\\u003e\\n\\n\\u003ch3\\u003e\\u003ca href=\\\"https://github.com/FIRSTTeam3189/Robot2024/\\\" target=\\\"_blank\\\" rel=\\\"noopener nofollow ugc\\\"\\u003eGitHub - FIRSTTeam3189/Robot2024\\u003c/a\\u003e\\u003c/h3\\u003e\\n\\n  \\u003cp\\u003eContribute to FIRSTTeam3189/Robot2024 development by creating an account on GitHub.\\u003c/p\\u003e\\n\\n\\n  \\u003c/article\\u003e\\n\\n  \\u003cdiv class=\\\"onebox-metadata\\\"\\u003e\\n    \\n    \\n  \\u003c/div\\u003e\\n\\n  \\u003cdiv style=\\\"clear: both\\\"\\u003e\\u003c/div\\u003e\\n\\u003c/aside\\u003e\\n\\n\\u003cp\\u003eThe value from the gyroscope does get larger as the robot rotates counterclockwise. Also, in my opinion, the robot should not be able to correct rotational error during a straight path if the gyro is inverted.\\u003c/p\\u003e\\n\\u003cp\\u003eThe joystick values are being inverted, in Commands/Drive.cpp here:\\u003c/p\\u003e\\n\\u003cpre\\u003e\\u003ccode class=\\\"lang-auto\\\"\\u003eallianceSide = frc::DriverStation::GetAlliance();\\n  double joystickX = 0.0, joystickY = 0.0;\\n  if (m_allianceSide) {\\n    if (m_allianceSide.value() == frc::DriverStation::Alliance::kRed) {\\n      frc::SmartDashboard::PutString(\\\"Alliance\\\", \\\"red\\\");\\n      joystickX = m_bill-\\u0026gt;GetRawAxis(OperatorConstants::kAxisRightStickY);\\n      joystickY = m_bill-\\u0026gt;GetRawAxis(OperatorConstants::kAxisRightStickX);\\n    } else {\\n      frc::SmartDashboard::PutString(\\\"Alliance\\\", \\\"blue\\\");\\n      joystickX = -(m_bill-\\u0026gt;GetRawAxis(OperatorConstants::kAxisRightStickY));\\n      joystickY = -(m_bill-\\u0026gt;GetRawAxis(OperatorConstants::kAxisRightStickX));\\n\\n\\u003c/code\\u003e\\u003c/pre\\u003e\\n\\u003cp\\u003eThe only strange thing I’ve seen is that the autonomous is using \\u003ccode\\u003em_pigeon.GetRotation2d()\\u003c/code\\u003e directly, so the value isn’t normalized to (-Pi, Pi). However, I don’t understand why this would immediately cause a path to fail for rotations less than pi radians.\\u003c/p\\u003e\",\"post_number\":3,\"post_type\":1,\"posts_count\":11,\"updated_at\":\"2024-03-12T17:13:35.536Z\",\"reply_count\":1,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":56,\"reads\":113,\"readers_count\":112,\"score\":307.6,\"yours\":false,\"topic_id\":458354,\"topic_slug\":\"pathplanner-pid-rotation-issues\",\"display_username\":\"\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"link_counts\":[{\"url\":\"https://github.com/FIRSTTeam3189/Robot2024/\",\"internal\":false,\"reflection\":false,\"title\":\"GitHub - FIRSTTeam3189/Robot2024\",\"clicks\":1}],\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":65004,\"hidden\":false,\"trust_level\":1,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"\"},\"post_url\":\"/t/pathplanner-pid-rotation-issues/458354/3\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3331288,\"name\":\"Dan Langdon\",\"username\":\"woodworker2001\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/w/bbe5ce/{size}.png\",\"created_at\":\"2024-03-12T17:37:40.093Z\",\"cooked\":\"\\u003caside class=\\\"quote no-group\\\" data-username=\\\"gdefender\\\" data-post=\\\"2\\\" data-topic=\\\"458354\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg loading=\\\"lazy\\\" alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/user_avatar/www.chiefdelphi.com/gdefender/48/168507_2.png\\\" class=\\\"avatar\\\"\\u003e gdefender:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003eMy guess is that your gyro is not rotating the correct direction. When the robot rotates counter-clockwise (left) the value from the gyro should get \\u003cem\\u003elarger\\u003c/em\\u003e.\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003cp\\u003eThis would also be my first guess and most common problem\\u003c/p\\u003e\",\"post_number\":4,\"post_type\":1,\"posts_count\":11,\"updated_at\":\"2024-03-12T17:37:40.093Z\",\"reply_count\":0,\"reply_to_post_number\":2,\"quote_count\":1,\"incoming_link_count\":0,\"reads\":94,\"readers_count\":93,\"score\":18.8,\"yours\":false,\"topic_id\":458354,\"topic_slug\":\"pathplanner-pid-rotation-issues\",\"display_username\":\"Dan Langdon\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":null,\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":51496,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"post_url\":\"/t/pathplanner-pid-rotation-issues/458354/4\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3331315,\"name\":\"Andy Gasser\",\"username\":\"gdefender\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/gdefender/{size}/168507_2.png\",\"created_at\":\"2024-03-12T17:58:43.745Z\",\"cooked\":\"\\u003cp\\u003eI see the code you copied in your \\u003ccode\\u003eGetDesiredRotationalVelocity()\\u003c/code\\u003e method, but it’s opposite in \\u003ccode\\u003eexecute()\\u003c/code\\u003e:\\u003c/p\\u003e\\n\\u003cpre\\u003e\\u003ccode class=\\\"lang-auto\\\"\\u003e  m_allianceSide = frc::DriverStation::GetAlliance();\\n  if (m_allianceSide) {\\n    if (m_allianceSide.value() == frc::DriverStation::Alliance::kRed) {\\n      joystickX = -m_bill-\\u0026gt;GetRawAxis(OperatorConstants::kAxisLeftStickY);\\n      joystickY = -m_bill-\\u0026gt;GetRawAxis(OperatorConstants::kAxisLeftStickX);\\n    } else {\\n      joystickX = m_bill-\\u0026gt;GetRawAxis(OperatorConstants::kAxisLeftStickY);\\n      joystickY = m_bill-\\u0026gt;GetRawAxis(OperatorConstants::kAxisLeftStickX);\\n    }\\n  }\\n\\u003c/code\\u003e\\u003c/pre\\u003e\\n\\u003cp\\u003eAssuming you’re using an “Always blue origin” scheme, you need be inverting your joystick translation when you’re blue and not inverting when you’re red.\\u003c/p\\u003e\\n\\u003cp\\u003eYou always want to invert your joystick rotation. Rotation is \\u003cem\\u003ealways\\u003c/em\\u003e counter-clockwise positive, regardless of alliance color.\\u003c/p\\u003e\",\"post_number\":5,\"post_type\":1,\"posts_count\":11,\"updated_at\":\"2024-03-12T17:58:43.745Z\",\"reply_count\":1,\"reply_to_post_number\":3,\"quote_count\":0,\"incoming_link_count\":1,\"reads\":90,\"readers_count\":89,\"score\":28.0,\"yours\":false,\"topic_id\":458354,\"topic_slug\":\"pathplanner-pid-rotation-issues\",\"display_username\":\"Andy Gasser\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"reply_to_user\":{\"id\":65004,\"username\":\"Popcorn\",\"name\":\"\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/popcorn/{size}/219298_2.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":44380,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"7028 - Java Programming Mentor\"},\"post_url\":\"/t/pathplanner-pid-rotation-issues/458354/5\",\"custom_user_title\":\"7028 - Java Programming Mentor\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3331423,\"name\":\"\",\"username\":\"Popcorn\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/popcorn/{size}/219298_2.png\",\"created_at\":\"2024-03-12T19:03:57.975Z\",\"cooked\":\"\\u003cp\\u003eI understand, and we are using blue alliance origin always. However. we are using an alternate control scheme where the angle of the rotation joystick corresponds to the angle of the robot directly, rather than the robot’s rotational velocity.\\u003c/p\\u003e\\n\\u003cp\\u003eThe joysticks are inverted because forward on blue alliance is 0 degrees but forward on red is 180. You can see the rotation is always inverted when it is returned from \\u003ccode\\u003eGetDesiredRotationalVelocity()\\u003c/code\\u003e.\\u003c/p\\u003e\\n\\u003cp\\u003eThis is likely unrelated to the actual issue as the drive command is only used in teleop; all the autonomous functions are the ones used by AutoBuilder in \\u003ccode\\u003eSwerveDrive.cpp\\u003c/code\\u003e. \\u003ccode\\u003eDrive.cpp\\u003c/code\\u003e works correctly, so any discrepancies would be for \\u003ccode\\u003eSwerveDrive.cpp\\u003c/code\\u003e.\\u003c/p\\u003e\",\"post_number\":6,\"post_type\":1,\"posts_count\":11,\"updated_at\":\"2024-03-12T19:04:51.902Z\",\"reply_count\":2,\"reply_to_post_number\":5,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":75,\"readers_count\":74,\"score\":25.0,\"yours\":false,\"topic_id\":458354,\"topic_slug\":\"pathplanner-pid-rotation-issues\",\"display_username\":\"\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":2,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"reply_to_user\":{\"id\":44380,\"username\":\"gdefender\",\"name\":\"Andy Gasser\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/gdefender/{size}/168507_2.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":65004,\"hidden\":false,\"trust_level\":1,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"\"},\"post_url\":\"/t/pathplanner-pid-rotation-issues/458354/6\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3331459,\"name\":\"Andy Gasser\",\"username\":\"gdefender\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/gdefender/{size}/168507_2.png\",\"created_at\":\"2024-03-12T19:39:21.390Z\",\"cooked\":\"\\u003caside class=\\\"quote no-group\\\" data-username=\\\"Popcorn\\\" data-post=\\\"6\\\" data-topic=\\\"458354\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg loading=\\\"lazy\\\" alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/user_avatar/www.chiefdelphi.com/popcorn/48/219298_2.png\\\" class=\\\"avatar\\\"\\u003e Popcorn:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003eThis is likely unrelated to the actual issue as the drive command is only used in teleop; all the autonomous functions are the ones used by AutoBuilder in \\u003ccode\\u003eSwerveDrive.cpp\\u003c/code\\u003e. \\u003ccode\\u003eDrive.cpp\\u003c/code\\u003e works correctly, so any discrepancies would be for \\u003ccode\\u003eSwerveDrive.cpp\\u003c/code\\u003e.\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003cp\\u003eI always start with the teleop controls when all I have access to is the code, because it’s impossible to determine the proper motor inversions without access to the robot. The fact that you’re driving the robot “backwards” in teleop is an indication that your motor inverts (and probably your offsets) are incorrect. PathPlanner is going to give you a positive X value when it wants you to drive toward the red alliance wall. If positive X values drive your robot toward the blue alliance wall, you might think PathPlanner is wrong because your teleop code is “working”, but it’s actually your drivetrain that is wrong. Your teleop is just working around it to get the behavior you want.\\u003c/p\\u003e\\n\\u003cp\\u003eSince you have physical access to your robot, I suggest you start at the beginning and verify you are using the correct coordinate system.\\u003c/p\\u003e\\n\\u003col\\u003e\\n\\u003cli\\u003eUsing Tuner X, blink every one of your devices and make sure the ID matches what you have in your \\u003ccode\\u003eSwerveModuleConstants\\u003c/code\\u003e. I think this is probably right, but it’s worth taking a minute to verify.\\u003c/li\\u003e\\n\\u003cli\\u003eUsing Tuner X, graph the current position of each CANCoder, one at a time, and rotate it counter-clockwise / left (when viewed from the top). Confirm the position gets \\u003cem\\u003elarger\\u003c/em\\u003e. If it gets smaller, flip your CANCoder inversion.\\u003c/li\\u003e\\n\\u003cli\\u003eUsing Tuner X, graph the current position of each of your steer motors, one at a time, and rotate it counter-clockwise / left (when viewed from the top). Confirm the position gets \\u003cem\\u003elarger\\u003c/em\\u003e. If it gets smaller, flip your motor inversion.\\u003c/li\\u003e\\n\\u003cli\\u003eAlign all of your wheels so they’re pointed roughly forward (check that the bezel gears are all pointed the way you expect.) Using Tuner X, confirm that the current position reports roughly zero, not 0.5. If it’s 0.5 (or another value), your offsets are wrong. Don’t skip this step, it’s very common that the offsets are off by 0.5 rotations when teams have the behavior you’re seeing.\\u003c/li\\u003e\\n\\u003cli\\u003eMake sure the wheels are still pointed forward. Using Tuner X, graph the current position of each of your drive motors, one at a time, and spin it in the \\u003cem\\u003eforward\\u003c/em\\u003e direction. Confirm the position gets \\u003cem\\u003elarger\\u003c/em\\u003e. If it gets smaller, flip your motor inversion.\\u003c/li\\u003e\\n\\u003c/ol\\u003e\\n\\u003cp\\u003eIf any of the inversions were wrong, you’ll need to adjust the relevant code to set the correct output. For example, if the steer was wrong, you’ll need to adjust the rotation from your joysticks. If the drive motor was wrong, you’ll need to adjust your translation from your joysticks.\\u003c/p\\u003e\",\"post_number\":7,\"post_type\":1,\"posts_count\":11,\"updated_at\":\"2024-03-12T19:40:38.599Z\",\"reply_count\":0,\"reply_to_post_number\":6,\"quote_count\":1,\"incoming_link_count\":10,\"reads\":66,\"readers_count\":65,\"score\":63.2,\"yours\":false,\"topic_id\":458354,\"topic_slug\":\"pathplanner-pid-rotation-issues\",\"display_username\":\"Andy Gasser\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":44380,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"7028 - Java Programming Mentor\"},\"post_url\":\"/t/pathplanner-pid-rotation-issues/458354/7\",\"custom_user_title\":\"7028 - Java Programming Mentor\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":true,\"topic_accepted_answer\":true},{\"id\":3331468,\"name\":\"Andy Gasser\",\"username\":\"gdefender\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/gdefender/{size}/168507_2.png\",\"created_at\":\"2024-03-12T19:47:06.592Z\",\"cooked\":\"\\u003caside class=\\\"quote no-group\\\" data-username=\\\"Popcorn\\\" data-post=\\\"6\\\" data-topic=\\\"458354\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg loading=\\\"lazy\\\" alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/user_avatar/www.chiefdelphi.com/popcorn/48/219298_2.png\\\" class=\\\"avatar\\\"\\u003e Popcorn:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003eThe joysticks are inverted because forward on blue alliance is 0 degrees but forward on red is 180.\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003cul\\u003e\\n\\u003cli\\u003ePositive X will move the robot toward the red alliance wall.\\u003c/li\\u003e\\n\\u003cli\\u003eJoystick inputs are negative when you push forward.\\u003c/li\\u003e\\n\\u003cli\\u003eIf you’re standing in a blue alliance driver station and looking toward the red alliance wall, you want to push forward on the stick to drive toward the red alliance wall.\\u003c/li\\u003e\\n\\u003cli\\u003ePushing forward on the stick produces a \\u003cem\\u003enegative\\u003c/em\\u003e value on the joystick’s Y axis. You want to drive the robot in the \\u003cem\\u003epositive\\u003c/em\\u003e X direction on the field.\\u003c/li\\u003e\\n\\u003c/ul\\u003e\\n\\u003cp\\u003eThis means when you’re blue, you need to invert the joystick translation controls. When you are red, you do not. Now, look at your code in \\u003ccode\\u003eperiodic()\\u003c/code\\u003e, it’s backwards.\\u003c/p\\u003e\",\"post_number\":8,\"post_type\":1,\"posts_count\":11,\"updated_at\":\"2024-03-12T19:48:10.585Z\",\"reply_count\":1,\"reply_to_post_number\":6,\"quote_count\":1,\"incoming_link_count\":0,\"reads\":59,\"readers_count\":58,\"score\":16.8,\"yours\":false,\"topic_id\":458354,\"topic_slug\":\"pathplanner-pid-rotation-issues\",\"display_username\":\"Andy Gasser\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":44380,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"7028 - Java Programming Mentor\"},\"post_url\":\"/t/pathplanner-pid-rotation-issues/458354/8\",\"custom_user_title\":\"7028 - Java Programming Mentor\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3331481,\"name\":\"\",\"username\":\"Popcorn\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/popcorn/{size}/219298_2.png\",\"created_at\":\"2024-03-12T19:59:55.331Z\",\"cooked\":\"\\u003cp\\u003eSorry, I was looking at the code in \\u003ccode\\u003eGetDesiredRotationalVelocity\\u003c/code\\u003e where the inversions do match the NWU axes. I see now that it is the wrong way in \\u003ccode\\u003eExecute()\\u003c/code\\u003e.\\u003c/p\\u003e\\n\\u003cp\\u003eI might not have access to the robot tonight, but will check those steps and the gyroscope tonight if I do; I suspect there is something wrong along the way since we switched which side of the robot is “forward” after we initially did similar setup steps.\\u003c/p\\u003e\\n\\u003cp\\u003eI’m not quite sure still if our behavior, where it drives a non-rotating path fine, will be fixed by just the inversions but I’ll update the thread once I find out. Thanks for all the help!\\u003c/p\\u003e\",\"post_number\":9,\"post_type\":1,\"posts_count\":11,\"updated_at\":\"2024-03-12T19:59:55.331Z\",\"reply_count\":1,\"reply_to_post_number\":8,\"quote_count\":0,\"incoming_link_count\":3,\"reads\":51,\"readers_count\":50,\"score\":30.2,\"yours\":false,\"topic_id\":458354,\"topic_slug\":\"pathplanner-pid-rotation-issues\",\"display_username\":\"\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"reply_to_user\":{\"id\":44380,\"username\":\"gdefender\",\"name\":\"Andy Gasser\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/gdefender/{size}/168507_2.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":65004,\"hidden\":false,\"trust_level\":1,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"\"},\"post_url\":\"/t/pathplanner-pid-rotation-issues/458354/9\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3331489,\"name\":\"Andy Gasser\",\"username\":\"gdefender\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/gdefender/{size}/168507_2.png\",\"created_at\":\"2024-03-12T20:05:23.936Z\",\"cooked\":\"\\u003cp\\u003eMake sure you also verify your gyro rotation. If it’s backwards, it might drive a straight path fine, if it’s within tolerance and doesn’t need correction.\\u003c/p\\u003e\\n\\u003cp\\u003eIf the gyro is backwards, it would rotate out of control because the error would get larger when it’s supposed to get smaller.\\u003c/p\\u003e\",\"post_number\":10,\"post_type\":1,\"posts_count\":11,\"updated_at\":\"2024-03-12T20:05:23.936Z\",\"reply_count\":0,\"reply_to_post_number\":9,\"quote_count\":0,\"incoming_link_count\":1,\"reads\":47,\"readers_count\":46,\"score\":29.4,\"yours\":false,\"topic_id\":458354,\"topic_slug\":\"pathplanner-pid-rotation-issues\",\"display_username\":\"Andy Gasser\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"reply_to_user\":{\"id\":65004,\"username\":\"Popcorn\",\"name\":\"\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/popcorn/{size}/219298_2.png\"},\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":1}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":44380,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"7028 - Java Programming Mentor\"},\"post_url\":\"/t/pathplanner-pid-rotation-issues/458354/10\",\"custom_user_title\":\"7028 - Java Programming Mentor\",\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":1}],\"current_user_reaction\":null,\"reaction_users_count\":1,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3555439,\"name\":\"system\",\"username\":\"system\",\"avatar_template\":\"/uploads/default/original/4X/9/3/2/93234578e69f55873c63fc00fe2d0d85f23bce55.png\",\"created_at\":\"2025-03-12T20:06:03.077Z\",\"cooked\":\"\\u003cp\\u003eThis topic was automatically closed 365 days after the last reply. New replies are no longer allowed.\\u003c/p\\u003e\",\"post_number\":11,\"post_type\":3,\"posts_count\":11,\"updated_at\":\"2025-03-12T20:06:03.077Z\",\"reply_count\":0,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":1,\"reads\":6,\"readers_count\":5,\"score\":6.2,\"yours\":false,\"topic_id\":458354,\"topic_slug\":\"pathplanner-pid-rotation-issues\",\"display_username\":\"system\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[],\"moderator\":true,\"admin\":true,\"staff\":true,\"user_id\":-1,\"hidden\":false,\"trust_level\":4,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"action_code\":\"autoclosed.enabled\",\"post_url\":\"/t/pathplanner-pid-rotation-issues/458354/11\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true}],\"stream\":[3330702,3331097,3331255,3331288,3331315,3331423,3331459,3331468,3331481,3331489,3555439]},\"timeline_lookup\":[[1,579],[2,578],[11,213]],\"suggested_topics\":[{\"fancy_title\":\"Odomtry with Limelight\",\"id\":472861,\"title\":\"Odomtry with Limelight\",\"slug\":\"odomtry-with-limelight\",\"posts_count\":2,\"reply_count\":0,\"highest_post_number\":2,\"image_url\":null,\"created_at\":\"2024-10-12T11:45:18.815Z\",\"last_posted_at\":\"2024-10-12T12:11:18.264Z\",\"bumped\":true,\"bumped_at\":\"2024-10-12T12:11:18.264Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"I know how use odometry with LL 3, but only for the ApriTag on Crescendo, but after the championship, my team designated a new challenge for construct a new robot, so on this challenge the AprilTag ha…\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[],\"tags_descriptions\":{},\"like_count\":1,\"views\":219,\"category_id\":30,\"featured_link\":null,\"has_accepted_answer\":false,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3433925,\"topic_post_liked\":false,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":false,\"topic_post_is_current_users\":null,\"topic_post_number\":1,\"topic_post_user\":{\"id\":62483,\"username\":\"oGuizim\",\"name\":\"Guilherme\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/o/e9bcb4/{size}.png\"},\"posters\":[{\"extras\":null,\"description\":\"Original Poster\",\"user\":{\"id\":62483,\"username\":\"oGuizim\",\"name\":\"Guilherme\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/o/e9bcb4/{size}.png\",\"trust_level\":1}},{\"extras\":\"latest\",\"description\":\"Most Recent Poster\",\"user\":{\"id\":38557,\"username\":\"Bmongar\",\"name\":\"Brad\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/bmongar/{size}/228654_2.png\",\"trust_level\":2}}]},{\"fancy_title\":\"YAGSL Drive PIDF Tuning\",\"id\":481908,\"title\":\"YAGSL Drive PIDF Tuning\",\"slug\":\"yagsl-drive-pidf-tuning\",\"posts_count\":13,\"reply_count\":7,\"highest_post_number\":14,\"image_url\":null,\"created_at\":\"2025-01-15T17:05:10.149Z\",\"last_posted_at\":\"2025-01-16T09:51:01.564Z\",\"bumped\":true,\"bumped_at\":\"2025-01-16T09:51:01.564Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"Like @weepfrog said there is an attempt at a fix in the latest beta that you can install at If you do test it, let us know that it works so…\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[\"yagsl\"],\"tags_descriptions\":{},\"like_count\":3,\"views\":254,\"category_id\":30,\"featured_link\":null,\"has_accepted_answer\":true,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3483518,\"topic_post_liked\":false,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":true,\"topic_post_is_current_users\":null,\"topic_post_number\":3,\"topic_post_user\":{\"id\":51887,\"username\":\"nstrike\",\"name\":\"\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/nstrike/{size}/167038_2.png\"},\"posters\":[{\"extras\":\"latest\",\"description\":\"Original Poster, Most Recent Poster\",\"user\":{\"id\":69234,\"username\":\"csos\",\"name\":\"csos\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/c/58956e/{size}.png\",\"trust_level\":1}},{\"extras\":null,\"description\":\"Frequent Poster, Accepted Answer\",\"user\":{\"id\":51887,\"username\":\"nstrike\",\"name\":\"\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/nstrike/{size}/167038_2.png\",\"trust_level\":2}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":56609,\"username\":\"weepfrog\",\"name\":\"\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/w/e95f7d/{size}.png\",\"trust_level\":2}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":57204,\"username\":\"Prince\",\"name\":\"Prince\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/p/ba9def/{size}.png\",\"trust_level\":2}}]},{\"fancy_title\":\"Problem whith one Command of Pathplanner\",\"id\":483038,\"title\":\"Problem whith one Command of Pathplanner\",\"slug\":\"problem-whith-one-command-of-pathplanner\",\"posts_count\":1,\"reply_count\":0,\"highest_post_number\":1,\"image_url\":null,\"created_at\":\"2025-01-22T14:17:22.098Z\",\"last_posted_at\":\"2025-01-22T14:17:22.203Z\",\"bumped\":true,\"bumped_at\":\"2025-01-22T14:17:22.203Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"In this update, we are facing an issue with the swerveDrive.setHeadingCorrection() command because, in the previous version, this command was working. However, in this version, the robot’s modules mov…\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[\"robot\",\"swerve\",\"pathplanner\",\"yagsl\",\"command\"],\"tags_descriptions\":{},\"like_count\":0,\"views\":55,\"category_id\":30,\"featured_link\":null,\"has_accepted_answer\":false,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3489752,\"topic_post_liked\":false,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":false,\"topic_post_is_current_users\":null,\"topic_post_number\":1,\"topic_post_user\":{\"id\":69880,\"username\":\"henriquedsn\",\"name\":\"Henrique de Sousa Neves\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/h/4af34b/{size}.png\"},\"posters\":[{\"extras\":\"latest single\",\"description\":\"Original Poster, Most Recent Poster\",\"user\":{\"id\":69880,\"username\":\"henriquedsn\",\"name\":\"Henrique de Sousa Neves\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/h/4af34b/{size}.png\",\"trust_level\":2}}]},{\"fancy_title\":\"Force direction to setpoint\",\"id\":480229,\"title\":\"Force direction to setpoint\",\"slug\":\"force-direction-to-setpoint\",\"posts_count\":1,\"reply_count\":0,\"highest_post_number\":1,\"image_url\":null,\"created_at\":\"2025-01-08T20:47:57.842Z\",\"last_posted_at\":\"2025-01-08T20:47:57.899Z\",\"bumped\":true,\"bumped_at\":\"2025-01-08T20:47:57.899Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"If our team is going for a wrist mechanism. Would the robot pick the shortest way to get to a setpoint with an absolute encoder. Or is there a way we can control the direction of motion to achieve the…\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[\"pid\"],\"tags_descriptions\":{},\"like_count\":0,\"views\":73,\"category_id\":30,\"featured_link\":null,\"has_accepted_answer\":false,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3475753,\"topic_post_liked\":false,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":true,\"topic_post_is_current_users\":null,\"topic_post_number\":1,\"topic_post_user\":{\"id\":57204,\"username\":\"Prince\",\"name\":\"Prince\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/p/ba9def/{size}.png\"},\"posters\":[{\"extras\":\"latest single\",\"description\":\"Original Poster, Most Recent Poster\",\"user\":{\"id\":57204,\"username\":\"Prince\",\"name\":\"Prince\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/p/ba9def/{size}.png\",\"trust_level\":2}}]},{\"fancy_title\":\"Yagsl LockPose programming issue\",\"id\":484030,\"title\":\"Yagsl LockPose programming issue\",\"slug\":\"yagsl-lockpose-programming-issue\",\"posts_count\":2,\"reply_count\":0,\"highest_post_number\":2,\"image_url\":null,\"created_at\":\"2025-01-28T21:47:57.064Z\",\"last_posted_at\":\"2025-01-28T22:33:38.503Z\",\"bumped\":true,\"bumped_at\":\"2025-01-28T22:33:38.503Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"This is a (fairly bad imo) way to do lockPose. You just new to do something like return run(\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[\"robot\"],\"tags_descriptions\":{},\"like_count\":0,\"views\":50,\"category_id\":30,\"featured_link\":null,\"has_accepted_answer\":true,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3495150,\"topic_post_liked\":false,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":false,\"topic_post_is_current_users\":null,\"topic_post_number\":2,\"topic_post_user\":{\"id\":51887,\"username\":\"nstrike\",\"name\":\"\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/nstrike/{size}/167038_2.png\"},\"posters\":[{\"extras\":null,\"description\":\"Original Poster\",\"user\":{\"id\":70574,\"username\":\"Tatertotman\",\"name\":\"Tate\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/tatertotman/{size}/246170_2.png\",\"trust_level\":1}},{\"extras\":\"latest\",\"description\":\"Most Recent Poster, Accepted Answer\",\"user\":{\"id\":51887,\"username\":\"nstrike\",\"name\":\"\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/nstrike/{size}/167038_2.png\",\"trust_level\":2}}]}],\"tags\":[],\"tags_descriptions\":{},\"fancy_title\":\"Pathplanner PID rotation issues\",\"id\":458354,\"title\":\"Pathplanner PID rotation issues\",\"posts_count\":11,\"created_at\":\"2024-03-12T01:20:33.875Z\",\"views\":674,\"reply_count\":7,\"like_count\":6,\"last_posted_at\":\"2025-03-12T20:06:03.077Z\",\"visible\":true,\"closed\":true,\"archived\":false,\"has_summary\":false,\"archetype\":\"regular\",\"slug\":\"pathplanner-pid-rotation-issues\",\"category_id\":30,\"word_count\":1846,\"deleted_at\":null,\"user_id\":65004,\"featured_link\":null,\"pinned_globally\":false,\"pinned_at\":null,\"pinned_until\":null,\"image_url\":\"https://www.chiefdelphi.com/uploads/default/original/3X/a/c/ac00e457334d57151c7af97a81dc6c000861c9f0.gif\",\"slow_mode_seconds\":0,\"draft\":null,\"draft_key\":\"topic_458354\",\"draft_sequence\":null,\"unpinned\":null,\"pinned\":false,\"current_post_number\":1,\"highest_post_number\":11,\"deleted_by\":null,\"actions_summary\":[{\"id\":4,\"count\":0,\"hidden\":false,\"can_act\":false},{\"id\":8,\"count\":0,\"hidden\":false,\"can_act\":false},{\"id\":10,\"count\":0,\"hidden\":false,\"can_act\":false},{\"id\":7,\"count\":0,\"hidden\":false,\"can_act\":false}],\"chunk_size\":20,\"bookmarked\":false,\"topic_timer\":null,\"message_bus_last_id\":0,\"participant_count\":3,\"show_read_indicator\":false,\"thumbnails\":[{\"max_width\":null,\"max_height\":null,\"width\":610,\"height\":508,\"url\":\"https://www.chiefdelphi.com/uploads/default/original/3X/a/c/ac00e457334d57151c7af97a81dc6c000861c9f0.gif\"}],\"slow_mode_enabled_until\":null,\"valid_reactions\":[\"heart\",\"laughing\",\"point_up\",\"+1\",\"-1\",\"100\",\"open_mouth\",\"cry\",\"question\",\"thinking\",\"call_me_hand\",\"hugs\",\"angry\"],\"accepted_answer\":{\"post_number\":7,\"username\":\"gdefender\",\"name\":null,\"excerpt\":\"I always start with the teleop controls when all I have access to is the code, because it’s impossible to determine the proper motor inversions without access to the robot. The fact that you’re driving the robot “backwards” in teleop is an indication that your motor inverts (and probably your offse\\u0026hellip;\",\"accepter_name\":null},\"user_chosen_thumbnail_url\":null,\"sidecar_installed\":true,\"can_vote\":false,\"vote_count\":0,\"user_voted\":false,\"discourse_zendesk_plugin_zendesk_id\":null,\"discourse_zendesk_plugin_zendesk_url\":\"https://your-url.zendesk.com/agent/tickets/\",\"details\":{\"can_edit\":false,\"notification_level\":1,\"participants\":[{\"id\":44380,\"username\":\"gdefender\",\"name\":\"Andy Gasser\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/gdefender/{size}/168507_2.png\",\"post_count\":5,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":65004,\"username\":\"Popcorn\",\"name\":\"\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/popcorn/{size}/219298_2.png\",\"post_count\":4,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":1},{\"id\":51496,\"username\":\"woodworker2001\",\"name\":\"Dan Langdon\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/w/bbe5ce/{size}.png\",\"post_count\":1,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2}],\"created_by\":{\"id\":65004,\"username\":\"Popcorn\",\"name\":\"\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/popcorn/{size}/219298_2.png\"},\"last_poster\":{\"id\":-1,\"username\":\"system\",\"name\":\"system\",\"avatar_template\":\"/uploads/default/original/4X/9/3/2/93234578e69f55873c63fc00fe2d0d85f23bce55.png\"},\"links\":[{\"url\":\"https://docs.wpilib.org/en/stable/docs/software/basic-programming/coordinate-system.html\",\"title\":\"Coordinate System — FIRST Robotics Competition documentation\",\"internal\":false,\"attachment\":false,\"reflection\":false,\"clicks\":5,\"user_id\":44380,\"domain\":\"docs.wpilib.org\",\"root_domain\":\"wpilib.org\"},{\"url\":\"https://gist.github.com/PopcornEggs/9e5f4f3ef542baa1144dcf3e8875228b\",\"title\":\"AutoConstants.h · GitHub\",\"internal\":false,\"attachment\":false,\"reflection\":false,\"clicks\":3,\"user_id\":65004,\"domain\":\"gist.github.com\",\"root_domain\":\"github.com\"},{\"url\":\"https://github.com/FIRSTTeam3189/Robot2024/\",\"title\":\"GitHub - FIRSTTeam3189/Robot2024\",\"internal\":false,\"attachment\":false,\"reflection\":false,\"clicks\":1,\"user_id\":65004,\"domain\":\"github.com\",\"root_domain\":\"github.com\"}]},\"bookmarks\":[]}"}
