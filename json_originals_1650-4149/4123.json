{"data":"{\"post_stream\":{\"posts\":[{\"id\":3493460,\"name\":\"Peter\",\"username\":\"pgutkovi\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/p/8baadc/{size}.png\",\"created_at\":\"2025-01-27T03:00:40.038Z\",\"cooked\":\"\\u003cp\\u003eOur scoring mechanism for this year involves a manipulator that pivots on a wrist that moves up and down on a carriage on a slanted cascading elevator. The idea is to have the mechanisms travel to any pre-programmed preset (a preset being wrist angle and elevator height) for different scoring locations and to also have manual control over the mechanisms’ velocities with joysticks (as a backup in teleop). The mechanisms have no-go zones that vary depending on the elevator height/wrist angle. For example, if the elevator is low, the lower limit of the wrist angle changes (to prevent the manipulator from crashing into the chassis), and any wrist angle below that limit is a no-go zone, or if the wrist is angled high, the upper limit of the elevator height changes (to prevent the manipulator from crashing into the upper beam of the elevator), and any elevator height higher than that is a no-go zone. These no-go zones should be respected in both the preset control (have both mechanisms travel simultaneously while making sure a no-go zone is ever encountered), and teleop control (limit actuator motion once the mechanisms are detected to be in a no-go zone). What we are struggling with is figuring out in code if we are in a no-go zone and also how to generate motion profiles for the mechanisms (to reach a preset) that avoid no-go zones.\\u003c/p\\u003e\\n\\u003cp\\u003eFor the former, we were thinking about:\\u003c/p\\u003e\\n\\u003cul\\u003e\\n\\u003cli\\u003eSomehow use trig to “project” the manipulator length on the wrist onto the slanted elevator to figure out if the elevator can move up or down without entering a no-go zone, or if the wrist can angle without entering a no-go zone.\\u003c/li\\u003e\\n\\u003cli\\u003eMake a lookup table (based on manual measurements) where the x-axis represents elevator height and the y-axis represents a wrist angle limit (can be upper or lower). At certain height values, we figure out the wrist angle limit and enter it in the lookup table. During the match, we can input the elevator height into the table and find the wrist angle limit at that height by linear interpolation in the lookup table.\\u003c/li\\u003e\\n\\u003c/ul\\u003e\\n\\u003cp\\u003eFor the latter, we were thinking about:\\u003c/p\\u003e\\n\\u003cul\\u003e\\n\\u003cli\\u003eHave both the wrist motion profile and elevator motion profile take the same amount of time, so by the time one mechanism is at its setpoint, the other is also at its setpoint (this might not guarantee a no-go zone while traveling, however).\\u003c/li\\u003e\\n\\u003cli\\u003eGenerate trapezoidal motion profiles for both mechanisms and just pause the movement of one mechanism if a no-go zone is encountered.\\u003c/li\\u003e\\n\\u003c/ul\\u003e\\n\\u003cp\\u003eI also want to add for more context, that both the wrist and elevator are controlled by TalonFX motors, so we can use MotionMagic on preset control.\\u003c/p\\u003e\\n\\u003cp\\u003eWe’ve heard there are many ways to solve a problem like this and are hoping to get some suggestions and be guided in the right direction for solving the problem of determining if the mechanisms are in a no-go zone and generating profiles that avoid the no-go zones.\\u003c/p\\u003e\",\"post_number\":1,\"post_type\":1,\"posts_count\":49,\"updated_at\":\"2025-01-27T03:03:07.526Z\",\"reply_count\":3,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":72,\"reads\":818,\"readers_count\":817,\"score\":643.6,\"yours\":false,\"topic_id\":483756,\"topic_slug\":\"controlling-a-wrist-on-an-elevator-while-avoiding-collisions\",\"display_username\":\"Peter\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":7}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":58928,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"\"},\"post_url\":\"/t/controlling-a-wrist-on-an-elevator-while-avoiding-collisions/483756/1\",\"custom_user_title\":null,\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":7}],\"current_user_reaction\":null,\"reaction_users_count\":7,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null,\"can_vote\":false},{\"id\":3493600,\"name\":\"Geoffrey\",\"username\":\"Geoffrey8814\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/geoffrey8814/{size}/262430_2.png\",\"created_at\":\"2025-01-27T12:32:56.449Z\",\"cooked\":\"\\u003cp\\u003eWe are encountering similar issues as well. Our plan is to implement a motion profile using Casadi, similar to what team 6328 did in 2023. However, an easier approach might be to utilize an intermediate state, which is what team 254 implemented in the same year.\\u003c/p\\u003e\",\"post_number\":2,\"post_type\":1,\"posts_count\":49,\"updated_at\":\"2025-01-27T12:32:56.449Z\",\"reply_count\":0,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":3,\"reads\":710,\"readers_count\":709,\"score\":187.0,\"yours\":false,\"topic_id\":483756,\"topic_slug\":\"controlling-a-wrist-on-an-elevator-while-avoiding-collisions\",\"display_username\":\"Geoffrey\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":2}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":60663,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"\"},\"post_url\":\"/t/controlling-a-wrist-on-an-elevator-while-avoiding-collisions/483756/2\",\"custom_user_title\":null,\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":2}],\"current_user_reaction\":null,\"reaction_users_count\":2,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3493661,\"name\":\"Can Toğran\",\"username\":\"cantogr07\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/cantogr07/{size}/208647_2.png\",\"created_at\":\"2025-01-27T14:19:07.628Z\",\"cooked\":\"\\u003caside class=\\\"quote no-group\\\" data-username=\\\"pgutkovi\\\" data-post=\\\"1\\\" data-topic=\\\"483756\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg loading=\\\"lazy\\\" alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/letter_avatar_proxy/v4/letter/p/8baadc/48.png\\\" class=\\\"avatar\\\"\\u003e pgutkovi:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003eSomehow use trig to “project” the manipulator length on the wrist onto the slanted elevator to figure out if the elevator can move up or down without entering a no-go zone, or if the wrist can angle without entering a no-go zone.\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003cp\\u003e5940 Bread seems to have a similar approach to the one you described here in their 2024 robot code \\u003ca href=\\\"https://github.com/BREAD5940/2024-Onseason/blob/main/src/main/java/frc/robot/subsystems/elevatorpivot/ElevatorPivot.java\\\" rel=\\\"noopener nofollow ugc\\\"\\u003eElevatorPivot\\u003c/a\\u003e.\\u003c/p\\u003e\",\"post_number\":3,\"post_type\":1,\"posts_count\":49,\"updated_at\":\"2025-01-27T14:19:07.628Z\",\"reply_count\":0,\"reply_to_post_number\":null,\"quote_count\":1,\"incoming_link_count\":2,\"reads\":689,\"readers_count\":688,\"score\":147.8,\"yours\":false,\"topic_id\":483756,\"topic_slug\":\"controlling-a-wrist-on-an-elevator-while-avoiding-collisions\",\"display_username\":\"Can Toğran\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"link_counts\":[{\"url\":\"https://github.com/BREAD5940/2024-Onseason/blob/main/src/main/java/frc/robot/subsystems/elevatorpivot/ElevatorPivot.java\",\"internal\":false,\"reflection\":false,\"title\":\"2024-Onseason/src/main/java/frc/robot/subsystems/elevatorpivot/ElevatorPivot.java at main · BREAD5940/2024-Onseason · GitHub\",\"clicks\":65}],\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":53237,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"pink dragons fly higher\"},\"post_url\":\"/t/controlling-a-wrist-on-an-elevator-while-avoiding-collisions/483756/3\",\"custom_user_title\":\"pink dragons fly higher\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3493692,\"name\":\"Andrew Todd\",\"username\":\"Andrew123ast\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/andrew123ast/{size}/243883_2.png\",\"created_at\":\"2025-01-27T14:54:32.537Z\",\"cooked\":\"\\u003cp\\u003eState Machine?\\u003c/p\\u003e\\n\\u003cp\\u003eHere’s a link to a guide for \\u003cspan class=\\\"abbreviation\\\"\\u003eFTC\\u003ctemplate class=\\\"tooltiptext\\\" data-text=\\\"FIRST Tech Challenge\\\"\\u003e\\u003c/template\\u003e\\u003c/span\\u003e code, but the concept is the exact same.\\u003c/p\\u003e\\n\\u003caside class=\\\"onebox allowlistedgeneric\\\" data-onebox-src=\\\"https://gm0.org/en/latest/docs/software/concepts/finite-state-machines.html\\\"\\u003e\\n  \\u003cheader class=\\\"source\\\"\\u003e\\n      \\u003cimg src=\\\"https://gm0.org/en/latest/_static/gm0-logo.ico\\\" class=\\\"site-icon\\\" width=\\\"256\\\" height=\\\"256\\\"\\u003e\\n\\n      \\u003ca href=\\\"https://gm0.org/en/latest/docs/software/concepts/finite-state-machines.html\\\" target=\\\"_blank\\\" rel=\\\"noopener nofollow ugc\\\"\\u003eGame Manual 0\\u003c/a\\u003e\\n  \\u003c/header\\u003e\\n\\n  \\u003carticle class=\\\"onebox-body\\\"\\u003e\\n    \\u003cdiv class=\\\"aspect-image\\\" style=\\\"--aspect-ratio:666/500;\\\"\\u003e\\u003cimg src=\\\"https://raw.githubusercontent.com/gamemanual0/gm0/main/source/_static/assets/gm0-logo.png\\\" class=\\\"thumbnail\\\" width=\\\"666\\\" height=\\\"500\\\"\\u003e\\u003c/div\\u003e\\n\\n\\u003ch3\\u003e\\u003ca href=\\\"https://gm0.org/en/latest/docs/software/concepts/finite-state-machines.html\\\" target=\\\"_blank\\\" rel=\\\"noopener nofollow ugc\\\"\\u003eFinite State Machines\\u003c/a\\u003e\\u003c/h3\\u003e\\n\\n  \\u003cp\\u003eFinite State Machines (FSM) are often used while programming in order to allow for more complex series of actions. This is especially useful when one needs multiple tasks to run at the same time, b...\\u003c/p\\u003e\\n\\n\\n  \\u003c/article\\u003e\\n\\n  \\u003cdiv class=\\\"onebox-metadata\\\"\\u003e\\n    \\n    \\n  \\u003c/div\\u003e\\n\\n  \\u003cdiv style=\\\"clear: both\\\"\\u003e\\u003c/div\\u003e\\n\\u003c/aside\\u003e\\n\",\"post_number\":4,\"post_type\":1,\"posts_count\":49,\"updated_at\":\"2025-01-27T14:54:32.537Z\",\"reply_count\":1,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":1,\"reads\":624,\"readers_count\":623,\"score\":164.8,\"yours\":false,\"topic_id\":483756,\"topic_slug\":\"controlling-a-wrist-on-an-elevator-while-avoiding-collisions\",\"display_username\":\"Andrew Todd\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"link_counts\":[{\"url\":\"https://gm0.org/en/latest/docs/software/concepts/finite-state-machines.html\",\"internal\":false,\"reflection\":false,\"title\":\"Finite State Machines - Game Manual 0\",\"clicks\":36}],\"read\":true,\"user_title\":null,\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":2}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":71098,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"Alumni | Programming Mentor\"},\"post_url\":\"/t/controlling-a-wrist-on-an-elevator-while-avoiding-collisions/483756/4\",\"custom_user_title\":\"Alumni | Programming Mentor\",\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":2}],\"current_user_reaction\":null,\"reaction_users_count\":2,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3493867,\"name\":\"Peter\",\"username\":\"pgutkovi\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/p/8baadc/{size}.png\",\"created_at\":\"2025-01-27T18:17:42.591Z\",\"cooked\":\"\\u003cp\\u003eI’m not sure how we would use a state machine. Right now our logic seems to work out fine, as we have a \\u003ccode\\u003esetSpeeds()\\u003c/code\\u003e command for the elevator+wrist that reads speeds from the joysticks as a default command, and then when we travel to a preset, we have a \\u003ccode\\u003esetSetpoint()\\u003c/code\\u003e command:\\u003c/p\\u003e\\n\\u003caside class=\\\"onebox githubblob\\\" data-onebox-src=\\\"https://github.com/Team334/R2025/blob/36b5e73fb5ddf82b52ba2ee59464a5c9ced97e65/src/main/java/frc/robot/subsystems/Wristevator.java#L233-L252\\\"\\u003e\\n  \\u003cheader class=\\\"source\\\"\\u003e\\n\\n      \\u003ca href=\\\"https://github.com/Team334/R2025/blob/36b5e73fb5ddf82b52ba2ee59464a5c9ced97e65/src/main/java/frc/robot/subsystems/Wristevator.java#L233-L252\\\" target=\\\"_blank\\\" rel=\\\"noopener nofollow ugc\\\"\\u003egithub.com\\u003c/a\\u003e\\n  \\u003c/header\\u003e\\n\\n  \\u003carticle class=\\\"onebox-body\\\"\\u003e\\n    \\u003ch4\\u003e\\u003ca href=\\\"https://github.com/Team334/R2025/blob/36b5e73fb5ddf82b52ba2ee59464a5c9ced97e65/src/main/java/frc/robot/subsystems/Wristevator.java#L233-L252\\\" target=\\\"_blank\\\" rel=\\\"noopener nofollow ugc\\\"\\u003eTeam334/R2025/blob/36b5e73fb5ddf82b52ba2ee59464a5c9ced97e65/src/main/java/frc/robot/subsystems/Wristevator.java#L233-L252\\u003c/a\\u003e\\u003c/h4\\u003e\\n\\n\\n\\n    \\u003cpre class=\\\"onebox\\\"\\u003e\\u003ccode class=\\\"lang-java\\\"\\u003e\\n      \\u003col class=\\\"start lines\\\" start=\\\"233\\\" style=\\\"counter-reset: li-counter 232 ;\\\"\\u003e\\n          \\u003cli\\u003e/** Set the wristevator to a setpoint. */\\u003c/li\\u003e\\n          \\u003cli\\u003epublic Command setSetpoint(WristevatorSetpoint setpoint) {\\u003c/li\\u003e\\n          \\u003cli\\u003e  return run(() -\\u0026gt; {})\\u003c/li\\u003e\\n          \\u003cli\\u003e      .beforeStarting(() -\\u0026gt; DogLog.log(\\\"Wristevator/Setpoint\\\", setpoint.toString()))\\u003c/li\\u003e\\n          \\u003cli\\u003e      .withName(\\\"Set Setpoint: \\\" + setpoint.toString());\\u003c/li\\u003e\\n          \\u003cli\\u003e}\\u003c/li\\u003e\\n          \\u003cli\\u003e\\u003c/li\\u003e\\n          \\u003cli\\u003e/**\\u003c/li\\u003e\\n          \\u003cli\\u003e * Control the elevator and wrist speeds individually.\\u003c/li\\u003e\\n          \\u003cli\\u003e *\\u003c/li\\u003e\\n          \\u003cli\\u003e * @param elevatorSpeed The elevator drum speed in radians per second.\\u003c/li\\u003e\\n          \\u003cli\\u003e * @param wristSpeed The wrist speed in radians per second.\\u003c/li\\u003e\\n          \\u003cli\\u003e */\\u003c/li\\u003e\\n          \\u003cli\\u003epublic Command setSpeeds(DoubleSupplier elevatorSpeed, DoubleSupplier wristSpeed) {\\u003c/li\\u003e\\n          \\u003cli\\u003e  return run(() -\\u0026gt; {\\u003c/li\\u003e\\n          \\u003cli\\u003e        _leftMotor.setControl(_elevatorVelocitySetter.withVelocity(elevatorSpeed.getAsDouble()));\\u003c/li\\u003e\\n          \\u003cli\\u003e        _wristMotor.setControl(_wristVelocitySetter.withVelocity(wristSpeed.getAsDouble()));\\u003c/li\\u003e\\n          \\u003cli\\u003e      })\\u003c/li\\u003e\\n          \\u003cli\\u003e      .withName(\\\"Set Speeds\\\");\\u003c/li\\u003e\\n          \\u003cli\\u003e}\\u003c/li\\u003e\\n      \\u003c/ol\\u003e\\n    \\u003c/code\\u003e\\u003c/pre\\u003e\\n\\n\\n\\n  \\u003c/article\\u003e\\n\\n  \\u003cdiv class=\\\"onebox-metadata\\\"\\u003e\\n    \\n    \\n  \\u003c/div\\u003e\\n\\n  \\u003cdiv style=\\\"clear: both\\\"\\u003e\\u003c/div\\u003e\\n\\u003c/aside\\u003e\\n\",\"post_number\":5,\"post_type\":1,\"posts_count\":49,\"updated_at\":\"2025-01-27T18:18:50.311Z\",\"reply_count\":1,\"reply_to_post_number\":4,\"quote_count\":0,\"incoming_link_count\":1,\"reads\":555,\"readers_count\":554,\"score\":121.0,\"yours\":false,\"topic_id\":483756,\"topic_slug\":\"controlling-a-wrist-on-an-elevator-while-avoiding-collisions\",\"display_username\":\"Peter\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":2,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"link_counts\":[{\"url\":\"https://github.com/Team334/R2025/blob/36b5e73fb5ddf82b52ba2ee59464a5c9ced97e65/src/main/java/frc/robot/subsystems/Wristevator.java#L233-L252\",\"internal\":false,\"reflection\":false,\"title\":\"R2025/src/main/java/frc/robot/subsystems/Wristevator.java at 36b5e73fb5ddf82b52ba2ee59464a5c9ced97e65 · Team334/R2025 · GitHub\",\"clicks\":2}],\"read\":true,\"user_title\":\"\",\"reply_to_user\":{\"id\":71098,\"username\":\"Andrew123ast\",\"name\":\"Andrew Todd\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/andrew123ast/{size}/243883_2.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":58928,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"\"},\"post_url\":\"/t/controlling-a-wrist-on-an-elevator-while-avoiding-collisions/483756/5\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3493871,\"name\":\"Skye Leake\",\"username\":\"Skyehawk\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/skyehawk/{size}/179363_2.png\",\"created_at\":\"2025-01-27T18:27:43.126Z\",\"cooked\":\"\\u003caside class=\\\"quote no-group\\\" data-username=\\\"pgutkovi\\\" data-post=\\\"1\\\" data-topic=\\\"483756\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg loading=\\\"lazy\\\" alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/letter_avatar_proxy/v4/letter/p/8baadc/48.png\\\" class=\\\"avatar\\\"\\u003e pgutkovi:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003eWe’ve heard there are many ways to solve a problem like this and are hoping to get some suggestions and be guided in the right direction for solving the problem of determining if the mechanisms are in a no-go zone and generating profiles that avoid the no-go zones.\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003cp\\u003eFrom a testing side make a pool noodle arm that attaches to the wrist to test the logic, that way nothing turns into a pretzel if it crashes and does something it shouldn’t.\\u003c/p\\u003e\",\"post_number\":6,\"post_type\":1,\"posts_count\":49,\"updated_at\":\"2025-01-27T18:27:55.785Z\",\"reply_count\":0,\"reply_to_post_number\":null,\"quote_count\":1,\"incoming_link_count\":7,\"reads\":458,\"readers_count\":457,\"score\":186.6,\"yours\":false,\"topic_id\":483756,\"topic_slug\":\"controlling-a-wrist-on-an-elevator-while-avoiding-collisions\",\"display_username\":\"Skye Leake\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":4}],\"moderator\":true,\"admin\":false,\"staff\":true,\"user_id\":19235,\"hidden\":false,\"trust_level\":4,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"Pretengineer\"},\"post_url\":\"/t/controlling-a-wrist-on-an-elevator-while-avoiding-collisions/483756/6\",\"custom_user_title\":\"Pretengineer\",\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":4}],\"current_user_reaction\":null,\"reaction_users_count\":4,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3493879,\"name\":\"Eric Ward\",\"username\":\"bathtubed\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/bathtubed/{size}/220364_2.png\",\"created_at\":\"2025-01-27T18:38:45.539Z\",\"cooked\":\"\\u003caside class=\\\"quote no-group\\\" data-username=\\\"pgutkovi\\\" data-post=\\\"1\\\" data-topic=\\\"483756\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg loading=\\\"lazy\\\" alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/letter_avatar_proxy/v4/letter/p/8baadc/48.png\\\" class=\\\"avatar\\\"\\u003e pgutkovi:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003eMake a lookup table (based on manual measurements) where the x-axis represents elevator height and the y-axis represents a wrist angle limit (can be upper or lower).\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003cp\\u003eI like this direction of thinking. In formal robotics terms, this would essentially be mapping your mechanisms “configuration space” (2d area), and then identifying the regions of this space which are obstacles (no-go zones). The space that’s left is known as your “free space.”\\u003c/p\\u003e\\n\\u003caside class=\\\"quote no-group\\\" data-username=\\\"pgutkovi\\\" data-post=\\\"1\\\" data-topic=\\\"483756\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg loading=\\\"lazy\\\" alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/letter_avatar_proxy/v4/letter/p/8baadc/48.png\\\" class=\\\"avatar\\\"\\u003e pgutkovi:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003eHave both the wrist motion profile and elevator motion profile take the same amount of time, so by the time one mechanism is at its setpoint, the other is also at its setpoint (this might not guarantee a no-go zone while traveling, however).\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003cp\\u003eYou can think of this as essentially drawing straight lines through the Cartesian configuration space between your desired set points.\\u003cbr\\u003e\\nAnd indeed, some of these will cut through obstacle space.\\u003c/p\\u003e\\n\\u003cp\\u003eI think the simplest thing would be for you to then manually add intermediate setpoints between these problematic transitions.\\u003c/p\\u003e\\n\\u003cp\\u003eEventually this reduces to a graph or finite state machine as others have alluded.\\u003cbr\\u003e\\nYou determine a set of setpoints in your configuration space, and then determine transitions/edges between pairs of states which won’t intersect with the obstacle space.\\u003c/p\\u003e\\n\\u003cp\\u003eFinally, given any start point and goal point, its a simple path-finding problem to determine the “free-path”.\\u003c/p\\u003e\",\"post_number\":7,\"post_type\":1,\"posts_count\":49,\"updated_at\":\"2025-01-27T18:38:45.539Z\",\"reply_count\":1,\"reply_to_post_number\":null,\"quote_count\":1,\"incoming_link_count\":7,\"reads\":455,\"readers_count\":454,\"score\":131.0,\"yours\":false,\"topic_id\":483756,\"topic_slug\":\"controlling-a-wrist-on-an-elevator-while-avoiding-collisions\",\"display_username\":\"Eric Ward\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":35208,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"3637 Mentor\"},\"post_url\":\"/t/controlling-a-wrist-on-an-elevator-while-avoiding-collisions/483756/7\",\"custom_user_title\":\"3637 Mentor\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3493911,\"name\":\"Peter\",\"username\":\"pgutkovi\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/p/8baadc/{size}.png\",\"created_at\":\"2025-01-27T19:15:35.380Z\",\"cooked\":\"\\u003caside class=\\\"quote no-group\\\" data-username=\\\"bathtubed\\\" data-post=\\\"7\\\" data-topic=\\\"483756\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg loading=\\\"lazy\\\" alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/user_avatar/www.chiefdelphi.com/bathtubed/48/220364_2.png\\\" class=\\\"avatar\\\"\\u003e bathtubed:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003eI like this direction of thinking. In formal robotics terms, this would essentially be mapping your mechanisms “configuration space” (2d area), and then identifying the regions of this space which are obstacles (no-go zones). The space that’s left is known as your “free space.”\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003cp\\u003eWe might also try a trig solution on finding the no-go zones, since it doesn’t seem too difficult with all the WPILib math classes.\\u003c/p\\u003e\\n\\u003caside class=\\\"quote no-group\\\" data-username=\\\"bathtubed\\\" data-post=\\\"7\\\" data-topic=\\\"483756\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg loading=\\\"lazy\\\" alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/user_avatar/www.chiefdelphi.com/bathtubed/48/220364_2.png\\\" class=\\\"avatar\\\"\\u003e bathtubed:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003eEventually this reduces to a graph or finite state machine as others have alluded.\\u003cbr\\u003e\\nYou determine a set of setpoints in your configuration space, and then determine transitions/edges between pairs of states which won’t intersect with the obstacle space.\\u003c/p\\u003e\\n\\u003cp\\u003eFinally, given any start point and goal point, its a simple path-finding problem to determine the “free-path”.\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003cp\\u003eJust to clarify, by setpoints do you mean presets? And by pairs of states do you mean elevator height + wrist angle? Is there a psuedo-code example you can give for this strategy, I’m a bit confused on how you would determine transitions between mechanism states.\\u003c/p\\u003e\",\"post_number\":8,\"post_type\":1,\"posts_count\":49,\"updated_at\":\"2025-01-27T19:15:35.380Z\",\"reply_count\":1,\"reply_to_post_number\":7,\"quote_count\":1,\"incoming_link_count\":2,\"reads\":394,\"readers_count\":393,\"score\":93.8,\"yours\":false,\"topic_id\":483756,\"topic_slug\":\"controlling-a-wrist-on-an-elevator-while-avoiding-collisions\",\"display_username\":\"Peter\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":58928,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"\"},\"post_url\":\"/t/controlling-a-wrist-on-an-elevator-while-avoiding-collisions/483756/8\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3493919,\"name\":\"Andrew Todd\",\"username\":\"Andrew123ast\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/andrew123ast/{size}/243883_2.png\",\"created_at\":\"2025-01-27T19:20:52.470Z\",\"cooked\":\"\\u003cp\\u003eYeah a state machine would be more of an overall paradigm shift, not just a quick fix for this specific problem.\\u003c/p\\u003e\\n\\u003cp\\u003eWith a finite state machine, your robot can only be in specific states of being. Meaning that every position your bot can be in is pre-defied by you. If you do it right, there are no instances in which your robot could interfere with itself like a wrist and lift collision because each movement would be accounted for.\\u003c/p\\u003e\\n\\u003cp\\u003eA quick and dirty solution would be to just say every time the lift is between certain encoder values, move the wrist. Not elegant, but would likely work… Could just be a method that runs inside the lift moving command. Would be a simple check I think. I think that’s kinda what you were showing?\\u003c/p\\u003e\",\"post_number\":9,\"post_type\":1,\"posts_count\":49,\"updated_at\":\"2025-01-27T19:20:52.470Z\",\"reply_count\":2,\"reply_to_post_number\":5,\"quote_count\":0,\"incoming_link_count\":1,\"reads\":342,\"readers_count\":341,\"score\":113.4,\"yours\":false,\"topic_id\":483756,\"topic_slug\":\"controlling-a-wrist-on-an-elevator-while-avoiding-collisions\",\"display_username\":\"Andrew Todd\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":null,\"reply_to_user\":{\"id\":58928,\"username\":\"pgutkovi\",\"name\":\"Peter\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/p/8baadc/{size}.png\"},\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":2}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":71098,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"Alumni | Programming Mentor\"},\"post_url\":\"/t/controlling-a-wrist-on-an-elevator-while-avoiding-collisions/483756/9\",\"custom_user_title\":\"Alumni | Programming Mentor\",\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":2}],\"current_user_reaction\":null,\"reaction_users_count\":2,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3493931,\"name\":\"Peter\",\"username\":\"pgutkovi\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/p/8baadc/{size}.png\",\"created_at\":\"2025-01-27T19:28:37.437Z\",\"cooked\":\"\\u003caside class=\\\"quote no-group\\\" data-username=\\\"Andrew123ast\\\" data-post=\\\"9\\\" data-topic=\\\"483756\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg loading=\\\"lazy\\\" alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/user_avatar/www.chiefdelphi.com/andrew123ast/48/243883_2.png\\\" class=\\\"avatar\\\"\\u003e Andrew123ast:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003eMeaning that every position your bot can be in is pre-defied by you.\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003cp\\u003eIs this meant to account for manual control over the mechanisms too?\\u003c/p\\u003e\",\"post_number\":10,\"post_type\":1,\"posts_count\":49,\"updated_at\":\"2025-01-27T19:28:37.437Z\",\"reply_count\":1,\"reply_to_post_number\":9,\"quote_count\":1,\"incoming_link_count\":0,\"reads\":329,\"readers_count\":328,\"score\":70.8,\"yours\":false,\"topic_id\":483756,\"topic_slug\":\"controlling-a-wrist-on-an-elevator-while-avoiding-collisions\",\"display_username\":\"Peter\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":58928,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"\"},\"post_url\":\"/t/controlling-a-wrist-on-an-elevator-while-avoiding-collisions/483756/10\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3493937,\"name\":\"Ric Ferrell Mentor for 5503 Tiger Trons\",\"username\":\"RicDV\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/ricdv/{size}/188502_2.png\",\"created_at\":\"2025-01-27T19:36:13.811Z\",\"cooked\":\"\\u003cp\\u003e\\u003ca class=\\\"mention\\\" href=\\\"/u/thatonemf5503\\\"\\u003e@thatonemf5503\\u003c/a\\u003e\\u003c/p\\u003e\",\"post_number\":11,\"post_type\":1,\"posts_count\":49,\"updated_at\":\"2025-01-27T19:36:13.811Z\",\"reply_count\":0,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":317,\"readers_count\":316,\"score\":63.4,\"yours\":false,\"topic_id\":483756,\"topic_slug\":\"controlling-a-wrist-on-an-elevator-while-avoiding-collisions\",\"display_username\":\"Ric Ferrell Mentor for 5503 Tiger Trons\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":48664,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"Mentor 5503\"},\"post_url\":\"/t/controlling-a-wrist-on-an-elevator-while-avoiding-collisions/483756/11\",\"custom_user_title\":\"Mentor 5503\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3493959,\"name\":\"Andrew Todd\",\"username\":\"Andrew123ast\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/andrew123ast/{size}/243883_2.png\",\"created_at\":\"2025-01-27T19:51:21.286Z\",\"cooked\":\"\\u003cp\\u003eI guess you could if you designed it a certain way. Maybe you can have a state that just passes raw controls through, I think you’d just need to be careful when re-entering the other states. Maybe a reset State or something? Not sure.\\u003c/p\\u003e\\n\\u003cp\\u003eI think that manual control of the mechanisms is less than ideal though. You should at least use commands to take away as much manual control as possible.\\u003c/p\\u003e\\n\\u003cp\\u003eA good code example of a state machine is 2910’s 2024 code. It’s a bit complicated, but not too difficult to read through.\\u003c/p\\u003e\\n\\u003cp\\u003eThere are valid reasons to use a finite state machine, and some valid criticism. Just another option. Probably not worth a full re-write though if you’ve already got stuff that works.\\u003c/p\\u003e\",\"post_number\":12,\"post_type\":1,\"posts_count\":49,\"updated_at\":\"2025-01-27T19:51:21.286Z\",\"reply_count\":0,\"reply_to_post_number\":10,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":317,\"readers_count\":316,\"score\":63.4,\"yours\":false,\"topic_id\":483756,\"topic_slug\":\"controlling-a-wrist-on-an-elevator-while-avoiding-collisions\",\"display_username\":\"Andrew Todd\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":null,\"reply_to_user\":{\"id\":58928,\"username\":\"pgutkovi\",\"name\":\"Peter\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/p/8baadc/{size}.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":71098,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"Alumni | Programming Mentor\"},\"post_url\":\"/t/controlling-a-wrist-on-an-elevator-while-avoiding-collisions/483756/12\",\"custom_user_title\":\"Alumni | Programming Mentor\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3493986,\"name\":\"Peter\",\"username\":\"pgutkovi\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/p/8baadc/{size}.png\",\"created_at\":\"2025-01-27T20:24:44.062Z\",\"cooked\":\"\\u003caside class=\\\"quote no-group\\\" data-username=\\\"Andrew123ast\\\" data-post=\\\"9\\\" data-topic=\\\"483756\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg loading=\\\"lazy\\\" alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/user_avatar/www.chiefdelphi.com/andrew123ast/48/243883_2.png\\\" class=\\\"avatar\\\"\\u003e Andrew123ast:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003eA quick and dirty solution would be to just say every time the lift is between certain encoder values, move the wrist.\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003cp\\u003eThis might be another option we can try, if a no go zone occurs, just pause the movement of one of the mechanisms and let the other move to get out of the no go zone\\u003c/p\\u003e\",\"post_number\":13,\"post_type\":1,\"posts_count\":49,\"updated_at\":\"2025-01-27T20:24:44.062Z\",\"reply_count\":0,\"reply_to_post_number\":9,\"quote_count\":1,\"incoming_link_count\":4,\"reads\":301,\"readers_count\":300,\"score\":80.2,\"yours\":false,\"topic_id\":483756,\"topic_slug\":\"controlling-a-wrist-on-an-elevator-while-avoiding-collisions\",\"display_username\":\"Peter\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":58928,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"\"},\"post_url\":\"/t/controlling-a-wrist-on-an-elevator-while-avoiding-collisions/483756/13\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3493997,\"name\":\"Eric Ward\",\"username\":\"bathtubed\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/bathtubed/{size}/220364_2.png\",\"created_at\":\"2025-01-27T20:37:14.863Z\",\"cooked\":\"\\u003cp\\u003e\\u003cdiv class=\\\"lightbox-wrapper\\\"\\u003e\\u003ca class=\\\"lightbox\\\" href=\\\"https://www.chiefdelphi.com/uploads/default/original/3X/3/f/3faae9c5000049b0ab0707e494e342c60fffbc0c.jpeg\\\" data-download-href=\\\"https://www.chiefdelphi.com/uploads/default/3faae9c5000049b0ab0707e494e342c60fffbc0c\\\" title=\\\"PXL_20250127_202733042\\\"\\u003e\\u003cimg src=\\\"https://www.chiefdelphi.com/uploads/default/optimized/3X/3/f/3faae9c5000049b0ab0707e494e342c60fffbc0c_2_666x500.jpeg\\\" alt=\\\"PXL_20250127_202733042\\\" data-base62-sha1=\\\"95eg8Yvw3FBI9zYyZLrVuAjHWjO\\\" width=\\\"666\\\" height=\\\"500\\\" srcset=\\\"https://www.chiefdelphi.com/uploads/default/optimized/3X/3/f/3faae9c5000049b0ab0707e494e342c60fffbc0c_2_666x500.jpeg, https://www.chiefdelphi.com/uploads/default/optimized/3X/3/f/3faae9c5000049b0ab0707e494e342c60fffbc0c_2_999x750.jpeg 1.5x, https://www.chiefdelphi.com/uploads/default/optimized/3X/3/f/3faae9c5000049b0ab0707e494e342c60fffbc0c_2_1332x1000.jpeg 2x\\\" data-dominant-color=\\\"BCBAB7\\\"\\u003e\\u003cdiv class=\\\"meta\\\"\\u003e\\u003csvg class=\\\"fa d-icon d-icon-far-image svg-icon\\\" aria-hidden=\\\"true\\\"\\u003e\\u003cuse href=\\\"#far-image\\\"\\u003e\\u003c/use\\u003e\\u003c/svg\\u003e\\u003cspan class=\\\"filename\\\"\\u003ePXL_20250127_202733042\\u003c/span\\u003e\\u003cspan class=\\\"informations\\\"\\u003e1920×1440 154 KB\\u003c/span\\u003e\\u003csvg class=\\\"fa d-icon d-icon-discourse-expand svg-icon\\\" aria-hidden=\\\"true\\\"\\u003e\\u003cuse href=\\\"#discourse-expand\\\"\\u003e\\u003c/use\\u003e\\u003c/svg\\u003e\\u003c/div\\u003e\\u003c/a\\u003e\\u003c/div\\u003e\\u003c/p\\u003e\\n\\u003cp\\u003eSo this shows what I’m talking about better.\\u003cbr\\u003e\\nThe shaded in areas are the “obstacle space.” The mechanism can’t travel through these so I haven’t drawn lines between them.\\u003c/p\\u003e\\n\\u003cp\\u003eThe labeled points are the “presets” you refer to.\\u003cbr\\u003e\\nThe mechanism can travel along the straight-lines between presets by using a motion profile on both the wrist and the elevator which has them arrive at the setpoint at the same time while staying at a constant velocity. (The tricky part is if a trapezoidal motion profile is used, they need to have the same acceleration time).\\u003c/p\\u003e\\n\\u003cp\\u003eIn the same way these are also states or graph vertices and state-transitions or graph-edges.\\u003c/p\\u003e\\n\\u003cp\\u003eTo move along multiple transitions, you just map every pair of start and end states with a “next” state.\\u003cbr\\u003e\\nFor example, if the system is at preset A and is commanded to move to D, you have a table that says to command it to preset B.\\u003cbr\\u003e\\nOnce it reaches B, it looks up B-\\u0026gt;D and returns B’. And then B’-\\u0026gt;D returns D.\\u003c/p\\u003e\\n\\u003cp\\u003eI think if you can draw this graph out for your own robot and see where all the collision points between presets would actually exist, it can help to reason about writing a simple controller.\\u003c/p\\u003e\",\"post_number\":14,\"post_type\":1,\"posts_count\":49,\"updated_at\":\"2025-01-27T20:37:14.863Z\",\"reply_count\":1,\"reply_to_post_number\":8,\"quote_count\":0,\"incoming_link_count\":10,\"reads\":311,\"readers_count\":310,\"score\":162.2,\"yours\":false,\"topic_id\":483756,\"topic_slug\":\"controlling-a-wrist-on-an-elevator-while-avoiding-collisions\",\"display_username\":\"Eric Ward\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"reply_to_user\":{\"id\":58928,\"username\":\"pgutkovi\",\"name\":\"Peter\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/p/8baadc/{size}.png\"},\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":3}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":35208,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"3637 Mentor\"},\"post_url\":\"/t/controlling-a-wrist-on-an-elevator-while-avoiding-collisions/483756/14\",\"custom_user_title\":\"3637 Mentor\",\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":3}],\"current_user_reaction\":null,\"reaction_users_count\":3,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3494422,\"name\":\"Peter\",\"username\":\"pgutkovi\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/p/8baadc/{size}.png\",\"created_at\":\"2025-01-28T03:20:53.326Z\",\"cooked\":\"\\u003cp\\u003e\\u003cdiv class=\\\"lightbox-wrapper\\\"\\u003e\\u003ca class=\\\"lightbox\\\" href=\\\"https://www.chiefdelphi.com/uploads/default/original/3X/6/2/62ce4a14d0b410af5097adad4e1511a4d4274679.jpeg\\\" data-download-href=\\\"https://www.chiefdelphi.com/uploads/default/62ce4a14d0b410af5097adad4e1511a4d4274679\\\" title=\\\"image\\\"\\u003e\\u003cimg src=\\\"https://www.chiefdelphi.com/uploads/default/optimized/3X/6/2/62ce4a14d0b410af5097adad4e1511a4d4274679_2_597x500.jpeg\\\" alt=\\\"image\\\" data-base62-sha1=\\\"e64LqTPfZJ36tkX8WOWklw3k7iN\\\" width=\\\"597\\\" height=\\\"500\\\" srcset=\\\"https://www.chiefdelphi.com/uploads/default/optimized/3X/6/2/62ce4a14d0b410af5097adad4e1511a4d4274679_2_597x500.jpeg, https://www.chiefdelphi.com/uploads/default/optimized/3X/6/2/62ce4a14d0b410af5097adad4e1511a4d4274679_2_895x750.jpeg 1.5x, https://www.chiefdelphi.com/uploads/default/original/3X/6/2/62ce4a14d0b410af5097adad4e1511a4d4274679.jpeg 2x\\\" data-dominant-color=\\\"A09492\\\"\\u003e\\u003cdiv class=\\\"meta\\\"\\u003e\\u003csvg class=\\\"fa d-icon d-icon-far-image svg-icon\\\" aria-hidden=\\\"true\\\"\\u003e\\u003cuse href=\\\"#far-image\\\"\\u003e\\u003c/use\\u003e\\u003c/svg\\u003e\\u003cspan class=\\\"filename\\\"\\u003eimage\\u003c/span\\u003e\\u003cspan class=\\\"informations\\\"\\u003e1103×923 57.3 KB\\u003c/span\\u003e\\u003csvg class=\\\"fa d-icon d-icon-discourse-expand svg-icon\\\" aria-hidden=\\\"true\\\"\\u003e\\u003cuse href=\\\"#discourse-expand\\\"\\u003e\\u003c/use\\u003e\\u003c/svg\\u003e\\u003c/div\\u003e\\u003c/a\\u003e\\u003c/div\\u003e\\u003c/p\\u003e\\n\\u003cp\\u003eSo I made a rough sketch of what this would look like on our own robot. The vertices are presets and the edges represent “traveling” to presets. I’m not entirely sure what the no-go zones would look like yet, and for now the shapes of the no-go zones are just a guess. I have several questions about this approach though:\\u003c/p\\u003e\\n\\u003caside class=\\\"quote no-group\\\" data-username=\\\"bathtubed\\\" data-post=\\\"14\\\" data-topic=\\\"483756\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg loading=\\\"lazy\\\" alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/user_avatar/www.chiefdelphi.com/bathtubed/48/220364_2.png\\\" class=\\\"avatar\\\"\\u003e bathtubed:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003ewhich has them arrive at the setpoint at the same time while staying at a constant velocity. (The tricky part is if a trapezoidal motion profile is used, they need to have the same acceleration time).\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003cp\\u003eSo when we travel along an edge to a vertex, both trapezoidal profiles must take the same amount of time, so that by the time the wrist is at its setpoint, so is the elevator? If they didn’t take the same amount of time, the edge wouldn’t be a straight line?\\u003c/p\\u003e\\n\\u003caside class=\\\"quote no-group\\\" data-username=\\\"bathtubed\\\" data-post=\\\"14\\\" data-topic=\\\"483756\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg loading=\\\"lazy\\\" alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/user_avatar/www.chiefdelphi.com/bathtubed/48/220364_2.png\\\" class=\\\"avatar\\\"\\u003e bathtubed:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003eTo move along multiple transitions, you just map every pair of start and end states with a “next” state.\\u003cbr\\u003e\\nFor example, if the system is at preset A and is commanded to move to D, you have a table that says to command it to preset B.\\u003cbr\\u003e\\nOnce it reaches B, it looks up B-\\u0026gt;D and returns B’. And then B’-\\u0026gt;D returns D.\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003cp\\u003eI didn’t draw this in my graph and I don’t think you did either, but would \\u003cstrong\\u003eall\\u003c/strong\\u003e the vertices be adjacent to each other, \\u003cstrong\\u003eexcept\\u003c/strong\\u003e for the ones where their connecting edge goes through the obstacle zone? Also, what if the current position of the mechanisms isn’t one of these vertices (i.e. after some manual control)? In that case, would the current position be summoned onto the graph somehow, with all possible edges drawn to adjacent vertices (edges that don’t intersect the obstacles), and then from there the shortest path algorithm runs?\\u003c/p\\u003e\\n\\u003cp\\u003eI think this approach is very cool, I’m not sure how to code it, however. Would I need to  create a cartesian coordinate space in WPILib with all the presets in it, and with the obstacles created in it somehow? How would I generate a graph in WPILib and what algorithm can be used to find the shortest path between vertex A and vertex B?\\u003c/p\\u003e\",\"post_number\":15,\"post_type\":1,\"posts_count\":49,\"updated_at\":\"2025-01-28T03:23:20.941Z\",\"reply_count\":2,\"reply_to_post_number\":14,\"quote_count\":1,\"incoming_link_count\":6,\"reads\":285,\"readers_count\":284,\"score\":97.0,\"yours\":false,\"topic_id\":483756,\"topic_slug\":\"controlling-a-wrist-on-an-elevator-while-avoiding-collisions\",\"display_username\":\"Peter\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":58928,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"\"},\"post_url\":\"/t/controlling-a-wrist-on-an-elevator-while-avoiding-collisions/483756/15\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3494483,\"name\":\"Peter\",\"username\":\"pgutkovi\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/p/8baadc/{size}.png\",\"created_at\":\"2025-01-28T04:17:41.932Z\",\"cooked\":\"\\u003caside class=\\\"quote no-group\\\" data-username=\\\"pgutkovi\\\" data-post=\\\"15\\\" data-topic=\\\"483756\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg loading=\\\"lazy\\\" alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/letter_avatar_proxy/v4/letter/p/8baadc/48.png\\\" class=\\\"avatar\\\"\\u003e pgutkovi:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003eAlso, what if the current position of the mechanisms isn’t one of these vertices (i.e. after some manual control)?\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003cp\\u003eBuilding off of this idea, I actually now wonder if there’s a way to generalize this whole strategy. The generalization would be:\\u003c/p\\u003e\\n\\u003cul\\u003e\\n\\u003cli\\u003eSummon the current position of the mechanisms on the cartesian coordinates as a vertex.\\u003c/li\\u003e\\n\\u003cli\\u003eDraw the edge between the summoned vertex and the goal vertex.\\u003c/li\\u003e\\n\\u003cli\\u003eIf this edge doesn’t go through an obstacle, use it.\\u003c/li\\u003e\\n\\u003cli\\u003eIf this edge does go through an obstacle, summon an intermediate vertex between the two vertices, forming two edges of travel that go around the obstacle.\\u003c/li\\u003e\\n\\u003c/ul\\u003e\\n\\u003cp\\u003eExample:\\u003cbr\\u003e\\n\\u003cdiv class=\\\"lightbox-wrapper\\\"\\u003e\\u003ca class=\\\"lightbox\\\" href=\\\"https://www.chiefdelphi.com/uploads/default/original/3X/0/1/019c57a4341e2208f6cc2e68c42af5b55ef1243a.jpeg\\\" data-download-href=\\\"https://www.chiefdelphi.com/uploads/default/019c57a4341e2208f6cc2e68c42af5b55ef1243a\\\" title=\\\"PXL_20250128_041603327\\\"\\u003e\\u003cimg src=\\\"https://www.chiefdelphi.com/uploads/default/optimized/3X/0/1/019c57a4341e2208f6cc2e68c42af5b55ef1243a_2_690x388.jpeg\\\" alt=\\\"PXL_20250128_041603327\\\" data-base62-sha1=\\\"efrf5sU6sGlEsz2iQNK3ZpNv2q\\\" width=\\\"690\\\" height=\\\"388\\\" srcset=\\\"https://www.chiefdelphi.com/uploads/default/optimized/3X/0/1/019c57a4341e2208f6cc2e68c42af5b55ef1243a_2_690x388.jpeg, https://www.chiefdelphi.com/uploads/default/optimized/3X/0/1/019c57a4341e2208f6cc2e68c42af5b55ef1243a_2_1035x582.jpeg 1.5x, https://www.chiefdelphi.com/uploads/default/optimized/3X/0/1/019c57a4341e2208f6cc2e68c42af5b55ef1243a_2_1380x776.jpeg 2x\\\" data-dominant-color=\\\"A79986\\\"\\u003e\\u003cdiv class=\\\"meta\\\"\\u003e\\u003csvg class=\\\"fa d-icon d-icon-far-image svg-icon\\\" aria-hidden=\\\"true\\\"\\u003e\\u003cuse href=\\\"#far-image\\\"\\u003e\\u003c/use\\u003e\\u003c/svg\\u003e\\u003cspan class=\\\"filename\\\"\\u003ePXL_20250128_041603327\\u003c/span\\u003e\\u003cspan class=\\\"informations\\\"\\u003e1920×1080 171 KB\\u003c/span\\u003e\\u003csvg class=\\\"fa d-icon d-icon-discourse-expand svg-icon\\\" aria-hidden=\\\"true\\\"\\u003e\\u003cuse href=\\\"#discourse-expand\\\"\\u003e\\u003c/use\\u003e\\u003c/svg\\u003e\\u003c/div\\u003e\\u003c/a\\u003e\\u003c/div\\u003e\\u003c/p\\u003e\\n\\u003cp\\u003eThis generalization means that the traveling isn’t constrained to presets as intermediate vertices. I’m not sure though how to summon an intermediate vertex that will also lead to a short total path length and that’ll also avoid the obstacle.\\u003c/p\\u003e\",\"post_number\":17,\"post_type\":1,\"posts_count\":49,\"updated_at\":\"2025-01-28T04:19:13.437Z\",\"reply_count\":1,\"reply_to_post_number\":15,\"quote_count\":1,\"incoming_link_count\":1,\"reads\":260,\"readers_count\":259,\"score\":62.0,\"yours\":false,\"topic_id\":483756,\"topic_slug\":\"controlling-a-wrist-on-an-elevator-while-avoiding-collisions\",\"display_username\":\"Peter\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":58928,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"\"},\"post_url\":\"/t/controlling-a-wrist-on-an-elevator-while-avoiding-collisions/483756/17\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3494510,\"name\":\"Eric Ward\",\"username\":\"bathtubed\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/bathtubed/{size}/220364_2.png\",\"created_at\":\"2025-01-28T05:10:13.640Z\",\"cooked\":\"\\u003cp\\u003eThat looks great! Most of your assumptions are spot-on.\\u003c/p\\u003e\\n\\u003caside class=\\\"quote no-group\\\" data-username=\\\"pgutkovi\\\" data-post=\\\"15\\\" data-topic=\\\"483756\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg loading=\\\"lazy\\\" alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/letter_avatar_proxy/v4/letter/p/8baadc/48.png\\\" class=\\\"avatar\\\"\\u003e pgutkovi:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003eIf they didn’t take the same amount of time, the edge wouldn’t be a straight line?\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003cp\\u003eYes, so if they dont take the same time to accelerate and decelerate, the line wouldnt be straight. That is technically fine, but it makes it more difficult to reason about when representing it this way. If you had perfect information about the system, you would just draw the curved lines for exactly how the mechanism would travel between those points, and then you would see if it would collide with no-go or not.\\u003cbr\\u003e\\nEnsuring straight-line travel in configuration space is a little tricky because of the acceleration portion of the trapezoidal profiles for the different systems. If the acceleration is near instantaneous then you just need to move each component at a cruise velocity which has it arrive at the set point at the same time. If it’s spending a good portion of the motion accelerating or decelerating, then you need to make sure they are both accelerating and decelerating in tandem. I think that can be done with some algebra to solve for an acceleration and velocity for both systems that arrives at the goal point in the same time.\\u003c/p\\u003e\\n\\u003cp\\u003eAnother approach can be to actually sample the entire motion profile on the rio and stream the setpoints to the krakens. This way you can generate pairs of setpoints for each controller in tandem. This is likely overkill but it does have some advantages.\\u003c/p\\u003e\\n\\u003caside class=\\\"quote no-group\\\" data-username=\\\"pgutkovi\\\" data-post=\\\"15\\\" data-topic=\\\"483756\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg loading=\\\"lazy\\\" alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/letter_avatar_proxy/v4/letter/p/8baadc/48.png\\\" class=\\\"avatar\\\"\\u003e pgutkovi:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003eI didn’t draw this in my graph and I don’t think you did either, but would \\u003cstrong\\u003eall\\u003c/strong\\u003e the vertices be adjacent to each other, \\u003cstrong\\u003eexcept\\u003c/strong\\u003e for the ones where their connecting edge goes through the obstacle zone?\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003cp\\u003eThey can be, yep. This makes it so you transition between fewer states, which could save time if the mech has to stop at each state normally.\\u003cbr\\u003e\\nAn advantage of using the on-board motion profile approach is that you can sample setpoints across multiple transitions for one smooth motion across the graph. Again, likely overkill.\\u003c/p\\u003e\\n\\u003caside class=\\\"quote no-group\\\" data-username=\\\"pgutkovi\\\" data-post=\\\"15\\\" data-topic=\\\"483756\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg loading=\\\"lazy\\\" alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/letter_avatar_proxy/v4/letter/p/8baadc/48.png\\\" class=\\\"avatar\\\"\\u003e pgutkovi:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003eAlso, what if the current position of the mechanisms isn’t one of these vertices (i.e. after some manual control)?\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003cp\\u003eThis is where things can get complicated. Up until everything we’ve discussed can be calculated offline and encoded in your program statically (the states, their setpoints, the valid transitions). Either calculated by hand or generated at/before compile time.\\u003c/p\\u003e\\n\\u003cp\\u003eBut if you want the system to behave properly out of manual control, now you are talking about a dynamic path-planning problem, which the field of robotics has many algorithms and research in this area.\\u003c/p\\u003e\\n\\u003cp\\u003eThis page talks about some of those, \\u003ca href=\\\"https://www.roboticsbook.org/S55_diffdrive_planning.html#path-planning\\\" class=\\\"inline-onebox\\\"\\u003e5.5. Path Planning — Introduction to Robotics and Perception\\u003c/a\\u003e\\u003c/p\\u003e\\n\\u003caside class=\\\"quote no-group\\\" data-username=\\\"pgutkovi\\\" data-post=\\\"17\\\" data-topic=\\\"483756\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg loading=\\\"lazy\\\" alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/letter_avatar_proxy/v4/letter/p/8baadc/48.png\\\" class=\\\"avatar\\\"\\u003e pgutkovi:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003eI’m not sure though how to summon an intermediate vertex that will also lead to a short total path length and that’ll also avoid the obstacle.\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003cp\\u003eThat’s the tricky part. In a truly “general” system where you dont know the obstacles ahead of time this is very hard.\\u003cbr\\u003e\\nSince you know the obstacles, you can make assumptions about them and have heuristic methods for choosing intermediate points which always succeed. (i.e., there may be some points in your space which are reachable from all other points, the closest of these could be chosen as a “safe” intermediate).\\u003c/p\\u003e\\n\\u003cp\\u003eSo to answer your question, yes there’s a way to generalize this, and it will increase the complexity of your code quite a bit, and it will be much harder to test, but it could be fun \\u003cimg src=\\\"https://www.chiefdelphi.com/images/emoji/google/slight_smile.png?v=12\\\" title=\\\":slight_smile:\\\" class=\\\"emoji\\\" alt=\\\":slight_smile:\\\" loading=\\\"lazy\\\" width=\\\"20\\\" height=\\\"20\\\"\\u003e\\u003c/p\\u003e\\n\\u003cp\\u003ePersonally, I would do the simple thing with static states first. I think if you go from a manually controlled point to not, you could just have it jump to the “nearest” vertex (just on the elevator axis ignoring wrist angle).\\u003cbr\\u003e\\nBased on how you’ve drawn your configuration space, I don’t see that this could ever cause it to drive through the no-go zones.\\u003c/p\\u003e\\n\\u003caside class=\\\"quote no-group\\\" data-username=\\\"pgutkovi\\\" data-post=\\\"15\\\" data-topic=\\\"483756\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg loading=\\\"lazy\\\" alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/letter_avatar_proxy/v4/letter/p/8baadc/48.png\\\" class=\\\"avatar\\\"\\u003e pgutkovi:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003eWould I need to create a cartesian coordinate space in WPILib with all the presets in it, and with the obstacles created in it somehow? How would I generate a graph in WPILib and what algorithm can be used to find the shortest path between vertex A and vertex B?\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003cp\\u003eWhat I would do to start is have a mapping of states to setpoints first.\\u003c/p\\u003e\\n\\u003cpre data-code-wrap=\\\"C\\\"\\u003e\\u003ccode class=\\\"lang-C\\\"\\u003eelevator_setpoints := {'A': 0_in, 'B': 15_in, ..., 'F': 70_in};\\nwrist_setpoints: := {'A': 0_deg, 'B': 0_deg, 'C': 30_deg, ... 'F': -50_deg};\\n\\u003c/code\\u003e\\u003c/pre\\u003e\\n\\u003cp\\u003eThe obstacles don’t need to be represented at all, because you’re deriving the valid state transitions offline (manually or maybe with a cool script).\\u003c/p\\u003e\\n\\u003cp\\u003eFor the most part, any state can move directly to a goal state, so what you want to do is encode the transitions that DON’T exist. For that you can map pairs of states \\u003ccode\\u003e(current_state, goal_state)\\u003c/code\\u003e to intermediate states. If the map contains no such mapping for a given pair, then it just uses the goal_state.\\u003c/p\\u003e\\n\\u003cpre data-code-wrap=\\\"C\\\"\\u003e\\u003ccode class=\\\"lang-C\\\"\\u003eintermediate_transitions := {\\n    ('H', 'A'): 'D',\\n    ('D', 'A'): 'C',\\n    ('C', 'H'): 'D',\\n    ('A', 'H'): 'C'\\n}\\n\\nnext_state(current_state, goal_state):\\n  if (current_state, goal_state) in intermediate_transitions:\\n    return intermediate_transitions[(current_state, goal_state)]\\n  else\\n    return goal_state\\n\\u003c/code\\u003e\\u003c/pre\\u003e\\n\\u003cp\\u003eIt’s assumed that the chosen intermediate state results in the shortest path to the goal.\\u003c/p\\u003e\\n\\u003cp\\u003eAgain, this can be a lot more complex if you try to make it all work dynamically at runtime and don’t make assumptions about your configuration space. I encourage you to research these techniques and learn about them, but would recommend against utilizing them on your roborio in live matches.\\u003c/p\\u003e\",\"post_number\":18,\"post_type\":1,\"posts_count\":49,\"updated_at\":\"2025-01-28T05:14:57.807Z\",\"reply_count\":2,\"reply_to_post_number\":15,\"quote_count\":2,\"incoming_link_count\":1,\"reads\":258,\"readers_count\":257,\"score\":66.6,\"yours\":false,\"topic_id\":483756,\"topic_slug\":\"controlling-a-wrist-on-an-elevator-while-avoiding-collisions\",\"display_username\":\"Eric Ward\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"link_counts\":[{\"url\":\"https://www.roboticsbook.org/S55_diffdrive_planning.html#path-planning\",\"internal\":false,\"reflection\":false,\"title\":\"5.5. Path Planning — Introduction to Robotics and Perception\",\"clicks\":4}],\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":35208,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"3637 Mentor\"},\"post_url\":\"/t/controlling-a-wrist-on-an-elevator-while-avoiding-collisions/483756/18\",\"custom_user_title\":\"3637 Mentor\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3494939,\"name\":\"Peter\",\"username\":\"pgutkovi\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/p/8baadc/{size}.png\",\"created_at\":\"2025-01-28T18:58:29.310Z\",\"cooked\":\"\\u003caside class=\\\"quote no-group\\\" data-username=\\\"bathtubed\\\" data-post=\\\"18\\\" data-topic=\\\"483756\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg loading=\\\"lazy\\\" alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/user_avatar/www.chiefdelphi.com/bathtubed/48/220364_2.png\\\" class=\\\"avatar\\\"\\u003e bathtubed:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003eThat’s the tricky part. In a truly “general” system where you dont know the obstacles ahead of time this is very hard.\\u003cbr\\u003e\\nSince you know the obstacles, you can make assumptions about them and have heuristic methods for choosing intermediate points which always succeed. (i.e., there may be some points in your space which are reachable from all other points, the closest of these could be chosen as a “safe” intermediate).\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003cp\\u003eSo the difficulty is figuring out after drawing a straight line if it goes through on obstacle (which would be hard to define in WPILib)? And then if the line goes through the obstacle, I would have to implement some dynamic path finding algorithm to generate an optimal intermediate vertex?\\u003c/p\\u003e\\n\\u003cp\\u003eIf we use the heuristic approach, that means we wouldn’t need to know anything about the obstacles in the graph during runtime? To use this heuristic approach, would we generate a bunch of intermediate setpoint vertices along with the preset vertices in our graph script like so (I didn’t draw all edges):\\u003c/p\\u003e\\n\\u003cp\\u003e\\u003cdiv class=\\\"lightbox-wrapper\\\"\\u003e\\u003ca class=\\\"lightbox\\\" href=\\\"https://www.chiefdelphi.com/uploads/default/original/3X/6/8/68387d82ab28f7d3fe5ffc8f3e4ccaff474bc44e.jpeg\\\" data-download-href=\\\"https://www.chiefdelphi.com/uploads/default/68387d82ab28f7d3fe5ffc8f3e4ccaff474bc44e\\\" title=\\\"image\\\"\\u003e\\u003cimg src=\\\"https://www.chiefdelphi.com/uploads/default/optimized/3X/6/8/68387d82ab28f7d3fe5ffc8f3e4ccaff474bc44e_2_690x372.jpeg\\\" alt=\\\"image\\\" data-base62-sha1=\\\"eRYGzZB0h0I3m6uMh8NdRffvyJ8\\\" width=\\\"690\\\" height=\\\"372\\\" srcset=\\\"https://www.chiefdelphi.com/uploads/default/optimized/3X/6/8/68387d82ab28f7d3fe5ffc8f3e4ccaff474bc44e_2_690x372.jpeg, https://www.chiefdelphi.com/uploads/default/optimized/3X/6/8/68387d82ab28f7d3fe5ffc8f3e4ccaff474bc44e_2_1035x558.jpeg 1.5x, https://www.chiefdelphi.com/uploads/default/original/3X/6/8/68387d82ab28f7d3fe5ffc8f3e4ccaff474bc44e.jpeg 2x\\\" data-dominant-color=\\\"DADADB\\\"\\u003e\\u003cdiv class=\\\"meta\\\"\\u003e\\u003csvg class=\\\"fa d-icon d-icon-far-image svg-icon\\\" aria-hidden=\\\"true\\\"\\u003e\\u003cuse href=\\\"#far-image\\\"\\u003e\\u003c/use\\u003e\\u003c/svg\\u003e\\u003cspan class=\\\"filename\\\"\\u003eimage\\u003c/span\\u003e\\u003cspan class=\\\"informations\\\"\\u003e1275×688 46.9 KB\\u003c/span\\u003e\\u003csvg class=\\\"fa d-icon d-icon-discourse-expand svg-icon\\\" aria-hidden=\\\"true\\\"\\u003e\\u003cuse href=\\\"#discourse-expand\\\"\\u003e\\u003c/use\\u003e\\u003c/svg\\u003e\\u003c/div\\u003e\\u003c/a\\u003e\\u003c/div\\u003e\\u003c/p\\u003e\\n\\u003cp\\u003eHere all the vertices labeled “I” are intermediate vertices that are accessible from \\u003cstrong\\u003eanywhere\\u003c/strong\\u003e in the graph by straight line edges (it might not look like that in this drawing though). All the intermediate vertices would be added to the graph and connected to all possible adjacent vertices, and whenever we want to go to a preset (after some manual control), the algorithm would find the closest “I” vertex to the current position vertex, and from there follow the vertex mapping to the preset vertex? Would the vertex mapping be chaotic with too many intermediate vertices?\\u003c/p\\u003e\",\"post_number\":19,\"post_type\":1,\"posts_count\":49,\"updated_at\":\"2025-01-28T19:01:00.497Z\",\"reply_count\":2,\"reply_to_post_number\":null,\"quote_count\":1,\"incoming_link_count\":0,\"reads\":212,\"readers_count\":211,\"score\":67.4,\"yours\":false,\"topic_id\":483756,\"topic_slug\":\"controlling-a-wrist-on-an-elevator-while-avoiding-collisions\",\"display_username\":\"Peter\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":1}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":58928,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"\"},\"post_url\":\"/t/controlling-a-wrist-on-an-elevator-while-avoiding-collisions/483756/19\",\"custom_user_title\":null,\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":1}],\"current_user_reaction\":null,\"reaction_users_count\":1,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3494951,\"name\":\"Eric Ward\",\"username\":\"bathtubed\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/bathtubed/{size}/220364_2.png\",\"created_at\":\"2025-01-28T19:10:54.327Z\",\"cooked\":\"\\u003caside class=\\\"quote no-group\\\" data-username=\\\"pgutkovi\\\" data-post=\\\"19\\\" data-topic=\\\"483756\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg loading=\\\"lazy\\\" alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/letter_avatar_proxy/v4/letter/p/8baadc/48.png\\\" class=\\\"avatar\\\"\\u003e pgutkovi:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003eSo the difficulty is figuring out after drawing a straight line if it goes through on obstacle (which would be hard to define in WPILib)? And then if the line goes through the obstacle, I would have to implement some dynamic path finding algorithm to generate an optimal intermediate vertex?\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003cp\\u003eDetermining if you would collide with something isn’t THAT difficult, it’s just some basic coordinate geometry, but it still adds a bunch of complexity to the code (having to represent the obstacle space in code, having to dynamically check for intersection at runtime), when the benefit seems very low.\\u003c/p\\u003e\\n\\u003cp\\u003eI would think that in real matches you never want to be using manual control unless something goes wrong, and the odds you exit manual control back to automatic before a match ends seems even lower.\\u003c/p\\u003e\\n\\u003cp\\u003eYes I think the intermediate vertices idea you described is what I was getting at. You likely don’t even need that many.\\u003c/p\\u003e\\n\\u003caside class=\\\"quote no-group\\\" data-username=\\\"pgutkovi\\\" data-post=\\\"19\\\" data-topic=\\\"483756\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg loading=\\\"lazy\\\" alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/letter_avatar_proxy/v4/letter/p/8baadc/48.png\\\" class=\\\"avatar\\\"\\u003e pgutkovi:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003eWould the vertex mapping be chaotic with too many intermediate vertices?\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003cp\\u003eNo, because the only transitions you need to specify are the ones that need to take extra steps to avoid obstacles.\\u003cbr\\u003e\\nBy default, and preset you command can just be moved to directly.\\u003cbr\\u003e\\nOnly when a transition which would move through a no-go zone is requested do you need to supply an intermediate setpoint.\\u003c/p\\u003e\\n\\u003cp\\u003eThat’s why I suggested that all the “safe” presets you add for exiting manual control have line of sight to all other presets.\\u003c/p\\u003e\",\"post_number\":20,\"post_type\":1,\"posts_count\":49,\"updated_at\":\"2025-01-28T19:10:54.327Z\",\"reply_count\":1,\"reply_to_post_number\":19,\"quote_count\":1,\"incoming_link_count\":1,\"reads\":207,\"readers_count\":206,\"score\":51.4,\"yours\":false,\"topic_id\":483756,\"topic_slug\":\"controlling-a-wrist-on-an-elevator-while-avoiding-collisions\",\"display_username\":\"Eric Ward\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":35208,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"3637 Mentor\"},\"post_url\":\"/t/controlling-a-wrist-on-an-elevator-while-avoiding-collisions/483756/20\",\"custom_user_title\":\"3637 Mentor\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3494968,\"name\":\"RaymondZ\",\"username\":\"Raymondz\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/r/e99b99/{size}.png\",\"created_at\":\"2025-01-28T19:24:55.438Z\",\"cooked\":\"\\u003cp\\u003eOne way is to have an angle that won’t touch the elevator and do a state machine. But it will require a lot of codes.  Our solution to it is to create states like a graph and use MST(minimum cost spanning tree) algos to generate the commands that need to be executed when moving around states. The collision function makes this overcomplicated. Eventually, you will need your own PathPlanner for arm, RRT algo solver, and algo to optimize the generated tree, and network communication(unless you’re using Python or have time to compile network tables yourself and import a bunch of headers) from orangePI or \\u003cspan class=\\\"abbreviation\\\"\\u003eRPI\\u003ctemplate class=\\\"tooltiptext\\\" data-text=\\\"Raspberry Pi\\\"\\u003e\\u003c/template\\u003e\\u003c/span\\u003e to robotic because it requires too much compute. Also, doing it with a map will cost too much time for the programmer, one way is to approximate circles to fit the wrist and use a rotation matrix to rotate the point while the wrist rotates, collision detection for the circle will be really easy, just detect if dist larger than the sum of two radius. Also, approximate field elements with a circle.\\u003c/p\\u003e\",\"post_number\":21,\"post_type\":1,\"posts_count\":49,\"updated_at\":\"2025-01-28T19:24:55.438Z\",\"reply_count\":0,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":198,\"readers_count\":197,\"score\":39.6,\"yours\":false,\"topic_id\":483756,\"topic_slug\":\"controlling-a-wrist-on-an-elevator-while-avoiding-collisions\",\"display_username\":\"RaymondZ\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":67733,\"hidden\":false,\"trust_level\":1,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"\"},\"post_url\":\"/t/controlling-a-wrist-on-an-elevator-while-avoiding-collisions/483756/21\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null}],\"stream\":[3493460,3493600,3493661,3493692,3493867,3493871,3493879,3493911,3493919,3493931,3493937,3493959,3493986,3493997,3494422,3494483,3494510,3494939,3494951,3494968,3495015,3495180,3495193,3495198,3495228,3497389,3497420,3497494,3498533,3498599,3498609,3498658,3498704,3498739,3501400,3501467,3501634,3501769,3501796,3501866,3501940,3502501,3502514,3524453,3525129,3525138,3525181,3525195,3525216]},\"timeline_lookup\":[[1,258],[2,257],[18,256],[26,254],[29,253],[35,250],[37,249],[44,242],[45,241]],\"tags\":[\"ctre\",\"controls\",\"motionprofile\"],\"tags_descriptions\":{},\"fancy_title\":\"Controlling a wrist on an elevator while avoiding collisions\",\"id\":483756,\"title\":\"Controlling a wrist on an elevator while avoiding collisions\",\"posts_count\":49,\"created_at\":\"2025-01-27T03:00:39.978Z\",\"views\":2265,\"reply_count\":37,\"like_count\":32,\"last_posted_at\":\"2025-02-12T19:15:57.510Z\",\"visible\":true,\"closed\":false,\"archived\":false,\"has_summary\":false,\"archetype\":\"regular\",\"slug\":\"controlling-a-wrist-on-an-elevator-while-avoiding-collisions\",\"category_id\":30,\"word_count\":7303,\"deleted_at\":null,\"user_id\":58928,\"featured_link\":null,\"pinned_globally\":false,\"pinned_at\":null,\"pinned_until\":null,\"image_url\":null,\"slow_mode_seconds\":0,\"draft\":null,\"draft_key\":\"topic_483756\",\"draft_sequence\":null,\"unpinned\":null,\"pinned\":false,\"current_post_number\":1,\"highest_post_number\":50,\"deleted_by\":null,\"actions_summary\":[{\"id\":4,\"count\":0,\"hidden\":false,\"can_act\":false},{\"id\":8,\"count\":0,\"hidden\":false,\"can_act\":false},{\"id\":10,\"count\":0,\"hidden\":false,\"can_act\":false},{\"id\":7,\"count\":0,\"hidden\":false,\"can_act\":false}],\"chunk_size\":20,\"bookmarked\":false,\"topic_timer\":{\"id\":40057,\"execute_at\":\"2026-02-12T19:15:57.510Z\",\"duration_minutes\":525600,\"based_on_last_post\":true,\"status_type\":\"close\",\"category_id\":null},\"message_bus_last_id\":0,\"participant_count\":13,\"show_read_indicator\":false,\"thumbnails\":null,\"slow_mode_enabled_until\":null,\"valid_reactions\":[\"heart\",\"laughing\",\"point_up\",\"+1\",\"-1\",\"100\",\"open_mouth\",\"cry\",\"question\",\"thinking\",\"call_me_hand\",\"hugs\",\"angry\"],\"user_chosen_thumbnail_url\":null,\"sidecar_installed\":true,\"can_vote\":false,\"vote_count\":0,\"user_voted\":false,\"discourse_zendesk_plugin_zendesk_id\":null,\"discourse_zendesk_plugin_zendesk_url\":\"https://your-url.zendesk.com/agent/tickets/\",\"details\":{\"can_edit\":false,\"notification_level\":1,\"participants\":[{\"id\":58928,\"username\":\"pgutkovi\",\"name\":\"Peter\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/p/8baadc/{size}.png\",\"post_count\":22,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":35208,\"username\":\"bathtubed\",\"name\":\"Eric Ward\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/bathtubed/{size}/220364_2.png\",\"post_count\":11,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":20003,\"username\":\"joemost\",\"name\":\"joemost\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/joemost/{size}/11114_2.png\",\"post_count\":3,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":71098,\"username\":\"Andrew123ast\",\"name\":\"Andrew Todd\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/andrew123ast/{size}/243883_2.png\",\"post_count\":3,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":36169,\"username\":\"Hollisms\",\"name\":\"\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/hollisms/{size}/110925_2.png\",\"post_count\":2,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":60663,\"username\":\"Geoffrey8814\",\"name\":\"Geoffrey\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/geoffrey8814/{size}/262430_2.png\",\"post_count\":1,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":60754,\"username\":\"Spaceman\",\"name\":\"\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/s/a5b964/{size}.png\",\"post_count\":1,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":67733,\"username\":\"Raymondz\",\"name\":\"RaymondZ\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/r/e99b99/{size}.png\",\"post_count\":1,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":1},{\"id\":51887,\"username\":\"nstrike\",\"name\":\"\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/nstrike/{size}/167038_2.png\",\"post_count\":1,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":44380,\"username\":\"gdefender\",\"name\":\"Andy Gasser\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/gdefender/{size}/168507_2.png\",\"post_count\":1,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":48664,\"username\":\"RicDV\",\"name\":\"Ric Ferrell Mentor for 5503 Tiger Trons\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/ricdv/{size}/188502_2.png\",\"post_count\":1,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":19235,\"username\":\"Skyehawk\",\"name\":\"Skye Leake\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/skyehawk/{size}/179363_2.png\",\"post_count\":1,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"moderator\":true,\"trust_level\":4},{\"id\":53237,\"username\":\"cantogr07\",\"name\":\"Can Toğran\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/cantogr07/{size}/208647_2.png\",\"post_count\":1,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2}],\"created_by\":{\"id\":58928,\"username\":\"pgutkovi\",\"name\":\"Peter\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/p/8baadc/{size}.png\"},\"last_poster\":{\"id\":44380,\"username\":\"gdefender\",\"name\":\"Andy Gasser\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/gdefender/{size}/168507_2.png\"},\"links\":[{\"url\":\"https://github.com/BREAD5940/2024-Onseason/blob/main/src/main/java/frc/robot/subsystems/elevatorpivot/ElevatorPivot.java\",\"title\":\"2024-Onseason/src/main/java/frc/robot/subsystems/elevatorpivot/ElevatorPivot.java at main · BREAD5940/2024-Onseason · GitHub\",\"internal\":false,\"attachment\":false,\"reflection\":false,\"clicks\":65,\"user_id\":53237,\"domain\":\"github.com\",\"root_domain\":\"github.com\"},{\"url\":\"https://gm0.org/en/latest/docs/software/concepts/finite-state-machines.html\",\"title\":\"Finite State Machines - Game Manual 0\",\"internal\":false,\"attachment\":false,\"reflection\":false,\"clicks\":36,\"user_id\":71098,\"domain\":\"gm0.org\",\"root_domain\":\"gm0.org\"},{\"url\":\"https://www.desmos.com/calculator/l2fqsmvsgv\",\"title\":\"Wristevator Profiling | Desmos\",\"internal\":false,\"attachment\":false,\"reflection\":false,\"clicks\":13,\"user_id\":58928,\"domain\":\"www.desmos.com\",\"root_domain\":\"desmos.com\"},{\"url\":\"http://draw.io\",\"title\":\"Flowchart Maker \\u0026 Online Diagram Software\",\"internal\":false,\"attachment\":false,\"reflection\":false,\"clicks\":9,\"user_id\":36169,\"domain\":\"draw.io\",\"root_domain\":\"draw.io\"},{\"url\":\"https://docs.wpilib.org/en/stable/docs/software/dashboards/glass/mech2d-widget.html\",\"title\":\"The Mechanism2d Widget — FIRST Robotics Competition documentation\",\"internal\":false,\"attachment\":false,\"reflection\":false,\"clicks\":5,\"user_id\":35208,\"domain\":\"docs.wpilib.org\",\"root_domain\":\"wpilib.org\"},{\"url\":\"https://www.roboticsbook.org/S55_diffdrive_planning.html#path-planning\",\"title\":\"5.5. Path Planning — Introduction to Robotics and Perception\",\"internal\":false,\"attachment\":false,\"reflection\":false,\"clicks\":4,\"user_id\":35208,\"domain\":\"www.roboticsbook.org\",\"root_domain\":\"roboticsbook.org\"},{\"url\":\"https://v6.docs.ctr-electronics.com/en/2024/docs/api-reference/device-specific/talonfx/basic-pid-control.html#motion-profiling\",\"title\":\"Basic PID and Profiling\",\"internal\":false,\"attachment\":false,\"reflection\":false,\"clicks\":4,\"user_id\":35208,\"domain\":\"v6.docs.ctr-electronics.com\",\"root_domain\":\"ctr-electronics.com\"},{\"url\":\"https://github.com/Team334/R2025/blob/36b5e73fb5ddf82b52ba2ee59464a5c9ced97e65/src/main/java/frc/robot/subsystems/Wristevator.java#L233-L252\",\"title\":\"R2025/src/main/java/frc/robot/subsystems/Wristevator.java at 36b5e73fb5ddf82b52ba2ee59464a5c9ced97e65 · Team334/R2025 · GitHub\",\"internal\":false,\"attachment\":false,\"reflection\":false,\"clicks\":2,\"user_id\":58928,\"domain\":\"github.com\",\"root_domain\":\"github.com\"},{\"url\":\"https://github.com/Team334/R2025/blob/00b015176e73047182d2e18134107c1af1b66bc4/src/main/java/frc/robot/subsystems/Wristevator.java#L306\",\"title\":\"R2025/src/main/java/frc/robot/subsystems/Wristevator.java at 00b015176e73047182d2e18134107c1af1b66bc4 · Team334/R2025 · GitHub\",\"internal\":false,\"attachment\":false,\"reflection\":false,\"clicks\":1,\"user_id\":58928,\"domain\":\"github.com\",\"root_domain\":\"github.com\"},{\"url\":\"https://www.chiefdelphi.com/t/dynamicmotionmagic-profile-has-a-cliff-at-the-end-and-isnt-trapezoidal/484750\",\"title\":\"DynamicMotionMagic profile has a \\\"cliff\\\" at the end and isn't trapezoidal\",\"internal\":true,\"attachment\":false,\"reflection\":false,\"clicks\":1,\"user_id\":58928,\"domain\":\"www.chiefdelphi.com\",\"root_domain\":\"chiefdelphi.com\"},{\"url\":\"https://www.desmos.com/calculator/yaqs0z2kye\",\"title\":\"Wristevator Profiling | Desmos\",\"internal\":false,\"attachment\":false,\"reflection\":false,\"clicks\":1,\"user_id\":58928,\"domain\":\"www.desmos.com\",\"root_domain\":\"desmos.com\"},{\"url\":\"https://networkx.org/documentation/stable/index.html\",\"title\":\"Software for Complex Networks — NetworkX 3.4.2 documentation\",\"internal\":false,\"attachment\":false,\"reflection\":false,\"clicks\":1,\"user_id\":58928,\"domain\":\"networkx.org\",\"root_domain\":\"networkx.org\"}]},\"bookmarks\":[]}"}
