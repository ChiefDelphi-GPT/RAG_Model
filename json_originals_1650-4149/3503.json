{"data":"{\"post_stream\":{\"posts\":[{\"id\":3544596,\"name\":\"Diego Salcedo\",\"username\":\"Intelyc\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/intelyc/{size}/195375_2.png\",\"created_at\":\"2025-03-02T02:35:19.919Z\",\"cooked\":\"\\u003cp\\u003eHello all,\\u003c/p\\u003e\\n\\u003cp\\u003eWe were having issues today with our Arducam OV9281 running PhotonVision for pose estimation on our robot. We were unsure of the coordinate system until we noticed the marked axis on the Pigeon, which shows that we have our positive x to the right of the robot and positive y to the front of the robot (pigeon calibration set the yaw to ~ -90 degrees)\\u003c/p\\u003e\\n\\u003cp\\u003e\\u003cimg src=\\\"https://www.chiefdelphi.com/uploads/default/original/3X/f/1/f1e4c2b23b9c4301547060289d8410da70ba80de.jpeg\\\" alt=\\\"image\\\" data-base62-sha1=\\\"yvTbCYimtW7PsQPx8gqd1ftqWS2\\\" width=\\\"443\\\" height=\\\"368\\\"\\u003e\\u003c/p\\u003e\\n\\u003cp\\u003e\\u003cdiv class=\\\"lightbox-wrapper\\\"\\u003e\\u003ca class=\\\"lightbox\\\" href=\\\"https://www.chiefdelphi.com/uploads/default/original/3X/a/1/a104b3d47ad4a0423cb5b5cdbd5d361ac11d4c37.jpeg\\\" data-download-href=\\\"https://www.chiefdelphi.com/uploads/default/a104b3d47ad4a0423cb5b5cdbd5d361ac11d4c37\\\" title=\\\"image\\\"\\u003e\\u003cimg src=\\\"https://www.chiefdelphi.com/uploads/default/optimized/3X/a/1/a104b3d47ad4a0423cb5b5cdbd5d361ac11d4c37_2_375x500.jpeg\\\" alt=\\\"image\\\" data-base62-sha1=\\\"mYqWL1PhwW30OskDHSVpOCDihAr\\\" width=\\\"375\\\" height=\\\"500\\\" srcset=\\\"https://www.chiefdelphi.com/uploads/default/optimized/3X/a/1/a104b3d47ad4a0423cb5b5cdbd5d361ac11d4c37_2_375x500.jpeg, https://www.chiefdelphi.com/uploads/default/optimized/3X/a/1/a104b3d47ad4a0423cb5b5cdbd5d361ac11d4c37_2_562x750.jpeg 1.5x, https://www.chiefdelphi.com/uploads/default/optimized/3X/a/1/a104b3d47ad4a0423cb5b5cdbd5d361ac11d4c37_2_750x1000.jpeg 2x\\\" data-dominant-color=\\\"565863\\\"\\u003e\\u003cdiv class=\\\"meta\\\"\\u003e\\u003csvg class=\\\"fa d-icon d-icon-far-image svg-icon\\\" aria-hidden=\\\"true\\\"\\u003e\\u003cuse href=\\\"#far-image\\\"\\u003e\\u003c/use\\u003e\\u003c/svg\\u003e\\u003cspan class=\\\"filename\\\"\\u003eimage\\u003c/span\\u003e\\u003cspan class=\\\"informations\\\"\\u003e1920×2560 291 KB\\u003c/span\\u003e\\u003csvg class=\\\"fa d-icon d-icon-discourse-expand svg-icon\\\" aria-hidden=\\\"true\\\"\\u003e\\u003cuse href=\\\"#discourse-expand\\\"\\u003e\\u003c/use\\u003e\\u003c/svg\\u003e\\u003c/div\\u003e\\u003c/a\\u003e\\u003c/div\\u003e\\u003c/p\\u003e\\n\\u003cp\\u003eAlthough the pigeon calibration sets the yaw to -90 degrees, we figured out (after 5 hours of trial and error) that the coordinates of the camera were still positive x to the right of the robot and positive y to the front of the robot. In order to find the position of our camera relative to the center of the robot (pigeon), we modeled the arducam then measured to the lens of the camera (also, are you supposed to measure to the lens or where the camera gets mounted?). Therefore, we set the x to -2.4 and and the y to 13, which were taken from the CAD:\\u003c/p\\u003e\\n\\u003cp\\u003e\\u003cimg src=\\\"https://www.chiefdelphi.com/uploads/default/original/3X/2/0/20b021aec72d3e641c3d36b12cb8fa7dcd100a1e.png\\\" alt=\\\"image\\\" data-base62-sha1=\\\"4FaDD7w2RysMQQABVLkPvEuKBAy\\\" width=\\\"430\\\" height=\\\"475\\\"\\u003e\\u003c/p\\u003e\\n\\u003cp\\u003eWe also found the z height (from the ground) was 9.2 (also taken from the CAD).\\u003c/p\\u003e\\n\\u003cp\\u003eThe camera is angled upwards by 10 degrees (\\u003cbr\\u003e\\n\\u003cdiv class=\\\"lightbox-wrapper\\\"\\u003e\\u003ca class=\\\"lightbox\\\" href=\\\"https://www.chiefdelphi.com/uploads/default/original/3X/8/7/87fbf1c0d32ef7cc747139841a3c2350f96b3d60.png\\\" data-download-href=\\\"https://www.chiefdelphi.com/uploads/default/87fbf1c0d32ef7cc747139841a3c2350f96b3d60\\\" title=\\\"image\\\"\\u003e\\u003cimg src=\\\"https://www.chiefdelphi.com/uploads/default/optimized/3X/8/7/87fbf1c0d32ef7cc747139841a3c2350f96b3d60_2_397x500.png\\\" alt=\\\"image\\\" data-base62-sha1=\\\"joYfiEsleAhis46cOjTPtVnf9Qc\\\" width=\\\"397\\\" height=\\\"500\\\" srcset=\\\"https://www.chiefdelphi.com/uploads/default/optimized/3X/8/7/87fbf1c0d32ef7cc747139841a3c2350f96b3d60_2_397x500.png, https://www.chiefdelphi.com/uploads/default/original/3X/8/7/87fbf1c0d32ef7cc747139841a3c2350f96b3d60.png 1.5x, https://www.chiefdelphi.com/uploads/default/original/3X/8/7/87fbf1c0d32ef7cc747139841a3c2350f96b3d60.png 2x\\\" data-dominant-color=\\\"E4EBF0\\\"\\u003e\\u003cdiv class=\\\"meta\\\"\\u003e\\u003csvg class=\\\"fa d-icon d-icon-far-image svg-icon\\\" aria-hidden=\\\"true\\\"\\u003e\\u003cuse href=\\\"#far-image\\\"\\u003e\\u003c/use\\u003e\\u003c/svg\\u003e\\u003cspan class=\\\"filename\\\"\\u003eimage\\u003c/span\\u003e\\u003cspan class=\\\"informations\\\"\\u003e487×613 31.7 KB\\u003c/span\\u003e\\u003csvg class=\\\"fa d-icon d-icon-discourse-expand svg-icon\\\" aria-hidden=\\\"true\\\"\\u003e\\u003cuse href=\\\"#discourse-expand\\\"\\u003e\\u003c/use\\u003e\\u003c/svg\\u003e\\u003c/div\\u003e\\u003c/a\\u003e\\u003c/div\\u003e\\u003cbr\\u003e\\n)\\u003cbr\\u003e\\nand is angled facing 55 degrees to the left (\\u003cbr\\u003e\\n\\u003cdiv class=\\\"lightbox-wrapper\\\"\\u003e\\u003ca class=\\\"lightbox\\\" href=\\\"https://www.chiefdelphi.com/uploads/default/original/3X/d/d/dd27f9d02248a87eb8eabcd4281750ff8f54b8a6.png\\\" data-download-href=\\\"https://www.chiefdelphi.com/uploads/default/dd27f9d02248a87eb8eabcd4281750ff8f54b8a6\\\" title=\\\"image\\\"\\u003e\\u003cimg src=\\\"https://www.chiefdelphi.com/uploads/default/optimized/3X/d/d/dd27f9d02248a87eb8eabcd4281750ff8f54b8a6_2_505x500.png\\\" alt=\\\"image\\\" data-base62-sha1=\\\"vyrasQt69rTroSRm9Lvsl4c559c\\\" width=\\\"505\\\" height=\\\"500\\\" srcset=\\\"https://www.chiefdelphi.com/uploads/default/optimized/3X/d/d/dd27f9d02248a87eb8eabcd4281750ff8f54b8a6_2_505x500.png, https://www.chiefdelphi.com/uploads/default/original/3X/d/d/dd27f9d02248a87eb8eabcd4281750ff8f54b8a6.png 1.5x, https://www.chiefdelphi.com/uploads/default/original/3X/d/d/dd27f9d02248a87eb8eabcd4281750ff8f54b8a6.png 2x\\\" data-dominant-color=\\\"EAEBEB\\\"\\u003e\\u003cdiv class=\\\"meta\\\"\\u003e\\u003csvg class=\\\"fa d-icon d-icon-far-image svg-icon\\\" aria-hidden=\\\"true\\\"\\u003e\\u003cuse href=\\\"#far-image\\\"\\u003e\\u003c/use\\u003e\\u003c/svg\\u003e\\u003cspan class=\\\"filename\\\"\\u003eimage\\u003c/span\\u003e\\u003cspan class=\\\"informations\\\"\\u003e702×694 48.7 KB\\u003c/span\\u003e\\u003csvg class=\\\"fa d-icon d-icon-discourse-expand svg-icon\\\" aria-hidden=\\\"true\\\"\\u003e\\u003cuse href=\\\"#discourse-expand\\\"\\u003e\\u003c/use\\u003e\\u003c/svg\\u003e\\u003c/div\\u003e\\u003c/a\\u003e\\u003c/div\\u003e\\u003cbr\\u003e\\n)\\u003c/p\\u003e\\n\\u003cp\\u003eTherefore, we set our Pitch to -10 and Yaw to -55.\\u003c/p\\u003e\\n\\u003cp\\u003eWhen put in front of an apriltag (reef ID 22, blue alliance in our case) with these transformations, the robot thinks it is to the left of where it truly is.\\u003c/p\\u003e\\n\\u003cp\\u003eHere is the estimated pose in advantagescope:\\u003cbr\\u003e\\n\\u003cdiv class=\\\"lightbox-wrapper\\\"\\u003e\\u003ca class=\\\"lightbox\\\" href=\\\"https://www.chiefdelphi.com/uploads/default/original/3X/3/c/3cb0e149b722a41c1f3f000387bfc341e9e7dc29.jpeg\\\" data-download-href=\\\"https://www.chiefdelphi.com/uploads/default/3cb0e149b722a41c1f3f000387bfc341e9e7dc29\\\" title=\\\"image\\\"\\u003e\\u003cimg src=\\\"https://www.chiefdelphi.com/uploads/default/optimized/3X/3/c/3cb0e149b722a41c1f3f000387bfc341e9e7dc29_2_375x500.jpeg\\\" alt=\\\"image\\\" data-base62-sha1=\\\"8ETBWjNAVaAkhouzPeyxBjAYpgB\\\" width=\\\"375\\\" height=\\\"500\\\" srcset=\\\"https://www.chiefdelphi.com/uploads/default/optimized/3X/3/c/3cb0e149b722a41c1f3f000387bfc341e9e7dc29_2_375x500.jpeg, https://www.chiefdelphi.com/uploads/default/optimized/3X/3/c/3cb0e149b722a41c1f3f000387bfc341e9e7dc29_2_562x750.jpeg 1.5x, https://www.chiefdelphi.com/uploads/default/optimized/3X/3/c/3cb0e149b722a41c1f3f000387bfc341e9e7dc29_2_750x1000.jpeg 2x\\\" data-dominant-color=\\\"7C787A\\\"\\u003e\\u003cdiv class=\\\"meta\\\"\\u003e\\u003csvg class=\\\"fa d-icon d-icon-far-image svg-icon\\\" aria-hidden=\\\"true\\\"\\u003e\\u003cuse href=\\\"#far-image\\\"\\u003e\\u003c/use\\u003e\\u003c/svg\\u003e\\u003cspan class=\\\"filename\\\"\\u003eimage\\u003c/span\\u003e\\u003cspan class=\\\"informations\\\"\\u003e1920×2560 255 KB\\u003c/span\\u003e\\u003csvg class=\\\"fa d-icon d-icon-discourse-expand svg-icon\\\" aria-hidden=\\\"true\\\"\\u003e\\u003cuse href=\\\"#discourse-expand\\\"\\u003e\\u003c/use\\u003e\\u003c/svg\\u003e\\u003c/div\\u003e\\u003c/a\\u003e\\u003c/div\\u003e\\u003c/p\\u003e\\n\\u003cp\\u003eHere is the actual pose:\\u003cbr\\u003e\\n\\u003cdiv class=\\\"lightbox-wrapper\\\"\\u003e\\u003ca class=\\\"lightbox\\\" href=\\\"https://www.chiefdelphi.com/uploads/default/original/3X/6/f/6f321feccadc5dfcb2759f53338f013ca1abb2fa.jpeg\\\" data-download-href=\\\"https://www.chiefdelphi.com/uploads/default/6f321feccadc5dfcb2759f53338f013ca1abb2fa\\\" title=\\\"image\\\"\\u003e\\u003cimg src=\\\"https://www.chiefdelphi.com/uploads/default/optimized/3X/6/f/6f321feccadc5dfcb2759f53338f013ca1abb2fa_2_375x500.jpeg\\\" alt=\\\"image\\\" data-base62-sha1=\\\"fRGoeEAB8wKwBST1WbnkrzahT2G\\\" width=\\\"375\\\" height=\\\"500\\\" srcset=\\\"https://www.chiefdelphi.com/uploads/default/optimized/3X/6/f/6f321feccadc5dfcb2759f53338f013ca1abb2fa_2_375x500.jpeg, https://www.chiefdelphi.com/uploads/default/optimized/3X/6/f/6f321feccadc5dfcb2759f53338f013ca1abb2fa_2_562x750.jpeg 1.5x, https://www.chiefdelphi.com/uploads/default/optimized/3X/6/f/6f321feccadc5dfcb2759f53338f013ca1abb2fa_2_750x1000.jpeg 2x\\\" data-dominant-color=\\\"7B6B61\\\"\\u003e\\u003cdiv class=\\\"meta\\\"\\u003e\\u003csvg class=\\\"fa d-icon d-icon-far-image svg-icon\\\" aria-hidden=\\\"true\\\"\\u003e\\u003cuse href=\\\"#far-image\\\"\\u003e\\u003c/use\\u003e\\u003c/svg\\u003e\\u003cspan class=\\\"filename\\\"\\u003eimage\\u003c/span\\u003e\\u003cspan class=\\\"informations\\\"\\u003e1920×2560 451 KB\\u003c/span\\u003e\\u003csvg class=\\\"fa d-icon d-icon-discourse-expand svg-icon\\\" aria-hidden=\\\"true\\\"\\u003e\\u003cuse href=\\\"#discourse-expand\\\"\\u003e\\u003c/use\\u003e\\u003c/svg\\u003e\\u003c/div\\u003e\\u003c/a\\u003e\\u003c/div\\u003e\\u003c/p\\u003e\\n\\u003cp\\u003eWe wanted to use vision for auto alignment this year and so we want the estimated pose to be as accurate as possible to the actual pose. We tried moving the y and x independently but doing so moves the robot diagonally (so it moves the estimated pose to the right but also into the reef). We were wondering if there were any issues with the way we are applying our transformations or our calibrations since we have struggled with the coordinate system for the past couple of hours.\\u003c/p\\u003e\\n\\u003cp\\u003eHere is a link to our code: \\u003ca href=\\\"https://github.com/frc4123/2025/blob/main/src/main/java/frc/robot/Subsystems/Vision.java\\\" class=\\\"inline-onebox\\\" rel=\\\"noopener nofollow ugc\\\"\\u003e2025/src/main/java/frc/robot/Subsystems/Vision.java at main · frc4123/2025 · GitHub\\u003c/a\\u003e\\u003c/p\\u003e\\n\\u003cp\\u003eThe transformation values are in our constants, but here it is as well:\\u003c/p\\u003e\\n\\u003cp\\u003e//Front Angled Camera Translation and Angle\\u003c/p\\u003e\\n\\u003cpre\\u003e\\u003ccode\\u003e    public static final double angledX = Units.inchesToMeters(-2.4); //-2.766\\n    public static final double angledY = Units.inchesToMeters(13); //1.013.351\\n    public static final double angledZ = Units.inchesToMeters(9.2);\\n\\n    public static final double angledRoll = Units.degreesToRadians(0);\\n    public static final double angledPitch = Units.degreesToRadians(-10);\\n    public static final double angledYaw = Units.degreesToRadians(-55);\\n}\\n\\u003c/code\\u003e\\u003c/pre\\u003e\\n\\u003cp\\u003e}\\u003c/p\\u003e\",\"post_number\":1,\"post_type\":1,\"posts_count\":3,\"updated_at\":\"2025-03-02T02:37:35.583Z\",\"reply_count\":0,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":81,\"reads\":91,\"readers_count\":90,\"score\":423.2,\"yours\":false,\"topic_id\":493814,\"topic_slug\":\"robottocamera-setup\",\"display_username\":\"Diego Salcedo\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"link_counts\":[{\"url\":\"https://github.com/frc4123/2025/blob/main/src/main/java/frc/robot/Subsystems/Vision.java\",\"internal\":false,\"reflection\":false,\"title\":\"2025/src/main/java/frc/robot/Subsystems/Vision.java at main · frc4123/2025 · GitHub\",\"clicks\":5}],\"read\":true,\"user_title\":null,\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":59548,\"hidden\":false,\"trust_level\":1,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"Intelyc\"},\"post_url\":\"/t/robottocamera-setup/493814/1\",\"custom_user_title\":\"Intelyc\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null,\"can_vote\":false},{\"id\":3544616,\"name\":\"\",\"username\":\"glolichen07\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/glolichen07/{size}/258867_2.png\",\"created_at\":\"2025-03-02T03:06:19.373Z\",\"cooked\":\"\\u003cp\\u003eThe Transform is to the lens, not to where the camera is mounted. Also, OnShape (and potentially other CAD software)'s coordinate system is different from that expected by WPILib/Photonvision.\\u003c/p\\u003e\\n\\u003cp\\u003eIt is my understanding, based on the \\u003ca href=\\\"https://docs.photonvision.org/en/latest/docs/programming/photonlib/robot-pose-estimator.html\\\" rel=\\\"noopener nofollow ugc\\\"\\u003ePhotonVision\\u003c/a\\u003e and \\u003ca href=\\\"https://github.wpilib.org/allwpilib/docs/release/java/edu/wpi/first/math/geometry/Transform3d.html\\\" rel=\\\"noopener nofollow ugc\\\"\\u003eWPILib\\u003c/a\\u003e documentations that the correct setup for a camera is:\\u003c/p\\u003e\\n\\u003cpre\\u003e\\u003ccode class=\\\"lang-auto\\\"\\u003ePhotonCamera camera = new PhotonCamera(cameraName);\\nTransform3d robotToCam = new Transform3d(new Translation3d(\\n    cameraForwardOffset, cameraLeftOffset, cameraUpOffset\\n), new Rotation3d(\\n    cameraRollRadians, cameraPitchRadians, cameraYawRadians \\n));\\n\\naprilTagFieldLayout = AprilTagFieldLayout.loadField(AprilTagFields.kDefaultField);\\nPhotonPoseEstimator ppe = new PhotonPoseEstimator(\\n    aprilTagFieldLayout,\\n    PoseStrategy.MULTI_TAG_PNP_ON_COPROCESSOR,\\n    robotToCam\\n);\\n\\u003c/code\\u003e\\u003c/pre\\u003e\\n\\u003cp\\u003ewhere \\u003ccode\\u003ecameraForwardOffset\\u003c/code\\u003e is how many meters forward the lens of the camera is compared to the center of the robot, etc etc. Also see this page: \\u003ca href=\\\"https://docs.wpilib.org/en/stable/docs/software/basic-programming/coordinate-system.html\\\" rel=\\\"noopener nofollow ugc\\\"\\u003ehttps://docs.wpilib.org/en/stable/docs/software/basic-programming/coordinate-system.html\\u003c/a\\u003e, for your reference.\\u003c/p\\u003e\\n\\u003cp\\u003eIn your case, I would guess, assuming your camera is facing forward:\\u003c/p\\u003e\\n\\u003cul\\u003e\\n\\u003cli\\u003e\\u003ccode\\u003ex = cameraForwardOffset = 13.098 * 0.0254\\u003c/code\\u003e\\u003c/li\\u003e\\n\\u003cli\\u003e\\u003ccode\\u003ey = cameraLeftOffset = 2.404 * 0.0254\\u003c/code\\u003e (positive, because the camera is left relative to the center of your robot)\\u003c/li\\u003e\\n\\u003cli\\u003e\\u003ccode\\u003ez = cameraUpOffset = 9.2 * 0.0254\\u003c/code\\u003e\\u003c/li\\u003e\\n\\u003c/ul\\u003e\\n\\u003cp\\u003eAs for the components of the \\u003ccode\\u003eRotation3d\\u003c/code\\u003e, please take what I say with a grain of salt. The cameras on our robot are not as angled as yours, so I may be wrong. Since \\u003ccode\\u003eRotation3d\\u003c/code\\u003e is counterclockwise (important! see  \\u003ca href=\\\"https://github.wpilib.org/allwpilib/docs/release/java/edu/wpi/first/math/geometry/Rotation3d.html?is-external=true#%3Cinit%3E(double,double,double)\\\" rel=\\\"noopener nofollow ugc\\\"\\u003eWPILib API Reference\\u003c/a\\u003e), I believe your constants should be:\\u003c/p\\u003e\\n\\u003cul\\u003e\\n\\u003cli\\u003e\\u003ccode\\u003ecameraRollRadians = 0\\u003c/code\\u003e\\u003c/li\\u003e\\n\\u003cli\\u003e\\u003ccode\\u003ecameraPitchRadians = 10 * pi / 180\\u003c/code\\u003e\\u003c/li\\u003e\\n\\u003cli\\u003e\\u003ccode\\u003ecameraYawRadians = 55 * pi / 180\\u003c/code\\u003e\\u003c/li\\u003e\\n\\u003c/ul\\u003e\\n\\u003cp\\u003eLooking from on top, rotated 55 degrees to the left means being 55 degree \\u003cstrong\\u003ecounterclockwise\\u003c/strong\\u003e, and positive values for pitch means pitch up.\\u003c/p\\u003e\\n\\u003cp\\u003eEdit: I saw your height from the ground is 9.2 inches, in that case, the \\u003ccode\\u003ez\\u003c/code\\u003e should be whatever 9.2 inches is in meters.\\u003c/p\\u003e\",\"post_number\":2,\"post_type\":1,\"posts_count\":3,\"updated_at\":\"2025-03-02T03:10:53.882Z\",\"reply_count\":1,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":25,\"reads\":76,\"readers_count\":75,\"score\":145.2,\"yours\":false,\"topic_id\":493814,\"topic_slug\":\"robottocamera-setup\",\"display_username\":\"\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"link_counts\":[{\"url\":\"https://github.wpilib.org/allwpilib/docs/release/java/edu/wpi/first/math/geometry/Rotation3d.html?is-external=true#%3Cinit%3E(double,double,double)\",\"internal\":false,\"reflection\":false,\"title\":\"Rotation3d (WPILib API 2025.3.1)\",\"clicks\":5},{\"url\":\"https://docs.wpilib.org/en/stable/docs/software/basic-programming/coordinate-system.html\",\"internal\":false,\"reflection\":false,\"title\":\"Coordinate System — FIRST Robotics Competition documentation\",\"clicks\":4},{\"url\":\"https://docs.photonvision.org/en/latest/docs/programming/photonlib/robot-pose-estimator.html\",\"internal\":false,\"reflection\":false,\"title\":\"AprilTags and PhotonPoseEstimator - PhotonVision Docs\",\"clicks\":4},{\"url\":\"https://github.wpilib.org/allwpilib/docs/release/java/edu/wpi/first/math/geometry/Transform3d.html\",\"internal\":false,\"reflection\":false,\"title\":\"Transform3d (WPILib API 2025.3.1)\",\"clicks\":2}],\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":63443,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"FRC 5895\"},\"post_url\":\"/t/robottocamera-setup/493814/2\",\"custom_user_title\":\"FRC 5895\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3544636,\"name\":\"Diego Salcedo\",\"username\":\"Intelyc\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/intelyc/{size}/195375_2.png\",\"created_at\":\"2025-03-02T03:28:17.440Z\",\"cooked\":\"\\u003cp\\u003eThank you so much for the insight! We have considered some of the points you mentioned and a lot of our concerns regarding the way we are applying things stem from our limited understanding.\\u003c/p\\u003e\\n\\u003cp\\u003eAlthough the pigeon is calibrated to make the forward of our robot forward for swerve drive (as imaged in the original post), our Pigeon’s mounting sets positive x to the right and positive y to the front, so the negative signs in our translations are actually correct for our configuration.\\u003c/p\\u003e\\n\\u003cp\\u003eRegarding rotations, we did try switching to positive values per the documentation, but that caused our robot’s estimated pose to face the wrong direction (even ending up inside the reef), which is why we ended up using negative values that seemed to work (as seen in the images as well). This discrepancy makes us wonder if something else in our transformation chain is off (and we had tried the positive x and y offsets before we found out that the pigeon mounting changed our coordinate system).\\u003c/p\\u003e\\n\\u003cp\\u003eThanks again for your help, and especially with the clarification about the measurement to the lens.\\u003c/p\\u003e\",\"post_number\":3,\"post_type\":1,\"posts_count\":3,\"updated_at\":\"2025-03-02T03:28:17.440Z\",\"reply_count\":0,\"reply_to_post_number\":2,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":58,\"readers_count\":57,\"score\":26.6,\"yours\":false,\"topic_id\":493814,\"topic_slug\":\"robottocamera-setup\",\"display_username\":\"Diego Salcedo\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":null,\"reply_to_user\":{\"id\":63443,\"username\":\"glolichen07\",\"name\":\"\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/glolichen07/{size}/258867_2.png\"},\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":1}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":59548,\"hidden\":false,\"trust_level\":1,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"Intelyc\"},\"post_url\":\"/t/robottocamera-setup/493814/3\",\"custom_user_title\":\"Intelyc\",\"reactions\":[{\"id\":\"+1\",\"type\":\"emoji\",\"count\":1}],\"current_user_reaction\":null,\"reaction_users_count\":1,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null}],\"stream\":[3544596,3544616,3544636]},\"timeline_lookup\":[[1,224]],\"suggested_topics\":[{\"fancy_title\":\"Alignment using Apriltags\",\"id\":491906,\"title\":\"Alignment using Apriltags\",\"slug\":\"alignment-using-apriltags\",\"posts_count\":3,\"reply_count\":1,\"highest_post_number\":3,\"image_url\":null,\"created_at\":\"2025-02-16T05:05:59.399Z\",\"last_posted_at\":\"2025-02-16T18:33:08.838Z\",\"bumped\":true,\"bumped_at\":\"2025-02-16T18:33:08.838Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"We currently using photon visino, two cameras capturing AprilTags. Our current vision strategy is that when we hold down the “aim” button on the joystick, the robot continuously tracks AprilTags and …\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[\"2025\"],\"tags_descriptions\":{},\"like_count\":1,\"views\":331,\"category_id\":87,\"featured_link\":null,\"has_accepted_answer\":false,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3528544,\"topic_post_liked\":false,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":false,\"topic_post_is_current_users\":null,\"topic_post_number\":1,\"topic_post_user\":{\"id\":65533,\"username\":\"EUW\",\"name\":\"\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/e/65b543/{size}.png\"},\"posters\":[{\"extras\":\"latest\",\"description\":\"Original Poster, Most Recent Poster\",\"user\":{\"id\":65533,\"username\":\"EUW\",\"name\":\"\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/e/65b543/{size}.png\",\"trust_level\":1}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":62693,\"username\":\"Adithya_Anand\",\"name\":\"Adithya Anand\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/adithya_anand/{size}/208753_2.png\",\"trust_level\":2}}]},{\"fancy_title\":\"How to use PhotonVision to auto align with april tag?\",\"id\":494275,\"title\":\"How to use PhotonVision to auto align with april tag?\",\"slug\":\"how-to-use-photonvision-to-auto-align-with-april-tag\",\"posts_count\":1,\"reply_count\":0,\"highest_post_number\":1,\"image_url\":null,\"created_at\":\"2025-03-05T00:24:49.466Z\",\"last_posted_at\":\"2025-03-05T00:24:49.512Z\",\"bumped\":true,\"bumped_at\":\"2025-03-05T00:24:49.512Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"How can I use PhotonVision to automatically align with the different poles on the reef to put coral on it?\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[],\"tags_descriptions\":{},\"like_count\":2,\"views\":146,\"category_id\":87,\"featured_link\":null,\"has_accepted_answer\":false,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3547763,\"topic_post_liked\":false,\"topic_post_like_count\":2,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":true,\"topic_post_is_current_users\":null,\"topic_post_number\":1,\"topic_post_user\":{\"id\":73941,\"username\":\"FRC5518_Simon\",\"name\":\"\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/frc5518_simon/{size}/252891_2.png\"},\"posters\":[{\"extras\":\"latest single\",\"description\":\"Original Poster, Most Recent Poster\",\"user\":{\"id\":73941,\"username\":\"FRC5518_Simon\",\"name\":\"\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/frc5518_simon/{size}/252891_2.png\",\"trust_level\":0}}]},{\"fancy_title\":\"Photonvision getting Skew data using Apriltags\",\"id\":484126,\"title\":\"Photonvision getting Skew data using Apriltags\",\"slug\":\"photonvision-getting-skew-data-using-apriltags\",\"posts_count\":8,\"reply_count\":5,\"highest_post_number\":8,\"image_url\":\"https://www.chiefdelphi.com/uploads/default/optimized/3X/e/c/ecbb2b5dbf36567b841cdf7b8b31fb588811f444_2_1024x452.png\",\"created_at\":\"2025-01-29T17:09:54.857Z\",\"last_posted_at\":\"2025-01-29T21:03:34.769Z\",\"bumped\":true,\"bumped_at\":\"2025-01-29T21:03:34.769Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"Hi everyone, I want to do an alignment with using photonvision but not just aiming to apriltag with turning the robot. I want to move my robot right in front of the apriltag, like apriltag and my rob…\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[\"2025\",\"photonvision\",\"alignment\"],\"tags_descriptions\":{},\"like_count\":2,\"views\":288,\"category_id\":87,\"featured_link\":null,\"has_accepted_answer\":false,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3495724,\"topic_post_liked\":false,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":true,\"topic_post_is_current_users\":null,\"topic_post_number\":1,\"topic_post_user\":{\"id\":65439,\"username\":\"kab\",\"name\":\"Kerem Alper Batal\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/kab/{size}/247872_2.png\"},\"posters\":[{\"extras\":null,\"description\":\"Original Poster\",\"user\":{\"id\":65439,\"username\":\"kab\",\"name\":\"Kerem Alper Batal\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/kab/{size}/247872_2.png\",\"trust_level\":1}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":18334,\"username\":\"BobbyVanNess\",\"name\":\"BobbyVanNess\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/bobbyvanness/{size}/193519_2.png\",\"trust_level\":2}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":21715,\"username\":\"asid61\",\"name\":\"Anand Rajamani\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/asid61/{size}/7179_2.png\",\"trust_level\":2}},{\"extras\":\"latest\",\"description\":\"Most Recent Poster\",\"user\":{\"id\":24617,\"username\":\"gerthworm\",\"name\":\"Chris Gerth\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/gerthworm/{size}/268658_2.png\",\"trust_level\":2}}]},{\"fancy_title\":\"Issue with photonvision(using ov9281\",\"id\":491670,\"title\":\"Issue with photonvision(using ov9281\",\"slug\":\"issue-with-photonvision-using-ov9281\",\"posts_count\":1,\"reply_count\":0,\"highest_post_number\":1,\"image_url\":null,\"created_at\":\"2025-02-14T11:47:23.950Z\",\"last_posted_at\":\"2025-02-14T11:47:24.003Z\",\"bumped\":true,\"bumped_at\":\"2025-02-14T11:47:24.003Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"we have a problem with photo vision(using ov9281),we can’t select the April tag that we want,it will select the smallest id we see\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[],\"tags_descriptions\":{},\"like_count\":0,\"views\":63,\"category_id\":87,\"featured_link\":null,\"has_accepted_answer\":false,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3526906,\"topic_post_liked\":false,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":false,\"topic_post_is_current_users\":null,\"topic_post_number\":1,\"topic_post_user\":{\"id\":64354,\"username\":\"Ethan0120\",\"name\":\"Ethan\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/e/977dab/{size}.png\"},\"posters\":[{\"extras\":\"latest single\",\"description\":\"Original Poster, Most Recent Poster\",\"user\":{\"id\":64354,\"username\":\"Ethan0120\",\"name\":\"Ethan\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/e/977dab/{size}.png\",\"trust_level\":2}}]},{\"fancy_title\":\"[2025AprilFools] PhotonVision Pro: The Bestest Robot Pose Tracking System in FRC\",\"id\":497648,\"title\":\"[2025AprilFools] PhotonVision Pro: The Bestest Robot Pose Tracking System in FRC\",\"slug\":\"2025aprilfools-photonvision-pro-the-bestest-robot-pose-tracking-system-in-frc\",\"posts_count\":37,\"reply_count\":10,\"highest_post_number\":37,\"image_url\":\"https://www.chiefdelphi.com/uploads/default/original/4X/6/4/3/6433aacda8b7ea4cc683d22826ade4f35045df01.gif\",\"created_at\":\"2025-04-01T04:34:18.600Z\",\"last_posted_at\":\"2025-04-03T14:15:57.658Z\",\"bumped\":true,\"bumped_at\":\"2025-04-03T14:15:57.658Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"Introducing PhotonVision The Ultimate Competitive Edge for FIRST Robotics Teams! In the high-stakes world of FIRST Robotics Competition (FRC), where milliseconds separate champions from finalis…\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[],\"tags_descriptions\":{},\"like_count\":348,\"views\":2933,\"category_id\":87,\"featured_link\":null,\"has_accepted_answer\":false,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3576137,\"topic_post_liked\":false,\"topic_post_like_count\":85,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":true,\"topic_post_is_current_users\":null,\"topic_post_number\":1,\"topic_post_user\":{\"id\":37738,\"username\":\"thatmattguy\",\"name\":\"Matt\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/thatmattguy/{size}/222358_2.png\"},\"posters\":[{\"extras\":null,\"description\":\"Original Poster\",\"user\":{\"id\":37738,\"username\":\"thatmattguy\",\"name\":\"Matt\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/thatmattguy/{size}/222358_2.png\",\"trust_level\":2}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":60214,\"username\":\"spacey_sooty\",\"name\":\"Jade\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/spacey_sooty/{size}/256378_2.png\",\"trust_level\":2}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":53819,\"username\":\"Zatack7\",\"name\":\"Zachary\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/zatack7/{size}/175437_2.png\",\"trust_level\":2}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":60586,\"username\":\"cmdada\",\"name\":\"Ada T\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/cmdada/{size}/230870_2.png\",\"trust_level\":2}},{\"extras\":\"latest\",\"description\":\"Most Recent Poster\",\"user\":{\"id\":24613,\"username\":\"viggy96\",\"name\":\"viggy96\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/viggy96/{size}/252784_2.png\",\"trust_level\":2}}]}],\"tags\":[\"vision\",\"camera\"],\"tags_descriptions\":{},\"fancy_title\":\"RobotToCamera setup\",\"id\":493814,\"title\":\"RobotToCamera setup\",\"posts_count\":3,\"created_at\":\"2025-03-02T02:35:19.849Z\",\"views\":247,\"reply_count\":1,\"like_count\":1,\"last_posted_at\":\"2025-03-02T03:28:17.440Z\",\"visible\":true,\"closed\":false,\"archived\":false,\"has_summary\":false,\"archetype\":\"regular\",\"slug\":\"robottocamera-setup\",\"category_id\":87,\"word_count\":1009,\"deleted_at\":null,\"user_id\":59548,\"featured_link\":null,\"pinned_globally\":false,\"pinned_at\":null,\"pinned_until\":null,\"image_url\":\"https://www.chiefdelphi.com/uploads/default/original/3X/f/1/f1e4c2b23b9c4301547060289d8410da70ba80de.jpeg\",\"slow_mode_seconds\":0,\"draft\":null,\"draft_key\":\"topic_493814\",\"draft_sequence\":null,\"unpinned\":null,\"pinned\":false,\"current_post_number\":1,\"highest_post_number\":3,\"deleted_by\":null,\"actions_summary\":[{\"id\":4,\"count\":0,\"hidden\":false,\"can_act\":false},{\"id\":8,\"count\":0,\"hidden\":false,\"can_act\":false},{\"id\":10,\"count\":0,\"hidden\":false,\"can_act\":false},{\"id\":7,\"count\":0,\"hidden\":false,\"can_act\":false}],\"chunk_size\":20,\"bookmarked\":false,\"topic_timer\":null,\"message_bus_last_id\":0,\"participant_count\":2,\"show_read_indicator\":false,\"thumbnails\":[{\"max_width\":null,\"max_height\":null,\"width\":443,\"height\":368,\"url\":\"https://www.chiefdelphi.com/uploads/default/original/3X/f/1/f1e4c2b23b9c4301547060289d8410da70ba80de.jpeg\"}],\"slow_mode_enabled_until\":null,\"valid_reactions\":[\"heart\",\"laughing\",\"point_up\",\"+1\",\"-1\",\"100\",\"open_mouth\",\"cry\",\"question\",\"thinking\",\"call_me_hand\",\"hugs\",\"angry\"],\"user_chosen_thumbnail_url\":null,\"sidecar_installed\":true,\"can_vote\":false,\"vote_count\":0,\"user_voted\":false,\"discourse_zendesk_plugin_zendesk_id\":null,\"discourse_zendesk_plugin_zendesk_url\":\"https://your-url.zendesk.com/agent/tickets/\",\"details\":{\"can_edit\":false,\"notification_level\":1,\"participants\":[{\"id\":59548,\"username\":\"Intelyc\",\"name\":\"Diego Salcedo\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/intelyc/{size}/195375_2.png\",\"post_count\":2,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":1},{\"id\":63443,\"username\":\"glolichen07\",\"name\":\"\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/glolichen07/{size}/258867_2.png\",\"post_count\":1,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2}],\"created_by\":{\"id\":59548,\"username\":\"Intelyc\",\"name\":\"Diego Salcedo\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/intelyc/{size}/195375_2.png\"},\"last_poster\":{\"id\":59548,\"username\":\"Intelyc\",\"name\":\"Diego Salcedo\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/intelyc/{size}/195375_2.png\"},\"links\":[{\"url\":\"https://github.com/frc4123/2025/blob/main/src/main/java/frc/robot/Subsystems/Vision.java\",\"title\":\"2025/src/main/java/frc/robot/Subsystems/Vision.java at main · frc4123/2025 · GitHub\",\"internal\":false,\"attachment\":false,\"reflection\":false,\"clicks\":5,\"user_id\":59548,\"domain\":\"github.com\",\"root_domain\":\"github.com\"},{\"url\":\"https://github.wpilib.org/allwpilib/docs/release/java/edu/wpi/first/math/geometry/Rotation3d.html?is-external=true#%3Cinit%3E(double,double,double)\",\"title\":\"Rotation3d (WPILib API 2025.3.1)\",\"internal\":false,\"attachment\":false,\"reflection\":false,\"clicks\":5,\"user_id\":63443,\"domain\":\"github.wpilib.org\",\"root_domain\":\"wpilib.org\"},{\"url\":\"https://docs.photonvision.org/en/latest/docs/programming/photonlib/robot-pose-estimator.html\",\"title\":\"AprilTags and PhotonPoseEstimator - PhotonVision Docs\",\"internal\":false,\"attachment\":false,\"reflection\":false,\"clicks\":4,\"user_id\":63443,\"domain\":\"docs.photonvision.org\",\"root_domain\":\"photonvision.org\"},{\"url\":\"https://docs.wpilib.org/en/stable/docs/software/basic-programming/coordinate-system.html\",\"title\":\"Coordinate System — FIRST Robotics Competition documentation\",\"internal\":false,\"attachment\":false,\"reflection\":false,\"clicks\":4,\"user_id\":63443,\"domain\":\"docs.wpilib.org\",\"root_domain\":\"wpilib.org\"},{\"url\":\"https://github.wpilib.org/allwpilib/docs/release/java/edu/wpi/first/math/geometry/Transform3d.html\",\"title\":\"Transform3d (WPILib API 2025.3.1)\",\"internal\":false,\"attachment\":false,\"reflection\":false,\"clicks\":2,\"user_id\":63443,\"domain\":\"github.wpilib.org\",\"root_domain\":\"wpilib.org\"}]},\"bookmarks\":[]}"}
