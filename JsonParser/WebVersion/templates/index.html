<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Local RAG Chatbot</title>
    <style>
        body { font-family: sans-serif; max-width: 700px; margin: auto; }
        .counter { position: absolute; top: 10px; right: 20px; font-weight: bold; }
        textarea { width: 100%; height: 100px; }
    </style>
</head>
<body>
    <div class="counter">Vectors in DB: {{ count }}</div>
    <h1>Chief Delphi RAG Chatbot</h1>

    <form action="/ask" method="post">
        <p><label>Your question:<br>
        <textarea name="question" required></textarea></label></p>

        <p><label>Topic slug:<br>
        <input type="text" name="topic" style="width:100%" required></label></p>

        <p><button type="submit">Ask</button></p>
    </form>

    {% if answer %}
    <h2>Answer</h2>
    <div style="white-space: pre-wrap;">{{ answer }}</div>
    {% endif %}
</body>
</html>
