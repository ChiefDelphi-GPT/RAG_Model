{
    "data": {
        "post_stream": {
            "posts": [
                {
                    "id": 3219184,
                    "name": "",
                    "username": "crueter",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/crueter/{size}/258043_2.png",
                    "created_at": "2023-07-16T18:54:34.912Z",
                    "cooked": "There has been discussion thrown around CD, and to a small extent, our team, about the necessity of differential swerve.\n\nGenerally, I agree with this step, but as a programmer I have yet to find any real documentation of the math going on behind differential swerve. Looking at code hasn’t helped because it seems that teams use completely different math from each other, abstracted behind several layers of functions that make it hard to follow.\n\nAll in all, I’m looking to understand the math that goes on behind the scenes, including:\n\nDetermining a module’s angle (using integrated encoders, NOT the CAN-connected absolute encoder)\n\nConverting a SwerveModuleState (target speed & angle = velocity) into target velocities for each motor\n\nWhat I do understand is how to determine the module’s position and speed - simply averaging the position/velocity of each motor.\n\nGiven the lack of any real documentation I’ve found, I’d like to hear an explanation for the math necessary to control these aspects of a differential swerve module.",
                    "post_number": 1,
                    "post_type": 1,
                    "posts_count": 47,
                    "updated_at": "2023-07-16T18:54:34.912Z",
                    "reply_count": 0,
                    "reply_to_post_number": null,
                    "quote_count": 0,
                    "incoming_link_count": 550,
                    "reads": 653,
                    "readers_count": 652,
                    "score": 2925.6,
                    "yours": false,
                    "topic_id": 438967,
                    "topic_slug": "differential-swerve-the-math",
                    "display_username": "",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 1,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "read": true,
                    "user_title": "",
                    "bookmarked": false,
                    "actions_summary": [
                        {
                            "id": 2,
                            "count": 4
                        }
                    ],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 50684,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "user_custom_fields": {
                        "user_field_4": "6032 | QDash"
                    },
                    "post_url": "/t/differential-swerve-the-math/438967/1",
                    "custom_user_title": "6032 | QDash",
                    "reactions": [
                        {
                            "id": "heart",
                            "type": "emoji",
                            "count": 4
                        }
                    ],
                    "current_user_reaction": null,
                    "reaction_users_count": 4,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": true,
                    "can_vote": false
                },
                {
                    "id": 3219200,
                    "name": "viggy96",
                    "username": "viggy96",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/viggy96/{size}/252784_2.png",
                    "created_at": "2023-07-16T21:53:36.303Z",
                    "cooked": "Don’t have an answer for you, I’m just curious why you don’t want to use the CAN connected absolute encoder for determining the module’s current angle.",
                    "post_number": 2,
                    "post_type": 1,
                    "posts_count": 47,
                    "updated_at": "2023-07-16T21:53:36.303Z",
                    "reply_count": 1,
                    "reply_to_post_number": null,
                    "quote_count": 0,
                    "incoming_link_count": 2,
                    "reads": 597,
                    "readers_count": 596,
                    "score": 134.4,
                    "yours": false,
                    "topic_id": 438967,
                    "topic_slug": "differential-swerve-the-math",
                    "display_username": "viggy96",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 1,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "read": true,
                    "user_title": "",
                    "bookmarked": false,
                    "actions_summary": [],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 24613,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "user_custom_fields": {
                        "user_field_4": "418 Mentor | Tries to be smart"
                    },
                    "post_url": "/t/differential-swerve-the-math/438967/2",
                    "custom_user_title": "418 Mentor | Tries to be smart",
                    "reactions": [],
                    "current_user_reaction": null,
                    "reaction_users_count": 0,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": true
                },
                {
                    "id": 3219201,
                    "name": "",
                    "username": "pocnic",
                    "avatar_template": "/letter_avatar_proxy/v4/letter/p/ed655f/{size}.png",
                    "created_at": "2023-07-16T22:00:58.439Z",
                    "cooked": "I don’t believe that it is possible to know the wheel’s heading without an encoder measuring only that.\n\nThe reason for this is that the rotation of the module is directly related to the translation of the wheel. As such, if the wheel were to slip or skid, you lose your heading if only measuring using the motor built in encoders.\n\nAlternatively, if you can somehow directly measure the wheels translation, you can figure out the heading based on the three encoder values you do have. It is vastly simpler mechanically to measure heading and deduce translation.",
                    "post_number": 3,
                    "post_type": 1,
                    "posts_count": 47,
                    "updated_at": "2023-07-16T22:00:58.439Z",
                    "reply_count": 2,
                    "reply_to_post_number": null,
                    "quote_count": 0,
                    "incoming_link_count": 2,
                    "reads": 560,
                    "readers_count": 559,
                    "score": 147.0,
                    "yours": false,
                    "topic_id": 438967,
                    "topic_slug": "differential-swerve-the-math",
                    "display_username": "",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 1,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "read": true,
                    "user_title": null,
                    "bookmarked": false,
                    "actions_summary": [
                        {
                            "id": 2,
                            "count": 1
                        }
                    ],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 45824,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "user_custom_fields": {
                        "user_field_4": "Box of 10-32 screws"
                    },
                    "post_url": "/t/differential-swerve-the-math/438967/3",
                    "custom_user_title": "Box of 10-32 screws",
                    "reactions": [
                        {
                            "id": "heart",
                            "type": "emoji",
                            "count": 1
                        }
                    ],
                    "current_user_reaction": null,
                    "reaction_users_count": 1,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": true
                },
                {
                    "id": 3219260,
                    "name": "",
                    "username": "crueter",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/crueter/{size}/258043_2.png",
                    "created_at": "2023-07-17T02:09:43.423Z",
                    "cooked": "Unless you set the status period really low and eat up CAN bus, there’s going to be delay between the actual heading of the wheel and the reading from the encoder, resulting in lower-accuracy odometry and PID. Integrated encoders are more reliable and faster acting.\n\nUnless there’s something with differential swerve itself that negates this?",
                    "post_number": 4,
                    "post_type": 1,
                    "posts_count": 47,
                    "updated_at": "2023-07-17T02:09:43.423Z",
                    "reply_count": 1,
                    "reply_to_post_number": 2,
                    "quote_count": 0,
                    "incoming_link_count": 1,
                    "reads": 467,
                    "readers_count": 466,
                    "score": 103.4,
                    "yours": false,
                    "topic_id": 438967,
                    "topic_slug": "differential-swerve-the-math",
                    "display_username": "",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 1,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "read": true,
                    "user_title": "",
                    "reply_to_user": {
                        "id": 24613,
                        "username": "viggy96",
                        "name": "viggy96",
                        "avatar_template": "/user_avatar/www.chiefdelphi.com/viggy96/{size}/252784_2.png"
                    },
                    "bookmarked": false,
                    "actions_summary": [],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 50684,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "user_custom_fields": {
                        "user_field_4": "6032 | QDash"
                    },
                    "post_url": "/t/differential-swerve-the-math/438967/4",
                    "custom_user_title": "6032 | QDash",
                    "reactions": [],
                    "current_user_reaction": null,
                    "reaction_users_count": 0,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": true
                },
                {
                    "id": 3219263,
                    "name": "",
                    "username": "crueter",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/crueter/{size}/258043_2.png",
                    "created_at": "2023-07-17T02:14:35.863Z",
                    "cooked": "The absolute encoder would still be used to “seed” the angle of the modules like a traditional swerve (unless this isn’t possible with diffswerve).\n\nThinking about it now though, I suppose wheel skips do pose a greater problem for diffswerve.\n\nI’m still interested in knowing the math behind converting target velocity to motor velocities. I’ve heard some people use DifferentialDrive but have no clue if this really “works”/how to implement it",
                    "post_number": 5,
                    "post_type": 1,
                    "posts_count": 47,
                    "updated_at": "2023-07-17T02:14:35.863Z",
                    "reply_count": 0,
                    "reply_to_post_number": 3,
                    "quote_count": 0,
                    "incoming_link_count": 0,
                    "reads": 431,
                    "readers_count": 430,
                    "score": 101.2,
                    "yours": false,
                    "topic_id": 438967,
                    "topic_slug": "differential-swerve-the-math",
                    "display_username": "",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 1,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "read": true,
                    "user_title": "",
                    "reply_to_user": {
                        "id": 45824,
                        "username": "pocnic",
                        "name": "",
                        "avatar_template": "/letter_avatar_proxy/v4/letter/p/ed655f/{size}.png"
                    },
                    "bookmarked": false,
                    "actions_summary": [
                        {
                            "id": 2,
                            "count": 1
                        }
                    ],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 50684,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "user_custom_fields": {
                        "user_field_4": "6032 | QDash"
                    },
                    "post_url": "/t/differential-swerve-the-math/438967/5",
                    "custom_user_title": "6032 | QDash",
                    "reactions": [
                        {
                            "id": "heart",
                            "type": "emoji",
                            "count": 1
                        }
                    ],
                    "current_user_reaction": null,
                    "reaction_users_count": 1,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": true
                },
                {
                    "id": 3219274,
                    "name": "viggy96",
                    "username": "viggy96",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/viggy96/{size}/252784_2.png",
                    "created_at": "2023-07-17T03:00:01.196Z",
                    "cooked": "Plenty of teams in FRC control their swerve modules using only the CANcoder. It is really not that bad. Not sure where you got the idea that “delay” is really a problem. I guess CAN bus utilisation could be a problem, but that could be mitigated by putting the CANcoder on the high speed CANivore bus. CANcoders are pretty close to the lowest contributing device to CAN bus utilisation.",
                    "post_number": 6,
                    "post_type": 1,
                    "posts_count": 47,
                    "updated_at": "2023-07-17T03:00:01.196Z",
                    "reply_count": 1,
                    "reply_to_post_number": 4,
                    "quote_count": 0,
                    "incoming_link_count": 0,
                    "reads": 393,
                    "readers_count": 392,
                    "score": 98.6,
                    "yours": false,
                    "topic_id": 438967,
                    "topic_slug": "differential-swerve-the-math",
                    "display_username": "viggy96",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 1,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "read": true,
                    "user_title": "",
                    "reply_to_user": {
                        "id": 50684,
                        "username": "crueter",
                        "name": "",
                        "avatar_template": "/user_avatar/www.chiefdelphi.com/crueter/{size}/258043_2.png"
                    },
                    "bookmarked": false,
                    "actions_summary": [
                        {
                            "id": 2,
                            "count": 1
                        }
                    ],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 24613,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "user_custom_fields": {
                        "user_field_4": "418 Mentor | Tries to be smart"
                    },
                    "post_url": "/t/differential-swerve-the-math/438967/6",
                    "custom_user_title": "418 Mentor | Tries to be smart",
                    "reactions": [
                        {
                            "id": "heart",
                            "type": "emoji",
                            "count": 1
                        }
                    ],
                    "current_user_reaction": null,
                    "reaction_users_count": 1,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": true
                },
                {
                    "id": 3219277,
                    "name": "",
                    "username": "crueter",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/crueter/{size}/258043_2.png",
                    "created_at": "2023-07-17T03:12:34.342Z",
                    "cooked": "We had our CANCoder set to 100ms status frame period. When driving straight and rotating fast (such as in an auton), we noticed significant drift (edging near a foot of lateral drift when driving 10ft forward while rotating).\n\nWe also would absolutely prefer to not use the CANivore if possible.\n\nIn that regard, I’m curious what “the” way for determining the module angle from each motor is. Similarly, I’m looking for the opposite: transforming a desired state into motor velocities.",
                    "post_number": 7,
                    "post_type": 1,
                    "posts_count": 47,
                    "updated_at": "2023-07-17T03:12:34.342Z",
                    "reply_count": 2,
                    "reply_to_post_number": 6,
                    "quote_count": 0,
                    "incoming_link_count": 2,
                    "reads": 370,
                    "readers_count": 369,
                    "score": 94.0,
                    "yours": false,
                    "topic_id": 438967,
                    "topic_slug": "differential-swerve-the-math",
                    "display_username": "",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 1,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "read": true,
                    "user_title": "",
                    "reply_to_user": {
                        "id": 24613,
                        "username": "viggy96",
                        "name": "viggy96",
                        "avatar_template": "/user_avatar/www.chiefdelphi.com/viggy96/{size}/252784_2.png"
                    },
                    "bookmarked": false,
                    "actions_summary": [],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 50684,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "user_custom_fields": {
                        "user_field_4": "6032 | QDash"
                    },
                    "post_url": "/t/differential-swerve-the-math/438967/7",
                    "custom_user_title": "6032 | QDash",
                    "reactions": [],
                    "current_user_reaction": null,
                    "reaction_users_count": 0,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": true
                },
                {
                    "id": 3219280,
                    "name": "Allen Nuttle",
                    "username": "nuttle",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/nuttle/{size}/124105_2.png",
                    "created_at": "2023-07-17T03:33:22.637Z",
                    "cooked": "As others have said, you want to control the position (rotation) for steering – use an absolute encoder here.  These are cheap (in the context of swerve), easy to use, and work well.  I don’t see any reason one would try to keep up with the steering angle using built-in motor encoders, and I expect any attempt to do so is just going to make this harder (and, in the end, work less well).  I don’t think using the built-in encoder on a dedicated single steering motor is best-practice.\n\nAs for the math, this is where I’d focus.  This, and worrying about the control loop latency.  I’ve seen at least one paper that goes into this, here on CD…\n\nEDIT: If you don’t want to use a CANcoder, don’t.  There are multiple other options for absolute position sensing for steerng angle at this point.",
                    "post_number": 8,
                    "post_type": 1,
                    "posts_count": 47,
                    "updated_at": "2023-07-17T03:36:27.431Z",
                    "reply_count": 1,
                    "reply_to_post_number": null,
                    "quote_count": 0,
                    "incoming_link_count": 0,
                    "reads": 351,
                    "readers_count": 350,
                    "score": 105.2,
                    "yours": false,
                    "topic_id": 438967,
                    "topic_slug": "differential-swerve-the-math",
                    "display_username": "Allen Nuttle",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 1,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "read": true,
                    "user_title": "",
                    "bookmarked": false,
                    "actions_summary": [
                        {
                            "id": 2,
                            "count": 2
                        }
                    ],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 14283,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "user_custom_fields": {
                        "user_field_4": ""
                    },
                    "post_url": "/t/differential-swerve-the-math/438967/8",
                    "custom_user_title": null,
                    "reactions": [
                        {
                            "id": "heart",
                            "type": "emoji",
                            "count": 2
                        }
                    ],
                    "current_user_reaction": null,
                    "reaction_users_count": 2,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": true
                },
                {
                    "id": 3219282,
                    "name": "viggy96",
                    "username": "viggy96",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/viggy96/{size}/252784_2.png",
                    "created_at": "2023-07-17T03:41:18.982Z",
                    "cooked": "This is bringing up more questions… Why don’t you want to use a CANivore? I haven’t seen a rash of other teams who use the CANcoder for swerve report issues like this for odometry. Also, you can use other absolute encoders that aren’t the CANcoder, and just connect them to the RIO.",
                    "post_number": 9,
                    "post_type": 1,
                    "posts_count": 47,
                    "updated_at": "2023-07-17T03:41:18.982Z",
                    "reply_count": 1,
                    "reply_to_post_number": 7,
                    "quote_count": 0,
                    "incoming_link_count": 0,
                    "reads": 328,
                    "readers_count": 327,
                    "score": 70.6,
                    "yours": false,
                    "topic_id": 438967,
                    "topic_slug": "differential-swerve-the-math",
                    "display_username": "viggy96",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 1,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "read": true,
                    "user_title": "",
                    "reply_to_user": {
                        "id": 50684,
                        "username": "crueter",
                        "name": "",
                        "avatar_template": "/user_avatar/www.chiefdelphi.com/crueter/{size}/258043_2.png"
                    },
                    "bookmarked": false,
                    "actions_summary": [],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 24613,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "user_custom_fields": {
                        "user_field_4": "418 Mentor | Tries to be smart"
                    },
                    "post_url": "/t/differential-swerve-the-math/438967/9",
                    "custom_user_title": "418 Mentor | Tries to be smart",
                    "reactions": [],
                    "current_user_reaction": null,
                    "reaction_users_count": 0,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": true
                },
                {
                    "id": 3219287,
                    "name": "Anand Rajamani",
                    "username": "asid61",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/asid61/{size}/7179_2.png",
                    "created_at": "2023-07-17T05:05:08.885Z",
                    "cooked": "Wheel skipping won’t affect module rotation. The difference between motor encoders should always be able to derive the heading of the module, unless a gear/belt slips.\n\nI think you need to run cascaded PID loops. First, a loop on heading whose input is heading and output is desired motor velocity. Add/subtract that to the result of your desired forward velocity to get commands for each motor. Then run a tight loop on the motors to reach those velocities. There’s probably a much better ideal solution to this that takes advantage of characterization, but that’s the first thing that comes to mind. Feedforwards could be applied separately to the rotation component and translation component of the command.",
                    "post_number": 10,
                    "post_type": 1,
                    "posts_count": 47,
                    "updated_at": "2023-07-17T05:05:08.885Z",
                    "reply_count": 2,
                    "reply_to_post_number": null,
                    "quote_count": 0,
                    "incoming_link_count": 0,
                    "reads": 316,
                    "readers_count": 315,
                    "score": 103.2,
                    "yours": false,
                    "topic_id": 438967,
                    "topic_slug": "differential-swerve-the-math",
                    "display_username": "Anand Rajamani",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 1,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "read": true,
                    "user_title": "",
                    "bookmarked": false,
                    "actions_summary": [
                        {
                            "id": 2,
                            "count": 2
                        }
                    ],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 21715,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "user_custom_fields": {
                        "user_field_4": ""
                    },
                    "post_url": "/t/differential-swerve-the-math/438967/10",
                    "custom_user_title": null,
                    "reactions": [
                        {
                            "id": "heart",
                            "type": "emoji",
                            "count": 2
                        }
                    ],
                    "current_user_reaction": null,
                    "reaction_users_count": 2,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": true
                },
                {
                    "id": 3219289,
                    "name": "",
                    "username": "pocnic",
                    "avatar_template": "/letter_avatar_proxy/v4/letter/p/ed655f/{size}.png",
                    "created_at": "2023-07-17T05:25:46.700Z",
                    "cooked": "I am not a programmer so don’t fully understand the nuances of PID loops, but (im fairly certain) the question of wheel skipping/module rotation is a mechanical question, not a programming one.\n\nThe best way that I can describe this is if you put both motors in brake mode, you could still turn the wheel (and the heading would change) or change the heading (and the wheel would turn).",
                    "post_number": 11,
                    "post_type": 1,
                    "posts_count": 47,
                    "updated_at": "2023-07-17T05:25:46.700Z",
                    "reply_count": 0,
                    "reply_to_post_number": 10,
                    "quote_count": 0,
                    "incoming_link_count": 1,
                    "reads": 304,
                    "readers_count": 303,
                    "score": 65.8,
                    "yours": false,
                    "topic_id": 438967,
                    "topic_slug": "differential-swerve-the-math",
                    "display_username": "",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 1,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "read": true,
                    "user_title": null,
                    "reply_to_user": {
                        "id": 21715,
                        "username": "asid61",
                        "name": "Anand Rajamani",
                        "avatar_template": "/user_avatar/www.chiefdelphi.com/asid61/{size}/7179_2.png"
                    },
                    "bookmarked": false,
                    "actions_summary": [],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 45824,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "user_custom_fields": {
                        "user_field_4": "Box of 10-32 screws"
                    },
                    "post_url": "/t/differential-swerve-the-math/438967/11",
                    "custom_user_title": "Box of 10-32 screws",
                    "reactions": [],
                    "current_user_reaction": null,
                    "reaction_users_count": 0,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": true
                },
                {
                    "id": 3219290,
                    "name": "",
                    "username": "crueter",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/crueter/{size}/258043_2.png",
                    "created_at": "2023-07-17T05:28:05.034Z",
                    "cooked": "viggy96:\n\nWhy don’t you want to use a CANivore?\n\nWe had pretty debilitating issues with it last season that took an extremely long time to solve, and spending $300 for an alternate solution when one already presumably exists is not a good decision.",
                    "post_number": 12,
                    "post_type": 1,
                    "posts_count": 47,
                    "updated_at": "2023-07-17T05:28:05.034Z",
                    "reply_count": 1,
                    "reply_to_post_number": 9,
                    "quote_count": 1,
                    "incoming_link_count": 0,
                    "reads": 293,
                    "readers_count": 292,
                    "score": 78.6,
                    "yours": false,
                    "topic_id": 438967,
                    "topic_slug": "differential-swerve-the-math",
                    "display_username": "",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 1,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "read": true,
                    "user_title": "",
                    "bookmarked": false,
                    "actions_summary": [
                        {
                            "id": 2,
                            "count": 1
                        }
                    ],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 50684,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "user_custom_fields": {
                        "user_field_4": "6032 | QDash"
                    },
                    "post_url": "/t/differential-swerve-the-math/438967/12",
                    "custom_user_title": "6032 | QDash",
                    "reactions": [
                        {
                            "id": "heart",
                            "type": "emoji",
                            "count": 1
                        }
                    ],
                    "current_user_reaction": null,
                    "reaction_users_count": 1,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": true
                },
                {
                    "id": 3219292,
                    "name": "",
                    "username": "crueter",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/crueter/{size}/258043_2.png",
                    "created_at": "2023-07-17T05:30:19.035Z",
                    "cooked": "nuttle:\n\nI don’t think using the built-in encoder on a dedicated single steering motor is best-practice.\n\nUsing the built-in encoder lets us use the much more reliable 1000Hz PID control loops versus 50Hz loops for the RIO.\n\nThis is turning into nonsense ideological debate over a nonissue. I’m curious about the implementation, not the encoder…",
                    "post_number": 13,
                    "post_type": 1,
                    "posts_count": 47,
                    "updated_at": "2023-07-17T05:30:19.035Z",
                    "reply_count": 1,
                    "reply_to_post_number": 8,
                    "quote_count": 1,
                    "incoming_link_count": 0,
                    "reads": 285,
                    "readers_count": 284,
                    "score": 62.0,
                    "yours": false,
                    "topic_id": 438967,
                    "topic_slug": "differential-swerve-the-math",
                    "display_username": "",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 1,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "read": true,
                    "user_title": "",
                    "bookmarked": false,
                    "actions_summary": [],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 50684,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "user_custom_fields": {
                        "user_field_4": "6032 | QDash"
                    },
                    "post_url": "/t/differential-swerve-the-math/438967/13",
                    "custom_user_title": "6032 | QDash",
                    "reactions": [],
                    "current_user_reaction": null,
                    "reaction_users_count": 0,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": true
                },
                {
                    "id": 3219293,
                    "name": "",
                    "username": "crueter",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/crueter/{size}/258043_2.png",
                    "created_at": "2023-07-17T05:34:54.832Z",
                    "cooked": "asid61:\n\nFirst, a loop on heading whose input is heading and output is desired motor velocity.\n\nThe output, i assume, is thus half the differential between each motor?\n\nWhat I don’t really understand is how exactly this is calculated. At this point though I assume it’s mainly a mechanical thing, I’m unfamiliar with the inner workings of differential swerve and am not entirely sure of what this looks like.",
                    "post_number": 14,
                    "post_type": 1,
                    "posts_count": 47,
                    "updated_at": "2023-07-17T05:34:54.832Z",
                    "reply_count": 0,
                    "reply_to_post_number": 10,
                    "quote_count": 1,
                    "incoming_link_count": 0,
                    "reads": 281,
                    "readers_count": 280,
                    "score": 56.2,
                    "yours": false,
                    "topic_id": 438967,
                    "topic_slug": "differential-swerve-the-math",
                    "display_username": "",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 1,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "read": true,
                    "user_title": "",
                    "bookmarked": false,
                    "actions_summary": [],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 50684,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "user_custom_fields": {
                        "user_field_4": "6032 | QDash"
                    },
                    "post_url": "/t/differential-swerve-the-math/438967/14",
                    "custom_user_title": "6032 | QDash",
                    "reactions": [],
                    "current_user_reaction": null,
                    "reaction_users_count": 0,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": true
                },
                {
                    "id": 3219332,
                    "name": "Allen Nuttle",
                    "username": "nuttle",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/nuttle/{size}/124105_2.png",
                    "created_at": "2023-07-17T14:37:44.675Z",
                    "cooked": "Sorry – I was tight for time and a little terse, which may have come across as a bit harsh and judgmental.  I’m still short for time, but here’s a longer answer…\n\nI don’t recall you explicitly saying, but it seems we are talking about using Falcons here.  I’ll assume this in order to hold down the number of variables and keep things at least a little more focused.  I’ll try not to make unstated assumptions.\n\nThe 10,000 ft. description of the problem is you need to control two motors.  In the context of diff swerve, the control function for each motor will need input from at least one external sensor, whether this is something like a CANcoder, or the other (CAN-connected) motor.  If you are not doing the math on the motor controller, things are a little different, but let’s start here, since this seems to be what you are thinking.\n\nIf you are going to do the math on the motor controller, the motors will also need the desired module state (typically, position for the steering angle and power/velocity/position for driving the wheel).  And, the motor controllers will have to expose some means of running the desired math.  This last point is important, it’s not as if you can legally change the motor controller firmware – even if you chose to go there.\n\nFor the moment, let’s not worry about the latency or update frequency of the desired module state – as a simplifying assumption, we can just say this is known everywhere and then come back to this assumption later, as needed.  At this point, the control for motor A is going to be a function of the sensor for motor A and the sensor for motor B (no absolute encoder).  Or, it is going to be a function of an external/absolute steering angle sensor.  In the latter case, it might also need the sensor for the local motor, depending on what kind of control is desired for driving the wheel.\n\nNow that there’s a general outline, we can turn to response/latency in the control loop.  With an absolute position sensor on the turn angle, the mechanical side of things is pretty optimal.  When using the built-in motor encoders, there’s backlash.  The resolution of these encoders also differs, so there’s going to be a different quantization error.  And, you still have to get the sensor data from one motor to the other, across CAN (and not CANivore-rate CAN, based on info in this thread).  The 1000Hz (1 ms) PID loop is starting to be suspect…\n\nImportantly, it isn’t the frequency you really care about, it’s the latency.  Sure, a higher frequency can help average and worst-case latency, but it doesn’t get around the CAN transfer (there are other sources of latency as well).  Running a really fast control loop that has stale feedback data isn’t really where you want to be.  And now, we come to the question of what math can the motor controller actually do with the two inputs (there’s no provision for working with three on the Talon FX, AFAIK).\n\nI have no expertise with Talon FX and can’t even claim to have used one.  There’s also the two-API (Pro) thing.  But, the most recent thing I recall in this area is Auxiliary Closed Loop PID[1] .  This does let you use two sensors to control a Falcon.  The question then becomes: “Can Talon FX do the necessary math with the two sensors?”  I don’t know the answer, and until the math is set out, it’s impossible to know.  But, what can be done here is limited – you don’t get to run arbitrary math on the motor controller.  Is this a problem?  Maybe; it’s certainly a risk.\n\nSo this is what was behind my earlier comment on not being so quick to jump to running diff swerve control on the motor controllers.  Let’s briefly turn to the alternative of running on the RIO.  To start, one can get way more than 50Hz (20 ms) if needed/desired, you just have to do a little more work.  I’m not going to go into this here, but it’s been done and written up on CD.\n\nIn this scenario, you can use something like an SRX Mag Encoder – no CAN from here to the RIO.  The sensor data is processed by the FPGA, which is going to be very low latency.  The RIO can do arbitrary math.  And, the RIO can send CAN messages to the motors with good latency, with CAN accounting for the bulk of this.  This does not seem like an option to write off and not consider so early in any analysis.\n\nDon’t want to run the control on the RIO?  Want an advanced project – or maybe something to request of a vendor?  Run the control on a CAN-attached absolute encoder and have the two motors “follow” a pair of outputs it publishes.  Send the module state info to the encoder, have it do the computations, and send the follower data.  You can legally change firmware on a sensor, and the devices these use have firmware development toolchains you can download.  At this point, you can do what you want.  I actually think the RIO would be the thing to do right now, but this might be a cool offseason project for a team looking for a high ceiling for S/W, given the interest and people.\n\nI hope this helps.  I still think you do not want to rule out using an external absolute encoder, and I hope this explains why a little more clearly.",
                    "post_number": 15,
                    "post_type": 1,
                    "posts_count": 47,
                    "updated_at": "2023-07-17T14:37:44.675Z",
                    "reply_count": 1,
                    "reply_to_post_number": 13,
                    "quote_count": 0,
                    "incoming_link_count": 2,
                    "reads": 278,
                    "readers_count": 277,
                    "score": 115.6,
                    "yours": false,
                    "topic_id": 438967,
                    "topic_slug": "differential-swerve-the-math",
                    "display_username": "Allen Nuttle",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 1,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "link_counts": [
                        {
                            "url": "https://v5.docs.ctr-electronics.com/en/stable/ch16_ClosedLoop.html#auxiliary-closed-loop-pid-1",
                            "internal": false,
                            "reflection": false,
                            "title": "Motor Controller Closed Loop — Phoenix documentation",
                            "clicks": 2
                        }
                    ],
                    "read": true,
                    "user_title": "",
                    "reply_to_user": {
                        "id": 50684,
                        "username": "crueter",
                        "name": "",
                        "avatar_template": "/user_avatar/www.chiefdelphi.com/crueter/{size}/258043_2.png"
                    },
                    "bookmarked": false,
                    "actions_summary": [
                        {
                            "id": 2,
                            "count": 3
                        }
                    ],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 14283,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "user_custom_fields": {
                        "user_field_4": ""
                    },
                    "post_url": "/t/differential-swerve-the-math/438967/15",
                    "custom_user_title": null,
                    "reactions": [
                        {
                            "id": "heart",
                            "type": "emoji",
                            "count": 3
                        }
                    ],
                    "current_user_reaction": null,
                    "reaction_users_count": 3,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": true
                },
                {
                    "id": 3219334,
                    "name": "",
                    "username": "crueter",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/crueter/{size}/258043_2.png",
                    "created_at": "2023-07-17T14:46:26.360Z",
                    "cooked": "I’ve done a bit more research on existing code and understand a bit more what @asid61 was talking about regarding the PID loop. That is, you run each motor at a specified velocity (based on the requested meters per second) and add or subtract a PID-calculated differential, where you subtract the differential from one motor and add it to the other.\n\nSo now I understand this part–but the PID calculation does require knowing the difference between the requested angle and the current angle. After closely reviewing existing code I understand more the rationale behind using the absolute encoder. I’ll probably do some testing to determine if the CAN usage of a CANCoder is as big a deal as I think it is.\n\nAt this point I have one question:\n\nWhat goes behind the actual PID calculation for heading-to-differential calculations? All I’ve really found is team code with seemingly arbitrary PID loops running a P of 5.0 or something and responding to the difference between desired and actual heading in degrees.\n\nI’m not sure how to make this more clear, I’m just confused on how to actually determine the necessary PID values, either empirically or through theoretical calculations.\n\n@nuttle - thanks for the long-form explanation, I understand things much better now. I’ve realized both through this comment and looking at team code that maybe a CANcoder as the sensor maybe is “the way”\n\nAlso, I assure you i did not assume malice or harshness from your comment! (The only reason I got a little harsh was because I’ve witnessed so much stupid, nonsensical ideology debates within code that I’ve come to be quite sensitive to what I deem as ideology pushing…)",
                    "post_number": 16,
                    "post_type": 1,
                    "posts_count": 47,
                    "updated_at": "2023-07-17T14:51:54.592Z",
                    "reply_count": 1,
                    "reply_to_post_number": null,
                    "quote_count": 0,
                    "incoming_link_count": 0,
                    "reads": 277,
                    "readers_count": 276,
                    "score": 75.4,
                    "yours": false,
                    "topic_id": 438967,
                    "topic_slug": "differential-swerve-the-math",
                    "display_username": "",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 2,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "read": true,
                    "user_title": "",
                    "bookmarked": false,
                    "actions_summary": [
                        {
                            "id": 2,
                            "count": 1
                        }
                    ],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 50684,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "user_custom_fields": {
                        "user_field_4": "6032 | QDash"
                    },
                    "post_url": "/t/differential-swerve-the-math/438967/16",
                    "custom_user_title": "6032 | QDash",
                    "reactions": [
                        {
                            "id": "heart",
                            "type": "emoji",
                            "count": 1
                        }
                    ],
                    "current_user_reaction": null,
                    "reaction_users_count": 1,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": true
                },
                {
                    "id": 3219341,
                    "name": "Tyler Veness",
                    "username": "calcmogul",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/calcmogul/{size}/128045_2.png",
                    "created_at": "2023-07-17T16:01:53.988Z",
                    "cooked": "crueter:\n\nWhat goes behind the actual PID calculation for heading-to-differential calculations?\n\nPaper: A State-Space Model for a Differential Swerve CD-Media: Papers",
                    "post_number": 17,
                    "post_type": 1,
                    "posts_count": 47,
                    "updated_at": "2023-07-17T16:01:53.988Z",
                    "reply_count": 1,
                    "reply_to_post_number": 16,
                    "quote_count": 1,
                    "incoming_link_count": 13,
                    "reads": 261,
                    "readers_count": 260,
                    "score": 182.2,
                    "yours": false,
                    "topic_id": 438967,
                    "topic_slug": "differential-swerve-the-math",
                    "display_username": "Tyler Veness",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 1,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "link_counts": [
                        {
                            "url": "https://www.chiefdelphi.com/t/paper-a-state-space-model-for-a-differential-swerve/396496",
                            "internal": true,
                            "reflection": false,
                            "title": "Paper: A State-Space Model for a Differential Swerve",
                            "clicks": 0
                        }
                    ],
                    "read": true,
                    "user_title": "",
                    "bookmarked": false,
                    "actions_summary": [
                        {
                            "id": 2,
                            "count": 4
                        }
                    ],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 16846,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "user_custom_fields": {
                        "user_field_4": "WPILib controls | Choreo optimizer backend"
                    },
                    "post_url": "/t/differential-swerve-the-math/438967/17",
                    "custom_user_title": "WPILib controls | Choreo optimizer backend",
                    "reactions": [
                        {
                            "id": "heart",
                            "type": "emoji",
                            "count": 4
                        }
                    ],
                    "current_user_reaction": null,
                    "reaction_users_count": 4,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": true,
                    "topic_accepted_answer": true
                },
                {
                    "id": 3219342,
                    "name": "wgorgen",
                    "username": "wgorgen",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/wgorgen/{size}/10106_2.png",
                    "created_at": "2023-07-17T16:15:30.463Z",
                    "cooked": "pocnic:\n\nAs such, if the wheel were to slip or skid, you lose your heading if only measuring using the motor built in encoders.\n\nI’m not sure this is true. If you know the starting angle of the module, then the rotation angle of the module at any given time is based on the difference in total motor rotations between the two motors (accounting for gear ratios, of course).\n\nThink of the case where the module is sitting on the bench not touching the ground at all. In a sense this is a case where you are constantly slipping or skidding. You can still determine (and control) the module rotation angle for this case.\n\nYou still need an absolute encoder to determine the starting angle. And since you have it, you could use it for control from that point on. But, you might find that the control loop is more stable if you are using motor encoders. We have found that to be true for traditional swerve allowing us to use faster rotational speeds. It would not surprise me that it was also more stable to use the motor encoders for diff swerve to get a more stable control loop.",
                    "post_number": 18,
                    "post_type": 1,
                    "posts_count": 47,
                    "updated_at": "2023-07-17T16:15:30.463Z",
                    "reply_count": 1,
                    "reply_to_post_number": 3,
                    "quote_count": 1,
                    "incoming_link_count": 0,
                    "reads": 262,
                    "readers_count": 261,
                    "score": 72.4,
                    "yours": false,
                    "topic_id": 438967,
                    "topic_slug": "differential-swerve-the-math",
                    "display_username": "wgorgen",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 1,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "read": true,
                    "user_title": "",
                    "bookmarked": false,
                    "actions_summary": [
                        {
                            "id": 2,
                            "count": 1
                        }
                    ],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 32535,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "post_url": "/t/differential-swerve-the-math/438967/18",
                    "custom_user_title": null,
                    "reactions": [
                        {
                            "id": "heart",
                            "type": "emoji",
                            "count": 1
                        },
                        {
                            "id": "point_up",
                            "type": "emoji",
                            "count": 1
                        }
                    ],
                    "current_user_reaction": null,
                    "reaction_users_count": 2,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": true
                },
                {
                    "id": 3219344,
                    "name": "",
                    "username": "pocnic",
                    "avatar_template": "/letter_avatar_proxy/v4/letter/p/ed655f/{size}.png",
                    "created_at": "2023-07-17T16:41:04.563Z",
                    "cooked": "Thank you for this reply. After looking at it this way, I see that the absolute encoder is not necessary for anything other than zeroing, which could be done in another way.",
                    "post_number": 19,
                    "post_type": 1,
                    "posts_count": 47,
                    "updated_at": "2023-07-17T16:41:04.563Z",
                    "reply_count": 1,
                    "reply_to_post_number": 18,
                    "quote_count": 0,
                    "incoming_link_count": 0,
                    "reads": 214,
                    "readers_count": 213,
                    "score": 77.8,
                    "yours": false,
                    "topic_id": 438967,
                    "topic_slug": "differential-swerve-the-math",
                    "display_username": "",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 1,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "read": true,
                    "user_title": null,
                    "reply_to_user": {
                        "id": 32535,
                        "username": "wgorgen",
                        "name": "wgorgen",
                        "avatar_template": "/user_avatar/www.chiefdelphi.com/wgorgen/{size}/10106_2.png"
                    },
                    "bookmarked": false,
                    "actions_summary": [
                        {
                            "id": 2,
                            "count": 2
                        }
                    ],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 45824,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "user_custom_fields": {
                        "user_field_4": "Box of 10-32 screws"
                    },
                    "post_url": "/t/differential-swerve-the-math/438967/19",
                    "custom_user_title": "Box of 10-32 screws",
                    "reactions": [
                        {
                            "id": "heart",
                            "type": "emoji",
                            "count": 2
                        }
                    ],
                    "current_user_reaction": null,
                    "reaction_users_count": 2,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": true
                },
                {
                    "id": 3219346,
                    "name": "s-neff",
                    "username": "s-neff",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/s-neff/{size}/9062_2.png",
                    "created_at": "2023-07-17T16:57:17.598Z",
                    "cooked": "pocnic:\n\nzeroing, which could be done in another way.\n\nNote that zeroing sometimes does need to happen mid-match and having the absolute sensor available to make it a sub-20ms process has value.\n\n(192 had a automated mechanical zero on custom swerve in ~2018(?)… That took about six seconds and so was extremely noticable when they needed to do it. Mechanical issues lead to rezeroing frequently… Perhaps not as much a concern in 2023)",
                    "post_number": 20,
                    "post_type": 1,
                    "posts_count": 47,
                    "updated_at": "2023-07-17T16:58:09.689Z",
                    "reply_count": 0,
                    "reply_to_post_number": 19,
                    "quote_count": 1,
                    "incoming_link_count": 1,
                    "reads": 223,
                    "readers_count": 222,
                    "score": 64.6,
                    "yours": false,
                    "topic_id": 438967,
                    "topic_slug": "differential-swerve-the-math",
                    "display_username": "s-neff",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 1,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "read": true,
                    "user_title": "",
                    "bookmarked": false,
                    "actions_summary": [
                        {
                            "id": 2,
                            "count": 1
                        }
                    ],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 28019,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "user_custom_fields": {
                        "user_field_4": ""
                    },
                    "post_url": "/t/differential-swerve-the-math/438967/20",
                    "custom_user_title": null,
                    "reactions": [
                        {
                            "id": "heart",
                            "type": "emoji",
                            "count": 1
                        }
                    ],
                    "current_user_reaction": null,
                    "reaction_users_count": 1,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": true
                }
            ],
            "stream": [
                3219184,
                3219200,
                3219201,
                3219260,
                3219263,
                3219274,
                3219277,
                3219280,
                3219282,
                3219287,
                3219289,
                3219290,
                3219292,
                3219293,
                3219332,
                3219334,
                3219341,
                3219342,
                3219344,
                3219346,
                3219361,
                3219362,
                3219364,
                3219390,
                3219449,
                3219458,
                3219464,
                3219467,
                3219489,
                3219499,
                3219521,
                3219534,
                3219535,
                3219538,
                3219540,
                3219549,
                3219572,
                3219642,
                3219658,
                3219662,
                3219664,
                3219669,
                3219675,
                3219676,
                3219824,
                3219890,
                3409310
            ]
        },
        "timeline_lookup": [
            [
                1,
                818
            ],
            [
                15,
                817
            ],
            [
                31,
                816
            ],
            [
                46,
                815
            ],
            [
                47,
                450
            ]
        ],
        "tags": [
            "swerve",
            "differentialswerve"
        ],
        "tags_descriptions": {},
        "fancy_title": "Differential Swerve - &ldquo;the math&rdquo;",
        "id": 438967,
        "title": "Differential Swerve - \"the math\"",
        "posts_count": 47,
        "created_at": "2023-07-16T18:54:34.735Z",
        "views": 3114,
        "reply_count": 38,
        "like_count": 49,
        "last_posted_at": "2024-07-18T17:47:06.037Z",
        "visible": true,
        "closed": true,
        "archived": false,
        "has_summary": false,
        "archetype": "regular",
        "slug": "differential-swerve-the-math",
        "category_id": 30,
        "word_count": 5397,
        "deleted_at": null,
        "user_id": 50684,
        "featured_link": null,
        "pinned_globally": false,
        "pinned_at": null,
        "pinned_until": null,
        "image_url": null,
        "slow_mode_seconds": 0,
        "draft": null,
        "draft_key": "topic_438967",
        "draft_sequence": null,
        "unpinned": null,
        "pinned": false,
        "current_post_number": 1,
        "highest_post_number": 47,
        "deleted_by": null,
        "actions_summary": [
            {
                "id": 4,
                "count": 0,
                "hidden": false,
                "can_act": false
            },
            {
                "id": 8,
                "count": 0,
                "hidden": false,
                "can_act": false
            },
            {
                "id": 10,
                "count": 0,
                "hidden": false,
                "can_act": false
            },
            {
                "id": 7,
                "count": 0,
                "hidden": false,
                "can_act": false
            }
        ],
        "chunk_size": 20,
        "bookmarked": false,
        "topic_timer": null,
        "message_bus_last_id": 0,
        "participant_count": 12,
        "show_read_indicator": false,
        "thumbnails": null,
        "slow_mode_enabled_until": null,
        "valid_reactions": [
            "heart",
            "laughing",
            "point_up",
            "+1",
            "-1",
            "100",
            "open_mouth",
            "cry",
            "question",
            "thinking",
            "call_me_hand",
            "hugs",
            "angry"
        ],
        "accepted_answer": {
            "post_number": 17,
            "username": "calcmogul",
            "name": null,
            "excerpt": "",
            "accepter_name": null
        },
        "user_chosen_thumbnail_url": null,
        "sidecar_installed": true,
        "can_vote": false,
        "vote_count": 0,
        "user_voted": false,
        "discourse_zendesk_plugin_zendesk_id": null,
        "discourse_zendesk_plugin_zendesk_url": "https://your-url.zendesk.com/agent/tickets/",
        "details": {
            "can_edit": false,
            "notification_level": 1,
            "participants": [
                {
                    "id": 50684,
                    "username": "crueter",
                    "name": "",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/crueter/{size}/258043_2.png",
                    "post_count": 16,
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_color": null,
                    "flair_bg_color": null,
                    "flair_group_id": null,
                    "trust_level": 2
                },
                {
                    "id": 28019,
                    "username": "s-neff",
                    "name": "s-neff",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/s-neff/{size}/9062_2.png",
                    "post_count": 5,
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_color": null,
                    "flair_bg_color": null,
                    "flair_group_id": null,
                    "trust_level": 2
                },
                {
                    "id": 32535,
                    "username": "wgorgen",
                    "name": "wgorgen",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/wgorgen/{size}/10106_2.png",
                    "post_count": 4,
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_color": null,
                    "flair_bg_color": null,
                    "flair_group_id": null,
                    "trust_level": 2
                },
                {
                    "id": 21715,
                    "username": "asid61",
                    "name": "Anand Rajamani",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/asid61/{size}/7179_2.png",
                    "post_count": 4,
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_color": null,
                    "flair_bg_color": null,
                    "flair_group_id": null,
                    "trust_level": 2
                },
                {
                    "id": 24613,
                    "username": "viggy96",
                    "name": "viggy96",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/viggy96/{size}/252784_2.png",
                    "post_count": 4,
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_color": null,
                    "flair_bg_color": null,
                    "flair_group_id": null,
                    "trust_level": 2
                },
                {
                    "id": 45824,
                    "username": "pocnic",
                    "name": "",
                    "avatar_template": "/letter_avatar_proxy/v4/letter/p/ed655f/{size}.png",
                    "post_count": 3,
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_color": null,
                    "flair_bg_color": null,
                    "flair_group_id": null,
                    "trust_level": 2
                },
                {
                    "id": 14283,
                    "username": "nuttle",
                    "name": "Allen Nuttle",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/nuttle/{size}/124105_2.png",
                    "post_count": 2,
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_color": null,
                    "flair_bg_color": null,
                    "flair_group_id": null,
                    "trust_level": 2
                },
                {
                    "id": 16846,
                    "username": "calcmogul",
                    "name": "Tyler Veness",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/calcmogul/{size}/128045_2.png",
                    "post_count": 2,
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_color": null,
                    "flair_bg_color": null,
                    "flair_group_id": null,
                    "trust_level": 2
                },
                {
                    "id": 19116,
                    "username": "thatnameistaken",
                    "name": "Joshua J",
                    "avatar_template": "/letter_avatar_proxy/v4/letter/t/57b2e6/{size}.png",
                    "post_count": 2,
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_color": null,
                    "flair_bg_color": null,
                    "flair_group_id": null,
                    "trust_level": 2
                },
                {
                    "id": 19235,
                    "username": "Skyehawk",
                    "name": "Skye Leake",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/skyehawk/{size}/179363_2.png",
                    "post_count": 2,
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_color": null,
                    "flair_bg_color": null,
                    "flair_group_id": null,
                    "moderator": true,
                    "trust_level": 4
                },
                {
                    "id": 31336,
                    "username": "Commonaught",
                    "name": "Commonaught",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/commonaught/{size}/197163_2.png",
                    "post_count": 1,
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_color": null,
                    "flair_bg_color": null,
                    "flair_group_id": null,
                    "trust_level": 2
                },
                {
                    "id": 26269,
                    "username": "TytanRock",
                    "name": "Cory",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/tytanrock/{size}/167849_2.png",
                    "post_count": 1,
                    "primary_group_name": "CTRE",
                    "flair_name": "CTRE",
                    "flair_url": "/uploads/default/original/3X/1/b/1bd2b430e1bb6427d1c6504ff6abcd31de851a6d.png",
                    "flair_color": "",
                    "flair_bg_color": "",
                    "flair_group_id": 57,
                    "trust_level": 2
                }
            ],
            "created_by": {
                "id": 50684,
                "username": "crueter",
                "name": "",
                "avatar_template": "/user_avatar/www.chiefdelphi.com/crueter/{size}/258043_2.png"
            },
            "last_poster": {
                "id": -1,
                "username": "system",
                "name": "system",
                "avatar_template": "/uploads/default/original/4X/9/3/2/93234578e69f55873c63fc00fe2d0d85f23bce55.png"
            },
            "links": [
                {
                    "url": "https://github.com/wpilibsuite/allwpilib/pull/5425",
                    "title": "[wpimath] Add ChassisSpeeds method to fix drifting during compound swerve drive maneuvers by KangarooKoala · Pull Request #5425 · wpilibsuite/allwpilib · GitHub",
                    "internal": false,
                    "attachment": false,
                    "reflection": false,
                    "clicks": 13,
                    "user_id": 16846,
                    "domain": "github.com",
                    "root_domain": "github.com"
                },
                {
                    "url": "https://pro.docs.ctr-electronics.com/en/latest/docs/application-notes/canbus-latency-and-frequency.html",
                    "title": "Latency and Frequency",
                    "internal": false,
                    "attachment": false,
                    "reflection": false,
                    "clicks": 11,
                    "user_id": 26269,
                    "domain": "pro.docs.ctr-electronics.com",
                    "root_domain": "ctr-electronics.com"
                },
                {
                    "url": "https://v5.docs.ctr-electronics.com/en/stable/ch16_ClosedLoop.html#auxiliary-closed-loop-pid-1",
                    "title": "Motor Controller Closed Loop — Phoenix documentation",
                    "internal": false,
                    "attachment": false,
                    "reflection": false,
                    "clicks": 2,
                    "user_id": 14283,
                    "domain": "v5.docs.ctr-electronics.com",
                    "root_domain": "ctr-electronics.com"
                }
            ]
        },
        "bookmarks": []
    }
}