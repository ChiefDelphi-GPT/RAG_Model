{
    "data": {
        "post_stream": {
            "posts": [
                {
                    "id": 3560450,
                    "name": "antoine schneider",
                    "username": "sun167",
                    "avatar_template": "/letter_avatar_proxy/v4/letter/s/b5e925/{size}.png",
                    "created_at": "2025-03-18T13:01:38.999Z",
                    "cooked": "so im looking to tune a PID for a telescopic arm and everywhere I look I see that the way to tune PID is to increase th P till you get oscilation then add the D to limit the oscilation and then add the I if the arm dosent get to position but problem is with higher P gain the movement get’s increasingly sharper but we want a smooth movement or else our arm might break Is there something that im not getting ? we already have more or less valid PID gains im just looking to see if the method above would be more apropriate to our use case or not",
                    "post_number": 1,
                    "post_type": 1,
                    "posts_count": 87,
                    "updated_at": "2025-03-18T13:01:38.999Z",
                    "reply_count": 1,
                    "reply_to_post_number": null,
                    "quote_count": 0,
                    "incoming_link_count": 130,
                    "reads": 1190,
                    "readers_count": 1189,
                    "score": 923.0,
                    "yours": false,
                    "topic_id": 496054,
                    "topic_slug": "is-this-really-how-we-tune-pids",
                    "display_username": "antoine schneider",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 1,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "read": true,
                    "user_title": null,
                    "bookmarked": false,
                    "actions_summary": [
                        {
                            "id": 2,
                            "count": 2
                        }
                    ],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 51978,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "post_url": "/t/is-this-really-how-we-tune-pids/496054/1",
                    "custom_user_title": null,
                    "reactions": [
                        {
                            "id": "heart",
                            "type": "emoji",
                            "count": 2
                        }
                    ],
                    "current_user_reaction": null,
                    "reaction_users_count": 2,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": null,
                    "can_vote": false
                },
                {
                    "id": 3560462,
                    "name": "",
                    "username": "Mateo",
                    "avatar_template": "/letter_avatar_proxy/v4/letter/m/f4b2a3/{size}.png",
                    "created_at": "2025-03-18T13:21:30.379Z",
                    "cooked": "Step 1: Set the integral and derivative gains to zero , leaving only the proportional gain active.\n\nStep 2: Increase the proportional gain until the output starts to oscillate consistently . The point where the system oscillates with a constant amplitude is called the ultimate gain (Ku) , and the time period of the oscillations is called the ultimate period (Pu) .\n\nStep 3: Use the Ziegler-Nichols formula to determine the PID parameters based on the values of Ku and Pu.\n\nProportional Gain (Kp) = 0.6×Ku\n\nIntegral Gain (Ki) = 2×Kp/Pu\n\nDerivative Gain (Kd) = Kp×Pu/8\n\nAlternatively, just increase P until oscillations, then halve it. Do the same for I and D",
                    "post_number": 2,
                    "post_type": 1,
                    "posts_count": 87,
                    "updated_at": "2025-03-18T13:21:30.379Z",
                    "reply_count": 0,
                    "reply_to_post_number": null,
                    "quote_count": 0,
                    "incoming_link_count": 20,
                    "reads": 1180,
                    "readers_count": 1179,
                    "score": 396.0,
                    "yours": false,
                    "topic_id": 496054,
                    "topic_slug": "is-this-really-how-we-tune-pids",
                    "display_username": "",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 1,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "read": true,
                    "user_title": null,
                    "bookmarked": false,
                    "actions_summary": [
                        {
                            "id": 2,
                            "count": 4
                        }
                    ],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 58360,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "post_url": "/t/is-this-really-how-we-tune-pids/496054/2",
                    "custom_user_title": null,
                    "reactions": [
                        {
                            "id": "-1",
                            "type": "emoji",
                            "count": 10
                        },
                        {
                            "id": "heart",
                            "type": "emoji",
                            "count": 4
                        },
                        {
                            "id": "question",
                            "type": "emoji",
                            "count": 1
                        }
                    ],
                    "current_user_reaction": null,
                    "reaction_users_count": 15,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": null
                },
                {
                    "id": 3560463,
                    "name": "Emre ",
                    "username": "DukeEmree",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/dukeemree/{size}/251833_2.png",
                    "created_at": "2025-03-18T13:23:31.489Z",
                    "cooked": "You can use Trapezoidal Motion Profile for smooth movement. if the motor is kraken you can use MotionMagic if it is NEO you can use MAXmotion.",
                    "post_number": 3,
                    "post_type": 1,
                    "posts_count": 87,
                    "updated_at": "2025-03-18T13:23:31.489Z",
                    "reply_count": 1,
                    "reply_to_post_number": null,
                    "quote_count": 0,
                    "incoming_link_count": 3,
                    "reads": 1037,
                    "readers_count": 1036,
                    "score": 407.4,
                    "yours": false,
                    "topic_id": 496054,
                    "topic_slug": "is-this-really-how-we-tune-pids",
                    "display_username": "Emre ",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 1,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "link_counts": [
                        {
                            "url": "https://docs.wpilib.org/en/stable/docs/software/advanced-controls/controllers/trapezoidal-profiles.html",
                            "internal": false,
                            "reflection": false,
                            "title": "Trapezoidal Motion Profiles in WPILib — FIRST Robotics Competition documentation",
                            "clicks": 51
                        }
                    ],
                    "read": true,
                    "user_title": null,
                    "bookmarked": false,
                    "actions_summary": [
                        {
                            "id": 2,
                            "count": 12
                        }
                    ],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 64968,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "user_custom_fields": {
                        "user_field_4": "Programmer"
                    },
                    "post_url": "/t/is-this-really-how-we-tune-pids/496054/3",
                    "custom_user_title": "Programmer",
                    "reactions": [
                        {
                            "id": "heart",
                            "type": "emoji",
                            "count": 12
                        }
                    ],
                    "current_user_reaction": null,
                    "reaction_users_count": 12,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": null
                },
                {
                    "id": 3560464,
                    "name": "Rahul Yarlagadda",
                    "username": "Knufire",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/knufire/{size}/67820_2.png",
                    "created_at": "2025-03-18T13:23:46.749Z",
                    "cooked": "My general rule of thumb is that a PID controller will get you from A to B but not give you a lot of control over how you get from A to B. Sometimes this is good enough.\n\nIf you think about changing the setpoint on a PID value straight to ask, you’re telling the controller “hey, I want you to instantly teleport to position X, handle it as well as you can”.\n\nIf you want to do things like limit acceleration to reduce stress on mechanisms, feeding a motion profile instead of a single setpoint into the PID loop is the way to go. This way you’re explicitly telling the controller how to get from A to B and gives you more control over things like maximum velocity and acceleration.",
                    "post_number": 4,
                    "post_type": 1,
                    "posts_count": 87,
                    "updated_at": "2025-03-18T13:24:26.234Z",
                    "reply_count": 0,
                    "reply_to_post_number": null,
                    "quote_count": 0,
                    "incoming_link_count": 3,
                    "reads": 1010,
                    "readers_count": 1009,
                    "score": 427.0,
                    "yours": false,
                    "topic_id": 496054,
                    "topic_slug": "is-this-really-how-we-tune-pids",
                    "display_username": "Rahul Yarlagadda",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 1,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "read": true,
                    "user_title": "",
                    "bookmarked": false,
                    "actions_summary": [
                        {
                            "id": 2,
                            "count": 12
                        }
                    ],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 12760,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "user_custom_fields": {
                        "user_field_4": "7457 Mentor"
                    },
                    "post_url": "/t/is-this-really-how-we-tune-pids/496054/4",
                    "custom_user_title": "7457 Mentor",
                    "reactions": [
                        {
                            "id": "heart",
                            "type": "emoji",
                            "count": 12
                        }
                    ],
                    "current_user_reaction": null,
                    "reaction_users_count": 12,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": null
                },
                {
                    "id": 3560467,
                    "name": "",
                    "username": "Hollisms",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/hollisms/{size}/110925_2.png",
                    "created_at": "2025-03-18T13:27:47.885Z",
                    "cooked": "I would also recommend clamping your output while you are tuning it to prevent breaking things…. Speaking from experience…",
                    "post_number": 5,
                    "post_type": 1,
                    "posts_count": 87,
                    "updated_at": "2025-03-18T13:27:47.885Z",
                    "reply_count": 1,
                    "reply_to_post_number": null,
                    "quote_count": 0,
                    "incoming_link_count": 0,
                    "reads": 878,
                    "readers_count": 877,
                    "score": 285.6,
                    "yours": false,
                    "topic_id": 496054,
                    "topic_slug": "is-this-really-how-we-tune-pids",
                    "display_username": "",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 1,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "read": true,
                    "user_title": "",
                    "bookmarked": false,
                    "actions_summary": [
                        {
                            "id": 2,
                            "count": 7
                        }
                    ],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 36169,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "user_custom_fields": {
                        "user_field_4": "Software Mentor"
                    },
                    "post_url": "/t/is-this-really-how-we-tune-pids/496054/5",
                    "custom_user_title": "Software Mentor",
                    "reactions": [
                        {
                            "id": "heart",
                            "type": "emoji",
                            "count": 7
                        }
                    ],
                    "current_user_reaction": null,
                    "reaction_users_count": 7,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": null
                },
                {
                    "id": 3560489,
                    "name": "Tom Line",
                    "username": "Tom_Line",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/tom_line/{size}/236809_2.png",
                    "created_at": "2025-03-18T13:44:41.468Z",
                    "cooked": "A quick fix is to enable closed loop ramp rates and adjust them if you are on CTRE .  I’m not sure of the REV equivalent.  The closed loop ramp rates can avoid the ‘full throttle’ start that PID provides by its nature.\n\nIf you want truly smooth movement you’re going to need to use some form of motion profiling / motion magic.",
                    "post_number": 6,
                    "post_type": 1,
                    "posts_count": 87,
                    "updated_at": "2025-03-18T13:44:41.468Z",
                    "reply_count": 1,
                    "reply_to_post_number": null,
                    "quote_count": 0,
                    "incoming_link_count": 0,
                    "reads": 823,
                    "readers_count": 822,
                    "score": 169.6,
                    "yours": false,
                    "topic_id": 496054,
                    "topic_slug": "is-this-really-how-we-tune-pids",
                    "display_username": "Tom Line",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 1,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "read": true,
                    "user_title": "",
                    "bookmarked": false,
                    "actions_summary": [],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 7841,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "user_custom_fields": {
                        "user_field_4": "Team 1498"
                    },
                    "post_url": "/t/is-this-really-how-we-tune-pids/496054/6",
                    "custom_user_title": "Team 1498",
                    "reactions": [],
                    "current_user_reaction": null,
                    "reaction_users_count": 0,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": null
                },
                {
                    "id": 3560506,
                    "name": "Steven Carmain",
                    "username": "Steven_Carmain",
                    "avatar_template": "/letter_avatar_proxy/v4/letter/s/f07891/{size}.png",
                    "created_at": "2025-03-18T14:02:48.765Z",
                    "cooked": "How do you end up tuning the PID with Motion Magic?\n\nI usually set our desired velocity and acceleration values, then crank P to a large number. This allows motion magic to control acceleration, instead of P doing it.  Is that correct?",
                    "post_number": 7,
                    "post_type": 1,
                    "posts_count": 87,
                    "updated_at": "2025-03-18T14:02:48.765Z",
                    "reply_count": 1,
                    "reply_to_post_number": 6,
                    "quote_count": 0,
                    "incoming_link_count": 0,
                    "reads": 765,
                    "readers_count": 764,
                    "score": 158.0,
                    "yours": false,
                    "topic_id": 496054,
                    "topic_slug": "is-this-really-how-we-tune-pids",
                    "display_username": "Steven Carmain",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 1,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "read": true,
                    "user_title": "",
                    "reply_to_user": {
                        "id": 7841,
                        "username": "Tom_Line",
                        "name": "Tom Line",
                        "avatar_template": "/user_avatar/www.chiefdelphi.com/tom_line/{size}/236809_2.png"
                    },
                    "bookmarked": false,
                    "actions_summary": [],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 1737,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "user_custom_fields": {
                        "user_field_4": "Programmer/Drive Coach"
                    },
                    "post_url": "/t/is-this-really-how-we-tune-pids/496054/7",
                    "custom_user_title": "Programmer/Drive Coach",
                    "reactions": [],
                    "current_user_reaction": null,
                    "reaction_users_count": 0,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": null
                },
                {
                    "id": 3560508,
                    "name": "Carter Ryba",
                    "username": "10219Ryba",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/10219ryba/{size}/248339_2.png",
                    "created_at": "2025-03-18T14:04:05.287Z",
                    "cooked": "I ended up with basically perfect control of our elevator with just changing numbers until it worked",
                    "post_number": 8,
                    "post_type": 1,
                    "posts_count": 87,
                    "updated_at": "2025-03-18T14:04:05.287Z",
                    "reply_count": 2,
                    "reply_to_post_number": null,
                    "quote_count": 0,
                    "incoming_link_count": 0,
                    "reads": 713,
                    "readers_count": 712,
                    "score": 167.6,
                    "yours": false,
                    "topic_id": 496054,
                    "topic_slug": "is-this-really-how-we-tune-pids",
                    "display_username": "Carter Ryba",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 1,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "read": true,
                    "user_title": "",
                    "bookmarked": false,
                    "actions_summary": [
                        {
                            "id": 2,
                            "count": 1
                        }
                    ],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 65624,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "user_custom_fields": {
                        "user_field_4": "9764, 10219"
                    },
                    "post_url": "/t/is-this-really-how-we-tune-pids/496054/8",
                    "custom_user_title": "9764, 10219",
                    "reactions": [
                        {
                            "id": "heart",
                            "type": "emoji",
                            "count": 1
                        }
                    ],
                    "current_user_reaction": null,
                    "reaction_users_count": 1,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": null
                },
                {
                    "id": 3560526,
                    "name": "Dan",
                    "username": "theworkshope",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/theworkshope/{size}/194375_2.png",
                    "created_at": "2025-03-18T14:21:07.378Z",
                    "cooked": "And then mechanical team is restricted from changing the load?",
                    "post_number": 9,
                    "post_type": 1,
                    "posts_count": 87,
                    "updated_at": "2025-03-18T14:21:07.378Z",
                    "reply_count": 1,
                    "reply_to_post_number": 8,
                    "quote_count": 0,
                    "incoming_link_count": 1,
                    "reads": 676,
                    "readers_count": 675,
                    "score": 205.2,
                    "yours": false,
                    "topic_id": 496054,
                    "topic_slug": "is-this-really-how-we-tune-pids",
                    "display_username": "Dan",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 1,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "read": true,
                    "user_title": "",
                    "reply_to_user": {
                        "id": 65624,
                        "username": "10219Ryba",
                        "name": "Carter Ryba",
                        "avatar_template": "/user_avatar/www.chiefdelphi.com/10219ryba/{size}/248339_2.png"
                    },
                    "bookmarked": false,
                    "actions_summary": [
                        {
                            "id": 2,
                            "count": 4
                        }
                    ],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 53412,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "post_url": "/t/is-this-really-how-we-tune-pids/496054/9",
                    "custom_user_title": null,
                    "reactions": [
                        {
                            "id": "heart",
                            "type": "emoji",
                            "count": 4
                        }
                    ],
                    "current_user_reaction": null,
                    "reaction_users_count": 4,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": null
                },
                {
                    "id": 3560531,
                    "name": "Tom Line",
                    "username": "Tom_Line",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/tom_line/{size}/236809_2.png",
                    "created_at": "2025-03-18T14:23:24.853Z",
                    "cooked": "First, in motion magic, you need to define Kv and Ka.  This is not to be confused with MOTOR KV , which is something else entirely.\n\nKv is voltage / revolutions / second - and is your velocity feed forward Ka is voltage  reovlusions / second ^ 2 - and is your acceleration feed forward\n\nWe haven’t used the WPILib functions to adjust these, though many recommend them.\n\nKv can be empirically determined by setting the motor on the mechanism to a voltage, recording the steady state velocity it achieves, then Kv = voltage / velocity.\n\nKa can be empirically determined the same way, but it is more difficult because of noise.\n\nOnce Kv and Ka are obtained as feed forwards, test your arm to determine your cruise velocity and acceleration.  These can be guessed at mathmatically, or you can test empirically again to get a first cut.\n\nEnter all these in (don’t forget to determine Kg if it’s affected by gravity).\n\nYou should now be able to run a motion magic position profile.  However, it’s going to stop short of the target, and if disturbed it will not self-correct.  That’s where you begin adjust the P value to arrive and hold at the final target.\n\nOnce you’re all done, start testing it some on small motions.  If you’re comfortable with it, go to larger motions.  Finally, go back and review.  Up your cruise velocity some, and up your acceleration some.  Monitoring the mechanism.  Is it hitting those new values?  If so, it means you were a little conservative and can go faster than you orginally thought.\n\nYou can learn to do this manually (we’ve gotten fairly good at it), or you can use WPILib’s sysID.\n\nIf you’re using CTRE , tuner is absolutely invaluable for this.  No idea if REV has a tool that can do all this as easily.",
                    "post_number": 10,
                    "post_type": 1,
                    "posts_count": 87,
                    "updated_at": "2025-03-18T14:24:57.523Z",
                    "reply_count": 2,
                    "reply_to_post_number": 7,
                    "quote_count": 0,
                    "incoming_link_count": 4,
                    "reads": 683,
                    "readers_count": 682,
                    "score": 226.6,
                    "yours": false,
                    "topic_id": 496054,
                    "topic_slug": "is-this-really-how-we-tune-pids",
                    "display_username": "Tom Line",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 1,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "read": true,
                    "user_title": "",
                    "reply_to_user": {
                        "id": 1737,
                        "username": "Steven_Carmain",
                        "name": "Steven Carmain",
                        "avatar_template": "/letter_avatar_proxy/v4/letter/s/f07891/{size}.png"
                    },
                    "bookmarked": false,
                    "actions_summary": [
                        {
                            "id": 2,
                            "count": 4
                        }
                    ],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 7841,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "user_custom_fields": {
                        "user_field_4": "Team 1498"
                    },
                    "post_url": "/t/is-this-really-how-we-tune-pids/496054/10",
                    "custom_user_title": "Team 1498",
                    "reactions": [
                        {
                            "id": "heart",
                            "type": "emoji",
                            "count": 4
                        }
                    ],
                    "current_user_reaction": null,
                    "reaction_users_count": 4,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": null
                },
                {
                    "id": 3560550,
                    "name": "",
                    "username": "Hollisms",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/hollisms/{size}/110925_2.png",
                    "created_at": "2025-03-18T14:43:34.162Z",
                    "cooked": "Please refer to this as empirical research.  We don’t want the truth getting out.",
                    "post_number": 11,
                    "post_type": 1,
                    "posts_count": 87,
                    "updated_at": "2025-03-18T14:43:34.162Z",
                    "reply_count": 0,
                    "reply_to_post_number": 8,
                    "quote_count": 0,
                    "incoming_link_count": 1,
                    "reads": 559,
                    "readers_count": 558,
                    "score": 191.8,
                    "yours": false,
                    "topic_id": 496054,
                    "topic_slug": "is-this-really-how-we-tune-pids",
                    "display_username": "",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 1,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "read": true,
                    "user_title": "",
                    "reply_to_user": {
                        "id": 65624,
                        "username": "10219Ryba",
                        "name": "Carter Ryba",
                        "avatar_template": "/user_avatar/www.chiefdelphi.com/10219ryba/{size}/248339_2.png"
                    },
                    "bookmarked": false,
                    "actions_summary": [
                        {
                            "id": 2,
                            "count": 5
                        }
                    ],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 36169,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "user_custom_fields": {
                        "user_field_4": "Software Mentor"
                    },
                    "post_url": "/t/is-this-really-how-we-tune-pids/496054/11",
                    "custom_user_title": "Software Mentor",
                    "reactions": [
                        {
                            "id": "heart",
                            "type": "emoji",
                            "count": 5
                        },
                        {
                            "id": "laughing",
                            "type": "emoji",
                            "count": 1
                        }
                    ],
                    "current_user_reaction": null,
                    "reaction_users_count": 6,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": null
                },
                {
                    "id": 3560588,
                    "name": "",
                    "username": "TheComputer314",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/thecomputer314/{size}/241453_2.png",
                    "created_at": "2025-03-18T14:53:18.556Z",
                    "cooked": "Step 1: Raise P until it starts overshooting Step 2: Raise D until it stops overshooting Step 3: Repeat steps 1-2 until it starts being unstable/raising it makes overshooting worse Step 4: Roll P and D back until it’s stable again\n\nThis is a really good way of getting good PD gains. I is almost never needed, feedforward terms like kS and kG are always the better solution for eliminating steady state error.",
                    "post_number": 12,
                    "post_type": 1,
                    "posts_count": 87,
                    "updated_at": "2025-03-18T14:53:18.556Z",
                    "reply_count": 0,
                    "reply_to_post_number": null,
                    "quote_count": 0,
                    "incoming_link_count": 1,
                    "reads": 559,
                    "readers_count": 558,
                    "score": 176.8,
                    "yours": false,
                    "topic_id": 496054,
                    "topic_slug": "is-this-really-how-we-tune-pids",
                    "display_username": "",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 1,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "read": true,
                    "user_title": "",
                    "bookmarked": false,
                    "actions_summary": [
                        {
                            "id": 2,
                            "count": 4
                        }
                    ],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 62207,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "user_custom_fields": {
                        "user_field_4": "The one crazy dude on 167"
                    },
                    "post_url": "/t/is-this-really-how-we-tune-pids/496054/12",
                    "custom_user_title": "The one crazy dude on 167",
                    "reactions": [
                        {
                            "id": "heart",
                            "type": "emoji",
                            "count": 4
                        }
                    ],
                    "current_user_reaction": null,
                    "reaction_users_count": 4,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": null
                },
                {
                    "id": 3560597,
                    "name": "Benjamin Hall",
                    "username": "bhall-ctre",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/bhall-ctre/{size}/198180_2.png",
                    "created_at": "2025-03-18T15:01:39.220Z",
                    "cooked": "To add on to this, kA isn’t strictly necessary, it just improves tracking during acceleration. When using SysId or TorqueCurrentFOC, kA is easy enough to find, but for manual tuning with Voltage output you can skip it. But if you do know how to find it (see the tuning an arm WPILib docs ), I would recommend doing so.\n\nSo really the only difference between regular Position PID and Motion Magic is that you have to set kV (which is trivial to find), and you have to set up the cruise velocity, max acceleration, and optionally max jerk. The gains you end up setting are (in order) kG and kS, kV, kA (optional), and kP and kD.\n\nAnd just because I haven’t seen it mentioned here yet, kG and kS are important for arms and elevators to counteract gravity and static friction (respectively), that way you don’t need a kI. You can derive the two from two measurements (at horizontal for an arm):\n\nOutput just before the mechanism starts to move up\n\nOutput just before the mechanism starts to move down\n\nkG is the average of those two values, and kS is half the difference.",
                    "post_number": 13,
                    "post_type": 1,
                    "posts_count": 87,
                    "updated_at": "2025-03-18T15:05:17.469Z",
                    "reply_count": 2,
                    "reply_to_post_number": 10,
                    "quote_count": 0,
                    "incoming_link_count": 5,
                    "reads": 548,
                    "readers_count": 547,
                    "score": 219.6,
                    "yours": false,
                    "topic_id": 496054,
                    "topic_slug": "is-this-really-how-we-tune-pids",
                    "display_username": "Benjamin Hall",
                    "primary_group_name": "CTRE",
                    "flair_name": "CTRE",
                    "flair_url": "/uploads/default/original/3X/1/b/1bd2b430e1bb6427d1c6504ff6abcd31de851a6d.png",
                    "flair_bg_color": "",
                    "flair_color": "",
                    "flair_group_id": 57,
                    "badges_granted": [],
                    "version": 1,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "link_counts": [
                        {
                            "url": "https://docs.wpilib.org/en/stable/docs/software/advanced-controls/introduction/tuning-vertical-arm.html",
                            "internal": false,
                            "reflection": false,
                            "clicks": 17
                        }
                    ],
                    "read": true,
                    "user_title": "",
                    "reply_to_user": {
                        "id": 7841,
                        "username": "Tom_Line",
                        "name": "Tom Line",
                        "avatar_template": "/user_avatar/www.chiefdelphi.com/tom_line/{size}/236809_2.png"
                    },
                    "bookmarked": false,
                    "actions_summary": [
                        {
                            "id": 2,
                            "count": 5
                        }
                    ],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 48146,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "user_custom_fields": {
                        "user_field_4": "Software Engineering Intern at CTR Electronics"
                    },
                    "post_url": "/t/is-this-really-how-we-tune-pids/496054/13",
                    "custom_user_title": "Software Engineering Intern at CTR Electronics",
                    "reactions": [
                        {
                            "id": "heart",
                            "type": "emoji",
                            "count": 5
                        }
                    ],
                    "current_user_reaction": null,
                    "reaction_users_count": 5,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": null
                },
                {
                    "id": 3560613,
                    "name": "",
                    "username": "Hollisms",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/hollisms/{size}/110925_2.png",
                    "created_at": "2025-03-18T15:13:46.260Z",
                    "cooked": "Is there a close looped solution for when “horizontal” for kG is dynamic?  Example, is tuning a wrist on the end of an arm?",
                    "post_number": 14,
                    "post_type": 1,
                    "posts_count": 87,
                    "updated_at": "2025-03-18T15:13:46.260Z",
                    "reply_count": 1,
                    "reply_to_post_number": 13,
                    "quote_count": 0,
                    "incoming_link_count": 0,
                    "reads": 487,
                    "readers_count": 486,
                    "score": 102.4,
                    "yours": false,
                    "topic_id": 496054,
                    "topic_slug": "is-this-really-how-we-tune-pids",
                    "display_username": "",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 1,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "read": true,
                    "user_title": "",
                    "reply_to_user": {
                        "id": 48146,
                        "username": "bhall-ctre",
                        "name": "Benjamin Hall",
                        "avatar_template": "/user_avatar/www.chiefdelphi.com/bhall-ctre/{size}/198180_2.png"
                    },
                    "bookmarked": false,
                    "actions_summary": [],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 36169,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "user_custom_fields": {
                        "user_field_4": "Software Mentor"
                    },
                    "post_url": "/t/is-this-really-how-we-tune-pids/496054/14",
                    "custom_user_title": "Software Mentor",
                    "reactions": [],
                    "current_user_reaction": null,
                    "reaction_users_count": 0,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": null
                },
                {
                    "id": 3560619,
                    "name": "antoine schneider",
                    "username": "sun167",
                    "avatar_template": "/letter_avatar_proxy/v4/letter/s/b5e925/{size}.png",
                    "created_at": "2025-03-18T15:18:13.654Z",
                    "cooked": "i think the sparkmax is already configured in trapezoidal",
                    "post_number": 15,
                    "post_type": 1,
                    "posts_count": 87,
                    "updated_at": "2025-03-18T15:18:13.654Z",
                    "reply_count": 1,
                    "reply_to_post_number": 3,
                    "quote_count": 0,
                    "incoming_link_count": 0,
                    "reads": 479,
                    "readers_count": 478,
                    "score": 100.8,
                    "yours": false,
                    "topic_id": 496054,
                    "topic_slug": "is-this-really-how-we-tune-pids",
                    "display_username": "antoine schneider",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 1,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "read": true,
                    "user_title": null,
                    "reply_to_user": {
                        "id": 64968,
                        "username": "DukeEmree",
                        "name": "Emre ",
                        "avatar_template": "/user_avatar/www.chiefdelphi.com/dukeemree/{size}/251833_2.png"
                    },
                    "bookmarked": false,
                    "actions_summary": [],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 51978,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "post_url": "/t/is-this-really-how-we-tune-pids/496054/15",
                    "custom_user_title": null,
                    "reactions": [],
                    "current_user_reaction": null,
                    "reaction_users_count": 0,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": null
                },
                {
                    "id": 3560623,
                    "name": "Benjamin Hall",
                    "username": "bhall-ctre",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/bhall-ctre/{size}/198180_2.png",
                    "created_at": "2025-03-18T15:20:42.795Z",
                    "cooked": "For that, assuming kG is significant enough that you need it on the wrist, you would likely need to apply kG on the roboRIO side since it’s based on cos(arm + wrist).",
                    "post_number": 16,
                    "post_type": 1,
                    "posts_count": 87,
                    "updated_at": "2025-03-18T15:22:34.769Z",
                    "reply_count": 0,
                    "reply_to_post_number": 14,
                    "quote_count": 0,
                    "incoming_link_count": 0,
                    "reads": 475,
                    "readers_count": 474,
                    "score": 110.0,
                    "yours": false,
                    "topic_id": 496054,
                    "topic_slug": "is-this-really-how-we-tune-pids",
                    "display_username": "Benjamin Hall",
                    "primary_group_name": "CTRE",
                    "flair_name": "CTRE",
                    "flair_url": "/uploads/default/original/3X/1/b/1bd2b430e1bb6427d1c6504ff6abcd31de851a6d.png",
                    "flair_bg_color": "",
                    "flair_color": "",
                    "flair_group_id": 57,
                    "badges_granted": [],
                    "version": 1,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "read": true,
                    "user_title": "",
                    "reply_to_user": {
                        "id": 36169,
                        "username": "Hollisms",
                        "name": "",
                        "avatar_template": "/user_avatar/www.chiefdelphi.com/hollisms/{size}/110925_2.png"
                    },
                    "bookmarked": false,
                    "actions_summary": [
                        {
                            "id": 2,
                            "count": 1
                        }
                    ],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 48146,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "user_custom_fields": {
                        "user_field_4": "Software Engineering Intern at CTR Electronics"
                    },
                    "post_url": "/t/is-this-really-how-we-tune-pids/496054/16",
                    "custom_user_title": "Software Engineering Intern at CTR Electronics",
                    "reactions": [
                        {
                            "id": "+1",
                            "type": "emoji",
                            "count": 1
                        }
                    ],
                    "current_user_reaction": null,
                    "reaction_users_count": 1,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": null
                },
                {
                    "id": 3560644,
                    "name": "Emre ",
                    "username": "DukeEmree",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/dukeemree/{size}/251833_2.png",
                    "created_at": "2025-03-18T15:32:16.174Z",
                    "cooked": "What I am saying is that it allows you to limit the speed and acceleration and easily change the slope of the graphs. So it can’t make sharper movements.",
                    "post_number": 17,
                    "post_type": 1,
                    "posts_count": 87,
                    "updated_at": "2025-03-18T15:32:16.174Z",
                    "reply_count": 0,
                    "reply_to_post_number": 15,
                    "quote_count": 0,
                    "incoming_link_count": 0,
                    "reads": 474,
                    "readers_count": 473,
                    "score": 109.8,
                    "yours": false,
                    "topic_id": 496054,
                    "topic_slug": "is-this-really-how-we-tune-pids",
                    "display_username": "Emre ",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 1,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "read": true,
                    "user_title": null,
                    "reply_to_user": {
                        "id": 51978,
                        "username": "sun167",
                        "name": "antoine schneider",
                        "avatar_template": "/letter_avatar_proxy/v4/letter/s/b5e925/{size}.png"
                    },
                    "bookmarked": false,
                    "actions_summary": [
                        {
                            "id": 2,
                            "count": 1
                        }
                    ],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 64968,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "user_custom_fields": {
                        "user_field_4": "Programmer"
                    },
                    "post_url": "/t/is-this-really-how-we-tune-pids/496054/17",
                    "custom_user_title": "Programmer",
                    "reactions": [
                        {
                            "id": "heart",
                            "type": "emoji",
                            "count": 1
                        }
                    ],
                    "current_user_reaction": null,
                    "reaction_users_count": 1,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": null
                },
                {
                    "id": 3560667,
                    "name": "antoine schneider",
                    "username": "sun167",
                    "avatar_template": "/letter_avatar_proxy/v4/letter/s/b5e925/{size}.png",
                    "created_at": "2025-03-18T15:53:33.337Z",
                    "cooked": "as much as i would love to use these functiunalities , due to the way our arm is built the friction changes unregularly over its full trajectory and the impact of gravity changes depending on the angle of our arm (the PID is for the extension of the arm) would using a sin function for the  kG be a good solution ?",
                    "post_number": 18,
                    "post_type": 1,
                    "posts_count": 87,
                    "updated_at": "2025-03-18T15:53:33.337Z",
                    "reply_count": 2,
                    "reply_to_post_number": 13,
                    "quote_count": 0,
                    "incoming_link_count": 0,
                    "reads": 452,
                    "readers_count": 451,
                    "score": 100.4,
                    "yours": false,
                    "topic_id": 496054,
                    "topic_slug": "is-this-really-how-we-tune-pids",
                    "display_username": "antoine schneider",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 1,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "read": true,
                    "user_title": null,
                    "reply_to_user": {
                        "id": 48146,
                        "username": "bhall-ctre",
                        "name": "Benjamin Hall",
                        "avatar_template": "/user_avatar/www.chiefdelphi.com/bhall-ctre/{size}/198180_2.png"
                    },
                    "bookmarked": false,
                    "actions_summary": [],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 51978,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "post_url": "/t/is-this-really-how-we-tune-pids/496054/18",
                    "custom_user_title": null,
                    "reactions": [],
                    "current_user_reaction": null,
                    "reaction_users_count": 0,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": null
                },
                {
                    "id": 3560686,
                    "name": "",
                    "username": "Alex_Y",
                    "avatar_template": "/letter_avatar_proxy/v4/letter/a/82dd89/{size}.png",
                    "created_at": "2025-03-18T16:06:43.211Z",
                    "cooked": "Tom_Line:\n\nThis is not to be confused with MOTOR KV , which is something else entirely.\n\nIts actually the exact same thing, just written in a different frame of reference. At the frame of refernece of the motor, the kV feedforward gain is the back-emf constant. The motor KV is 1 over the back-emf constant, while the mechanism kV gain is often written in the reference frame of the mechansim. Since its all just the back-emf constant, its easy and accurate to just analytically calculate the feedforward gain from the back-emf constant.\n\nsun167:\n\nas much as i would love to use these functiunalities , due to the way our arm is built the friction changes unregularly over its full trajectory and the impact of gravity changes depending on the angle of our arm (the PID is for the extension of the arm) would using a sin function for the kG be a good solution ?\n\nMuch better than nothing. You are feedback control to compensate for mechanical imperfections (and other stuff) after all.\n\nsun167:\n\nproblem is with higher P gain the movement get’s increasingly sharper but\n\nLatency in the system results in a maximum kD you can run before you start getting transient high frequency oscillations or even just sustained oscillatioions. If you are getting these, stop increasing kD and back off on the kP until you stop oscillating.\n\nsun167:\n\nthen add the I if the arm dosent get to position\n\nOne other tuning trick I like to use but many people don’t talk about is tuning the I gain first, or temporarily setting kP and kD to zero when tuning kI. This allows you to isolate kIs effects so its annoying side effects (caused by the zero) are minimized and to make sure your caps are reasonable.",
                    "post_number": 19,
                    "post_type": 1,
                    "posts_count": 87,
                    "updated_at": "2025-03-18T16:06:43.211Z",
                    "reply_count": 1,
                    "reply_to_post_number": 10,
                    "quote_count": 3,
                    "incoming_link_count": 12,
                    "reads": 449,
                    "readers_count": 448,
                    "score": 154.8,
                    "yours": false,
                    "topic_id": 496054,
                    "topic_slug": "is-this-really-how-we-tune-pids",
                    "display_username": "",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 1,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "read": true,
                    "user_title": null,
                    "bookmarked": false,
                    "actions_summary": [],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 50219,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "user_custom_fields": {
                        "user_field_4": ""
                    },
                    "post_url": "/t/is-this-really-how-we-tune-pids/496054/19",
                    "custom_user_title": null,
                    "reactions": [],
                    "current_user_reaction": null,
                    "reaction_users_count": 0,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": null
                },
                {
                    "id": 3560692,
                    "name": "Benjamin Hall",
                    "username": "bhall-ctre",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/bhall-ctre/{size}/198180_2.png",
                    "created_at": "2025-03-18T16:09:20.919Z",
                    "cooked": "Yes, if you look at the WPILib docs I linked, they use cos(angle) * kG, where an angle of 0 is horizontally forward. With a telescoping arm, your kG may change as a function of your arm’s extension, but I think it should be a linear change. You’ll just have to calculate the kG output on the roboRIO instead of on the motor controller.",
                    "post_number": 20,
                    "post_type": 1,
                    "posts_count": 87,
                    "updated_at": "2025-03-18T16:09:20.919Z",
                    "reply_count": 0,
                    "reply_to_post_number": 18,
                    "quote_count": 0,
                    "incoming_link_count": 0,
                    "reads": 412,
                    "readers_count": 411,
                    "score": 97.4,
                    "yours": false,
                    "topic_id": 496054,
                    "topic_slug": "is-this-really-how-we-tune-pids",
                    "display_username": "Benjamin Hall",
                    "primary_group_name": "CTRE",
                    "flair_name": "CTRE",
                    "flair_url": "/uploads/default/original/3X/1/b/1bd2b430e1bb6427d1c6504ff6abcd31de851a6d.png",
                    "flair_bg_color": "",
                    "flair_color": "",
                    "flair_group_id": 57,
                    "badges_granted": [],
                    "version": 1,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "read": true,
                    "user_title": "",
                    "reply_to_user": {
                        "id": 51978,
                        "username": "sun167",
                        "name": "antoine schneider",
                        "avatar_template": "/letter_avatar_proxy/v4/letter/s/b5e925/{size}.png"
                    },
                    "bookmarked": false,
                    "actions_summary": [
                        {
                            "id": 2,
                            "count": 1
                        }
                    ],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 48146,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "user_custom_fields": {
                        "user_field_4": "Software Engineering Intern at CTR Electronics"
                    },
                    "post_url": "/t/is-this-really-how-we-tune-pids/496054/20",
                    "custom_user_title": "Software Engineering Intern at CTR Electronics",
                    "reactions": [
                        {
                            "id": "heart",
                            "type": "emoji",
                            "count": 1
                        }
                    ],
                    "current_user_reaction": null,
                    "reaction_users_count": 1,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": null
                }
            ],
            "stream": [
                3560450,
                3560462,
                3560463,
                3560464,
                3560467,
                3560489,
                3560506,
                3560508,
                3560526,
                3560531,
                3560550,
                3560588,
                3560597,
                3560613,
                3560619,
                3560623,
                3560644,
                3560667,
                3560686,
                3560692,
                3560700,
                3560719,
                3560730,
                3560754,
                3560759,
                3560776,
                3560777,
                3560795,
                3560838,
                3560897,
                3560901,
                3560918,
                3560954,
                3560964,
                3561007,
                3561098,
                3561158,
                3561222,
                3561233,
                3561234,
                3561235,
                3561241,
                3561244,
                3561259,
                3561302,
                3561335,
                3561352,
                3561362,
                3561375,
                3561378,
                3561410,
                3561673,
                3561800,
                3561801,
                3561823,
                3562216,
                3562230,
                3562243,
                3562258,
                3562279,
                3562299,
                3562302,
                3562308,
                3562399,
                3562462,
                3562464,
                3562571,
                3562607,
                3562625,
                3562640,
                3562642,
                3562680,
                3562683,
                3562689,
                3562694,
                3562696,
                3562699,
                3562700,
                3562703,
                3562704,
                3562705,
                3562719,
                3562720,
                3562725,
                3562748,
                3562769,
                3562770
            ]
        },
        "timeline_lookup": [
            [
                1,
                207
            ],
            [
                52,
                206
            ],
            [
                85,
                205
            ]
        ],
        "tags": [],
        "tags_descriptions": {},
        "fancy_title": "Is this really how we tune PID&rsquo;s",
        "id": 496054,
        "title": "Is this really how we tune PID's",
        "posts_count": 87,
        "created_at": "2025-03-18T13:01:38.953Z",
        "views": 3149,
        "reply_count": 73,
        "like_count": 338,
        "last_posted_at": "2025-03-20T12:07:48.472Z",
        "visible": true,
        "closed": true,
        "archived": false,
        "has_summary": true,
        "archetype": "regular",
        "slug": "is-this-really-how-we-tune-pids",
        "category_id": 9,
        "word_count": 13771,
        "deleted_at": null,
        "user_id": 51978,
        "featured_link": null,
        "pinned_globally": false,
        "pinned_at": null,
        "pinned_until": null,
        "image_url": null,
        "slow_mode_seconds": 0,
        "draft": null,
        "draft_key": "topic_496054",
        "draft_sequence": null,
        "unpinned": null,
        "pinned": false,
        "current_post_number": 1,
        "highest_post_number": 89,
        "deleted_by": null,
        "actions_summary": [
            {
                "id": 4,
                "count": 0,
                "hidden": false,
                "can_act": false
            },
            {
                "id": 8,
                "count": 0,
                "hidden": false,
                "can_act": false
            },
            {
                "id": 10,
                "count": 0,
                "hidden": false,
                "can_act": false
            },
            {
                "id": 7,
                "count": 0,
                "hidden": false,
                "can_act": false
            }
        ],
        "chunk_size": 20,
        "bookmarked": false,
        "topic_timer": null,
        "message_bus_last_id": 0,
        "participant_count": 34,
        "show_read_indicator": false,
        "thumbnails": null,
        "slow_mode_enabled_until": null,
        "valid_reactions": [
            "heart",
            "laughing",
            "point_up",
            "+1",
            "-1",
            "100",
            "open_mouth",
            "cry",
            "question",
            "thinking",
            "call_me_hand",
            "hugs",
            "angry"
        ],
        "user_chosen_thumbnail_url": null,
        "sidecar_installed": true,
        "can_vote": false,
        "vote_count": 0,
        "user_voted": false,
        "discourse_zendesk_plugin_zendesk_id": null,
        "discourse_zendesk_plugin_zendesk_url": "https://your-url.zendesk.com/agent/tickets/",
        "details": {
            "can_edit": false,
            "notification_level": 1,
            "participants": [
                {
                    "id": 62207,
                    "username": "TheComputer314",
                    "name": "",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/thecomputer314/{size}/241453_2.png",
                    "post_count": 14,
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_color": null,
                    "flair_bg_color": null,
                    "flair_group_id": null,
                    "trust_level": 2
                },
                {
                    "id": 50219,
                    "username": "Alex_Y",
                    "name": "",
                    "avatar_template": "/letter_avatar_proxy/v4/letter/a/82dd89/{size}.png",
                    "post_count": 12,
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_color": null,
                    "flair_bg_color": null,
                    "flair_group_id": null,
                    "trust_level": 2
                },
                {
                    "id": 48146,
                    "username": "bhall-ctre",
                    "name": "Benjamin Hall",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/bhall-ctre/{size}/198180_2.png",
                    "post_count": 8,
                    "primary_group_name": "CTRE",
                    "flair_name": "CTRE",
                    "flair_url": "/uploads/default/original/3X/1/b/1bd2b430e1bb6427d1c6504ff6abcd31de851a6d.png",
                    "flair_color": "",
                    "flair_bg_color": "",
                    "flair_group_id": 57,
                    "trust_level": 2
                },
                {
                    "id": 12381,
                    "username": "Oblarg",
                    "name": "Eli Barnett",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/oblarg/{size}/161674_2.png",
                    "post_count": 5,
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_color": null,
                    "flair_bg_color": null,
                    "flair_group_id": null,
                    "trust_level": 2
                },
                {
                    "id": 36169,
                    "username": "Hollisms",
                    "name": "",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/hollisms/{size}/110925_2.png",
                    "post_count": 4,
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_color": null,
                    "flair_bg_color": null,
                    "flair_group_id": null,
                    "trust_level": 2
                },
                {
                    "id": 51978,
                    "username": "sun167",
                    "name": "antoine schneider",
                    "avatar_template": "/letter_avatar_proxy/v4/letter/s/b5e925/{size}.png",
                    "post_count": 4,
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_color": null,
                    "flair_bg_color": null,
                    "flair_group_id": null,
                    "trust_level": 2
                },
                {
                    "id": 24617,
                    "username": "gerthworm",
                    "name": "Chris Gerth",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/gerthworm/{size}/268658_2.png",
                    "post_count": 3,
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_color": null,
                    "flair_bg_color": null,
                    "flair_group_id": null,
                    "trust_level": 2
                },
                {
                    "id": 22261,
                    "username": "paulonis",
                    "name": "paulonis",
                    "avatar_template": "/letter_avatar_proxy/v4/letter/p/5fc32e/{size}.png",
                    "post_count": 3,
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_color": null,
                    "flair_bg_color": null,
                    "flair_group_id": null,
                    "trust_level": 2
                },
                {
                    "id": 65624,
                    "username": "10219Ryba",
                    "name": "Carter Ryba",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/10219ryba/{size}/248339_2.png",
                    "post_count": 3,
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_color": null,
                    "flair_bg_color": null,
                    "flair_group_id": null,
                    "trust_level": 2
                },
                {
                    "id": 9979,
                    "username": "R.C",
                    "name": "R.C.",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/r.c/{size}/264998_2.png",
                    "post_count": 2,
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_color": null,
                    "flair_bg_color": null,
                    "flair_group_id": null,
                    "trust_level": 2
                },
                {
                    "id": 7841,
                    "username": "Tom_Line",
                    "name": "Tom Line",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/tom_line/{size}/236809_2.png",
                    "post_count": 2,
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_color": null,
                    "flair_bg_color": null,
                    "flair_group_id": null,
                    "trust_level": 2
                },
                {
                    "id": 64968,
                    "username": "DukeEmree",
                    "name": "Emre ",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/dukeemree/{size}/251833_2.png",
                    "post_count": 2,
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_color": null,
                    "flair_bg_color": null,
                    "flair_group_id": null,
                    "trust_level": 2
                },
                {
                    "id": 23601,
                    "username": "dirtbikerxz",
                    "name": "dirtbikerxz",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/dirtbikerxz/{size}/207955_2.png",
                    "post_count": 2,
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_color": null,
                    "flair_bg_color": null,
                    "flair_group_id": null,
                    "trust_level": 2
                },
                {
                    "id": 16846,
                    "username": "calcmogul",
                    "name": "Tyler Veness",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/calcmogul/{size}/128045_2.png",
                    "post_count": 2,
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_color": null,
                    "flair_bg_color": null,
                    "flair_group_id": null,
                    "trust_level": 2
                },
                {
                    "id": 53412,
                    "username": "theworkshope",
                    "name": "Dan",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/theworkshope/{size}/194375_2.png",
                    "post_count": 1,
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_color": null,
                    "flair_bg_color": null,
                    "flair_group_id": null,
                    "trust_level": 2
                },
                {
                    "id": 55172,
                    "username": "superdude311",
                    "name": "Matthew K",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/superdude311/{size}/230653_2.png",
                    "post_count": 1,
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_color": null,
                    "flair_bg_color": null,
                    "flair_group_id": null,
                    "trust_level": 2
                },
                {
                    "id": 55942,
                    "username": "01101000_01101001",
                    "name": "",
                    "avatar_template": "/letter_avatar_proxy/v4/letter/0/85e7bf/{size}.png",
                    "post_count": 1,
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_color": null,
                    "flair_bg_color": null,
                    "flair_group_id": null,
                    "trust_level": 2
                },
                {
                    "id": 58360,
                    "username": "Mateo",
                    "name": "",
                    "avatar_template": "/letter_avatar_proxy/v4/letter/m/f4b2a3/{size}.png",
                    "post_count": 1,
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_color": null,
                    "flair_bg_color": null,
                    "flair_group_id": null,
                    "trust_level": 2
                },
                {
                    "id": 63596,
                    "username": "Otter502",
                    "name": "Val",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/otter502/{size}/245799_2.png",
                    "post_count": 1,
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_color": null,
                    "flair_bg_color": null,
                    "flair_group_id": null,
                    "trust_level": 2
                },
                {
                    "id": 1737,
                    "username": "Steven_Carmain",
                    "name": "Steven Carmain",
                    "avatar_template": "/letter_avatar_proxy/v4/letter/s/f07891/{size}.png",
                    "post_count": 1,
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_color": null,
                    "flair_bg_color": null,
                    "flair_group_id": null,
                    "trust_level": 2
                },
                {
                    "id": 70441,
                    "username": "SnappleBot",
                    "name": "",
                    "avatar_template": "/letter_avatar_proxy/v4/letter/s/b3f665/{size}.png",
                    "post_count": 1,
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_color": null,
                    "flair_bg_color": null,
                    "flair_group_id": null,
                    "trust_level": 2
                },
                {
                    "id": 4999,
                    "username": "Nate_Laverdure",
                    "name": "Nate Laverdure (he/him)",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/nate_laverdure/{size}/134005_2.png",
                    "post_count": 1,
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_color": null,
                    "flair_bg_color": null,
                    "flair_group_id": null,
                    "moderator": true,
                    "trust_level": 4
                },
                {
                    "id": 7309,
                    "username": "clydefrog88",
                    "name": "Sam",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/clydefrog88/{size}/150683_2.png",
                    "post_count": 1,
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_color": null,
                    "flair_bg_color": null,
                    "flair_group_id": null,
                    "trust_level": 2
                },
                {
                    "id": 7439,
                    "username": "Eugene_Fang",
                    "name": "Eugene Fang",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/eugene_fang/{size}/65109_2.png",
                    "post_count": 1,
                    "primary_group_name": null,
                    "flair_name": "The-Blue-Alliance",
                    "flair_url": "/uploads/default/original/3X/0/2/02b18ea7720fea44e77469bb5261acf1c7045a6e.png",
                    "flair_color": "",
                    "flair_bg_color": "",
                    "flair_group_id": 67,
                    "trust_level": 2
                }
            ],
            "created_by": {
                "id": 51978,
                "username": "sun167",
                "name": "antoine schneider",
                "avatar_template": "/letter_avatar_proxy/v4/letter/s/b5e925/{size}.png"
            },
            "last_poster": {
                "id": 19235,
                "username": "Skyehawk",
                "name": "Skye Leake",
                "avatar_template": "/user_avatar/www.chiefdelphi.com/skyehawk/{size}/179363_2.png"
            },
            "links": [
                {
                    "url": "https://docs.wpilib.org/en/stable/docs/software/advanced-controls/controllers/trapezoidal-profiles.html",
                    "title": "Trapezoidal Motion Profiles in WPILib — FIRST Robotics Competition documentation",
                    "internal": false,
                    "attachment": false,
                    "reflection": false,
                    "clicks": 51,
                    "user_id": 64968,
                    "domain": "docs.wpilib.org",
                    "root_domain": "wpilib.org"
                },
                {
                    "url": "https://www.chiefdelphi.com/faq",
                    "title": null,
                    "internal": true,
                    "attachment": false,
                    "reflection": false,
                    "clicks": 22,
                    "user_id": 19235,
                    "domain": "www.chiefdelphi.com",
                    "root_domain": "chiefdelphi.com"
                },
                {
                    "url": "https://docs.wpilib.org/en/stable/docs/software/advanced-controls/introduction/tuning-vertical-arm.html",
                    "title": null,
                    "internal": false,
                    "attachment": false,
                    "reflection": false,
                    "clicks": 17,
                    "user_id": 48146,
                    "domain": "docs.wpilib.org",
                    "root_domain": "wpilib.org"
                },
                {
                    "url": "https://xkcd.com/356/",
                    "title": "xkcd: Nerd Sniping",
                    "internal": false,
                    "attachment": false,
                    "reflection": false,
                    "clicks": 14,
                    "user_id": 13575,
                    "domain": "xkcd.com",
                    "root_domain": "xkcd.com"
                },
                {
                    "url": "https://github.com/icrobotics-team167/2025_Reefscape/blob/691e1a933c441f646afebe65cc11098d3652ca5b/src/main/java/frc/cotc/superstructure/Elevator.java",
                    "title": "2025_Reefscape/src/main/java/frc/cotc/superstructure/Elevator.java at 691e1a933c441f646afebe65cc11098d3652ca5b · icrobotics-team167/2025_Reefscape · GitHub",
                    "internal": false,
                    "attachment": false,
                    "reflection": false,
                    "clicks": 5,
                    "user_id": 62207,
                    "domain": "github.com",
                    "root_domain": "github.com"
                },
                {
                    "url": "https://xkcd.com/386/",
                    "title": "xkcd: Duty Calls",
                    "internal": false,
                    "attachment": false,
                    "reflection": false,
                    "clicks": 4,
                    "user_id": 13575,
                    "domain": "xkcd.com",
                    "root_domain": "xkcd.com"
                },
                {
                    "url": "https://file.tavsys.net/control/controls-engineering-in-frc.pdf#page82",
                    "title": null,
                    "internal": false,
                    "attachment": false,
                    "reflection": false,
                    "clicks": 4,
                    "user_id": 62207,
                    "domain": "file.tavsys.net",
                    "root_domain": "tavsys.net"
                },
                {
                    "url": "https://www.thebluealliance.com/match/2025mose_qm47",
                    "title": "Quals 47 - Central Missouri Regional 2025 - The Blue Alliance",
                    "internal": false,
                    "attachment": false,
                    "reflection": false,
                    "clicks": 4,
                    "user_id": 62207,
                    "domain": "www.thebluealliance.com",
                    "root_domain": "thebluealliance.com"
                },
                {
                    "url": "https://docs.google.com/presentation/d/14IbzmZyqwekHDVUPnGz-cuKDEnKlteRiSzdM_5eWYZY/edit#slide=id.g30143da72bf_0_324",
                    "title": "Spartronics programming control theory 10/30/2024 - Google Slides",
                    "internal": false,
                    "attachment": false,
                    "reflection": false,
                    "clicks": 3,
                    "user_id": 63596,
                    "domain": "docs.google.com",
                    "root_domain": "google.com"
                },
                {
                    "url": "https://www.chiefdelphi.com/t/2910-cad-and-tech-binder-release-2025/500310/240",
                    "title": "2910 CAD and Tech Binder Release 2025",
                    "internal": true,
                    "attachment": false,
                    "reflection": true,
                    "clicks": 1,
                    "user_id": 62207,
                    "domain": "www.chiefdelphi.com",
                    "root_domain": "chiefdelphi.com"
                }
            ]
        },
        "bookmarks": []
    }
}