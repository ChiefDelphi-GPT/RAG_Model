{
    "data": {
        "post_stream": {
            "posts": [
                {
                    "id": 3026001,
                    "name": "",
                    "username": "BobSaidHi",
                    "avatar_template": "/letter_avatar_proxy/v4/letter/b/ac91a4/{size}.png",
                    "created_at": "2022-03-20T03:33:52.926Z",
                    "cooked": "Hello, I was following the WPILib state-space tutorial for flywheels , but I‚Äôm confused about the units the Spark MAX + NEO encoder returns and the units the Kalman filter correction takes.\n\nCode from tutorial:\n\nI am unfamiliar with the encoderget.Rate( ) method.  Is it comparable to sparkMAX.getEncoder().getVelocity] ?  I believe the Spark MAX defaults to rev/s.  What sort unit conversion do I need?\n\nModified code from Outtake.java :",
                    "post_number": 1,
                    "post_type": 1,
                    "posts_count": 21,
                    "updated_at": "2022-03-20T03:33:52.926Z",
                    "reply_count": 0,
                    "reply_to_post_number": null,
                    "quote_count": 0,
                    "incoming_link_count": 702,
                    "reads": 250,
                    "readers_count": 249,
                    "score": 3555.0,
                    "yours": false,
                    "topic_id": 406189,
                    "topic_slug": "units-for-spark-max-neo-encoder-and-state-space-control-kalman-filter-correction",
                    "display_username": "",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 1,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "link_counts": [
                        {
                            "url": "https://docs.wpilib.org/en/stable/docs/software/advanced-controls/state-space/state-space-flywheel-walkthrough.html",
                            "internal": false,
                            "reflection": false,
                            "title": "State-Space Controller Walkthrough ‚Äî FIRST Robotics Competition documentation",
                            "clicks": 23
                        },
                        {
                            "url": "https://github.com/frc6506/FRC-Code-2022/blob/32b0da2f362e01ca79ee73310276afd55bb94ab5/src/main/java/frc/robot/subsystems/Outtake.java#L121",
                            "internal": false,
                            "reflection": false,
                            "clicks": 4
                        }
                    ],
                    "read": true,
                    "user_title": null,
                    "bookmarked": false,
                    "actions_summary": [],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 45273,
                    "hidden": false,
                    "trust_level": 1,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "user_custom_fields": {
                        "user_field_4": ""
                    },
                    "post_url": "/t/units-for-spark-max-neo-encoder-and-state-space-control-kalman-filter-correction/406189/1",
                    "custom_user_title": null,
                    "reactions": [],
                    "current_user_reaction": null,
                    "reaction_users_count": 0,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": true,
                    "can_vote": false
                },
                {
                    "id": 3026123,
                    "name": "Mykah",
                    "username": "ExploitSage",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/exploitsage/{size}/179189_2.png",
                    "created_at": "2022-03-20T13:24:43.714Z",
                    "cooked": "According to REV‚Äôs Java API Docs, The RelativeEncoder class returns RPM, Revolutions per Minute, by default for getVelocity() , but you can supply a conversion factor to modify the https://codedocs.revrobotics.com/java/com/revrobotics/relativeencoder#getVelocity()\n\nI‚Äôm not super familiar with all the State Space and Kalman Filter options in WPILib, but the full example provided in the Docs seems to have everything in Radians per Second.\n\nIf you‚Äôd like the SparkMAX Encoder to return Rad/s, you can set the conversion factor to 0.10472 , or just multiply the RPM by that same conversion factor. Which I found using Convert revolution per minute to radian per second - Conversion of Measurement Units .",
                    "post_number": 2,
                    "post_type": 1,
                    "posts_count": 21,
                    "updated_at": "2022-03-20T19:45:55.619Z",
                    "reply_count": 1,
                    "reply_to_post_number": null,
                    "quote_count": 0,
                    "incoming_link_count": 43,
                    "reads": 224,
                    "readers_count": 223,
                    "score": 264.8,
                    "yours": false,
                    "topic_id": 406189,
                    "topic_slug": "units-for-spark-max-neo-encoder-and-state-space-control-kalman-filter-correction",
                    "display_username": "Mykah",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 1,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "link_counts": [
                        {
                            "url": "https://github.com/wpilibsuite/allwpilib/blob/3b283ab9aaf9d23d7870b9c3723d03760a0bd378/wpilibjExamples/src/main/java/edu/wpi/first/wpilibj/examples/statespaceflywheel/Robot.java",
                            "internal": false,
                            "reflection": false,
                            "clicks": 33
                        },
                        {
                            "url": "https://codedocs.revrobotics.com/java/com/revrobotics/relativeencoder#getVelocity()",
                            "internal": false,
                            "reflection": false,
                            "title": "RelativeEncoder (FRC-REVLib API)",
                            "clicks": 32
                        },
                        {
                            "url": "https://www.convertunits.com/from/revolution+per+minute/to/radian+per+second",
                            "internal": false,
                            "reflection": false,
                            "title": "Convert revolution per minute to radian per second - Conversion of Measurement Units",
                            "clicks": 12
                        }
                    ],
                    "read": true,
                    "user_title": "",
                    "bookmarked": false,
                    "actions_summary": [],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 16897,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "user_custom_fields": {
                        "user_field_4": "She/Her üè≥Ô∏è‚Äç‚ößÔ∏è | 9153 | Programming and Electrical Mentor"
                    },
                    "post_url": "/t/units-for-spark-max-neo-encoder-and-state-space-control-kalman-filter-correction/406189/2",
                    "custom_user_title": "She/Her üè≥Ô∏è‚Äç‚ößÔ∏è | 9153 | Programming and Electrical Mentor",
                    "reactions": [],
                    "current_user_reaction": null,
                    "reaction_users_count": 0,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": true,
                    "topic_accepted_answer": true
                },
                {
                    "id": 3026321,
                    "name": "",
                    "username": "BobSaidHi",
                    "avatar_template": "/letter_avatar_proxy/v4/letter/b/ac91a4/{size}.png",
                    "created_at": "2022-03-20T19:48:45.401Z",
                    "cooked": "Thanks!\n\nI‚Äôve been using WPILib Units class for conversions instead of actual conversion factors, although I suppose that‚Äôs more stuff to import.",
                    "post_number": 3,
                    "post_type": 1,
                    "posts_count": 21,
                    "updated_at": "2022-03-20T19:48:45.401Z",
                    "reply_count": 1,
                    "reply_to_post_number": 2,
                    "quote_count": 0,
                    "incoming_link_count": 2,
                    "reads": 164,
                    "readers_count": 163,
                    "score": 47.8,
                    "yours": false,
                    "topic_id": 406189,
                    "topic_slug": "units-for-spark-max-neo-encoder-and-state-space-control-kalman-filter-correction",
                    "display_username": "",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 1,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "link_counts": [
                        {
                            "url": "https://first.wpi.edu/wpilib/allwpilib/docs/release/java/edu/wpi/first/math/util/Units.html",
                            "internal": false,
                            "reflection": false,
                            "title": "Units (WPILib API 2022.4.1)",
                            "clicks": 28
                        }
                    ],
                    "read": true,
                    "user_title": null,
                    "reply_to_user": {
                        "id": 16897,
                        "username": "ExploitSage",
                        "name": "Mykah",
                        "avatar_template": "/user_avatar/www.chiefdelphi.com/exploitsage/{size}/179189_2.png"
                    },
                    "bookmarked": false,
                    "actions_summary": [],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 45273,
                    "hidden": false,
                    "trust_level": 1,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "user_custom_fields": {
                        "user_field_4": ""
                    },
                    "post_url": "/t/units-for-spark-max-neo-encoder-and-state-space-control-kalman-filter-correction/406189/3",
                    "custom_user_title": null,
                    "reactions": [],
                    "current_user_reaction": null,
                    "reaction_users_count": 0,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": true
                },
                {
                    "id": 3026326,
                    "name": "",
                    "username": "FRC6302",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/frc6302/{size}/165591_2.png",
                    "created_at": "2022-03-20T19:51:14.745Z",
                    "cooked": "Using the Units class is the way to go about it. It makes the code much more readable than just having a ‚Äúmagic‚Äù constant there\n\nFor the actual topic of discussion, I am not sure the built in encoder on the Neo is going to work well for state space velocity control because of the 120ms measurement delay built in to it. I‚Äôve actually been wondering about it myself. Would the Kalman filter for it work well if you just gave the velocity measurement a large standard deviation @calcmogul ?",
                    "post_number": 4,
                    "post_type": 1,
                    "posts_count": 21,
                    "updated_at": "2022-03-20T20:04:02.237Z",
                    "reply_count": 1,
                    "reply_to_post_number": 3,
                    "quote_count": 0,
                    "incoming_link_count": 0,
                    "reads": 155,
                    "readers_count": 154,
                    "score": 51.0,
                    "yours": false,
                    "topic_id": 406189,
                    "topic_slug": "units-for-spark-max-neo-encoder-and-state-space-control-kalman-filter-correction",
                    "display_username": "",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 2,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "read": true,
                    "user_title": "",
                    "reply_to_user": {
                        "id": 45273,
                        "username": "BobSaidHi",
                        "name": "",
                        "avatar_template": "/letter_avatar_proxy/v4/letter/b/ac91a4/{size}.png"
                    },
                    "bookmarked": false,
                    "actions_summary": [
                        {
                            "id": 2,
                            "count": 1
                        }
                    ],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 48779,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "user_custom_fields": {
                        "user_field_4": "Sam - Programming Lead"
                    },
                    "post_url": "/t/units-for-spark-max-neo-encoder-and-state-space-control-kalman-filter-correction/406189/4",
                    "custom_user_title": "Sam - Programming Lead",
                    "reactions": [
                        {
                            "id": "heart",
                            "type": "emoji",
                            "count": 1
                        }
                    ],
                    "current_user_reaction": null,
                    "reaction_users_count": 1,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": true
                },
                {
                    "id": 3026331,
                    "name": "Tyler Veness",
                    "username": "calcmogul",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/calcmogul/{size}/128045_2.png",
                    "created_at": "2022-03-20T20:05:50.873Z",
                    "cooked": "FRC6302:\n\nWould the Kalman filter for it work well if you just gave the velocity measurement a large standard deviation\n\nNot really. You have to mostly trust the measurements over the model because balls going through the shooter is an unmodeled disturbance. If you trust the model, the velocity estimate won‚Äôt drop nearly as much as it should.",
                    "post_number": 5,
                    "post_type": 1,
                    "posts_count": 21,
                    "updated_at": "2022-03-20T20:06:50.181Z",
                    "reply_count": 1,
                    "reply_to_post_number": 4,
                    "quote_count": 1,
                    "incoming_link_count": 7,
                    "reads": 143,
                    "readers_count": 142,
                    "score": 83.6,
                    "yours": false,
                    "topic_id": 406189,
                    "topic_slug": "units-for-spark-max-neo-encoder-and-state-space-control-kalman-filter-correction",
                    "display_username": "Tyler Veness",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 1,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "read": true,
                    "user_title": "",
                    "bookmarked": false,
                    "actions_summary": [
                        {
                            "id": 2,
                            "count": 1
                        }
                    ],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 16846,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "user_custom_fields": {
                        "user_field_4": "WPILib controls | Choreo optimizer backend"
                    },
                    "post_url": "/t/units-for-spark-max-neo-encoder-and-state-space-control-kalman-filter-correction/406189/5",
                    "custom_user_title": "WPILib controls | Choreo optimizer backend",
                    "reactions": [
                        {
                            "id": "heart",
                            "type": "emoji",
                            "count": 1
                        }
                    ],
                    "current_user_reaction": null,
                    "reaction_users_count": 1,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": true
                },
                {
                    "id": 3026335,
                    "name": "",
                    "username": "FRC6302",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/frc6302/{size}/165591_2.png",
                    "created_at": "2022-03-20T20:09:19.367Z",
                    "cooked": "Ok that makes sense. Would manually estimating the velocity using the position data to avoid the delay work? Or are the neo encoders and state space basically incompatible?",
                    "post_number": 6,
                    "post_type": 1,
                    "posts_count": 21,
                    "updated_at": "2022-03-20T20:09:19.367Z",
                    "reply_count": 1,
                    "reply_to_post_number": 5,
                    "quote_count": 0,
                    "incoming_link_count": 1,
                    "reads": 142,
                    "readers_count": 141,
                    "score": 38.4,
                    "yours": false,
                    "topic_id": 406189,
                    "topic_slug": "units-for-spark-max-neo-encoder-and-state-space-control-kalman-filter-correction",
                    "display_username": "",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 1,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "read": true,
                    "user_title": "",
                    "reply_to_user": {
                        "id": 16846,
                        "username": "calcmogul",
                        "name": "Tyler Veness",
                        "avatar_template": "/user_avatar/www.chiefdelphi.com/calcmogul/{size}/128045_2.png"
                    },
                    "bookmarked": false,
                    "actions_summary": [],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 48779,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "user_custom_fields": {
                        "user_field_4": "Sam - Programming Lead"
                    },
                    "post_url": "/t/units-for-spark-max-neo-encoder-and-state-space-control-kalman-filter-correction/406189/6",
                    "custom_user_title": "Sam - Programming Lead",
                    "reactions": [],
                    "current_user_reaction": null,
                    "reaction_users_count": 0,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": true
                },
                {
                    "id": 3026336,
                    "name": "Tyler Veness",
                    "username": "calcmogul",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/calcmogul/{size}/128045_2.png",
                    "created_at": "2022-03-20T20:10:05.693Z",
                    "cooked": "I‚Äôve seen that workaround work OK on the FRC Discord. You‚Äôll have just the 20 ms CAN status frame delay instead of that plus the filtering delay.",
                    "post_number": 7,
                    "post_type": 1,
                    "posts_count": 21,
                    "updated_at": "2022-03-20T20:10:05.693Z",
                    "reply_count": 1,
                    "reply_to_post_number": 6,
                    "quote_count": 0,
                    "incoming_link_count": 4,
                    "reads": 138,
                    "readers_count": 137,
                    "score": 52.6,
                    "yours": false,
                    "topic_id": 406189,
                    "topic_slug": "units-for-spark-max-neo-encoder-and-state-space-control-kalman-filter-correction",
                    "display_username": "Tyler Veness",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 1,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "link_counts": [
                        {
                            "url": "https://www.chiefdelphi.com/t/pid-tuning-for-cansparkmax/405020/21",
                            "internal": true,
                            "reflection": true,
                            "title": "PID Tuning for CANSparkMax",
                            "clicks": 5
                        }
                    ],
                    "read": true,
                    "user_title": "",
                    "reply_to_user": {
                        "id": 48779,
                        "username": "FRC6302",
                        "name": "",
                        "avatar_template": "/user_avatar/www.chiefdelphi.com/frc6302/{size}/165591_2.png"
                    },
                    "bookmarked": false,
                    "actions_summary": [],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 16846,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "user_custom_fields": {
                        "user_field_4": "WPILib controls | Choreo optimizer backend"
                    },
                    "post_url": "/t/units-for-spark-max-neo-encoder-and-state-space-control-kalman-filter-correction/406189/7",
                    "custom_user_title": "WPILib controls | Choreo optimizer backend",
                    "reactions": [],
                    "current_user_reaction": null,
                    "reaction_users_count": 0,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": true
                },
                {
                    "id": 3026339,
                    "name": "",
                    "username": "FRC6302",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/frc6302/{size}/165591_2.png",
                    "created_at": "2022-03-20T20:16:28.859Z",
                    "cooked": "Ok and what method to find the velocity should you use? I feel like\n\nvelocity = (position - prevPosition) / 0.020\n\nwould be really noisy, right? Is there a simple way that‚Äôs better than this?",
                    "post_number": 8,
                    "post_type": 1,
                    "posts_count": 21,
                    "updated_at": "2022-03-20T20:16:28.859Z",
                    "reply_count": 1,
                    "reply_to_post_number": 7,
                    "quote_count": 0,
                    "incoming_link_count": 3,
                    "reads": 134,
                    "readers_count": 133,
                    "score": 46.8,
                    "yours": false,
                    "topic_id": 406189,
                    "topic_slug": "units-for-spark-max-neo-encoder-and-state-space-control-kalman-filter-correction",
                    "display_username": "",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 1,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "read": true,
                    "user_title": "",
                    "reply_to_user": {
                        "id": 16846,
                        "username": "calcmogul",
                        "name": "Tyler Veness",
                        "avatar_template": "/user_avatar/www.chiefdelphi.com/calcmogul/{size}/128045_2.png"
                    },
                    "bookmarked": false,
                    "actions_summary": [],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 48779,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "user_custom_fields": {
                        "user_field_4": "Sam - Programming Lead"
                    },
                    "post_url": "/t/units-for-spark-max-neo-encoder-and-state-space-control-kalman-filter-correction/406189/8",
                    "custom_user_title": "Sam - Programming Lead",
                    "reactions": [],
                    "current_user_reaction": null,
                    "reaction_users_count": 0,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": true
                },
                {
                    "id": 3026343,
                    "name": "Tyler Veness",
                    "username": "calcmogul",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/calcmogul/{size}/128045_2.png",
                    "created_at": "2022-03-20T20:28:54.841Z",
                    "cooked": "3512 (my former team) used that method with a quadrature encoder plugged into the roboRIO, and did the sampling on a real-time thread to reduce noise from a varying sample period. There was also a 4-tap moving average to filter out quantization noise. It worked well.",
                    "post_number": 9,
                    "post_type": 1,
                    "posts_count": 21,
                    "updated_at": "2022-03-20T20:30:13.170Z",
                    "reply_count": 1,
                    "reply_to_post_number": 8,
                    "quote_count": 0,
                    "incoming_link_count": 4,
                    "reads": 130,
                    "readers_count": 129,
                    "score": 66.0,
                    "yours": false,
                    "topic_id": 406189,
                    "topic_slug": "units-for-spark-max-neo-encoder-and-state-space-control-kalman-filter-correction",
                    "display_username": "Tyler Veness",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 1,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "read": true,
                    "user_title": "",
                    "reply_to_user": {
                        "id": 48779,
                        "username": "FRC6302",
                        "name": "",
                        "avatar_template": "/user_avatar/www.chiefdelphi.com/frc6302/{size}/165591_2.png"
                    },
                    "bookmarked": false,
                    "actions_summary": [
                        {
                            "id": 2,
                            "count": 1
                        }
                    ],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 16846,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "user_custom_fields": {
                        "user_field_4": "WPILib controls | Choreo optimizer backend"
                    },
                    "post_url": "/t/units-for-spark-max-neo-encoder-and-state-space-control-kalman-filter-correction/406189/9",
                    "custom_user_title": "WPILib controls | Choreo optimizer backend",
                    "reactions": [
                        {
                            "id": "heart",
                            "type": "emoji",
                            "count": 1
                        }
                    ],
                    "current_user_reaction": null,
                    "reaction_users_count": 1,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": true
                },
                {
                    "id": 3026352,
                    "name": "",
                    "username": "FRC6302",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/frc6302/{size}/165591_2.png",
                    "created_at": "2022-03-20T20:43:44.237Z",
                    "cooked": "calcmogul:\n\nused that method with a quadrature encoder plugged into the roboRIO\n\nDid the quadrature encoder you were using have a velocity delay or why did you have to use your own filter?\n\ncalcmogul:\n\nsampling on a real-time thread to reduce noise from a varying sample period\n\nI‚Äôm not too familiar with threads, does this just mean making a separate thread from the rest of the robot so that if something else on the robot is taking a long time then it won‚Äôt affect your velocity calculation?\n\ncalcmogul:\n\n4-tap moving average to filter out quantization noise.\n\nso calculating the velocities during the last 4 loop periods and then averaging them all together? Did you test different numbers of periods to average and found 4 worked the best or what?",
                    "post_number": 10,
                    "post_type": 1,
                    "posts_count": 21,
                    "updated_at": "2022-03-20T20:55:24.642Z",
                    "reply_count": 1,
                    "reply_to_post_number": 9,
                    "quote_count": 1,
                    "incoming_link_count": 4,
                    "reads": 125,
                    "readers_count": 124,
                    "score": 50.0,
                    "yours": false,
                    "topic_id": 406189,
                    "topic_slug": "units-for-spark-max-neo-encoder-and-state-space-control-kalman-filter-correction",
                    "display_username": "",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 2,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "read": true,
                    "user_title": "",
                    "bookmarked": false,
                    "actions_summary": [],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 48779,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "user_custom_fields": {
                        "user_field_4": "Sam - Programming Lead"
                    },
                    "post_url": "/t/units-for-spark-max-neo-encoder-and-state-space-control-kalman-filter-correction/406189/10",
                    "custom_user_title": "Sam - Programming Lead",
                    "reactions": [],
                    "current_user_reaction": null,
                    "reaction_users_count": 0,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": true
                },
                {
                    "id": 3026519,
                    "name": "Tyler Veness",
                    "username": "calcmogul",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/calcmogul/{size}/128045_2.png",
                    "created_at": "2022-03-21T00:13:41.407Z",
                    "cooked": "FRC6302:\n\nDid the quadrature encoder you were using have a velocity delay or why did you have to use your own filter?\n\nNo. That‚Äôs why we used a quadrature encoder plugged into the roboRIO, and ran our controls on the roboRIO. The filter was just to smooth out quantization noise. The position has a finite resolution, so the velocity will develop noise on the order of distance per pulse / sample period.\n\nFRC6302:\n\nI‚Äôm not too familiar with threads, does this just mean making a separate thread from the rest of the robot so that if something else on the robot is taking a long time then it won‚Äôt affect your velocity calculation?\n\nNo, we just made the main robot thread real-time. It requires being more careful, but it made things more deterministic and less noisy, which let us satisfy our flywheel performance requirements.\n\nFRC6302:\n\nso calculating the velocities during the last 4 loop periods and then averaging them all together?\n\nYea. Just use LinearFilter::MovingAverage().\n\nFRC6302:\n\nDid you test different numbers of periods to average and found 4 worked the best or what?\n\nI tuned it in simulation since the only noise there is quantization noise introduced by the HAL encoder count. Four taps was the minimum that filtered out the noise. Any more would just introduce more measurement delay (a 4-tap moving average sampled every 5 ms has (4 - 1) / 2 * 5 ms = 7.5 ms of measurement delay). It‚Äôs a tradeoff.\n\nThe lagless way to reduce the quantization noise would be using a higher count per revolution encoder. Ours was set to 512, so in retrospect, that could have been increased to 2048. I just didn‚Äôt think of that until just now ( AMT103-V CUI Devices | Sensors, Transducers | DigiKey ). The upper limit is determined by how fast the FPGA can capture the encoder edges.",
                    "post_number": 11,
                    "post_type": 1,
                    "posts_count": 21,
                    "updated_at": "2022-03-21T00:18:53.704Z",
                    "reply_count": 1,
                    "reply_to_post_number": 10,
                    "quote_count": 1,
                    "incoming_link_count": 10,
                    "reads": 103,
                    "readers_count": 102,
                    "score": 75.6,
                    "yours": false,
                    "topic_id": 406189,
                    "topic_slug": "units-for-spark-max-neo-encoder-and-state-space-control-kalman-filter-correction",
                    "display_username": "Tyler Veness",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 2,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "link_counts": [
                        {
                            "url": "https://www.digikey.com/en/products/detail/cui-devices/AMT103-V/827016",
                            "internal": false,
                            "reflection": false,
                            "clicks": 3
                        }
                    ],
                    "read": true,
                    "user_title": "",
                    "bookmarked": false,
                    "actions_summary": [],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 16846,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "user_custom_fields": {
                        "user_field_4": "WPILib controls | Choreo optimizer backend"
                    },
                    "post_url": "/t/units-for-spark-max-neo-encoder-and-state-space-control-kalman-filter-correction/406189/11",
                    "custom_user_title": "WPILib controls | Choreo optimizer backend",
                    "reactions": [],
                    "current_user_reaction": null,
                    "reaction_users_count": 0,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": true
                },
                {
                    "id": 3026997,
                    "name": "Rod",
                    "username": "Weldingrod1",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/weldingrod1/{size}/162109_2.png",
                    "created_at": "2022-03-21T14:37:21.627Z",
                    "cooked": "I suggest doing your encoder conversions in your code, not on the SparkMax.  That way you can actually see what you are doing and comment it.  Our programmer found that the internal conversion was broken.  Your mileage may vary on that!!!  I can‚Äôt claim direct knowledge or even certainty there‚Ä¶",
                    "post_number": 12,
                    "post_type": 1,
                    "posts_count": 21,
                    "updated_at": "2022-03-21T14:37:21.627Z",
                    "reply_count": 0,
                    "reply_to_post_number": null,
                    "quote_count": 0,
                    "incoming_link_count": 1,
                    "reads": 87,
                    "readers_count": 86,
                    "score": 22.4,
                    "yours": false,
                    "topic_id": 406189,
                    "topic_slug": "units-for-spark-max-neo-encoder-and-state-space-control-kalman-filter-correction",
                    "display_username": "Rod",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 1,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "read": true,
                    "user_title": "",
                    "bookmarked": false,
                    "actions_summary": [],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 46443,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "user_custom_fields": {
                        "user_field_4": "Mentor"
                    },
                    "post_url": "/t/units-for-spark-max-neo-encoder-and-state-space-control-kalman-filter-correction/406189/12",
                    "custom_user_title": "Mentor",
                    "reactions": [],
                    "current_user_reaction": null,
                    "reaction_users_count": 0,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": true
                },
                {
                    "id": 3027065,
                    "name": "",
                    "username": "FRC6302",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/frc6302/{size}/165591_2.png",
                    "created_at": "2022-03-21T16:13:16.459Z",
                    "cooked": "calcmogul:\n\nit made things more deterministic and less noisy\n\nHow does this work? Would the effects be that different than just recording the time that I sampled the encoder at?\n\ncalcmogul:\n\na 4-tap moving average sampled every 5 ms has (4 - 1) / 2 * 5 ms = 7.5 ms of measurement delay\n\nDo I just use TimedRobot ‚Äôs addPeriodic() method to sample every 5 ms? I am using command-based if that matters",
                    "post_number": 13,
                    "post_type": 1,
                    "posts_count": 21,
                    "updated_at": "2022-03-21T16:13:16.459Z",
                    "reply_count": 1,
                    "reply_to_post_number": 11,
                    "quote_count": 1,
                    "incoming_link_count": 3,
                    "reads": 81,
                    "readers_count": 80,
                    "score": 36.2,
                    "yours": false,
                    "topic_id": 406189,
                    "topic_slug": "units-for-spark-max-neo-encoder-and-state-space-control-kalman-filter-correction",
                    "display_username": "",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 1,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "read": true,
                    "user_title": "",
                    "bookmarked": false,
                    "actions_summary": [],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 48779,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "user_custom_fields": {
                        "user_field_4": "Sam - Programming Lead"
                    },
                    "post_url": "/t/units-for-spark-max-neo-encoder-and-state-space-control-kalman-filter-correction/406189/13",
                    "custom_user_title": "Sam - Programming Lead",
                    "reactions": [],
                    "current_user_reaction": null,
                    "reaction_users_count": 0,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": true
                },
                {
                    "id": 3027067,
                    "name": "Tyler Veness",
                    "username": "calcmogul",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/calcmogul/{size}/128045_2.png",
                    "created_at": "2022-03-21T16:15:03.990Z",
                    "cooked": "FRC6302:\n\nHow does this work? Would the effects be that different than just recording the time that I sampled the encoder at?\n\nWe saw way more noise even though we were sampling the time. My theory is the OS was interrupting the robot program between when the encoder was sampled and when the time was sampled, so they didn‚Äôt match up. When the thread is RT, it won‚Äôt get preempted until it decides to stop running, or a higher priority thread becomes ready to run.\n\nFRC6302:\n\nDo I just use TimedRobot ‚Äôs addPeriodic() method to sample every 5 ms?\n\nYea, that‚Äôs the easiest way to do it that doesn‚Äôt require multithreading. Java can‚Äôt hit 5 ms timing though like C++ can. Maybe 10 ms.",
                    "post_number": 14,
                    "post_type": 1,
                    "posts_count": 21,
                    "updated_at": "2022-03-21T16:16:41.841Z",
                    "reply_count": 1,
                    "reply_to_post_number": 13,
                    "quote_count": 1,
                    "incoming_link_count": 1,
                    "reads": 73,
                    "readers_count": 72,
                    "score": 24.6,
                    "yours": false,
                    "topic_id": 406189,
                    "topic_slug": "units-for-spark-max-neo-encoder-and-state-space-control-kalman-filter-correction",
                    "display_username": "Tyler Veness",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 1,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "read": true,
                    "user_title": "",
                    "bookmarked": false,
                    "actions_summary": [],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 16846,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "user_custom_fields": {
                        "user_field_4": "WPILib controls | Choreo optimizer backend"
                    },
                    "post_url": "/t/units-for-spark-max-neo-encoder-and-state-space-control-kalman-filter-correction/406189/14",
                    "custom_user_title": "WPILib controls | Choreo optimizer backend",
                    "reactions": [],
                    "current_user_reaction": null,
                    "reaction_users_count": 0,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": true
                },
                {
                    "id": 3027070,
                    "name": "",
                    "username": "FRC6302",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/frc6302/{size}/165591_2.png",
                    "created_at": "2022-03-21T16:17:00.824Z",
                    "cooked": "calcmogul:\n\nWe saw way more noise even though we were doing that. My theory is the OS was interrupting the robot program between when the encoder was sampled and when the time was sampled, so they didn‚Äôt match up.\n\nDang. Can you point me in the direction of a guide to make the thread real-time? Or some example code? Is it just using Notifier ? Thanks",
                    "post_number": 15,
                    "post_type": 1,
                    "posts_count": 21,
                    "updated_at": "2022-03-21T16:17:49.395Z",
                    "reply_count": 1,
                    "reply_to_post_number": 14,
                    "quote_count": 1,
                    "incoming_link_count": 2,
                    "reads": 75,
                    "readers_count": 74,
                    "score": 30.0,
                    "yours": false,
                    "topic_id": 406189,
                    "topic_slug": "units-for-spark-max-neo-encoder-and-state-space-control-kalman-filter-correction",
                    "display_username": "",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 1,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "read": true,
                    "user_title": "",
                    "bookmarked": false,
                    "actions_summary": [],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 48779,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "user_custom_fields": {
                        "user_field_4": "Sam - Programming Lead"
                    },
                    "post_url": "/t/units-for-spark-max-neo-encoder-and-state-space-control-kalman-filter-correction/406189/15",
                    "custom_user_title": "Sam - Programming Lead",
                    "reactions": [],
                    "current_user_reaction": null,
                    "reaction_users_count": 0,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": true
                },
                {
                    "id": 3027073,
                    "name": "Tyler Veness",
                    "username": "calcmogul",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/calcmogul/{size}/128045_2.png",
                    "created_at": "2022-03-21T16:22:19.743Z",
                    "cooked": "FRC6302:\n\nCan you point me in the direction of a guide to make the thread real-time? Or some example code? Is it just using Notifier ?\n\nYou can use https://first.wpi.edu/wpilib/allwpilib/docs/release/java/edu/wpi/first/wpilibj/Threads.html#setCurrentThreadPriority(boolean,int) to make the main robot thread real-time. Be very careful though. If you write indefinitely blocking code on accident, your roboRIO will lock up and you‚Äôll have to boot into safe mode to delete the robot binary.\n\nTry to fix your mechanical problems in hardware before resorting to fancy software. 3512 had to use software because the pandemic severely limited their production capacity, so prototyping a shooter that was easier to control wasn‚Äôt an option.\n\nFRC6302:\n\nIs it just using Notifier ?\n\nNo, it‚Äôs not using Notifier. 3512 did cooperative multitasking on the one main robot thread using https://first.wpi.edu/wpilib/allwpilib/docs/release/java/edu/wpi/first/wpilibj/TimesliceRobot.html (well, the prototype version that eventually became WPILib‚Äôs TimesliceRobot). It‚Äôs a convenience class built on top of TimedRobot.addPeriodic().",
                    "post_number": 16,
                    "post_type": 1,
                    "posts_count": 21,
                    "updated_at": "2022-03-21T16:26:20.332Z",
                    "reply_count": 1,
                    "reply_to_post_number": 15,
                    "quote_count": 1,
                    "incoming_link_count": 2,
                    "reads": 75,
                    "readers_count": 74,
                    "score": 45.0,
                    "yours": false,
                    "topic_id": 406189,
                    "topic_slug": "units-for-spark-max-neo-encoder-and-state-space-control-kalman-filter-correction",
                    "display_username": "Tyler Veness",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 1,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "link_counts": [
                        {
                            "url": "https://first.wpi.edu/wpilib/allwpilib/docs/release/java/edu/wpi/first/wpilibj/Threads.html#setCurrentThreadPriority(boolean,int)",
                            "internal": false,
                            "reflection": false,
                            "title": "Threads (WPILib API 2022.4.1)",
                            "clicks": 5
                        },
                        {
                            "url": "https://first.wpi.edu/wpilib/allwpilib/docs/release/java/edu/wpi/first/wpilibj/TimesliceRobot.html",
                            "internal": false,
                            "reflection": false,
                            "title": "TimesliceRobot (WPILib API 2022.4.1)",
                            "clicks": 4
                        }
                    ],
                    "read": true,
                    "user_title": "",
                    "bookmarked": false,
                    "actions_summary": [
                        {
                            "id": 2,
                            "count": 1
                        }
                    ],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 16846,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "user_custom_fields": {
                        "user_field_4": "WPILib controls | Choreo optimizer backend"
                    },
                    "post_url": "/t/units-for-spark-max-neo-encoder-and-state-space-control-kalman-filter-correction/406189/16",
                    "custom_user_title": "WPILib controls | Choreo optimizer backend",
                    "reactions": [
                        {
                            "id": "heart",
                            "type": "emoji",
                            "count": 1
                        }
                    ],
                    "current_user_reaction": null,
                    "reaction_users_count": 1,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": true
                },
                {
                    "id": 3027340,
                    "name": "",
                    "username": "FRC6302",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/frc6302/{size}/165591_2.png",
                    "created_at": "2022-03-21T20:18:33.028Z",
                    "cooked": "calcmogul:\n\nTry to fix your mechanical problems in hardware before resorting to fancy software. 3512 had to use software because the pandemic severely limited their production capacity, so prototyping a shooter that was easier to control wasn‚Äôt an option.\n\nCould you elaborate on a shooter that‚Äôs ‚Äúeasier to control‚Äù?\n\nI think our shooter design is decent, I‚Äôm just trying to get away with using the neo internal encoder for the flywheels so that we don‚Äôt have to wire external encoders all the way to our turret",
                    "post_number": 17,
                    "post_type": 1,
                    "posts_count": 21,
                    "updated_at": "2022-03-21T20:18:33.028Z",
                    "reply_count": 1,
                    "reply_to_post_number": 16,
                    "quote_count": 1,
                    "incoming_link_count": 2,
                    "reads": 65,
                    "readers_count": 64,
                    "score": 28.0,
                    "yours": false,
                    "topic_id": 406189,
                    "topic_slug": "units-for-spark-max-neo-encoder-and-state-space-control-kalman-filter-correction",
                    "display_username": "",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 1,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "read": true,
                    "user_title": "",
                    "bookmarked": false,
                    "actions_summary": [],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 48779,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "user_custom_fields": {
                        "user_field_4": "Sam - Programming Lead"
                    },
                    "post_url": "/t/units-for-spark-max-neo-encoder-and-state-space-control-kalman-filter-correction/406189/17",
                    "custom_user_title": "Sam - Programming Lead",
                    "reactions": [],
                    "current_user_reaction": null,
                    "reaction_users_count": 0,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": true
                },
                {
                    "id": 3027395,
                    "name": "Tyler Veness",
                    "username": "calcmogul",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/calcmogul/{size}/128045_2.png",
                    "created_at": "2022-03-21T21:43:46.938Z",
                    "cooked": "FRC6302:\n\nCould you elaborate on a shooter that‚Äôs ‚Äúeasier to control‚Äù?\n\nOne with more mass will accelerate slower, which means measurement latency will affect it less, and the sample rate can be lower.",
                    "post_number": 18,
                    "post_type": 1,
                    "posts_count": 21,
                    "updated_at": "2022-03-21T21:43:46.938Z",
                    "reply_count": 1,
                    "reply_to_post_number": 17,
                    "quote_count": 1,
                    "incoming_link_count": 6,
                    "reads": 59,
                    "readers_count": 58,
                    "score": 46.8,
                    "yours": false,
                    "topic_id": 406189,
                    "topic_slug": "units-for-spark-max-neo-encoder-and-state-space-control-kalman-filter-correction",
                    "display_username": "Tyler Veness",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 1,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "read": true,
                    "user_title": "",
                    "bookmarked": false,
                    "actions_summary": [],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 16846,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "user_custom_fields": {
                        "user_field_4": "WPILib controls | Choreo optimizer backend"
                    },
                    "post_url": "/t/units-for-spark-max-neo-encoder-and-state-space-control-kalman-filter-correction/406189/18",
                    "custom_user_title": "WPILib controls | Choreo optimizer backend",
                    "reactions": [],
                    "current_user_reaction": null,
                    "reaction_users_count": 0,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": true
                },
                {
                    "id": 3027400,
                    "name": "",
                    "username": "FRC6302",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/frc6302/{size}/165591_2.png",
                    "created_at": "2022-03-21T21:53:47.852Z",
                    "cooked": "Yeah I figured. We wanted to have a low moment of inertia on our shooter so that we could change speed really fast to spit out the other teams ball relatively slowly.\n\nSorry for all the questions, but do you think I would get decent results with just the 4-tap moving average sampled every 10 ms and then fed into the state space flywheel, without having to do all the complicated thread stuff?",
                    "post_number": 19,
                    "post_type": 1,
                    "posts_count": 21,
                    "updated_at": "2022-03-21T21:54:12.748Z",
                    "reply_count": 1,
                    "reply_to_post_number": 18,
                    "quote_count": 0,
                    "incoming_link_count": 1,
                    "reads": 56,
                    "readers_count": 55,
                    "score": 21.2,
                    "yours": false,
                    "topic_id": 406189,
                    "topic_slug": "units-for-spark-max-neo-encoder-and-state-space-control-kalman-filter-correction",
                    "display_username": "",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 1,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "read": true,
                    "user_title": "",
                    "reply_to_user": {
                        "id": 16846,
                        "username": "calcmogul",
                        "name": "Tyler Veness",
                        "avatar_template": "/user_avatar/www.chiefdelphi.com/calcmogul/{size}/128045_2.png"
                    },
                    "bookmarked": false,
                    "actions_summary": [],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 48779,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "user_custom_fields": {
                        "user_field_4": "Sam - Programming Lead"
                    },
                    "post_url": "/t/units-for-spark-max-neo-encoder-and-state-space-control-kalman-filter-correction/406189/19",
                    "custom_user_title": "Sam - Programming Lead",
                    "reactions": [],
                    "current_user_reaction": null,
                    "reaction_users_count": 0,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": true
                },
                {
                    "id": 3027405,
                    "name": "Tyler Veness",
                    "username": "calcmogul",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/calcmogul/{size}/128045_2.png",
                    "created_at": "2022-03-21T21:56:32.700Z",
                    "cooked": "FRC6302:\n\nSorry for all the questions, but do you think I would get decent results with just the 4-tap moving average sampled every 10 ms and then fed into the state space flywheel, without having to do all the complicated thread stuff?\n\nI don‚Äôt know. It depends on your particular robot.",
                    "post_number": 20,
                    "post_type": 1,
                    "posts_count": 21,
                    "updated_at": "2022-03-21T21:56:32.700Z",
                    "reply_count": 0,
                    "reply_to_post_number": 19,
                    "quote_count": 1,
                    "incoming_link_count": 2,
                    "reads": 54,
                    "readers_count": 53,
                    "score": 20.8,
                    "yours": false,
                    "topic_id": 406189,
                    "topic_slug": "units-for-spark-max-neo-encoder-and-state-space-control-kalman-filter-correction",
                    "display_username": "Tyler Veness",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 1,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "read": true,
                    "user_title": "",
                    "bookmarked": false,
                    "actions_summary": [],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 16846,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "user_custom_fields": {
                        "user_field_4": "WPILib controls | Choreo optimizer backend"
                    },
                    "post_url": "/t/units-for-spark-max-neo-encoder-and-state-space-control-kalman-filter-correction/406189/20",
                    "custom_user_title": "WPILib controls | Choreo optimizer backend",
                    "reactions": [],
                    "current_user_reaction": null,
                    "reaction_users_count": 0,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": true
                }
            ],
            "stream": [
                3026001,
                3026123,
                3026321,
                3026326,
                3026331,
                3026335,
                3026336,
                3026339,
                3026343,
                3026352,
                3026519,
                3026997,
                3027065,
                3027067,
                3027070,
                3027073,
                3027340,
                3027395,
                3027400,
                3027405,
                3169828
            ]
        },
        "timeline_lookup": [
            [
                1,
                1302
            ],
            [
                3,
                1301
            ],
            [
                17,
                1300
            ],
            [
                21,
                935
            ]
        ],
        "tags": [
            "java",
            "wpilib",
            "sparkmax",
            "encoder",
            "neo",
            "revrobotics",
            "neomotor",
            "kalmanfilters",
            "statespace",
            "unitsofmeasure"
        ],
        "tags_descriptions": {},
        "fancy_title": "Units for Spark MAX + NEO encoder and state-space control Kalman filter correction",
        "id": 406189,
        "title": "Units for Spark MAX + NEO encoder and state-space control Kalman filter correction",
        "posts_count": 21,
        "created_at": "2022-03-20T03:33:52.810Z",
        "views": 2313,
        "reply_count": 17,
        "like_count": 4,
        "last_posted_at": "2023-03-21T21:57:28.077Z",
        "visible": true,
        "closed": true,
        "archived": false,
        "has_summary": false,
        "archetype": "regular",
        "slug": "units-for-spark-max-neo-encoder-and-state-space-control-kalman-filter-correction",
        "category_id": 30,
        "word_count": 1948,
        "deleted_at": null,
        "user_id": 45273,
        "featured_link": null,
        "pinned_globally": false,
        "pinned_at": null,
        "pinned_until": null,
        "image_url": null,
        "slow_mode_seconds": 0,
        "draft": null,
        "draft_key": "topic_406189",
        "draft_sequence": null,
        "unpinned": null,
        "pinned": false,
        "current_post_number": 1,
        "highest_post_number": 21,
        "deleted_by": null,
        "actions_summary": [
            {
                "id": 4,
                "count": 0,
                "hidden": false,
                "can_act": false
            },
            {
                "id": 8,
                "count": 0,
                "hidden": false,
                "can_act": false
            },
            {
                "id": 10,
                "count": 0,
                "hidden": false,
                "can_act": false
            },
            {
                "id": 7,
                "count": 0,
                "hidden": false,
                "can_act": false
            }
        ],
        "chunk_size": 20,
        "bookmarked": false,
        "topic_timer": null,
        "message_bus_last_id": 0,
        "participant_count": 5,
        "show_read_indicator": false,
        "thumbnails": null,
        "slow_mode_enabled_until": null,
        "valid_reactions": [
            "heart",
            "laughing",
            "point_up",
            "+1",
            "-1",
            "100",
            "open_mouth",
            "cry",
            "question",
            "thinking",
            "call_me_hand",
            "hugs",
            "angry"
        ],
        "accepted_answer": {
            "post_number": 2,
            "username": "ExploitSage",
            "name": null,
            "excerpt": "According to REV‚Äôs Java API Docs, The RelativeEncoder class returns RPM, Revolutions per Minute, by default for getVelocity() , but you can supply a conversion factor to modify the \n<a href=\"https://codedocs.revrobotics.com/java/com/revrobotics/relativeencoder#getVelocity()\" class=\"onebox\" target=\"_blank\" rel=\"noopener nofollow ugc\">https://codedocs.revrobotics.com/java/com/revrobotics/relativeencoder#getVelocity()</a> \nI‚Äôm not super familiar with all t&hellip;",
            "accepter_name": null
        },
        "user_chosen_thumbnail_url": null,
        "sidecar_installed": true,
        "can_vote": false,
        "vote_count": 0,
        "user_voted": false,
        "discourse_zendesk_plugin_zendesk_id": null,
        "discourse_zendesk_plugin_zendesk_url": "https://your-url.zendesk.com/agent/tickets/",
        "details": {
            "can_edit": false,
            "notification_level": 1,
            "participants": [
                {
                    "id": 16846,
                    "username": "calcmogul",
                    "name": "Tyler Veness",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/calcmogul/{size}/128045_2.png",
                    "post_count": 8,
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_color": null,
                    "flair_bg_color": null,
                    "flair_group_id": null,
                    "trust_level": 2
                },
                {
                    "id": 48779,
                    "username": "FRC6302",
                    "name": "",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/frc6302/{size}/165591_2.png",
                    "post_count": 8,
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_color": null,
                    "flair_bg_color": null,
                    "flair_group_id": null,
                    "trust_level": 2
                },
                {
                    "id": 45273,
                    "username": "BobSaidHi",
                    "name": "",
                    "avatar_template": "/letter_avatar_proxy/v4/letter/b/ac91a4/{size}.png",
                    "post_count": 2,
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_color": null,
                    "flair_bg_color": null,
                    "flair_group_id": null,
                    "trust_level": 1
                },
                {
                    "id": 16897,
                    "username": "ExploitSage",
                    "name": "Mykah",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/exploitsage/{size}/179189_2.png",
                    "post_count": 1,
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_color": null,
                    "flair_bg_color": null,
                    "flair_group_id": null,
                    "trust_level": 2
                },
                {
                    "id": 46443,
                    "username": "Weldingrod1",
                    "name": "Rod",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/weldingrod1/{size}/162109_2.png",
                    "post_count": 1,
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_color": null,
                    "flair_bg_color": null,
                    "flair_group_id": null,
                    "trust_level": 2
                }
            ],
            "created_by": {
                "id": 45273,
                "username": "BobSaidHi",
                "name": "",
                "avatar_template": "/letter_avatar_proxy/v4/letter/b/ac91a4/{size}.png"
            },
            "last_poster": {
                "id": -1,
                "username": "system",
                "name": "system",
                "avatar_template": "/uploads/default/original/4X/9/3/2/93234578e69f55873c63fc00fe2d0d85f23bce55.png"
            },
            "links": [
                {
                    "url": "https://github.com/wpilibsuite/allwpilib/blob/3b283ab9aaf9d23d7870b9c3723d03760a0bd378/wpilibjExamples/src/main/java/edu/wpi/first/wpilibj/examples/statespaceflywheel/Robot.java",
                    "title": null,
                    "internal": false,
                    "attachment": false,
                    "reflection": false,
                    "clicks": 33,
                    "user_id": 16897,
                    "domain": "github.com",
                    "root_domain": "github.com"
                },
                {
                    "url": "https://codedocs.revrobotics.com/java/com/revrobotics/relativeencoder#getVelocity()",
                    "title": "RelativeEncoder (FRC-REVLib API)",
                    "internal": false,
                    "attachment": false,
                    "reflection": false,
                    "clicks": 32,
                    "user_id": 16897,
                    "domain": "codedocs.revrobotics.com",
                    "root_domain": "revrobotics.com"
                },
                {
                    "url": "https://first.wpi.edu/wpilib/allwpilib/docs/release/java/edu/wpi/first/math/util/Units.html",
                    "title": "Units (WPILib API 2022.4.1)",
                    "internal": false,
                    "attachment": false,
                    "reflection": false,
                    "clicks": 28,
                    "user_id": 45273,
                    "domain": "first.wpi.edu",
                    "root_domain": "wpi.edu"
                },
                {
                    "url": "https://docs.wpilib.org/en/stable/docs/software/advanced-controls/state-space/state-space-flywheel-walkthrough.html",
                    "title": "State-Space Controller Walkthrough ‚Äî FIRST Robotics Competition documentation",
                    "internal": false,
                    "attachment": false,
                    "reflection": false,
                    "clicks": 23,
                    "user_id": 45273,
                    "domain": "docs.wpilib.org",
                    "root_domain": "wpilib.org"
                },
                {
                    "url": "https://www.convertunits.com/from/revolution+per+minute/to/radian+per+second",
                    "title": "Convert revolution per minute to radian per second - Conversion of Measurement Units",
                    "internal": false,
                    "attachment": false,
                    "reflection": false,
                    "clicks": 12,
                    "user_id": 16897,
                    "domain": "www.convertunits.com",
                    "root_domain": "convertunits.com"
                },
                {
                    "url": "https://first.wpi.edu/wpilib/allwpilib/docs/release/java/edu/wpi/first/wpilibj/Threads.html#setCurrentThreadPriority(boolean,int)",
                    "title": "Threads (WPILib API 2022.4.1)",
                    "internal": false,
                    "attachment": false,
                    "reflection": false,
                    "clicks": 5,
                    "user_id": 16846,
                    "domain": "first.wpi.edu",
                    "root_domain": "wpi.edu"
                },
                {
                    "url": "https://www.chiefdelphi.com/t/pid-tuning-for-cansparkmax/405020/21",
                    "title": "PID Tuning for CANSparkMax",
                    "internal": true,
                    "attachment": false,
                    "reflection": true,
                    "clicks": 5,
                    "user_id": 48779,
                    "domain": "www.chiefdelphi.com",
                    "root_domain": "chiefdelphi.com"
                },
                {
                    "url": "https://github.com/frc6506/FRC-Code-2022/blob/32b0da2f362e01ca79ee73310276afd55bb94ab5/src/main/java/frc/robot/subsystems/Outtake.java#L121",
                    "title": null,
                    "internal": false,
                    "attachment": false,
                    "reflection": false,
                    "clicks": 4,
                    "user_id": 45273,
                    "domain": "github.com",
                    "root_domain": "github.com"
                },
                {
                    "url": "https://first.wpi.edu/wpilib/allwpilib/docs/release/java/edu/wpi/first/wpilibj/TimesliceRobot.html",
                    "title": "TimesliceRobot (WPILib API 2022.4.1)",
                    "internal": false,
                    "attachment": false,
                    "reflection": false,
                    "clicks": 4,
                    "user_id": 16846,
                    "domain": "first.wpi.edu",
                    "root_domain": "wpi.edu"
                },
                {
                    "url": "https://www.digikey.com/en/products/detail/cui-devices/AMT103-V/827016",
                    "title": null,
                    "internal": false,
                    "attachment": false,
                    "reflection": false,
                    "clicks": 3,
                    "user_id": 16846,
                    "domain": "www.digikey.com",
                    "root_domain": "digikey.com"
                }
            ]
        },
        "bookmarks": []
    }
}