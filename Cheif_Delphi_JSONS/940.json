{
    "data": {
        "post_stream": {
            "posts": [
                {
                    "id": 3570093,
                    "name": "Ed Peters",
                    "username": "epeters1111",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/epeters1111/{size}/182731_2.png",
                    "created_at": "2025-03-27T15:10:20.851Z",
                    "cooked": "My team has been learning more this year about CommandScheduler and the interplay initialize and execute methods. We suspect (without being 100% convinced) that we have had some “off by one” errors where a command’s execute method runs for one cycle more or less than it should.\n\nOur current approach is:\n\nInitialize is limited to setting up fields of the Command itself (reading current state, resetting timers, etc.); no commands to motors\n\nExecute “does the thing”: it computes new state for motors based on current sensor values and tells the subsystem what it should be\n\nEnd will put the relevant subsystem(s) in a safe state telling an elevator/arm to hold still where it’s landed, etc.\n\nPeriodic methods on subsystems take the state derived by commands and actually apply it to the motors\n\nSo, for example with our drive - an auto-navigation command would have:\n\nCommand.initialize - calculate target pose and start a timer running\n\nCommand.execute - calculate next chassis speeds and send to drive subsystem\n\nCommand.end - tell drive to stop\n\nSubsystem.periodic - convert chassis speeds to module states and apply motor updates\n\nDoes this seem reasonable? Is there any good guidance on what kinds of activity should be embedded in a Command’s initialize/execute/end methods, versus the subsystem’s periodic method?",
                    "post_number": 1,
                    "post_type": 1,
                    "posts_count": 21,
                    "updated_at": "2025-03-27T15:10:20.851Z",
                    "reply_count": 0,
                    "reply_to_post_number": null,
                    "quote_count": 0,
                    "incoming_link_count": 9,
                    "reads": 356,
                    "readers_count": 355,
                    "score": 116.2,
                    "yours": false,
                    "topic_id": 497126,
                    "topic_slug": "command-vs-subsystem-split",
                    "display_username": "Ed Peters",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 1,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "read": true,
                    "user_title": null,
                    "bookmarked": false,
                    "actions_summary": [],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 56650,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "user_custom_fields": {
                        "user_field_4": ""
                    },
                    "post_url": "/t/command-vs-subsystem-split/497126/1",
                    "reactions": [],
                    "current_user_reaction": null,
                    "reaction_users_count": 0,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": null
                },
                {
                    "id": 3570104,
                    "name": "Elijah Beard",
                    "username": "ebear11",
                    "avatar_template": "/letter_avatar_proxy/v4/letter/e/439d5e/{size}.png",
                    "created_at": "2025-03-27T15:15:03.734Z",
                    "cooked": "Ideally, you only want things like updating dashboard values in a subsystem’s periodic loop. At least, this is the approach our team has used. There are some exceptions we have made, but those are more of a “we ran out of time and need a fast way to do X” rather than a “Good Way to do X.”",
                    "post_number": 2,
                    "post_type": 1,
                    "posts_count": 21,
                    "updated_at": "2025-03-27T15:15:03.734Z",
                    "reply_count": 2,
                    "reply_to_post_number": null,
                    "quote_count": 0,
                    "incoming_link_count": 0,
                    "reads": 306,
                    "readers_count": 305,
                    "score": 146.2,
                    "yours": false,
                    "topic_id": 497126,
                    "topic_slug": "command-vs-subsystem-split",
                    "display_username": "Elijah Beard",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 1,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "read": true,
                    "user_title": null,
                    "bookmarked": false,
                    "actions_summary": [
                        {
                            "id": 2,
                            "count": 3
                        }
                    ],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 56380,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "user_custom_fields": {
                        "user_field_4": "5402 Programming M̶e̶n̶t̶o̶r̶ Advisor"
                    },
                    "post_url": "/t/command-vs-subsystem-split/497126/2",
                    "reactions": [
                        {
                            "id": "heart",
                            "type": "emoji",
                            "count": 3
                        }
                    ],
                    "current_user_reaction": null,
                    "reaction_users_count": 3,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": null
                },
                {
                    "id": 3570110,
                    "name": "Ed Peters",
                    "username": "epeters1111",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/epeters1111/{size}/182731_2.png",
                    "created_at": "2025-03-27T15:19:10.157Z",
                    "cooked": "you only want things like updating dashboard values in a subsystem’s periodic loop\n\nThis is what we’re realizing this year, and will have to change for next year. We went with the current approach when we ran into motor controller timeouts because we weren’t sending updates each frame. But we’re realizing it was a little misguided.",
                    "post_number": 3,
                    "post_type": 1,
                    "posts_count": 21,
                    "updated_at": "2025-03-27T15:20:23.618Z",
                    "reply_count": 0,
                    "reply_to_post_number": 2,
                    "quote_count": 0,
                    "incoming_link_count": 1,
                    "reads": 287,
                    "readers_count": 286,
                    "score": 62.4,
                    "yours": false,
                    "topic_id": 497126,
                    "topic_slug": "command-vs-subsystem-split",
                    "display_username": "Ed Peters",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 1,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "read": true,
                    "user_title": null,
                    "reply_to_user": {
                        "id": 56380,
                        "username": "ebear11",
                        "name": "Elijah Beard",
                        "avatar_template": "/letter_avatar_proxy/v4/letter/e/439d5e/{size}.png"
                    },
                    "bookmarked": false,
                    "actions_summary": [],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 56650,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "user_custom_fields": {
                        "user_field_4": ""
                    },
                    "post_url": "/t/command-vs-subsystem-split/497126/3",
                    "reactions": [],
                    "current_user_reaction": null,
                    "reaction_users_count": 0,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": null
                },
                {
                    "id": 3570238,
                    "name": "Paul Rensing",
                    "username": "prensing",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/prensing/{size}/65820_2.png",
                    "created_at": "2025-03-27T17:23:26.242Z",
                    "cooked": "I am sorry, but “only want updating dashboard in periodic” is a design choice.\n\nIt is not incorrect to use periodic() to implement (for instance) a state machine which handles the motors etc, and only have commands which set the desired state of the subsystem. Both can work fine, and they have their strengths and weaknesses.  You do need to be consistent with a subsystem and the commands which touch it, but different subsystems can be programmed differently (as long as the people can remember the details .",
                    "post_number": 4,
                    "post_type": 1,
                    "posts_count": 21,
                    "updated_at": "2025-03-27T17:23:26.242Z",
                    "reply_count": 2,
                    "reply_to_post_number": null,
                    "quote_count": 0,
                    "incoming_link_count": 0,
                    "reads": 245,
                    "readers_count": 244,
                    "score": 179.0,
                    "yours": false,
                    "topic_id": 497126,
                    "topic_slug": "command-vs-subsystem-split",
                    "display_username": "Paul Rensing",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 1,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "read": true,
                    "user_title": "",
                    "bookmarked": false,
                    "actions_summary": [
                        {
                            "id": 2,
                            "count": 8
                        }
                    ],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 25118,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "user_custom_fields": {
                        "user_field_4": "FRC 2877 LigerBots Mentor"
                    },
                    "post_url": "/t/command-vs-subsystem-split/497126/4",
                    "reactions": [
                        {
                            "id": "heart",
                            "type": "emoji",
                            "count": 8
                        }
                    ],
                    "current_user_reaction": null,
                    "reaction_users_count": 8,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": null
                },
                {
                    "id": 3570243,
                    "name": "Alex",
                    "username": "legoguy1000",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/legoguy1000/{size}/256261_2.png",
                    "created_at": "2025-03-27T17:28:32.482Z",
                    "cooked": "You’re also missing the isFinished method to check if the command should end. Also u have to remember that if ur calling a command via button/trigger, it will not cancel th command until the next loop when it polls and sees that the button was let go, so its definitely possible that it runs an the execute once after u let go just based off timing.",
                    "post_number": 5,
                    "post_type": 1,
                    "posts_count": 21,
                    "updated_at": "2025-03-27T17:28:32.482Z",
                    "reply_count": 1,
                    "reply_to_post_number": null,
                    "quote_count": 0,
                    "incoming_link_count": 0,
                    "reads": 223,
                    "readers_count": 222,
                    "score": 49.6,
                    "yours": false,
                    "topic_id": 497126,
                    "topic_slug": "command-vs-subsystem-split",
                    "display_username": "Alex",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 1,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "read": true,
                    "user_title": "",
                    "bookmarked": false,
                    "actions_summary": [],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 28614,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "user_custom_fields": {
                        "user_field_4": "Mentor & Alumnus"
                    },
                    "post_url": "/t/command-vs-subsystem-split/497126/5",
                    "reactions": [],
                    "current_user_reaction": null,
                    "reaction_users_count": 0,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": null
                },
                {
                    "id": 3570394,
                    "name": "Eli Barnett",
                    "username": "Oblarg",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/oblarg/{size}/161674_2.png",
                    "created_at": "2025-03-27T18:56:16.853Z",
                    "cooked": "Command-based best practices for 2025: community feedback Programming",
                    "post_number": 6,
                    "post_type": 1,
                    "posts_count": 21,
                    "updated_at": "2025-03-27T18:56:16.853Z",
                    "reply_count": 0,
                    "reply_to_post_number": 5,
                    "quote_count": 0,
                    "incoming_link_count": 2,
                    "reads": 199,
                    "readers_count": 198,
                    "score": 79.8,
                    "yours": false,
                    "topic_id": 497126,
                    "topic_slug": "command-vs-subsystem-split",
                    "display_username": "Eli Barnett",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 1,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "link_counts": [
                        {
                            "url": "https://www.chiefdelphi.com/t/command-based-best-practices-for-2025-community-feedback/465602",
                            "internal": true,
                            "reflection": false,
                            "title": "Command-based best practices for 2025: community feedback",
                            "clicks": 0
                        }
                    ],
                    "read": true,
                    "user_title": "",
                    "reply_to_user": {
                        "id": 28614,
                        "username": "legoguy1000",
                        "name": "Alex",
                        "avatar_template": "/user_avatar/www.chiefdelphi.com/legoguy1000/{size}/256261_2.png"
                    },
                    "bookmarked": false,
                    "actions_summary": [
                        {
                            "id": 2,
                            "count": 2
                        }
                    ],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 12381,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "user_custom_fields": {
                        "user_field_4": "Robot apartments! invisible suburbs! skeleton treasuries!"
                    },
                    "post_url": "/t/command-vs-subsystem-split/497126/6",
                    "reactions": [
                        {
                            "id": "heart",
                            "type": "emoji",
                            "count": 2
                        }
                    ],
                    "current_user_reaction": null,
                    "reaction_users_count": 2,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": null
                },
                {
                    "id": 3570529,
                    "name": "Max Morehead",
                    "username": "Max_Morehead",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/max_morehead/{size}/231937_2.png",
                    "created_at": "2025-03-27T20:58:55.003Z",
                    "cooked": "The CommandScheduler( Java, C++) is the class responsible for actually running commands. Each iteration (ordinarily once per 20ms), the scheduler polls all registered buttons, schedules commands fo...\n\nSo the periodic will be called before execute which is called before isFinished / end . So your current architecture introduces up to 20ms lag between execute/end and periodic. So whenever you switch commands, you’ll have a small period where the motor is commanded to stop.\n\nOblarg, who wrote the command system, linked his best practices. Looking at his team (449’s) code has been useful for our team this year, though it is Kotlin. In general, I would be careful with the “commands cause a change in a internal state machine only” pattern under the current framework, though there are ways to do it that will work.\n\nThe way I think of it, the simplest way to use the Command system is for the currently running command to be the thing that tracks the desired state of the subsystem (or as I like to think about it, the goal), and the execute function in that command be responsible for calling the subsystem functions to drive the robot to that goal.\n\nFor this reason, I don’t like to use end functions, because now you’ve introduced behavior that happens on the transition between different goals, rather than the having the logic in the execute function of each command be the only thing responsible for driving the robot to its goal. Not using end functions makes logic more local IMO. Caveat: If you don’t have end methods, you do have to be be a bit careful there aren’t cases where no command is running (especially in compositions).\n\nIf you use the factory function on class pattern this can make your code very clean, modifiable, and understandable.\n\nAs robot code becomes more complicated, navigating, understanding, and maintaining the code takes up more and more time and energy. Making changes to the code often becomes more difficult, sometime...\n\nThe other big piece of advice is use triggers liberally. Triggers are great for loosely coupling different subsystems.\n\nOne other hazard that’s related here is that state machines in robots have the complexity that moving between desired end goals have lots of intermediates physical robot states in the middle. Ideally, you want to smoothly handle changing your goal while your robot in an intermediate physical state. The way we’ve handled this is to write the logic so that that the robot can reach the goal from any valid intermediate state, but that can sometimes be tricky. I’d like to figure out if there’s a better way to do this going forward.\n\nYou can look at our code if it helps. It isn’t perfect (there’ll be considerable updates hitting main in the next day and half too), but a lot of it is well-considered based on my experience mentoring software for the past three years. I think the structure has been great for managing complexity as we are doing some complex things this year, and for allowing all of our four programming students to contribute.\n\nmain\n\nContribute to missfits/Robot-Code-2025 development by creating an account on GitHub.\n\nprensing:\n\nIt is not incorrect to use periodic() to implement (for instance) a state machine which handles the motors etc, and only have commands which set the desired state of the subsystem.\n\nIn my opinion, it is suboptimal under the current framework, especially if you’re not careful. Though I’ve been thinking of ways to expand the framework to better support this pattern, and it’s possible you’ve written structure around this pattern.\n\nA quick fix that might improve OPs code: You could move all your periodic functions to “endLoopPeriodic” functions and call those manually in Robot.java.\n\nAnother problem with Op’s approach is that it won’t work correctly with default commands, because the default commands will be intialized, then the periodic function will run based on values set by the previous command’s execute, then the default command will be executed.",
                    "post_number": 7,
                    "post_type": 1,
                    "posts_count": 21,
                    "updated_at": "2025-03-28T01:01:15.405Z",
                    "reply_count": 1,
                    "reply_to_post_number": null,
                    "quote_count": 1,
                    "incoming_link_count": 1,
                    "reads": 173,
                    "readers_count": 172,
                    "score": 89.6,
                    "yours": false,
                    "topic_id": 497126,
                    "topic_slug": "command-vs-subsystem-split",
                    "display_username": "Max Morehead",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 6,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "link_counts": [
                        {
                            "url": "https://github.com/missfits/Robot-Code-2025/tree/main",
                            "internal": false,
                            "reflection": false,
                            "title": "GitHub - missfits/Robot-Code-2025",
                            "clicks": 4
                        },
                        {
                            "url": "https://docs.wpilib.org/en/stable/docs/software/commandbased/command-scheduler.html",
                            "internal": false,
                            "reflection": false,
                            "title": "The Command Scheduler — FIRST Robotics Competition documentation",
                            "clicks": 3
                        },
                        {
                            "url": "https://docs.wpilib.org/en/stable/docs/software/commandbased/organizing-command-based.html",
                            "internal": false,
                            "reflection": false,
                            "title": "Organizing Command-Based Robot Projects — FIRST Robotics Competition documentation",
                            "clicks": 3
                        }
                    ],
                    "read": true,
                    "user_title": null,
                    "bookmarked": false,
                    "actions_summary": [
                        {
                            "id": 2,
                            "count": 3
                        }
                    ],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 53784,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "user_custom_fields": {
                        "user_field_4": "Mentor"
                    },
                    "post_url": "/t/command-vs-subsystem-split/497126/7",
                    "reactions": [
                        {
                            "id": "heart",
                            "type": "emoji",
                            "count": 2
                        },
                        {
                            "id": "+1",
                            "type": "emoji",
                            "count": 1
                        }
                    ],
                    "current_user_reaction": null,
                    "reaction_users_count": 3,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": null
                },
                {
                    "id": 3570530,
                    "name": "Elijah Beard",
                    "username": "ebear11",
                    "avatar_template": "/letter_avatar_proxy/v4/letter/e/439d5e/{size}.png",
                    "created_at": "2025-03-27T21:00:12.437Z",
                    "cooked": "ebear11:\n\nAt least, this is the approach our team has used.\n\nHence why I added this. I know there are multiple ways to do one thing. We do states with periodic when we are not able to not do it that way due to time constraints or other random issues but we do not like mixing and matching, as you mentioned being consistent is more important.",
                    "post_number": 8,
                    "post_type": 1,
                    "posts_count": 21,
                    "updated_at": "2025-03-27T21:00:12.437Z",
                    "reply_count": 1,
                    "reply_to_post_number": 4,
                    "quote_count": 1,
                    "incoming_link_count": 0,
                    "reads": 120,
                    "readers_count": 119,
                    "score": 29.0,
                    "yours": false,
                    "topic_id": 497126,
                    "topic_slug": "command-vs-subsystem-split",
                    "display_username": "Elijah Beard",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 1,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "read": true,
                    "user_title": null,
                    "reply_to_user": {
                        "id": 25118,
                        "username": "prensing",
                        "name": "Paul Rensing",
                        "avatar_template": "/user_avatar/www.chiefdelphi.com/prensing/{size}/65820_2.png"
                    },
                    "bookmarked": false,
                    "actions_summary": [],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 56380,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "user_custom_fields": {
                        "user_field_4": "5402 Programming M̶e̶n̶t̶o̶r̶ Advisor"
                    },
                    "post_url": "/t/command-vs-subsystem-split/497126/8",
                    "reactions": [],
                    "current_user_reaction": null,
                    "reaction_users_count": 0,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": null
                },
                {
                    "id": 3571273,
                    "name": "Ed Peters",
                    "username": "epeters1111",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/epeters1111/{size}/182731_2.png",
                    "created_at": "2025-03-28T15:42:31.810Z",
                    "cooked": "Wow, thanks everyone for the thoughtful replies, and the links. This has been really educational for me. A couple of big takeaways for me. From @Max_Morehead :\n\nyour current architecture introduces up to 20ms lag between execute/end and periodic\n\nThis is 100% true, and something we learned very late this season. We’re not going to refactor a bunch of mostly-working code that has take us to our best-ever season performance. But we’ll definitely keep it in mind for next year.\n\nuse triggers liberally\n\nThis is getting me to think differently for sure. I’ve coded up a multi-step walkthrough of my thought process here, going through three iterations.\n\nI’m not sure I’m getting it right, though. I’m still stuck with a problem at the end, where I have a multi- Command sequence, and I want to know when it’s over. But I can’t see a clean way to create a Trigger for “do something when this specific Command instance finishes”.\n\nSee comments on the V3 version of the intake subsystem in the project, if you’re willing to dig in.\n\nVery much appreciate the conversation!",
                    "post_number": 9,
                    "post_type": 1,
                    "posts_count": 21,
                    "updated_at": "2025-03-28T15:42:31.810Z",
                    "reply_count": 2,
                    "reply_to_post_number": 8,
                    "quote_count": 0,
                    "incoming_link_count": 0,
                    "reads": 111,
                    "readers_count": 110,
                    "score": 32.2,
                    "yours": false,
                    "topic_id": 497126,
                    "topic_slug": "command-vs-subsystem-split",
                    "display_username": "Ed Peters",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 1,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "link_counts": [
                        {
                            "url": "https://github.com/ed-peters/learning-wpilib-commands/tree/main/src/main/java/frc/robot/intake",
                            "internal": false,
                            "reflection": false,
                            "title": "learning-wpilib-commands/src/main/java/frc/robot/intake at main · ed-peters/learning-wpilib-commands · GitHub",
                            "clicks": 14
                        }
                    ],
                    "read": true,
                    "user_title": null,
                    "reply_to_user": {
                        "id": 56380,
                        "username": "ebear11",
                        "name": "Elijah Beard",
                        "avatar_template": "/letter_avatar_proxy/v4/letter/e/439d5e/{size}.png"
                    },
                    "bookmarked": false,
                    "actions_summary": [],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 56650,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "user_custom_fields": {
                        "user_field_4": ""
                    },
                    "post_url": "/t/command-vs-subsystem-split/497126/9",
                    "reactions": [],
                    "current_user_reaction": null,
                    "reaction_users_count": 0,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": null
                },
                {
                    "id": 3571348,
                    "name": "Eli Barnett",
                    "username": "Oblarg",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/oblarg/{size}/161674_2.png",
                    "created_at": "2025-03-28T16:26:15.067Z",
                    "cooked": "Version 2 looks like what I’d consider the simplest/most direct expression of what you’re trying to do.  A trigger that exists only for command sequencing and doesn’t represent any direct problem-space feature is a code smell; at that point, use proxies.\n\nYou can eliminate the 20ms delay by adding a single runOnce before the run() , if you wish.  For constant motor outputs, you can even get away with runOnce(...).andThen(idle()) .",
                    "post_number": 10,
                    "post_type": 1,
                    "posts_count": 21,
                    "updated_at": "2025-03-28T16:26:50.522Z",
                    "reply_count": 0,
                    "reply_to_post_number": 9,
                    "quote_count": 0,
                    "incoming_link_count": 0,
                    "reads": 98,
                    "readers_count": 97,
                    "score": 19.6,
                    "yours": false,
                    "topic_id": 497126,
                    "topic_slug": "command-vs-subsystem-split",
                    "display_username": "Eli Barnett",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 1,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "read": true,
                    "user_title": "",
                    "reply_to_user": {
                        "id": 56650,
                        "username": "epeters1111",
                        "name": "Ed Peters",
                        "avatar_template": "/user_avatar/www.chiefdelphi.com/epeters1111/{size}/182731_2.png"
                    },
                    "bookmarked": false,
                    "actions_summary": [],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 12381,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "user_custom_fields": {
                        "user_field_4": "Robot apartments! invisible suburbs! skeleton treasuries!"
                    },
                    "post_url": "/t/command-vs-subsystem-split/497126/10",
                    "reactions": [],
                    "current_user_reaction": null,
                    "reaction_users_count": 0,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": null
                },
                {
                    "id": 3571426,
                    "name": "Ed Peters",
                    "username": "epeters1111",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/epeters1111/{size}/182731_2.png",
                    "created_at": "2025-03-28T17:37:45.773Z",
                    "cooked": "You can eliminate the 20ms delay\n\nBleargh! I just learned something else by reading the doc more carefully.\n\nI thought when I did until(...) it was adding that as an ifFinished condition. I stand corrected - my sensor actually will interrupt the “grab” command and immediately switch to the “choke up” command. So I think V2 actually doesn’t have an artificial delay in it.\n\nrunOnce(...).andThen(idle())\n\nLove this, will definitely adopt it.\n\nThanks again for the input!",
                    "post_number": 11,
                    "post_type": 1,
                    "posts_count": 21,
                    "updated_at": "2025-03-28T17:37:45.773Z",
                    "reply_count": 1,
                    "reply_to_post_number": null,
                    "quote_count": 0,
                    "incoming_link_count": 0,
                    "reads": 90,
                    "readers_count": 89,
                    "score": 38.0,
                    "yours": false,
                    "topic_id": 497126,
                    "topic_slug": "command-vs-subsystem-split",
                    "display_username": "Ed Peters",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 1,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "read": true,
                    "user_title": null,
                    "bookmarked": false,
                    "actions_summary": [
                        {
                            "id": 2,
                            "count": 1
                        }
                    ],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 56650,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "user_custom_fields": {
                        "user_field_4": ""
                    },
                    "post_url": "/t/command-vs-subsystem-split/497126/11",
                    "reactions": [
                        {
                            "id": "heart",
                            "type": "emoji",
                            "count": 1
                        }
                    ],
                    "current_user_reaction": null,
                    "reaction_users_count": 1,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": null
                },
                {
                    "id": 3571506,
                    "name": "Bob Bell",
                    "username": "rjbell4",
                    "avatar_template": "/letter_avatar_proxy/v4/letter/r/8c91f0/{size}.png",
                    "created_at": "2025-03-28T19:07:09.440Z",
                    "cooked": "Max_Morehead:\n\nThe other big piece of advice is use triggers liberally. Triggers are great for loosely coupling different subsystems.\n\nI get the feeling that we are underutilizing Triggers, mostly limiting them to button presses, etc.\n\nCan you give a couple of examples of good uses for Triggers?",
                    "post_number": 12,
                    "post_type": 1,
                    "posts_count": 21,
                    "updated_at": "2025-03-28T19:07:09.440Z",
                    "reply_count": 2,
                    "reply_to_post_number": 7,
                    "quote_count": 1,
                    "incoming_link_count": 0,
                    "reads": 79,
                    "readers_count": 78,
                    "score": 25.8,
                    "yours": false,
                    "topic_id": 497126,
                    "topic_slug": "command-vs-subsystem-split",
                    "display_username": "Bob Bell",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 1,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "read": true,
                    "user_title": "",
                    "bookmarked": false,
                    "actions_summary": [],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 37016,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "user_custom_fields": {
                        "user_field_4": "9496| Programming Mentor"
                    },
                    "post_url": "/t/command-vs-subsystem-split/497126/12",
                    "reactions": [],
                    "current_user_reaction": null,
                    "reaction_users_count": 0,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": null
                },
                {
                    "id": 3571548,
                    "name": "Eli Barnett",
                    "username": "Oblarg",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/oblarg/{size}/161674_2.png",
                    "created_at": "2025-03-28T19:44:20.362Z",
                    "cooked": "epeters1111:\n\nThanks again for the input!\n\nNo prob!  I am very impressed with the quality of your first-take code following the best practices.  Be sure to teach others the way!",
                    "post_number": 13,
                    "post_type": 1,
                    "posts_count": 21,
                    "updated_at": "2025-03-28T19:44:20.362Z",
                    "reply_count": 0,
                    "reply_to_post_number": 11,
                    "quote_count": 1,
                    "incoming_link_count": 0,
                    "reads": 73,
                    "readers_count": 72,
                    "score": 14.6,
                    "yours": false,
                    "topic_id": 497126,
                    "topic_slug": "command-vs-subsystem-split",
                    "display_username": "Eli Barnett",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 1,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "read": true,
                    "user_title": "",
                    "bookmarked": false,
                    "actions_summary": [],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 12381,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "user_custom_fields": {
                        "user_field_4": "Robot apartments! invisible suburbs! skeleton treasuries!"
                    },
                    "post_url": "/t/command-vs-subsystem-split/497126/13",
                    "reactions": [],
                    "current_user_reaction": null,
                    "reaction_users_count": 0,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": null
                },
                {
                    "id": 3571554,
                    "name": "Max Morehead",
                    "username": "Max_Morehead",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/max_morehead/{size}/231937_2.png",
                    "created_at": "2025-03-28T19:49:09.919Z",
                    "cooked": "Here’s an example of how we used triggers to coordinate between elevator and arm movement so that the arm doesn’t hit our ramp, and the arm stays inside the robot while the elevator is moving, but they move in parallel when possible (rewritten in the last few days).\n\nThis was a lot better than our our previous attempts where we tried to break down each step of the movement separately.\n\nI also think we learned that using event markers in pathplanner is more flexible than using sequential groups.",
                    "post_number": 14,
                    "post_type": 1,
                    "posts_count": 21,
                    "updated_at": "2025-03-28T20:03:11.165Z",
                    "reply_count": 1,
                    "reply_to_post_number": 12,
                    "quote_count": 0,
                    "incoming_link_count": 0,
                    "reads": 75,
                    "readers_count": 74,
                    "score": 50.0,
                    "yours": false,
                    "topic_id": 497126,
                    "topic_slug": "command-vs-subsystem-split",
                    "display_username": "Max Morehead",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 2,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "read": true,
                    "user_title": null,
                    "reply_to_user": {
                        "id": 37016,
                        "username": "rjbell4",
                        "name": "Bob Bell",
                        "avatar_template": "/letter_avatar_proxy/v4/letter/r/8c91f0/{size}.png"
                    },
                    "bookmarked": false,
                    "actions_summary": [
                        {
                            "id": 2,
                            "count": 2
                        }
                    ],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 53784,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "user_custom_fields": {
                        "user_field_4": "Mentor"
                    },
                    "post_url": "/t/command-vs-subsystem-split/497126/14",
                    "reactions": [
                        {
                            "id": "heart",
                            "type": "emoji",
                            "count": 2
                        }
                    ],
                    "current_user_reaction": null,
                    "reaction_users_count": 2,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": null
                },
                {
                    "id": 3571585,
                    "name": "SLAB-Mr.Thomas",
                    "username": "SLAB-Mr.Thomas",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/slab-mr.thomas/{size}/182153_2.png",
                    "created_at": "2025-03-28T20:11:40.524Z",
                    "cooked": "I hope I’m not being too contrary but your code ( #2 ) looks like the product of refactoring that typically doesn’t happen until summer if at all.\n\nThe students are in an experimental mode to get the robot to work and when an experiment ends successfully they move on without refactoring.\n\nTo perform the experiments quickly they need easy visibility into what’s happening - not the lowest level of code but not the highest abstraction, either.\n\nThis is closer to what I think the students typically produce to get done faster and move on:\n\nThey had coded runIntake early on before the intake had been built.",
                    "post_number": 15,
                    "post_type": 1,
                    "posts_count": 21,
                    "updated_at": "2025-03-28T20:11:40.524Z",
                    "reply_count": 1,
                    "reply_to_post_number": 9,
                    "quote_count": 0,
                    "incoming_link_count": 0,
                    "reads": 67,
                    "readers_count": 66,
                    "score": 33.4,
                    "yours": false,
                    "topic_id": 497126,
                    "topic_slug": "command-vs-subsystem-split",
                    "display_username": "SLAB-Mr.Thomas",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 1,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "read": true,
                    "user_title": "",
                    "reply_to_user": {
                        "id": 56650,
                        "username": "epeters1111",
                        "name": "Ed Peters",
                        "avatar_template": "/user_avatar/www.chiefdelphi.com/epeters1111/{size}/182731_2.png"
                    },
                    "bookmarked": false,
                    "actions_summary": [
                        {
                            "id": 2,
                            "count": 1
                        }
                    ],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 24594,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "user_custom_fields": {
                        "user_field_4": ""
                    },
                    "post_url": "/t/command-vs-subsystem-split/497126/15",
                    "reactions": [
                        {
                            "id": "heart",
                            "type": "emoji",
                            "count": 1
                        }
                    ],
                    "current_user_reaction": null,
                    "reaction_users_count": 1,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": null
                },
                {
                    "id": 3571629,
                    "name": "Ed Peters",
                    "username": "epeters1111",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/epeters1111/{size}/182731_2.png",
                    "created_at": "2025-03-28T20:54:39.026Z",
                    "cooked": "your code ( #2 ) looks like the product of refactoring that typically doesn’t happen until summer if at all\n\nTotally agree. This is highly sanitized sample code meant to illustrate a question (and hopefully become a teaching tool for students in the off-season). In reality we build very small Commands, map them to buttons and test them individually, and then string them together. And refactoring doesn’t happen until summer (if then).\n\n(FWIW … the way I describe Commands to the kids is that we’re writing our own little language to talk to the robot with. We use Java to create the “words” and then we string together our own sentences to describe what we want to happen.)\n\nThis year our intake was even messier - we had a wiring problem in one of our sensors that would cause intermittent problems. We kept thinking it was a logic error so we tore it apart, rebuilt it and embedded more and more logging with increasing levels of frustration. Until we figured out there was a broken wire.\n\nHere’s an example of how we used triggers …\n\nThis is great. Will definitely remember the technique of using “event markers”.\n\nWe tried to construct the sequence of commands to safely move parts of the system in parallel, but ran out of time to test. We broke one of our intakes during early testing and just decided to play it safe - move one part at a time. We could probably shave several seconds off cycle time being better at it, but we had bigger fish to fry.",
                    "post_number": 16,
                    "post_type": 1,
                    "posts_count": 21,
                    "updated_at": "2025-03-28T20:54:39.026Z",
                    "reply_count": 0,
                    "reply_to_post_number": 15,
                    "quote_count": 0,
                    "incoming_link_count": 0,
                    "reads": 68,
                    "readers_count": 67,
                    "score": 28.6,
                    "yours": false,
                    "topic_id": 497126,
                    "topic_slug": "command-vs-subsystem-split",
                    "display_username": "Ed Peters",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 1,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "read": true,
                    "user_title": null,
                    "reply_to_user": {
                        "id": 24594,
                        "username": "SLAB-Mr.Thomas",
                        "name": "SLAB-Mr.Thomas",
                        "avatar_template": "/user_avatar/www.chiefdelphi.com/slab-mr.thomas/{size}/182153_2.png"
                    },
                    "bookmarked": false,
                    "actions_summary": [
                        {
                            "id": 2,
                            "count": 1
                        }
                    ],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 56650,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "user_custom_fields": {
                        "user_field_4": ""
                    },
                    "post_url": "/t/command-vs-subsystem-split/497126/16",
                    "reactions": [
                        {
                            "id": "heart",
                            "type": "emoji",
                            "count": 1
                        }
                    ],
                    "current_user_reaction": null,
                    "reaction_users_count": 1,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": null
                },
                {
                    "id": 3571675,
                    "name": "Bob Bell",
                    "username": "rjbell4",
                    "avatar_template": "/letter_avatar_proxy/v4/letter/r/8c91f0/{size}.png",
                    "created_at": "2025-03-28T21:27:59.146Z",
                    "cooked": "Hmm, where you used at lot of Command.until(subsystem.returnsTrigger()) , we might use Command.until(subsystem::returnsBoolean) .  From what I can tell, many/most of your returnsTrigger implementation just wrap new Trigger() around a returnsBoolean routine.\n\nIs there something about Trigger s I’m missing that make them preferable to just supplying returnsBoolean instead?",
                    "post_number": 17,
                    "post_type": 1,
                    "posts_count": 21,
                    "updated_at": "2025-03-28T21:27:59.146Z",
                    "reply_count": 1,
                    "reply_to_post_number": 14,
                    "quote_count": 0,
                    "incoming_link_count": 0,
                    "reads": 64,
                    "readers_count": 63,
                    "score": 47.8,
                    "yours": false,
                    "topic_id": 497126,
                    "topic_slug": "command-vs-subsystem-split",
                    "display_username": "Bob Bell",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 1,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "read": true,
                    "user_title": "",
                    "reply_to_user": {
                        "id": 53784,
                        "username": "Max_Morehead",
                        "name": "Max Morehead",
                        "avatar_template": "/user_avatar/www.chiefdelphi.com/max_morehead/{size}/231937_2.png"
                    },
                    "bookmarked": false,
                    "actions_summary": [
                        {
                            "id": 2,
                            "count": 2
                        }
                    ],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 37016,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "user_custom_fields": {
                        "user_field_4": "9496| Programming Mentor"
                    },
                    "post_url": "/t/command-vs-subsystem-split/497126/17",
                    "reactions": [
                        {
                            "id": "heart",
                            "type": "emoji",
                            "count": 2
                        }
                    ],
                    "current_user_reaction": null,
                    "reaction_users_count": 2,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": null
                },
                {
                    "id": 3571951,
                    "name": "Eli Barnett",
                    "username": "Oblarg",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/oblarg/{size}/161674_2.png",
                    "created_at": "2025-03-29T02:07:42.371Z",
                    "cooked": "Triggers are Boolean suppliers, so if you have one for command binding and it’s named usefully there’s no reason not to use it in an until condition.\n\nYou don’t need a trigger for this, as you’ve observed.  It just comes “for free” with one.",
                    "post_number": 18,
                    "post_type": 1,
                    "posts_count": 21,
                    "updated_at": "2025-03-29T17:17:42.254Z",
                    "reply_count": 0,
                    "reply_to_post_number": 17,
                    "quote_count": 0,
                    "incoming_link_count": 0,
                    "reads": 60,
                    "readers_count": 59,
                    "score": 12.0,
                    "yours": false,
                    "topic_id": 497126,
                    "topic_slug": "command-vs-subsystem-split",
                    "display_username": "Eli Barnett",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 2,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "read": true,
                    "user_title": "",
                    "reply_to_user": {
                        "id": 37016,
                        "username": "rjbell4",
                        "name": "Bob Bell",
                        "avatar_template": "/letter_avatar_proxy/v4/letter/r/8c91f0/{size}.png"
                    },
                    "bookmarked": false,
                    "actions_summary": [],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 12381,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "user_custom_fields": {
                        "user_field_4": "Robot apartments! invisible suburbs! skeleton treasuries!"
                    },
                    "post_url": "/t/command-vs-subsystem-split/497126/18",
                    "reactions": [],
                    "current_user_reaction": null,
                    "reaction_users_count": 0,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": null
                },
                {
                    "id": 3572213,
                    "name": "Cooper Meitz",
                    "username": "GarbanzoBeans",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/garbanzobeans/{size}/232609_2.png",
                    "created_at": "2025-03-29T14:53:17.672Z",
                    "cooked": "My favorite way we’ve used triggers this season is to automate actions during our auto-align sequence. These are mainly to help simplify things for the driver, so we do things like flash the LEDs when we’re close to the scoring target, prefire the elevator and shoulder automatically, and determine the elevator height when we’re de-algaeing the reef. We haven’t used it in a competition yet, so we’ll see how helpful it ends up being (and obviously good is subjective), but it’s by far the most creative way we’ve used triggers in the 3 years we’ve run a command-based architecture.",
                    "post_number": 19,
                    "post_type": 1,
                    "posts_count": 21,
                    "updated_at": "2025-03-29T14:53:17.672Z",
                    "reply_count": 1,
                    "reply_to_post_number": 12,
                    "quote_count": 0,
                    "incoming_link_count": 0,
                    "reads": 44,
                    "readers_count": 43,
                    "score": 28.8,
                    "yours": false,
                    "topic_id": 497126,
                    "topic_slug": "command-vs-subsystem-split",
                    "display_username": "Cooper Meitz",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 1,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "read": true,
                    "user_title": "",
                    "reply_to_user": {
                        "id": 37016,
                        "username": "rjbell4",
                        "name": "Bob Bell",
                        "avatar_template": "/letter_avatar_proxy/v4/letter/r/8c91f0/{size}.png"
                    },
                    "bookmarked": false,
                    "actions_summary": [
                        {
                            "id": 2,
                            "count": 1
                        }
                    ],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 28095,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "user_custom_fields": {
                        "user_field_4": ""
                    },
                    "post_url": "/t/command-vs-subsystem-split/497126/19",
                    "reactions": [
                        {
                            "id": "heart",
                            "type": "emoji",
                            "count": 1
                        }
                    ],
                    "current_user_reaction": null,
                    "reaction_users_count": 1,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": null
                },
                {
                    "id": 3572235,
                    "name": "Bob Bell",
                    "username": "rjbell4",
                    "avatar_template": "/letter_avatar_proxy/v4/letter/r/8c91f0/{size}.png",
                    "created_at": "2025-03-29T15:21:19.788Z",
                    "cooked": "Is the main difference between a Trigger and a “regular” Boolean supplier that a Trigger gets checked automatically every period, and that can schedule commands?\n\ni.e., it seems when using .until() , there’s not much difference, because the invocation is tied to command execution.  But in @GarbanzoBeans ’s use case, it causes commands not currently scheduled to become scheduled and execute.\n\nI could see some application there.  For example, in our coral scoring procedure, we automatically move the robot into scoring position, and raise the elevator only when we are a certain distance from the reef.  We do that by running two commands (which themselves are compounds) in parallel – one that moves the robot, and another that waits for the robot to be within the desired range, and then raises the elevator.\n\nWith a Trigger , I could instead potentially say “when the robot is within range, raise the elevator”, and have that be scheduled independently, not as part of the larger compound command.\n\nI see two potential complications to that:\n\nWe wouldn’t want the elevator raised whenever we are within range, only when we are within range and scoring. @GarbanzoBeans seems to be handling that by checking a “mode”.  That mode is sort of implicit when it’s built into a compound command, since it only is executing in that context.\n\nYou’d want your Trigger check to be pretty lightweight, since it would be checked every robot period, not only when you are in the “mode” where you need it.\n\nJust checking to try to expand my understanding of available options so we can utilize them effectively!",
                    "post_number": 20,
                    "post_type": 1,
                    "posts_count": 21,
                    "updated_at": "2025-03-29T15:21:19.788Z",
                    "reply_count": 1,
                    "reply_to_post_number": 19,
                    "quote_count": 0,
                    "incoming_link_count": 0,
                    "reads": 42,
                    "readers_count": 41,
                    "score": 43.4,
                    "yours": false,
                    "topic_id": 497126,
                    "topic_slug": "command-vs-subsystem-split",
                    "display_username": "Bob Bell",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 1,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "read": true,
                    "user_title": "",
                    "reply_to_user": {
                        "id": 28095,
                        "username": "GarbanzoBeans",
                        "name": "Cooper Meitz",
                        "avatar_template": "/user_avatar/www.chiefdelphi.com/garbanzobeans/{size}/232609_2.png"
                    },
                    "bookmarked": false,
                    "actions_summary": [
                        {
                            "id": 2,
                            "count": 2
                        }
                    ],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 37016,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "user_custom_fields": {
                        "user_field_4": "9496| Programming Mentor"
                    },
                    "post_url": "/t/command-vs-subsystem-split/497126/20",
                    "reactions": [
                        {
                            "id": "heart",
                            "type": "emoji",
                            "count": 2
                        }
                    ],
                    "current_user_reaction": null,
                    "reaction_users_count": 2,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": null
                }
            ],
            "stream": [
                3570093,
                3570104,
                3570110,
                3570238,
                3570243,
                3570394,
                3570529,
                3570530,
                3571273,
                3571348,
                3571426,
                3571506,
                3571548,
                3571554,
                3571585,
                3571629,
                3571675,
                3571951,
                3572213,
                3572235,
                3572261
            ]
        },
        "timeline_lookup": [
            [
                1,
                129
            ],
            [
                9,
                128
            ],
            [
                19,
                127
            ]
        ],
        "tags": [],
        "tags_descriptions": {},
        "id": 497126,
        "title": "Command vs Subsystem split",
        "fancy_title": "Command vs Subsystem split",
        "posts_count": 21,
        "created_at": "2025-03-27T15:10:20.787Z",
        "views": 770,
        "reply_count": 15,
        "like_count": 26,
        "last_posted_at": "2025-03-29T16:00:13.577Z",
        "visible": true,
        "closed": false,
        "archived": false,
        "has_summary": false,
        "archetype": "regular",
        "slug": "command-vs-subsystem-split",
        "category_id": 30,
        "word_count": 3103,
        "deleted_at": null,
        "user_id": 56650,
        "featured_link": null,
        "pinned_globally": false,
        "pinned_at": null,
        "pinned_until": null,
        "image_url": null,
        "slow_mode_seconds": 0,
        "draft": null,
        "draft_key": "topic_497126",
        "draft_sequence": null,
        "unpinned": null,
        "pinned": false,
        "current_post_number": 1,
        "highest_post_number": 21,
        "deleted_by": null,
        "actions_summary": [
            {
                "id": 4,
                "count": 0,
                "hidden": false,
                "can_act": false
            },
            {
                "id": 8,
                "count": 0,
                "hidden": false,
                "can_act": false
            },
            {
                "id": 10,
                "count": 0,
                "hidden": false,
                "can_act": false
            },
            {
                "id": 7,
                "count": 0,
                "hidden": false,
                "can_act": false
            }
        ],
        "chunk_size": 20,
        "bookmarked": false,
        "topic_timer": {
            "id": 46116,
            "execute_at": "2026-03-29T16:00:13.577Z",
            "duration_minutes": 525600,
            "based_on_last_post": true,
            "status_type": "close",
            "category_id": null
        },
        "message_bus_last_id": 0,
        "participant_count": 9,
        "show_read_indicator": false,
        "thumbnails": null,
        "slow_mode_enabled_until": null,
        "valid_reactions": [
            "heart",
            "laughing",
            "point_up",
            "+1",
            "-1",
            "100",
            "open_mouth",
            "cry",
            "question",
            "thinking",
            "call_me_hand",
            "hugs",
            "angry"
        ],
        "user_chosen_thumbnail_url": null,
        "sidecar_installed": true,
        "details": {
            "can_edit": false,
            "notification_level": 1,
            "participants": [
                {
                    "id": 56650,
                    "username": "epeters1111",
                    "name": "Ed Peters",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/epeters1111/{size}/182731_2.png",
                    "post_count": 5,
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_color": null,
                    "flair_bg_color": null,
                    "flair_group_id": null,
                    "trust_level": 2
                },
                {
                    "id": 12381,
                    "username": "Oblarg",
                    "name": "Eli Barnett",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/oblarg/{size}/161674_2.png",
                    "post_count": 4,
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_color": null,
                    "flair_bg_color": null,
                    "flair_group_id": null,
                    "trust_level": 2
                },
                {
                    "id": 37016,
                    "username": "rjbell4",
                    "name": "Bob Bell",
                    "avatar_template": "/letter_avatar_proxy/v4/letter/r/8c91f0/{size}.png",
                    "post_count": 3,
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_color": null,
                    "flair_bg_color": null,
                    "flair_group_id": null,
                    "trust_level": 2
                },
                {
                    "id": 28095,
                    "username": "GarbanzoBeans",
                    "name": "Cooper Meitz",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/garbanzobeans/{size}/232609_2.png",
                    "post_count": 2,
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_color": null,
                    "flair_bg_color": null,
                    "flair_group_id": null,
                    "trust_level": 2
                },
                {
                    "id": 53784,
                    "username": "Max_Morehead",
                    "name": "Max Morehead",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/max_morehead/{size}/231937_2.png",
                    "post_count": 2,
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_color": null,
                    "flair_bg_color": null,
                    "flair_group_id": null,
                    "trust_level": 2
                },
                {
                    "id": 56380,
                    "username": "ebear11",
                    "name": "Elijah Beard",
                    "avatar_template": "/letter_avatar_proxy/v4/letter/e/439d5e/{size}.png",
                    "post_count": 2,
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_color": null,
                    "flair_bg_color": null,
                    "flair_group_id": null,
                    "trust_level": 2
                },
                {
                    "id": 28614,
                    "username": "legoguy1000",
                    "name": "Alex",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/legoguy1000/{size}/256261_2.png",
                    "post_count": 1,
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_color": null,
                    "flair_bg_color": null,
                    "flair_group_id": null,
                    "trust_level": 2
                },
                {
                    "id": 25118,
                    "username": "prensing",
                    "name": "Paul Rensing",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/prensing/{size}/65820_2.png",
                    "post_count": 1,
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_color": null,
                    "flair_bg_color": null,
                    "flair_group_id": null,
                    "trust_level": 2
                },
                {
                    "id": 24594,
                    "username": "SLAB-Mr.Thomas",
                    "name": "SLAB-Mr.Thomas",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/slab-mr.thomas/{size}/182153_2.png",
                    "post_count": 1,
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_color": null,
                    "flair_bg_color": null,
                    "flair_group_id": null,
                    "trust_level": 2
                }
            ],
            "created_by": {
                "id": 56650,
                "username": "epeters1111",
                "name": "Ed Peters",
                "avatar_template": "/user_avatar/www.chiefdelphi.com/epeters1111/{size}/182731_2.png"
            },
            "last_poster": {
                "id": 28095,
                "username": "GarbanzoBeans",
                "name": "Cooper Meitz",
                "avatar_template": "/user_avatar/www.chiefdelphi.com/garbanzobeans/{size}/232609_2.png"
            },
            "links": [
                {
                    "url": "https://github.com/ed-peters/learning-wpilib-commands/tree/main/src/main/java/frc/robot/intake",
                    "title": "learning-wpilib-commands/src/main/java/frc/robot/intake at main · ed-peters/learning-wpilib-commands · GitHub",
                    "internal": false,
                    "attachment": false,
                    "reflection": false,
                    "clicks": 14,
                    "user_id": 56650,
                    "domain": "github.com",
                    "root_domain": "github.com"
                },
                {
                    "url": "https://github.com/missfits/Robot-Code-2025/tree/main",
                    "title": "GitHub - missfits/Robot-Code-2025",
                    "internal": false,
                    "attachment": false,
                    "reflection": false,
                    "clicks": 4,
                    "user_id": 53784,
                    "domain": "github.com",
                    "root_domain": "github.com"
                },
                {
                    "url": "https://docs.wpilib.org/en/stable/docs/software/commandbased/command-scheduler.html",
                    "title": "The Command Scheduler — FIRST Robotics Competition documentation",
                    "internal": false,
                    "attachment": false,
                    "reflection": false,
                    "clicks": 3,
                    "user_id": 53784,
                    "domain": "docs.wpilib.org",
                    "root_domain": "wpilib.org"
                },
                {
                    "url": "https://docs.wpilib.org/en/stable/docs/software/commandbased/organizing-command-based.html",
                    "title": "Organizing Command-Based Robot Projects — FIRST Robotics Competition documentation",
                    "internal": false,
                    "attachment": false,
                    "reflection": false,
                    "clicks": 3,
                    "user_id": 53784,
                    "domain": "docs.wpilib.org",
                    "root_domain": "wpilib.org"
                }
            ]
        },
        "bookmarks": []
    }
}