{
    "data": {
        "post_stream": {
            "posts": [
                {
                    "id": 3227386,
                    "name": "Asaf Eyal",
                    "username": "ControlFreak",
                    "avatar_template": "/letter_avatar_proxy/v4/letter/c/71e660/{size}.png",
                    "created_at": "2023-08-27T15:20:39.639Z",
                    "cooked": "Me and my team over the last few years started to use sysid (not necessarily the app cause we cant get it to work reliably but in general motor characterization) but through that still using trapazoidal profiles for profiling. This seems wrong as the trapazoidal profile assumes constent acceleration while the voltage equation of the motor implies otherwise. not only that, since we already have the equation I assume it shouldnt be to difficult to create a more accurate profile. Has any team created such a profile or can someone explain to me why it is not done?",
                    "post_number": 1,
                    "post_type": 1,
                    "posts_count": 4,
                    "updated_at": "2023-08-27T15:20:39.639Z",
                    "reply_count": 0,
                    "reply_to_post_number": null,
                    "quote_count": 0,
                    "incoming_link_count": 13,
                    "reads": 105,
                    "readers_count": 104,
                    "score": 86.0,
                    "yours": false,
                    "topic_id": 440175,
                    "topic_slug": "velocity-profile-based-on-sysid-constants",
                    "display_username": "Asaf Eyal",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 1,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "read": true,
                    "user_title": null,
                    "bookmarked": false,
                    "actions_summary": [],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 60211,
                    "hidden": false,
                    "trust_level": 1,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "post_url": "/t/velocity-profile-based-on-sysid-constants/440175/1",
                    "custom_user_title": null,
                    "reactions": [],
                    "current_user_reaction": null,
                    "reaction_users_count": 0,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": null,
                    "can_vote": false
                },
                {
                    "id": 3227390,
                    "name": "Danny",
                    "username": "hage-043",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/hage-043/{size}/177637_2.png",
                    "created_at": "2023-08-27T16:03:47.205Z",
                    "cooked": "There’s someone actively working on an ExponentialProfile class which is a model that I believe addresses your concern. It is open as either a PR or an issue on the WPILib GitHub so you could check it out and implement it yourself if you want. Truth is most teams probably don’t even know they are losing performance and just tune their constants based on trial and error. As someone who is at least aware that this discrepancy exists, I still tune those numbers based on how far I can push the robot before mechanical stuff starts breaking. I don’t think I really know what I’m doing though.",
                    "post_number": 2,
                    "post_type": 1,
                    "posts_count": 4,
                    "updated_at": "2023-08-27T16:03:47.205Z",
                    "reply_count": 1,
                    "reply_to_post_number": null,
                    "quote_count": 0,
                    "incoming_link_count": 2,
                    "reads": 96,
                    "readers_count": 95,
                    "score": 34.2,
                    "yours": false,
                    "topic_id": 440175,
                    "topic_slug": "velocity-profile-based-on-sysid-constants",
                    "display_username": "Danny",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 1,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "read": true,
                    "user_title": "",
                    "bookmarked": false,
                    "actions_summary": [],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 51704,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "post_url": "/t/velocity-profile-based-on-sysid-constants/440175/2",
                    "custom_user_title": null,
                    "reactions": [],
                    "current_user_reaction": null,
                    "reaction_users_count": 0,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": null
                },
                {
                    "id": 3227396,
                    "name": "Tyler Veness",
                    "username": "calcmogul",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/calcmogul/{size}/128045_2.png",
                    "created_at": "2023-08-27T17:08:49.582Z",
                    "cooked": "Yea, there’s an issue open for it.\n\nExponentialProfile class for DC motor motion profiling opened 11:58PM - 17 Jul 23 UTC calcmogul type: feature component: wpimath\n\nExponentialProfile class for DC motor motion profiling opened 11:58PM - 17 Jul 23 UTC calcmogul type: feature component: wpimath\n\nopened 11:58PM - 17 Jul 23 UTC calcmogul\n\nopened 11:58PM - 17 Jul 23 UTC\n\ncalcmogul\n\ntype: feature component: wpimath\n\n## Is your feature request related to a problem? Please describe.\nTrapezoid pro … files assume the available acceleration is constant for every velocity. For a DC motor, the available acceleration decreases linearly with the velocity. This means that for higher profile max velocities, the max acceleration must be set more conservatively to make it achievable. This wastes performance at the lower end of the velocity profile.\n\n## Describe the solution you'd like\nDC motor dynamics are exponential in the time domain, so an exponential velocity profile would be a much better fit. The constructor inputs would be Kv and Ka system ID constants and a max voltage (ideally below 12 V so the feedback controller can react to disturbances). The calculate() inputs would be the current state (position and velocity), unconstrained goal state, and the timestep duration. The calculate() output would be a voltage.\n\n## Implementation details\nThis class would essentially solve a DC motor minimum time optimization problem. Simulating a 2x1 LinearSystem forward isn't enough because the switching points in the phase space need to be determined to make it speed up and slow down at the right times.\n\n### Possible solution: Dynamic programming\nThe minimum time problem for a double integrator (position and velocity states, acceleration input, no velocity decay) can be solved with dynamic programming like so.\n```python\n#!/usr/bin/env python3\n\nimport matplotlib.pyplot as plt\nimport numpy as np\nimport numpy.typing as npt\nfrom typing import List\n\n\ndef plot_data(\n    times: List[float],\n    data: npt.NDArray[np.float64],\n    labels: List[str],\n    units: List[str],\n) -> None:\n    \"\"\"Plots data (e.g., states, inputs) in time domain with one figure per\n    unit.\n\n    Keyword arguments:\n    times -- list of times\n    data -- matrix of data (states or inputs x times)\n    labels -- list of data label strings\n    units -- list of data unit strings\n    \"\"\"\n    # Build mapping from unit to data that have that unit\n    unit_to_data = {}\n    for i, unit in enumerate(units):\n        try:\n            unit_to_data[unit].append(i)\n        except KeyError:\n            unit_to_data[unit] = [i]\n\n    for unit, indices in unit_to_data.items():\n        plt.figure()\n        plt.title(f\"{unit[:unit.find('(')].rstrip()} vs Time\")\n        plt.xlabel(\"Time (s)\")\n        plt.ylabel(unit)\n        for i in indices:\n            if len(data.shape) > 1:\n                d = data[i, :]\n            else:\n                d = data\n            if len(indices) > 1:\n                plt.plot(times, d, label=labels[i])\n            else:\n                plt.plot(times, d)\n        if len(indices) > 1:\n            plt.legend()\n\n\nclass TrapezoidProfileFilter:\n    \"\"\"A time optimal controller for a double integrator.\n\n    This is essentially a trapezoid profile parameterized by state instead of by\n    time.\n\n    https://underactuated.mit.edu/dp.html#minimum_time_double_integrator\n    \"\"\"\n\n    class Constraints:\n        def __init__(self, max_velocity: float = None, max_acceleration: float = None):\n            if max_velocity != None:\n                self.max_velocity = max_velocity\n            else:\n                self.max_velocity = 0.0\n\n            if max_acceleration != None:\n                self.max_acceleration = max_acceleration\n            else:\n                self.max_acceleration = 0.0\n\n    class State:\n        def __init__(self, position: float = None, velocity: float = None):\n            if position != None:\n                self.position = position\n            else:\n                self.position = 0.0\n\n            if velocity != None:\n                self.velocity = velocity\n            else:\n                self.velocity = 0.0\n\n    def __init__(self, constraints: Constraints):\n        \"\"\"Construct a TrapezoidProfileFilter.\n\n        Keyword arguments:\n        constraints -- the constraints on the profile, like maximum velocity\n        \"\"\"\n        self.constraints = constraints\n\n    def calculate(self, state: State, goal: State, dt: float):\n        \"\"\"Returns the next acceleration of the double integrator.\n\n        Keyword arguments:\n        state -- the current position and velocity\n        goal -- the desired position and velocity\n        dt -- timestep duration in seconds\n        \"\"\"\n        q = state.position\n        q_ref = goal.position\n\n        qdot = state.velocity\n        qdot_ref = goal.velocity\n\n        u_max = self.constraints.max_acceleration\n\n        # If the position and velocity are within the distance and velocity the\n        # controller can travel in one timestep respectively, turn the\n        # controller off\n        if (\n            abs(q_ref - q) <= 0.5 * u_max * dt**2\n            and abs(qdot_ref - qdot) <= u_max * dt\n        ):\n            return TrapezoidProfileFilter.State(q_ref, qdot_ref)\n\n        # c₊ = qᵣ − 0.5 / u_max q̇ᵣ²\n        # c₋ = qᵣ + 0.5 / u_max q̇ᵣ²\n        #\n        # if (q̇ < q̇ᵣ and q ≤ 0.5 / u_max q̇² + c₊) or\n        #    (q̇ ≥ q̇ᵣ and q < −0.5 / u_max q̇² + c₋)\n        #\n        # if (q̇ < q̇ᵣ and q ≤ 0.5 / u_max q̇² + qᵣ − 0.5 / u_max q̇ᵣ²) or\n        #    (q̇ ≥ q̇ᵣ and q < −0.5 / u_max q̇² + qᵣ + 0.5 / u_max q̇ᵣ²)\n        #\n        # if (q̇ < q̇ᵣ and q − qᵣ ≤ 0.5 / u_max q̇² − 0.5 / u_max q̇ᵣ²) or\n        #    (q̇ ≥ q̇ᵣ and q − qᵣ < −0.5 / u_max q̇² + 0.5 / u_max q̇ᵣ²)\n        #\n        # if (q̇ < q̇ᵣ and q − qᵣ ≤ 0.5 / u_max q̇² − 0.5 / u_max q̇ᵣ²) or\n        #    (q̇ ≥ q̇ᵣ and q − qᵣ < −(0.5 / u_max q̇² − 0.5 / u_max q̇ᵣ²))\n        #\n        # if (q̇ < q̇ᵣ and q − qᵣ ≤ 0.5 / u_max (q̇² − q̇ᵣ²)) or\n        #    (q̇ ≥ q̇ᵣ and q − qᵣ < −0.5 / u_max (q̇² − q̇ᵣ²))\n        if (\n            qdot < qdot_ref and q - q_ref <= 0.5 / u_max * (qdot**2 - qdot_ref**2)\n        ) or (\n            qdot >= qdot_ref and q - q_ref < -0.5 / u_max * (qdot**2 - qdot_ref**2)\n        ):\n            # Enforce qdot maximum\n            if qdot < self.constraints.max_velocity:\n                x = [q, qdot, u_max]\n            else:\n                x = [q, qdot, 0.0]\n        else:\n            # Enforce qdot minimum\n            if qdot > -self.constraints.max_velocity:\n                x = [q, qdot, -u_max]\n            else:\n                x = [q, qdot, 0.0]\n\n        # qₖ₊₁ = qₖ + Tq̇ₖ + 1/2 T²q̈ₖ\n        # q̇ₖ₊₁ =       q̇ₖ +      Tq̈ₖ\n        return TrapezoidProfileFilter.State(\n            x[0] + dt * x[1] + 0.5 * dt * dt * x[2], x[1] + dt * x[2]\n        )\n\n\ndef main():\n    dt = 0.005\n\n    T = 1.75\n    N = int(T / dt)\n\n    controller = TrapezoidProfileFilter(TrapezoidProfileFilter.Constraints(2, 12))\n\n    x = TrapezoidProfileFilter.State(1, 0)\n    r = TrapezoidProfileFilter.State(2, 0)\n\n    times = np.linspace(0, (N + 1) * dt, N + 1)\n    states = np.zeros((2, N + 1))\n    for k in range(N):\n        states[:, k : k + 1] = np.array([[x.position], [x.velocity]])\n        x = controller.calculate(x, r, dt)\n        states[:, k + 1 : k + 2] = np.array([[x.position], [x.velocity]])\n\n    plot_data(\n        times,\n        states,\n        [\"Position\", \"Velocity\"],\n        [\"Position (m)\", \"Velocity (m/s)\"],\n    )\n\n    plt.figure()\n    plt.title(\"Velocity vs Position\")\n    plt.xlabel(\"Position (m)\")\n    plt.ylabel(\"Velocity (m/s)\")\n    plt.plot(states[0, :], states[1, :])\n\n    plt.show()\n\n\nif __name__ == \"__main__\":\n    main()\n```\nThe minimum time problem for a DC motor is more difficult to solve though due to the velocity decay dynamics complicating the derivation. The other problem with dynamic programming is the phase switches in the discrete solution aren't the same as those for the continuous solution, so the discrete solution can oscillate near the goal due to switching too early or too late:\n\n![Screenshot_20230717_165222](https://github.com/wpilibsuite/allwpilib/assets/2748555/42f7951f-9528-4cc0-affe-a7dea5379506)\n\nThe overshoot/undershoot disappears as the timestep duration approaches zero.\n\n### Possible solution: MPC\nAnother option would be setting up a linear MPC problem with some time horizon and solving it with https://github.com/SleipnirGroup/Sleipnir/ (Sleipnir is integrated as a thirdparty dependency [here](https://github.com/calcmogul/allwpilib/tree/wpimath-add-sleipnir)). This would be slower than an analytical solution, but it might end up being more feasible to derive and implement.\n\n## Is your feature request related to a problem? Please describe.\nTrapezoid pro … files assume the available acceleration is constant for every velocity. For a DC motor, the available acceleration decreases linearly with the velocity. This means that for higher profile max velocities, the max acceleration must be set more conservatively to make it achievable. This wastes performance at the lower end of the velocity profile.\n\n## Describe the solution you'd like\nDC motor dynamics are exponential in the time domain, so an exponential velocity profile would be a much better fit. The constructor inputs would be Kv and Ka system ID constants and a max voltage (ideally below 12 V so the feedback controller can react to disturbances). The calculate() inputs would be the current state (position and velocity), unconstrained goal state, and the timestep duration. The calculate() output would be a voltage.\n\n## Implementation details\nThis class would essentially solve a DC motor minimum time optimization problem. Simulating a 2x1 LinearSystem forward isn't enough because the switching points in the phase space need to be determined to make it speed up and slow down at the right times.\n\n### Possible solution: Dynamic programming\nThe minimum time problem for a double integrator (position and velocity states, acceleration input, no velocity decay) can be solved with dynamic programming like so.\n```python\n#!/usr/bin/env python3\n\nimport matplotlib.pyplot as plt\nimport numpy as np\nimport numpy.typing as npt\nfrom typing import List\n\n\ndef plot_data(\n    times: List[float],\n    data: npt.NDArray[np.float64],\n    labels: List[str],\n    units: List[str],\n) -> None:\n    \"\"\"Plots data (e.g., states, inputs) in time domain with one figure per\n    unit.\n\n    Keyword arguments:\n    times -- list of times\n    data -- matrix of data (states or inputs x times)\n    labels -- list of data label strings\n    units -- list of data unit strings\n    \"\"\"\n    # Build mapping from unit to data that have that unit\n    unit_to_data = {}\n    for i, unit in enumerate(units):\n        try:\n            unit_to_data[unit].append(i)\n        except KeyError:\n            unit_to_data[unit] = [i]\n\n    for unit, indices in unit_to_data.items():\n        plt.figure()\n        plt.title(f\"{unit[:unit.find('(')].rstrip()} vs Time\")\n        plt.xlabel(\"Time (s)\")\n        plt.ylabel(unit)\n        for i in indices:\n            if len(data.shape) > 1:\n                d = data[i, :]\n            else:\n                d = data\n            if len(indices) > 1:\n                plt.plot(times, d, label=labels[i])\n            else:\n                plt.plot(times, d)\n        if len(indices) > 1:\n            plt.legend()\n\n\nclass TrapezoidProfileFilter:\n    \"\"\"A time optimal controller for a double integrator.\n\n    This is essentially a trapezoid profile parameterized by state instead of by\n    time.\n\n    https://underactuated.mit.edu/dp.html#minimum_time_double_integrator\n    \"\"\"\n\n    class Constraints:\n        def __init__(self, max_velocity: float = None, max_acceleration: float = None):\n            if max_velocity != None:\n                self.max_velocity = max_velocity\n            else:\n                self.max_velocity = 0.0\n\n            if max_acceleration != None:\n                self.max_acceleration = max_acceleration\n            else:\n                self.max_acceleration = 0.0\n\n    class State:\n        def __init__(self, position: float = None, velocity: float = None):\n            if position != None:\n                self.position = position\n            else:\n                self.position = 0.0\n\n            if velocity != None:\n                self.velocity = velocity\n            else:\n                self.velocity = 0.0\n\n    def __init__(self, constraints: Constraints):\n        \"\"\"Construct a TrapezoidProfileFilter.\n\n        Keyword arguments:\n        constraints -- the constraints on the profile, like maximum velocity\n        \"\"\"\n        self.constraints = constraints\n\n    def calculate(self, state: State, goal: State, dt: float):\n        \"\"\"Returns the next acceleration of the double integrator.\n\n        Keyword arguments:\n        state -- the current position and velocity\n        goal -- the desired position and velocity\n        dt -- timestep duration in seconds\n        \"\"\"\n        q = state.position\n        q_ref = goal.position\n\n        qdot = state.velocity\n        qdot_ref = goal.velocity\n\n        u_max = self.constraints.max_acceleration\n\n        # If the position and velocity are within the distance and velocity the\n        # controller can travel in one timestep respectively, turn the\n        # controller off\n        if (\n            abs(q_ref - q) <= 0.5 * u_max * dt**2\n            and abs(qdot_ref - qdot) <= u_max * dt\n        ):\n            return TrapezoidProfileFilter.State(q_ref, qdot_ref)\n\n        # c₊ = qᵣ − 0.5 / u_max q̇ᵣ²\n        # c₋ = qᵣ + 0.5 / u_max q̇ᵣ²\n        #\n        # if (q̇ < q̇ᵣ and q ≤ 0.5 / u_max q̇² + c₊) or\n        #    (q̇ ≥ q̇ᵣ and q < −0.5 / u_max q̇² + c₋)\n        #\n        # if (q̇ < q̇ᵣ and q ≤ 0.5 / u_max q̇² + qᵣ − 0.5 / u_max q̇ᵣ²) or\n        #    (q̇ ≥ q̇ᵣ and q < −0.5 / u_max q̇² + qᵣ + 0.5 / u_max q̇ᵣ²)\n        #\n        # if (q̇ < q̇ᵣ and q − qᵣ ≤ 0.5 / u_max q̇² − 0.5 / u_max q̇ᵣ²) or\n        #    (q̇ ≥ q̇ᵣ and q − qᵣ < −0.5 / u_max q̇² + 0.5 / u_max q̇ᵣ²)\n        #\n        # if (q̇ < q̇ᵣ and q − qᵣ ≤ 0.5 / u_max q̇² − 0.5 / u_max q̇ᵣ²) or\n        #    (q̇ ≥ q̇ᵣ and q − qᵣ < −(0.5 / u_max q̇² − 0.5 / u_max q̇ᵣ²))\n        #\n        # if (q̇ < q̇ᵣ and q − qᵣ ≤ 0.5 / u_max (q̇² − q̇ᵣ²)) or\n        #    (q̇ ≥ q̇ᵣ and q − qᵣ < −0.5 / u_max (q̇² − q̇ᵣ²))\n        if (\n            qdot < qdot_ref and q - q_ref <= 0.5 / u_max * (qdot**2 - qdot_ref**2)\n        ) or (\n            qdot >= qdot_ref and q - q_ref < -0.5 / u_max * (qdot**2 - qdot_ref**2)\n        ):\n            # Enforce qdot maximum\n            if qdot < self.constraints.max_velocity:\n                x = [q, qdot, u_max]\n            else:\n                x = [q, qdot, 0.0]\n        else:\n            # Enforce qdot minimum\n            if qdot > -self.constraints.max_velocity:\n                x = [q, qdot, -u_max]\n            else:\n                x = [q, qdot, 0.0]\n\n        # qₖ₊₁ = qₖ + Tq̇ₖ + 1/2 T²q̈ₖ\n        # q̇ₖ₊₁ =       q̇ₖ +      Tq̈ₖ\n        return TrapezoidProfileFilter.State(\n            x[0] + dt * x[1] + 0.5 * dt * dt * x[2], x[1] + dt * x[2]\n        )\n\n\ndef main():\n    dt = 0.005\n\n    T = 1.75\n    N = int(T / dt)\n\n    controller = TrapezoidProfileFilter(TrapezoidProfileFilter.Constraints(2, 12))\n\n    x = TrapezoidProfileFilter.State(1, 0)\n    r = TrapezoidProfileFilter.State(2, 0)\n\n    times = np.linspace(0, (N + 1) * dt, N + 1)\n    states = np.zeros((2, N + 1))\n    for k in range(N):\n        states[:, k : k + 1] = np.array([[x.position], [x.velocity]])\n        x = controller.calculate(x, r, dt)\n        states[:, k + 1 : k + 2] = np.array([[x.position], [x.velocity]])\n\n    plot_data(\n        times,\n        states,\n        [\"Position\", \"Velocity\"],\n        [\"Position (m)\", \"Velocity (m/s)\"],\n    )\n\n    plt.figure()\n    plt.title(\"Velocity vs Position\")\n    plt.xlabel(\"Position (m)\")\n    plt.ylabel(\"Velocity (m/s)\")\n    plt.plot(states[0, :], states[1, :])\n\n    plt.show()\n\n\nif __name__ == \"__main__\":\n    main()\n```\nThe minimum time problem for a DC motor is more difficult to solve though due to the velocity decay dynamics complicating the derivation. The other problem with dynamic programming is the phase switches in the discrete solution aren't the same as those for the continuous solution, so the discrete solution can oscillate near the goal due to switching too early or too late:\n\n![Screenshot_20230717_165222](https://github.com/wpilibsuite/allwpilib/assets/2748555/42f7951f-9528-4cc0-affe-a7dea5379506)\n\nThe overshoot/undershoot disappears as the timestep duration approaches zero.\n\n### Possible solution: MPC\nAnother option would be setting up a linear MPC problem with some time horizon and solving it with https://github.com/SleipnirGroup/Sleipnir/ (Sleipnir is integrated as a thirdparty dependency [here](https://github.com/calcmogul/allwpilib/tree/wpimath-add-sleipnir)). This would be slower than an analytical solution, but it might end up being more feasible to derive and implement.",
                    "post_number": 3,
                    "post_type": 1,
                    "posts_count": 4,
                    "updated_at": "2023-08-27T17:08:49.582Z",
                    "reply_count": 0,
                    "reply_to_post_number": 2,
                    "quote_count": 0,
                    "incoming_link_count": 1,
                    "reads": 71,
                    "readers_count": 70,
                    "score": 19.2,
                    "yours": false,
                    "topic_id": 440175,
                    "topic_slug": "velocity-profile-based-on-sysid-constants",
                    "display_username": "Tyler Veness",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 1,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "link_counts": [
                        {
                            "url": "https://github.com/wpilibsuite/allwpilib/issues/5455",
                            "internal": false,
                            "reflection": false,
                            "title": "ExponentialProfile class for DC motor motion profiling · Issue #5455 · wpilibsuite/allwpilib · GitHub",
                            "clicks": 27
                        }
                    ],
                    "read": true,
                    "user_title": "",
                    "reply_to_user": {
                        "id": 51704,
                        "username": "hage-043",
                        "name": "Danny",
                        "avatar_template": "/user_avatar/www.chiefdelphi.com/hage-043/{size}/177637_2.png"
                    },
                    "bookmarked": false,
                    "actions_summary": [],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 16846,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "user_custom_fields": {
                        "user_field_4": "WPILib controls | Choreo optimizer backend"
                    },
                    "post_url": "/t/velocity-profile-based-on-sysid-constants/440175/3",
                    "custom_user_title": "WPILib controls | Choreo optimizer backend",
                    "reactions": [],
                    "current_user_reaction": null,
                    "reaction_users_count": 0,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": null
                },
                {
                    "id": 3418188,
                    "name": "system",
                    "username": "system",
                    "avatar_template": "/uploads/default/original/4X/9/3/2/93234578e69f55873c63fc00fe2d0d85f23bce55.png",
                    "created_at": "2024-08-26T17:09:39.102Z",
                    "cooked": "This topic was automatically closed 365 days after the last reply. New replies are no longer allowed.",
                    "post_number": 4,
                    "post_type": 3,
                    "posts_count": 4,
                    "updated_at": "2024-08-26T17:09:39.102Z",
                    "reply_count": 0,
                    "reply_to_post_number": null,
                    "quote_count": 0,
                    "incoming_link_count": 0,
                    "reads": 3,
                    "readers_count": 2,
                    "score": 0.6,
                    "yours": false,
                    "topic_id": 440175,
                    "topic_slug": "velocity-profile-based-on-sysid-constants",
                    "display_username": "system",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 1,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "read": true,
                    "user_title": "",
                    "bookmarked": false,
                    "actions_summary": [],
                    "moderator": true,
                    "admin": true,
                    "staff": true,
                    "user_id": -1,
                    "hidden": false,
                    "trust_level": 4,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "action_code": "autoclosed.enabled",
                    "post_url": "/t/velocity-profile-based-on-sysid-constants/440175/4",
                    "custom_user_title": null,
                    "reactions": [],
                    "current_user_reaction": null,
                    "reaction_users_count": 0,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": null
                }
            ],
            "stream": [
                3227386,
                3227390,
                3227396,
                3418188
            ]
        },
        "timeline_lookup": [
            [
                1,
                776
            ],
            [
                4,
                411
            ]
        ],
        "suggested_topics": [
            {
                "fancy_title": "2 Orange PI 5&rsquo;s with PhotonVision",
                "id": 483730,
                "title": "2 Orange PI 5's with PhotonVision",
                "slug": "2-orange-pi-5s-with-photonvision",
                "posts_count": 2,
                "reply_count": 0,
                "highest_post_number": 2,
                "image_url": null,
                "created_at": "2025-01-26T22:09:52.526Z",
                "last_posted_at": "2025-01-26T22:22:25.329Z",
                "bumped": true,
                "bumped_at": "2025-01-26T22:22:25.329Z",
                "archetype": "regular",
                "unseen": false,
                "pinned": false,
                "unpinned": null,
                "excerpt": "We plan on using 2 Pi’s each with 2 cameras. Is there any networking concern about such a setup. I’m concerned about dipping into the local PhotonVision GUI and if a port needs to be configured on t…",
                "visible": true,
                "closed": false,
                "archived": false,
                "bookmarked": null,
                "liked": null,
                "tags": [],
                "tags_descriptions": {},
                "like_count": 1,
                "views": 146,
                "category_id": 30,
                "featured_link": null,
                "has_accepted_answer": false,
                "sidecar_installed": true,
                "include_dominant_colour": false,
                "topic_post_id": 3493277,
                "topic_post_liked": false,
                "topic_post_can_like": false,
                "topic_post_can_unlike": false,
                "topic_post_bookmarked": true,
                "topic_post_is_current_users": null,
                "topic_post_number": 1,
                "topic_post_user": {
                    "id": 48345,
                    "username": "narmstro",
                    "name": "Nicholas Armstrong",
                    "avatar_template": "/letter_avatar_proxy/v4/letter/n/5e9695/{size}.png"
                },
                "posters": [
                    {
                        "extras": null,
                        "description": "Original Poster",
                        "user": {
                            "id": 48345,
                            "username": "narmstro",
                            "name": "Nicholas Armstrong",
                            "avatar_template": "/letter_avatar_proxy/v4/letter/n/5e9695/{size}.png",
                            "trust_level": 2
                        }
                    },
                    {
                        "extras": "latest",
                        "description": "Most Recent Poster",
                        "user": {
                            "id": 50684,
                            "username": "crueter",
                            "name": "",
                            "avatar_template": "/user_avatar/www.chiefdelphi.com/crueter/{size}/258043_2.png",
                            "trust_level": 2
                        }
                    }
                ]
            },
            {
                "fancy_title": "PhotonVision Object Detection",
                "id": 477296,
                "title": "PhotonVision Object Detection",
                "slug": "photonvision-object-detection",
                "posts_count": 8,
                "reply_count": 4,
                "highest_post_number": 8,
                "image_url": null,
                "created_at": "2024-12-24T18:04:23.384Z",
                "last_posted_at": "2024-12-24T20:24:47.430Z",
                "bumped": true,
                "bumped_at": "2024-12-24T20:24:47.430Z",
                "archetype": "regular",
                "unseen": false,
                "pinned": false,
                "unpinned": null,
                "excerpt": "When using a Neural Network detection pipeline how do you get the name of the object detected in PhotonLib. Which method provides it?",
                "visible": true,
                "closed": false,
                "archived": false,
                "bookmarked": null,
                "liked": null,
                "tags": [],
                "tags_descriptions": {},
                "like_count": 2,
                "views": 435,
                "category_id": 30,
                "featured_link": null,
                "has_accepted_answer": false,
                "sidecar_installed": true,
                "include_dominant_colour": false,
                "topic_post_id": 3463150,
                "topic_post_liked": false,
                "topic_post_can_like": false,
                "topic_post_can_unlike": false,
                "topic_post_bookmarked": false,
                "topic_post_is_current_users": null,
                "topic_post_number": 1,
                "topic_post_user": {
                    "id": 48345,
                    "username": "narmstro",
                    "name": "Nicholas Armstrong",
                    "avatar_template": "/letter_avatar_proxy/v4/letter/n/5e9695/{size}.png"
                },
                "posters": [
                    {
                        "extras": null,
                        "description": "Original Poster",
                        "user": {
                            "id": 48345,
                            "username": "narmstro",
                            "name": "Nicholas Armstrong",
                            "avatar_template": "/letter_avatar_proxy/v4/letter/n/5e9695/{size}.png",
                            "trust_level": 2
                        }
                    },
                    {
                        "extras": "latest",
                        "description": "Most Recent Poster",
                        "user": {
                            "id": 24613,
                            "username": "viggy96",
                            "name": "viggy96",
                            "avatar_template": "/user_avatar/www.chiefdelphi.com/viggy96/{size}/252784_2.png",
                            "trust_level": 2
                        }
                    }
                ]
            },
            {
                "fancy_title": "New Team-Code Incompetence",
                "id": 485468,
                "title": "New Team-Code Incompetence",
                "slug": "new-team-code-incompetence",
                "posts_count": 15,
                "reply_count": 13,
                "highest_post_number": 15,
                "image_url": null,
                "created_at": "2025-02-06T22:08:06.611Z",
                "last_posted_at": "2025-02-07T02:17:38.330Z",
                "bumped": true,
                "bumped_at": "2025-02-07T02:17:38.330Z",
                "archetype": "regular",
                "unseen": false,
                "pinned": false,
                "unpinned": null,
                "excerpt": "Greetings from Team 9453, We are relatively new to robot programming and do not have formal experience in coding. Last year, we successfully utilized code provided by The Everybot. However, this year…",
                "visible": true,
                "closed": false,
                "archived": false,
                "bookmarked": null,
                "liked": null,
                "tags": [],
                "tags_descriptions": {},
                "like_count": 2,
                "views": 553,
                "category_id": 30,
                "featured_link": null,
                "has_accepted_answer": false,
                "sidecar_installed": true,
                "include_dominant_colour": false,
                "topic_post_id": 3504406,
                "topic_post_liked": false,
                "topic_post_can_like": false,
                "topic_post_can_unlike": false,
                "topic_post_bookmarked": false,
                "topic_post_is_current_users": null,
                "topic_post_number": 1,
                "topic_post_user": {
                    "id": 71720,
                    "username": "9453_MSH",
                    "name": "Mason ",
                    "avatar_template": "/letter_avatar_proxy/v4/letter/9/7ea924/{size}.png"
                },
                "posters": [
                    {
                        "extras": "latest",
                        "description": "Original Poster, Most Recent Poster",
                        "user": {
                            "id": 71720,
                            "username": "9453_MSH",
                            "name": "Mason ",
                            "avatar_template": "/letter_avatar_proxy/v4/letter/9/7ea924/{size}.png",
                            "trust_level": 1
                        }
                    },
                    {
                        "extras": null,
                        "description": "Frequent Poster",
                        "user": {
                            "id": 18342,
                            "username": "jdaming",
                            "name": "Jason Daming",
                            "avatar_template": "/user_avatar/www.chiefdelphi.com/jdaming/{size}/137720_2.png",
                            "trust_level": 2
                        }
                    },
                    {
                        "extras": null,
                        "description": "Frequent Poster",
                        "user": {
                            "id": 51887,
                            "username": "nstrike",
                            "name": "",
                            "avatar_template": "/user_avatar/www.chiefdelphi.com/nstrike/{size}/167038_2.png",
                            "trust_level": 2
                        }
                    }
                ]
            },
            {
                "fancy_title": "Duty cycle encoders",
                "id": 491004,
                "title": "Duty cycle encoders",
                "slug": "duty-cycle-encoders",
                "posts_count": 13,
                "reply_count": 7,
                "highest_post_number": 13,
                "image_url": null,
                "created_at": "2025-02-10T12:10:08.950Z",
                "last_posted_at": "2025-02-12T02:06:13.900Z",
                "bumped": true,
                "bumped_at": "2025-02-12T02:06:13.900Z",
                "archetype": "regular",
                "unseen": false,
                "pinned": false,
                "unpinned": null,
                "excerpt": "Check out WPILib’s documentation on DutyCycleEncoders and the class’s API documentation for more info, but basically the 0-1 value is by default representing one rotation. Keep in mind that this is an…",
                "visible": true,
                "closed": false,
                "archived": false,
                "bookmarked": null,
                "liked": null,
                "tags": [],
                "tags_descriptions": {},
                "like_count": 0,
                "views": 467,
                "category_id": 30,
                "featured_link": null,
                "has_accepted_answer": true,
                "sidecar_installed": true,
                "include_dominant_colour": false,
                "topic_post_id": 3522440,
                "topic_post_liked": false,
                "topic_post_can_like": false,
                "topic_post_can_unlike": false,
                "topic_post_bookmarked": false,
                "topic_post_is_current_users": null,
                "topic_post_number": 7,
                "topic_post_user": {
                    "id": 71822,
                    "username": "LordOfFrogs",
                    "name": "Tori Dell",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/lordoffrogs/{size}/246752_2.png"
                },
                "posters": [
                    {
                        "extras": null,
                        "description": "Original Poster",
                        "user": {
                            "id": 71369,
                            "username": "Jakeb",
                            "name": "",
                            "avatar_template": "/letter_avatar_proxy/v4/letter/j/e19adc/{size}.png",
                            "trust_level": 1
                        }
                    },
                    {
                        "extras": "latest",
                        "description": "Most Recent Poster, Accepted Answer",
                        "user": {
                            "id": 71822,
                            "username": "LordOfFrogs",
                            "name": "Tori Dell",
                            "avatar_template": "/user_avatar/www.chiefdelphi.com/lordoffrogs/{size}/246752_2.png",
                            "trust_level": 2
                        }
                    },
                    {
                        "extras": null,
                        "description": "Frequent Poster",
                        "user": {
                            "id": 9105,
                            "username": "Fletch1373",
                            "name": "Fletch",
                            "avatar_template": "/user_avatar/www.chiefdelphi.com/fletch1373/{size}/220073_2.png",
                            "trust_level": 2
                        }
                    },
                    {
                        "extras": null,
                        "description": "Frequent Poster",
                        "user": {
                            "id": 26422,
                            "username": "pinksmore",
                            "name": "Kayla Toll",
                            "avatar_template": "/user_avatar/www.chiefdelphi.com/pinksmore/{size}/8625_2.png",
                            "trust_level": 2
                        }
                    },
                    {
                        "extras": null,
                        "description": "Frequent Poster",
                        "user": {
                            "id": 51887,
                            "username": "nstrike",
                            "name": "",
                            "avatar_template": "/user_avatar/www.chiefdelphi.com/nstrike/{size}/167038_2.png",
                            "trust_level": 2
                        }
                    }
                ]
            },
            {
                "fancy_title": "Elevator drifting upwards",
                "id": 496492,
                "title": "Elevator drifting upwards",
                "slug": "elevator-drifting-upwards",
                "posts_count": 16,
                "reply_count": 7,
                "highest_post_number": 16,
                "image_url": null,
                "created_at": "2025-03-21T21:03:39.823Z",
                "last_posted_at": "2025-03-22T23:26:25.886Z",
                "bumped": true,
                "bumped_at": "2025-03-22T23:26:25.886Z",
                "archetype": "regular",
                "unseen": false,
                "pinned": false,
                "unpinned": null,
                "excerpt": "Hey guys, We have a problem where even though we have all our feed forward constants set to zero and we run a pure profiled pid, the elevator creeps upwards slowly even after the pid reaches the set …",
                "visible": true,
                "closed": false,
                "archived": false,
                "bookmarked": null,
                "liked": null,
                "tags": [],
                "tags_descriptions": {},
                "like_count": 10,
                "views": 348,
                "category_id": 30,
                "featured_link": null,
                "has_accepted_answer": false,
                "sidecar_installed": true,
                "include_dominant_colour": false,
                "topic_post_id": 3564926,
                "topic_post_liked": false,
                "topic_post_can_like": false,
                "topic_post_can_unlike": false,
                "topic_post_bookmarked": false,
                "topic_post_is_current_users": null,
                "topic_post_number": 1,
                "topic_post_user": {
                    "id": 55168,
                    "username": "Rzheng1232",
                    "name": "Ryan zheng",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/rzheng1232/{size}/182897_2.png"
                },
                "posters": [
                    {
                        "extras": null,
                        "description": "Original Poster",
                        "user": {
                            "id": 55168,
                            "username": "Rzheng1232",
                            "name": "Ryan zheng",
                            "avatar_template": "/user_avatar/www.chiefdelphi.com/rzheng1232/{size}/182897_2.png",
                            "trust_level": 2
                        }
                    },
                    {
                        "extras": null,
                        "description": "Frequent Poster",
                        "user": {
                            "id": 51771,
                            "username": "jsjohn2000",
                            "name": "Jason Johnson",
                            "avatar_template": "/letter_avatar_proxy/v4/letter/j/a88e57/{size}.png",
                            "trust_level": 2
                        }
                    },
                    {
                        "extras": null,
                        "description": "Frequent Poster",
                        "user": {
                            "id": 35208,
                            "username": "bathtubed",
                            "name": "Eric Ward",
                            "avatar_template": "/user_avatar/www.chiefdelphi.com/bathtubed/{size}/220364_2.png",
                            "trust_level": 2
                        }
                    },
                    {
                        "extras": null,
                        "description": "Frequent Poster",
                        "user": {
                            "id": 44763,
                            "username": "tekdemo",
                            "name": "Dan",
                            "avatar_template": "/user_avatar/www.chiefdelphi.com/tekdemo/{size}/138330_2.png",
                            "trust_level": 2
                        }
                    },
                    {
                        "extras": "latest",
                        "description": "Most Recent Poster",
                        "user": {
                            "id": 62698,
                            "username": "CakeDeer6",
                            "name": "Ethan Grieshop",
                            "avatar_template": "/user_avatar/www.chiefdelphi.com/cakedeer6/{size}/264680_2.png",
                            "trust_level": 2
                        }
                    }
                ]
            }
        ],
        "tags": [],
        "tags_descriptions": {},
        "fancy_title": "Velocity Profile Based On Sysid Constants?",
        "id": 440175,
        "title": "Velocity Profile Based On Sysid Constants?",
        "posts_count": 4,
        "created_at": "2023-08-27T15:20:39.589Z",
        "views": 297,
        "reply_count": 1,
        "like_count": 0,
        "last_posted_at": "2024-08-26T17:09:39.102Z",
        "visible": true,
        "closed": true,
        "archived": false,
        "has_summary": false,
        "archetype": "regular",
        "slug": "velocity-profile-based-on-sysid-constants",
        "category_id": 30,
        "word_count": 241,
        "deleted_at": null,
        "user_id": 60211,
        "featured_link": null,
        "pinned_globally": false,
        "pinned_at": null,
        "pinned_until": null,
        "image_url": null,
        "slow_mode_seconds": 0,
        "draft": null,
        "draft_key": "topic_440175",
        "draft_sequence": null,
        "unpinned": null,
        "pinned": false,
        "current_post_number": 1,
        "highest_post_number": 4,
        "deleted_by": null,
        "actions_summary": [
            {
                "id": 4,
                "count": 0,
                "hidden": false,
                "can_act": false
            },
            {
                "id": 8,
                "count": 0,
                "hidden": false,
                "can_act": false
            },
            {
                "id": 10,
                "count": 0,
                "hidden": false,
                "can_act": false
            },
            {
                "id": 7,
                "count": 0,
                "hidden": false,
                "can_act": false
            }
        ],
        "chunk_size": 20,
        "bookmarked": false,
        "topic_timer": null,
        "message_bus_last_id": 0,
        "participant_count": 3,
        "show_read_indicator": false,
        "thumbnails": null,
        "slow_mode_enabled_until": null,
        "valid_reactions": [
            "heart",
            "laughing",
            "point_up",
            "+1",
            "-1",
            "100",
            "open_mouth",
            "cry",
            "question",
            "thinking",
            "call_me_hand",
            "hugs",
            "angry"
        ],
        "user_chosen_thumbnail_url": null,
        "sidecar_installed": true,
        "can_vote": false,
        "vote_count": 0,
        "user_voted": false,
        "discourse_zendesk_plugin_zendesk_id": null,
        "discourse_zendesk_plugin_zendesk_url": "https://your-url.zendesk.com/agent/tickets/",
        "details": {
            "can_edit": false,
            "notification_level": 1,
            "participants": [
                {
                    "id": 16846,
                    "username": "calcmogul",
                    "name": "Tyler Veness",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/calcmogul/{size}/128045_2.png",
                    "post_count": 1,
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_color": null,
                    "flair_bg_color": null,
                    "flair_group_id": null,
                    "trust_level": 2
                },
                {
                    "id": 51704,
                    "username": "hage-043",
                    "name": "Danny",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/hage-043/{size}/177637_2.png",
                    "post_count": 1,
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_color": null,
                    "flair_bg_color": null,
                    "flair_group_id": null,
                    "trust_level": 2
                },
                {
                    "id": 60211,
                    "username": "ControlFreak",
                    "name": "Asaf Eyal",
                    "avatar_template": "/letter_avatar_proxy/v4/letter/c/71e660/{size}.png",
                    "post_count": 1,
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_color": null,
                    "flair_bg_color": null,
                    "flair_group_id": null,
                    "trust_level": 1
                }
            ],
            "created_by": {
                "id": 60211,
                "username": "ControlFreak",
                "name": "Asaf Eyal",
                "avatar_template": "/letter_avatar_proxy/v4/letter/c/71e660/{size}.png"
            },
            "last_poster": {
                "id": -1,
                "username": "system",
                "name": "system",
                "avatar_template": "/uploads/default/original/4X/9/3/2/93234578e69f55873c63fc00fe2d0d85f23bce55.png"
            },
            "links": [
                {
                    "url": "https://github.com/wpilibsuite/allwpilib/issues/5455",
                    "title": "ExponentialProfile class for DC motor motion profiling · Issue #5455 · wpilibsuite/allwpilib · GitHub",
                    "internal": false,
                    "attachment": false,
                    "reflection": false,
                    "clicks": 27,
                    "user_id": 16846,
                    "domain": "github.com",
                    "root_domain": "github.com"
                }
            ]
        },
        "bookmarks": []
    }
}