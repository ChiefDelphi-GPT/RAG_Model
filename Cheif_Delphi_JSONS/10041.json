{
    "data": {
        "post_stream": {
            "posts": [
                {
                    "id": 3247225,
                    "name": "Ian Jensen",
                    "username": "ijensen",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/ijensen/{size}/203356_2.png",
                    "created_at": "2023-10-30T17:15:44.939Z",
                    "cooked": "PRE POST WARING: This post contains the wishes and dreams of someone who is by all account not technically informed/trained/experienced enough (yet!) to make said wishes and have said dreams, specifically when talking about PCB design and writing software, and the technical challenges that come with it. This post, unless spun off (probable to happen, and I won’t stop it if it does), is targeting a lot more of the on-paper design that comes before hand.\n\nWith the advent of more and more brushless motor options coming to FIRST, it’s only a matter of time before we end up with a general motor ecosystem like we had before brushless, multiple motor options and multiple options to drive said motors, with general interchangeability between vendors. This begs the question, are there things the FIRST community is asking for in a brushless motor controller that is not yet available. Would these features need circuitry on the board, or does it only need software?\n\nI ask this because, for better or for worse, I’m in the beginning research stages to develop my own brushless motor controller to emulate FRC style controllers. This project is a step down the line in a general wish to learn some more specific skills to add to my resume, specifically in the context of this project, PCB design and software/“firmware” development. Because this project is specifically aimed at emulating an FRC style motor controller, I figured I’d ask the community for a punch list of items they wish to see in a controller.\n\nMy background and degree is in mechatronics, industrial automation engineering, so I’ve got a lot of the general background knowledge one needs to take a crack at a project like this, specifically electrical theory and multiple classes and labs focusing on machine control and the safety that comes with designing control circuits and software. I’m currently gaining knowledge in PCB design during my internship.\n\nI’ve been looking into the brushless motor driver ICs out on the market. Specifically TIs MCT8316Z , which on the face of the features list sounds like a driver meant for FRC applications, and from reading the data sheet, should be fairly easy to control from a micro controller (my current plan will make use of a COTS controller that plugs into board with the driver, I’m thinking a RPI-Pico/similar). The micro controller would then also be the vehicle in which to program/communicate with over CAN and handle inputs and outputs from a general data port for external control schemes (external limit switches/sensors/etc). In this way, a micro controller and this IC to me is no different (take that with a grain of salt) from a PLC and a VFD.\n\nThen there’s the challenge of writing software to control the driver chip. When it comes to my own integration of this project, the firmware will most likely not be as finished as REV’s or CTRE’s software, nor the desktop apps as finished as REV’s hardware client or Phoenix Tuner. I understand that current FRC controllers can use the CAN bus or a simple PWM from the RIO to actually capture data needed to control the motor, and that any configuration is programmed into the controller beforehand and generally not changed during a match. All of that essentially to create a truth table in code that looks out the data stream coming in and determines high/low outputs to the pins on the driver IC.\n\nOn the actual “usability of the hardware” side, seems wago style lever connectors are becoming more popular in FRC in general, so I intended to design this board with those connectors for main power in from the PDP and out to the motor, and for CAN/PWM. I wish to have the final package similar in fit/function to the SPARK MAX. In fact a NEO/NEO550 will probably be the motor I end up using to test the board, so the encoder port will match NEO standard pin outs.\n\nOther than reading through the data sheets for the both the mentioned IC above the the RPI-Pico, there isn’t much yet on paper, and most definitely nothing in stone. If it’s not obvious, the reason I’m even starting this thread so early on in the design process is that I wish for this project to be somewhat open source. I am not designing this controller for use on an FRC bot, or as anything I’d go to FIRST with the goal of developing a product for use in competition. I am designing this controller and documenting the process as a general resource to anyone who even thinks of doing this, especially because it’s technically totally possible for a team to develop their own controller, seeing as how PCB design software is included in the KOP now a days. (Maybe REV or CTRE would like to provide insight from their own products?)\n\nSo, just in case you forgot what my initial question was. What am I missing from my general understanding of FRC style controllers, and what features would you like to see in a controller that’s missing from currently available controllers?",
                    "post_number": 1,
                    "post_type": 1,
                    "posts_count": 25,
                    "updated_at": "2023-10-30T21:20:52.765Z",
                    "reply_count": 2,
                    "reply_to_post_number": null,
                    "quote_count": 0,
                    "incoming_link_count": 1128,
                    "reads": 663,
                    "readers_count": 662,
                    "score": 5857.6,
                    "yours": false,
                    "topic_id": 443366,
                    "topic_slug": "designing-an-frc-style-brushless-motor-controller",
                    "display_username": "Ian Jensen",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 2,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "link_counts": [
                        {
                            "url": "https://www.ti.com/product/MCT8316Z",
                            "internal": false,
                            "reflection": false,
                            "title": "MCT8316Z data sheet, product information and support | TI.com",
                            "clicks": 47
                        },
                        {
                            "url": "https://www.chiefdelphi.com/t/project-developing-a-bldc-motor-driver-mostly-from-scratch/503756/7",
                            "internal": true,
                            "reflection": true,
                            "title": "[Project] Developing a BLDC motor driver (mostly) from scratch",
                            "clicks": 0
                        }
                    ],
                    "read": true,
                    "user_title": "",
                    "bookmarked": false,
                    "actions_summary": [
                        {
                            "id": 2,
                            "count": 5
                        }
                    ],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 30857,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "user_custom_fields": {
                        "user_field_4": "FRC Voulenteer | FRC 639 Off Season Mentor | FRC 5881 Alum"
                    },
                    "post_url": "/t/designing-an-frc-style-brushless-motor-controller/443366/1",
                    "custom_user_title": "FRC Voulenteer | FRC 639 Off Season Mentor | FRC 5881 Alum",
                    "reactions": [
                        {
                            "id": "heart",
                            "type": "emoji",
                            "count": 5
                        }
                    ],
                    "current_user_reaction": null,
                    "reaction_users_count": 5,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": null,
                    "can_vote": false
                },
                {
                    "id": 3247233,
                    "name": "Ric Ferrell Mentor for 5503 Tiger Trons",
                    "username": "RicDV",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/ricdv/{size}/188502_2.png",
                    "created_at": "2023-10-30T17:31:35.143Z",
                    "cooked": "What kind of drivetrain?  IF a KoP…you can run a NEO/Sparkmax combo with great results.  Swerve…same thing…I would look at the Swerve Max setup.  It is an all inclusive kit (minus the motors…can use 2 NEOs per corner or NEO and 550).  Motors are inexpensive.\n\nSince we were introduced to wago’s…we solely use them.\n\nREVs stuff is good for what you need…as to Phoenix…I will let others address that.\n\nThe other things you need to consider is the availability of stuff.  Falcons are hard to get (can be found used though)…the Kraken is still not officially out to us mere mortals.  NEOs are available…SparkMax as well…though both can be on back order at different times.  And then there is the Vortex/Flex…that are not out as well.\n\nCost is always a concern for us.  We don’t have the largest budget.\n\nCoding and things…I will leave to the pros on this as well.\n\nWheels and “tires”…make sure you have sticky ones!  And a lot of back ups as well.",
                    "post_number": 2,
                    "post_type": 1,
                    "posts_count": 25,
                    "updated_at": "2023-10-30T17:31:35.143Z",
                    "reply_count": 0,
                    "reply_to_post_number": null,
                    "quote_count": 0,
                    "incoming_link_count": 6,
                    "reads": 579,
                    "readers_count": 578,
                    "score": 145.8,
                    "yours": false,
                    "topic_id": 443366,
                    "topic_slug": "designing-an-frc-style-brushless-motor-controller",
                    "display_username": "Ric Ferrell Mentor for 5503 Tiger Trons",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 1,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "read": true,
                    "user_title": "",
                    "bookmarked": false,
                    "actions_summary": [],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 48664,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "user_custom_fields": {
                        "user_field_4": "Mentor 5503"
                    },
                    "post_url": "/t/designing-an-frc-style-brushless-motor-controller/443366/2",
                    "custom_user_title": "Mentor 5503",
                    "reactions": [
                        {
                            "id": "question",
                            "type": "emoji",
                            "count": 7
                        }
                    ],
                    "current_user_reaction": null,
                    "reaction_users_count": 7,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": null
                },
                {
                    "id": 3247243,
                    "name": "Ric Ferrell Mentor for 5503 Tiger Trons",
                    "username": "RicDV",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/ricdv/{size}/188502_2.png",
                    "created_at": "2023-10-30T17:40:31.496Z",
                    "cooked": "I see confusion…and it is me.  I misread the thought.",
                    "post_number": 3,
                    "post_type": 1,
                    "posts_count": 25,
                    "updated_at": "2023-10-30T17:40:31.496Z",
                    "reply_count": 0,
                    "reply_to_post_number": null,
                    "quote_count": 0,
                    "incoming_link_count": 0,
                    "reads": 519,
                    "readers_count": 518,
                    "score": 118.8,
                    "yours": false,
                    "topic_id": 443366,
                    "topic_slug": "designing-an-frc-style-brushless-motor-controller",
                    "display_username": "Ric Ferrell Mentor for 5503 Tiger Trons",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 1,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "read": true,
                    "user_title": "",
                    "bookmarked": false,
                    "actions_summary": [
                        {
                            "id": 2,
                            "count": 2
                        }
                    ],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 48664,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "user_custom_fields": {
                        "user_field_4": "Mentor 5503"
                    },
                    "post_url": "/t/designing-an-frc-style-brushless-motor-controller/443366/3",
                    "custom_user_title": "Mentor 5503",
                    "reactions": [
                        {
                            "id": "+1",
                            "type": "emoji",
                            "count": 1
                        },
                        {
                            "id": "heart",
                            "type": "emoji",
                            "count": 1
                        }
                    ],
                    "current_user_reaction": null,
                    "reaction_users_count": 2,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": null
                },
                {
                    "id": 3247262,
                    "name": "",
                    "username": "andej",
                    "avatar_template": "/letter_avatar_proxy/v4/letter/a/ccd318/{size}.png",
                    "created_at": "2023-10-30T18:17:24.716Z",
                    "cooked": "A couple thoughts from someone with absolutely no qualifications:\n\nWhy use an RPi Pico or other off-the-shelf dev board? It’s not very hard to make your own if you’re already doing SMD assembly and design, and tight hardware integration matters a lot. Also lets you add features like TVS diodes that generally aren’t included in dev boards.\n\nThat motor driver is only rated for 8 A continuous, which is pretty much nothing in FRC.\n\nWhy go with a motor driver with integrated FETs? It’ll probably be simpler to do discrete transistors and thermals/current capacity will be better, and doing motor control in MCU firmware will be cheaper/more configurable than doing it in silicon on that drier chip.\n\nCAN as a protocol needs state, so a truth table won’t work. Even without, I think it would pretty quickly balloon in size. I would definitely give a lot more thought to software, and maybe look towards a full RTOS with scheduling etc.\n\nThis is an interesting project, I look forward to seeing more!\n\n(by the way, I wouldn’t use the Altium included in the KoP. KiCad is significantly more accessable and is fairly comparable)",
                    "post_number": 4,
                    "post_type": 1,
                    "posts_count": 25,
                    "updated_at": "2023-10-30T18:17:59.346Z",
                    "reply_count": 1,
                    "reply_to_post_number": null,
                    "quote_count": 0,
                    "incoming_link_count": 1,
                    "reads": 488,
                    "readers_count": 487,
                    "score": 122.6,
                    "yours": false,
                    "topic_id": 443366,
                    "topic_slug": "designing-an-frc-style-brushless-motor-controller",
                    "display_username": "",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 1,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "read": true,
                    "user_title": null,
                    "bookmarked": false,
                    "actions_summary": [
                        {
                            "id": 2,
                            "count": 6
                        }
                    ],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 52551,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "user_custom_fields": {
                        "user_field_4": ""
                    },
                    "post_url": "/t/designing-an-frc-style-brushless-motor-controller/443366/4",
                    "custom_user_title": null,
                    "reactions": [
                        {
                            "id": "point_up",
                            "type": "emoji",
                            "count": 4
                        },
                        {
                            "id": "100",
                            "type": "emoji",
                            "count": 1
                        },
                        {
                            "id": "heart",
                            "type": "emoji",
                            "count": 1
                        }
                    ],
                    "current_user_reaction": null,
                    "reaction_users_count": 6,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": null
                },
                {
                    "id": 3247286,
                    "name": "Ian Jensen",
                    "username": "ijensen",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/ijensen/{size}/203356_2.png",
                    "created_at": "2023-10-30T19:21:48.307Z",
                    "cooked": "andej:\n\nWhy use an RPi Pico or other off-the-shelf dev board?\n\nWhile I believe it would be better for total size of package to integrate the controller into one PCB, and probably best from a cost and production standpoint, I would rather only kill one half of the project accidentally and be able to replace it than kill an entire single unit. Maybe in a future revision, but I’m keeping both separate at first.\n\nandej:\n\nThat motor driver is only rated for 8 A continuous, which is pretty much nothing in FRC .\n\nYeah, I was waiting to hear someone say that. I believe you’re right. When I was originally reading through the paper, I understood that 8 amp number to be the output per phase, not total. Either way, you’re right, that’s probably way too low for an FRC application.\n\nandej:\n\nWhy go with a motor driver with integrated FETs? It’ ll probably be simpler to do discrete transistors and thermals/current capacity will be better, and doing motor control in MCU firmware will be cheaper/more configurable than doing it in silicon on that drier chip.\n\nPointing that out plus what you said in the last list item is making me reconsider the IC. Looking at some other options, I’m beginning to realize external FETs is the better strategy, and that I need just a gate driver IC.\n\nandej:\n\nCAN as a protocol needs state, so a truth table won’t work. Even without, I think it would pretty quickly balloon in size. I would definitely give a lot more thought to software, and maybe look towards a full RTOS with scheduling etc.\n\nYou’re right, and I used the term incorrectly/out of context. I understand that translating CAN frames into data which in turn can then be evaluated to decide the state of pins is more involved than a truth table. I was, for half a second, considering an RPi -Zero over the Pico. That consideration may come back if I find I need a controller more readily able to process CAN/[insert comms protocol here]",
                    "post_number": 5,
                    "post_type": 1,
                    "posts_count": 25,
                    "updated_at": "2023-10-30T19:21:48.307Z",
                    "reply_count": 0,
                    "reply_to_post_number": 4,
                    "quote_count": 1,
                    "incoming_link_count": 9,
                    "reads": 422,
                    "readers_count": 421,
                    "score": 129.4,
                    "yours": false,
                    "topic_id": 443366,
                    "topic_slug": "designing-an-frc-style-brushless-motor-controller",
                    "display_username": "Ian Jensen",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 1,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "read": true,
                    "user_title": "",
                    "bookmarked": false,
                    "actions_summary": [],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 30857,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "user_custom_fields": {
                        "user_field_4": "FRC Voulenteer | FRC 639 Off Season Mentor | FRC 5881 Alum"
                    },
                    "post_url": "/t/designing-an-frc-style-brushless-motor-controller/443366/5",
                    "custom_user_title": "FRC Voulenteer | FRC 639 Off Season Mentor | FRC 5881 Alum",
                    "reactions": [],
                    "current_user_reaction": null,
                    "reaction_users_count": 0,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": null
                },
                {
                    "id": 3247301,
                    "name": "Allen Nuttle",
                    "username": "nuttle",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/nuttle/{size}/124105_2.png",
                    "created_at": "2023-10-30T20:10:59.455Z",
                    "cooked": "How Brushless DC Motor Works? BLDC and ESC Explained is a pretty good introduction.  Spend a lot of time searching and picking parts, reading data sheets, and understanding everything.  A lot of these parts include reference designs, and have reference firmware available.  Iterate things on paper until you are comfortable with everything, then compare to the guts of some of the current offerings.\n\nYou should probably try for a controller that drives the gates of all six external FETs and is designed for brushless motor control.  Consider what kinds of sensing you will use, although your motor choice may dictate what you have available.  FRC CAN has a safety protocol you’ll want to adopt, unless you never intend to put this on a robot.\n\nIf you pick the right parts, a lot of things will be better/easier.",
                    "post_number": 6,
                    "post_type": 1,
                    "posts_count": 25,
                    "updated_at": "2023-10-30T20:10:59.455Z",
                    "reply_count": 1,
                    "reply_to_post_number": null,
                    "quote_count": 0,
                    "incoming_link_count": 1,
                    "reads": 327,
                    "readers_count": 326,
                    "score": 90.4,
                    "yours": false,
                    "topic_id": 443366,
                    "topic_slug": "designing-an-frc-style-brushless-motor-controller",
                    "display_username": "Allen Nuttle",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 1,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "link_counts": [
                        {
                            "url": "https://howtomechatronics.com/how-it-works/how-brushless-motor-and-esc-work/",
                            "internal": false,
                            "reflection": false,
                            "title": "How Brushless DC Motor Works? BLDC and ESC Explained",
                            "clicks": 19
                        }
                    ],
                    "read": true,
                    "user_title": "",
                    "bookmarked": false,
                    "actions_summary": [
                        {
                            "id": 2,
                            "count": 1
                        }
                    ],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 14283,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "user_custom_fields": {
                        "user_field_4": ""
                    },
                    "post_url": "/t/designing-an-frc-style-brushless-motor-controller/443366/6",
                    "custom_user_title": null,
                    "reactions": [
                        {
                            "id": "heart",
                            "type": "emoji",
                            "count": 1
                        }
                    ],
                    "current_user_reaction": null,
                    "reaction_users_count": 1,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": null
                },
                {
                    "id": 3247310,
                    "name": "Chris Gerth",
                    "username": "gerthworm",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/gerthworm/{size}/268658_2.png",
                    "created_at": "2023-10-30T20:29:53.299Z",
                    "cooked": "ijensen:\n\nThis begs the question, are there things the FIRST community is asking for in a brushless motor controller that is not yet available\n\nBetter supply chain and cheaper . The technical wants are much further down on my list at the moment.\n\nijensen:\n\nI’ve been looking into the brushless motor driver ICs out on the market. Specifically TIs MCT8316Z , which on the face of the features list sounds like a driver meant for FRC applications, and from reading the data sheet, should be fairly easy to control from a micro controller (my current plan will make use of a COTS controller that plugs into board with the driver, I’m thinking a RPI -Pico/similar). The micro controller would then also be the vehicle in which to program/communicate with over CAN and handle inputs and outputs from a general data port for external control schemes (external limit switches/sensors/etc). In this way, a micro controller and this IC to me is no different (take that with a grain of salt) from a PLC and a VFD.\n\nIf you pop a spark max open, you’ ll actually find two circuit boards. The system is roughly divided between “high power” and “low power”.\n\nThis is a good design for a few reasons:\n\nReduces the chances of electronics-killing current from ending up where you don’t want it\n\nIncreased chance you might be able to repair a unit and return it to the field without swapping 100% of its guts.\n\nIt’s bad design for other reasons:\n\nThe interconnect is a point of failure\n\nAssembly requires more steps (probably manual?) and therefore costs more\n\nAs a separate question, for development purposes, designing around a commonly-available dev board is a good way to get started. But unless you are purposefully trying to make something “hackable”, I’d flatten the PCB design down to just the layers you think your users might care about - not what’s easy for development.\n\nijensen:\n\nespecially because it’s technically totally possible for a team to develop their own controller, seeing as how PCB design software is included in the KOP now a days.\n\njlbpcb.com , my beloved.\n\nBut, that being said… note that anything that’s in the e-stop signal chain from button to actuator has to be FIRST tested/approved. Something a team custom builds is unlikely to ever fit this. A huge blocker to adoption on any project like this is getting HQ to make it legal.",
                    "post_number": 7,
                    "post_type": 1,
                    "posts_count": 25,
                    "updated_at": "2023-10-30T20:29:53.299Z",
                    "reply_count": 2,
                    "reply_to_post_number": null,
                    "quote_count": 1,
                    "incoming_link_count": 7,
                    "reads": 326,
                    "readers_count": 325,
                    "score": 125.2,
                    "yours": false,
                    "topic_id": 443366,
                    "topic_slug": "designing-an-frc-style-brushless-motor-controller",
                    "display_username": "Chris Gerth",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 1,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "link_counts": [
                        {
                            "url": "https://jlcpcb.com/?from=custompcb_us&gclid=Cj0KCQjwqP2pBhDMARIsAJQ0CzoOKGqUIlM3Bn1E_Heg_bFVVqq0-DuEDHSia9gJf2AoRucSvWDqh00aAiZDEALw_wcB",
                            "internal": false,
                            "reflection": false,
                            "title": "PCB Prototype & PCB Fabrication Manufacturer - JLCPCB",
                            "clicks": 4
                        }
                    ],
                    "read": true,
                    "user_title": "",
                    "bookmarked": false,
                    "actions_summary": [
                        {
                            "id": 2,
                            "count": 1
                        }
                    ],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 24617,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "user_custom_fields": {
                        "user_field_4": ""
                    },
                    "post_url": "/t/designing-an-frc-style-brushless-motor-controller/443366/7",
                    "custom_user_title": null,
                    "reactions": [
                        {
                            "id": "heart",
                            "type": "emoji",
                            "count": 1
                        },
                        {
                            "id": "point_up",
                            "type": "emoji",
                            "count": 1
                        }
                    ],
                    "current_user_reaction": null,
                    "reaction_users_count": 2,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": null
                },
                {
                    "id": 3247312,
                    "name": "Ian Jensen",
                    "username": "ijensen",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/ijensen/{size}/203356_2.png",
                    "created_at": "2023-10-30T20:30:45.618Z",
                    "cooked": "That’s one of the articles I found a few weeks back when this project was still just “How to wire an ESC to an arduino so I can have a battle bot.” The past few weeks have been learning how brushless motors are controlled, and I know I’ll be going back to those basics a lot during this process, so I thank you for pointing this out.\n\nThat being said, if anyone has some dead motor controllers they haven’t thrown out yet, I’d love to hack-em apart with axe and take a look around the insides…\n\nI’ll have to look into FRC CAN and it’s specifics, but I’ll keep that in mind for later down the line.\n\nA lot of this will be on paper first, if not for nothing, I am still just a college student with a college-student’s self earned budget of not a lot - tax",
                    "post_number": 8,
                    "post_type": 1,
                    "posts_count": 25,
                    "updated_at": "2023-10-30T20:30:45.618Z",
                    "reply_count": 0,
                    "reply_to_post_number": 6,
                    "quote_count": 0,
                    "incoming_link_count": 0,
                    "reads": 264,
                    "readers_count": 263,
                    "score": 52.8,
                    "yours": false,
                    "topic_id": 443366,
                    "topic_slug": "designing-an-frc-style-brushless-motor-controller",
                    "display_username": "Ian Jensen",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 1,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "read": true,
                    "user_title": "",
                    "reply_to_user": {
                        "id": 14283,
                        "username": "nuttle",
                        "name": "Allen Nuttle",
                        "avatar_template": "/user_avatar/www.chiefdelphi.com/nuttle/{size}/124105_2.png"
                    },
                    "bookmarked": false,
                    "actions_summary": [],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 30857,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "user_custom_fields": {
                        "user_field_4": "FRC Voulenteer | FRC 639 Off Season Mentor | FRC 5881 Alum"
                    },
                    "post_url": "/t/designing-an-frc-style-brushless-motor-controller/443366/8",
                    "custom_user_title": "FRC Voulenteer | FRC 639 Off Season Mentor | FRC 5881 Alum",
                    "reactions": [],
                    "current_user_reaction": null,
                    "reaction_users_count": 0,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": null
                },
                {
                    "id": 3247314,
                    "name": "Ian Jensen",
                    "username": "ijensen",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/ijensen/{size}/203356_2.png",
                    "created_at": "2023-10-30T20:44:17.797Z",
                    "cooked": "gerthworm:\n\nBut, that being said… note that anything that’s in the e-stop signal chain from button to actuator has to be FIRST tested/approved. Something a team custom builds is unlikely to ever fit this. A huge blocker to adoption on any project like this is getting HQ to make it legal.\n\nIt’s a good thing I’m not looking for FIRST ’s approval. I am not a company, nor am I representing one. I am not looking to make a product that could ever be thought of as safe enough for FIRST ’s safety theater. I am not trying to sell anything that one would choose over another COTS item. This project is falling strictly in the personal hobbies category… it just so happens that robotics in general finds itself in that category for me, FIRST is what I know best when it comes to robotics, and that only I could be responsible for the dangers that come with partaking in this hobby.\n\nThat being said, should I try to design to what I believe FIRST would want to see in a controller? It’s a nice idea, and I’ll definitely integrate at least some measurable amount of safety features… but it’s hard when the organization won’t transparently tell us what those safety requirements are and how they would prefer to see them implemented.",
                    "post_number": 9,
                    "post_type": 1,
                    "posts_count": 25,
                    "updated_at": "2023-10-30T20:44:17.797Z",
                    "reply_count": 0,
                    "reply_to_post_number": 7,
                    "quote_count": 1,
                    "incoming_link_count": 0,
                    "reads": 267,
                    "readers_count": 266,
                    "score": 68.4,
                    "yours": false,
                    "topic_id": 443366,
                    "topic_slug": "designing-an-frc-style-brushless-motor-controller",
                    "display_username": "Ian Jensen",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 1,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "read": true,
                    "user_title": "",
                    "bookmarked": false,
                    "actions_summary": [
                        {
                            "id": 2,
                            "count": 1
                        }
                    ],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 30857,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "user_custom_fields": {
                        "user_field_4": "FRC Voulenteer | FRC 639 Off Season Mentor | FRC 5881 Alum"
                    },
                    "post_url": "/t/designing-an-frc-style-brushless-motor-controller/443366/9",
                    "custom_user_title": "FRC Voulenteer | FRC 639 Off Season Mentor | FRC 5881 Alum",
                    "reactions": [
                        {
                            "id": "heart",
                            "type": "emoji",
                            "count": 1
                        }
                    ],
                    "current_user_reaction": null,
                    "reaction_users_count": 1,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": null
                },
                {
                    "id": 3247331,
                    "name": "Ian Jensen",
                    "username": "ijensen",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/ijensen/{size}/203356_2.png",
                    "created_at": "2023-10-30T21:18:13.635Z",
                    "cooked": "gerthworm:\n\nIf you pop a spark max open, you’ll actually find two circuit boards. The system is roughly divided between “high power” and “low power”.\n\nThis is a good design for a few reasons:\n\nReduces the chances of electronics-killing current from ending up where you don’t want it\n\nIncreased chance you might be able to repair a unit and return it to the field without swapping 100% of its guts.\n\nIt’s bad design for other reasons:\n\nThe interconnect is a point of failure\n\nAssembly requires more steps (probably manual?) and therefore costs more\n\nAs a separate question, for development purposes, designing around a commonly-available dev board is a good way to get started. But unless you are purposefully trying to make something “hackable”, I’d flatten the PCB design down to just the layers you think your users might care about - not what’s easy for development.\n\nAs I was beginning to read through some of the layout recommendations for driver chips, it became apparent that keeping high-power and low-power separate was important. Moving those voltages to two different boards was an idea I had, and I may still if I have trouble laying both voltages on one board.\n\nMy first few boards probably won’t do everything I want them to do, and developing features as I make other ones work was my general strategy for development.",
                    "post_number": 10,
                    "post_type": 1,
                    "posts_count": 25,
                    "updated_at": "2023-10-30T21:18:13.635Z",
                    "reply_count": 1,
                    "reply_to_post_number": 7,
                    "quote_count": 1,
                    "incoming_link_count": 0,
                    "reads": 289,
                    "readers_count": 288,
                    "score": 62.8,
                    "yours": false,
                    "topic_id": 443366,
                    "topic_slug": "designing-an-frc-style-brushless-motor-controller",
                    "display_username": "Ian Jensen",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 1,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "read": true,
                    "user_title": "",
                    "bookmarked": false,
                    "actions_summary": [],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 30857,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "user_custom_fields": {
                        "user_field_4": "FRC Voulenteer | FRC 639 Off Season Mentor | FRC 5881 Alum"
                    },
                    "post_url": "/t/designing-an-frc-style-brushless-motor-controller/443366/10",
                    "custom_user_title": "FRC Voulenteer | FRC 639 Off Season Mentor | FRC 5881 Alum",
                    "reactions": [],
                    "current_user_reaction": null,
                    "reaction_users_count": 0,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": null
                },
                {
                    "id": 3247436,
                    "name": "Anand Rajamani",
                    "username": "asid61",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/asid61/{size}/7179_2.png",
                    "created_at": "2023-10-31T01:39:38.823Z",
                    "cooked": "I’ve done a lot in this area, so I feel qualified to comment.\n\nFirst of all, you will definitely need to separate the three primary components of your controller: the microcontroller (MCU), gate driver, and MOSFETs. Nothing integrated will get even close to the 12V 40A drive current that FRC expects. I recommend starting with the DRV8323SR, as it is very configurable over SPI to suit your needs. If you don’t care about FOC, something cheap like an EG2133 or DRV8300 can work just fine, you just need to spend more time tuning the gate drive series resistors. Those get hot, by the way, so use at least 0603 size, preferably 0805 if you can swing it.\n\nAs far as actually designing this goes, I highly recommend you look at all of Rick Hartley’s longform talks on YouTube about PCB design, specifically power and ground routing. This will take you about 8 hours and you will learn more than you ever have about PCB design in those 8 hours. I recommend screenshotting useful information like capacitor typical inductances or plane capacitances. Then, take a look at this TI guide on components used in high power motor drivers . It’s excellent and you should implement almost all of that manual into your PCB schematic/layout.\n\nOnce you check out those docs, look at the VESC schematics for ideas on how the general layout of the controller should look. I wouldn’t copy it wholesale - it tends to be kind of expensive, and it’s designed for higher voltage - but it’s really useful to know what your microcontroller kind of has to do. The Mini Cheetah controller schematics are also really simple, although the PCB layout leaves something to be desired. Still, it’s a good reference. I would not try to use an external dev board to control this. Maybe for the prototype that’s fine, but once you get into the final versions you’ll want to just design the MCU directly onto the board. I promise it is not that hard, just copy the reference design.\n\nThe most important question, after all of this, is how to get rid of heat. You should first calculate the switching losses in your MOSFETs, where the bulk of the heat will be generated. This app note from Rohm is succinct and covers the major players: conduction, switching, dead time, and gate charge. I recommend doing this in Excel so that you can compare multiple MOSFETs with a variety of switching frequencies between 15-40kHz. Then make an approximate simulation of your power stage, including parasitic inductances of the long power wires, so that you can see how much the board’s VCC swings given your bulk and high-frequency ceramic capacitances. This will also help you find the ripple current in your caps, which is important to make sure they don’t overheat and smoke. Here’s an example sim I did in LTSpice:\n\nimage 1654×659 21.1 KB\n\nimage 1654×659 21.1 KB\n\nimage 1654×659 21.1 KB\n\nYou don’t have to do do any of the above stuff perfectly. I’ve seen some really grimy layouts work for motor controllers. But the more you know, the easier it will be to debug weird issues and maximize performance. Expect to rev this once or twice, and put test points on as many nets as you can to make sure that you can cut and bypass traces with wires if you need to. Your first attempt probably won’t work.\n\nFinally, I recommend doing your design in KiCAD and using JLCPCB to make your board. KiCAD has a Production Toolkit extension someone made to generate files for JLCPCB assembly easily, and it comes with a ton of built in parts and packages to make getting started easy. I daily drive Altium at work, but it’s a pain to set up (to say nothing of other, even more developed EDA packages). Using KiCAD will let you move from a schematic/layout straight into a finished board as quickly as possible by leveraging cheap JLCPCB assembly. Placing a hundred components by hand gets boring really fast, especially if you mess up one of them and can’t figure out why your board doesn’t work. Expect to make maybe $100-200 to get a bunch of protoypes done through JLC, up to $500 if you use thicker copper (recommended after you finish your prototype) and want the hardware to support FOC. If you try to get your board made domestically, it will cost literally ten times as much.\n\nHere’s a few pics and videos of a tiny, $7 BOM cost FRC motor controller I designed a few years ago: https://photos.app.goo.gl/L6RGpTNA5KZtW2M26 . If you want the raw design files for it just let me know. I never did thorough testing on it, and the layout is probably pretty horrendous, but it does commutate and track hall encoder position just fine despite its shortcomings. It uses an RP2040 MCU, EG2133 gate driver, and MCP2515 SPI-to-CAN controller (which could be cut if I used a nicer MCU with CAN).\n\nimage 940×1254 61 KB\n\nimage 940×1254 61 KB\n\nimage 940×1254 61 KB\n\nDo note that there is a HUGE firmware effort involved with these things. Since working with Redux I’ve come to realize that getting the device to work is 10% of the effort, with the other 90% being getting it to talk to the RoboRIO intelligently. If you can steal VESC or Odrive firmware that would be ideal, but then you’re probably going to need a pricier MCU. On the plus side, it’ll save you a ton of dev time, and you can always downgrade the MCU later if you want to try writing the FW yourself.\n\nHope this helps. Feel free to send me your design for review as well.",
                    "post_number": 11,
                    "post_type": 1,
                    "posts_count": 25,
                    "updated_at": "2023-10-31T01:45:56.605Z",
                    "reply_count": 2,
                    "reply_to_post_number": null,
                    "quote_count": 0,
                    "incoming_link_count": 14,
                    "reads": 272,
                    "readers_count": 271,
                    "score": 404.4,
                    "yours": false,
                    "topic_id": 443366,
                    "topic_slug": "designing-an-frc-style-brushless-motor-controller",
                    "display_username": "Anand Rajamani",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 2,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "link_counts": [
                        {
                            "url": "https://photos.app.goo.gl/L6RGpTNA5KZtW2M26",
                            "internal": false,
                            "reflection": false,
                            "clicks": 17
                        },
                        {
                            "url": "https://www.ti.com/lit/an/slvaf66/slvaf66.pdf?ts=1688085388158&ref_url=https%253A%252F%252Fwww.ti.com%252Fproduct%252FDRV8323",
                            "internal": false,
                            "reflection": false,
                            "clicks": 7
                        },
                        {
                            "url": "https://fscdn.rohm.com/en/products/databook/applinote/ic/power/switching_regulator/power_loss_appli-e.pdf",
                            "internal": false,
                            "reflection": false,
                            "clicks": 3
                        },
                        {
                            "url": "https://www.chiefdelphi.com/uploads/default/original/3X/8/c/8cd12102d2e24de0d3e9ba1a3e2123058eefcf9c.jpeg",
                            "internal": true,
                            "reflection": false,
                            "clicks": 0
                        },
                        {
                            "url": "https://www.chiefdelphi.com/uploads/default/original/3X/f/4/f4c9c2b400dc5f647f60351b8a0f172d5f6608c3.png",
                            "internal": true,
                            "reflection": false,
                            "clicks": 0
                        },
                        {
                            "url": "https://www.chiefdelphi.com/t/project-developing-a-bldc-motor-driver-mostly-from-scratch/503756/12",
                            "internal": true,
                            "reflection": true,
                            "title": "[Project] Developing a BLDC motor driver (mostly) from scratch",
                            "clicks": 1
                        }
                    ],
                    "read": true,
                    "user_title": "",
                    "bookmarked": false,
                    "actions_summary": [
                        {
                            "id": 2,
                            "count": 18
                        }
                    ],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 21715,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "user_custom_fields": {
                        "user_field_4": ""
                    },
                    "post_url": "/t/designing-an-frc-style-brushless-motor-controller/443366/11",
                    "custom_user_title": null,
                    "reactions": [
                        {
                            "id": "heart",
                            "type": "emoji",
                            "count": 18
                        }
                    ],
                    "current_user_reaction": null,
                    "reaction_users_count": 18,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": null
                },
                {
                    "id": 3247438,
                    "name": "Mr. Siefen | 453",
                    "username": "kingc95",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/kingc95/{size}/226662_2.png",
                    "created_at": "2023-10-31T01:56:07.155Z",
                    "cooked": "asid61:\n\nOdrive firmware\n\nI will say you’re gonna be looking for the 3.6 version as the latest open source version for the motor controllers. They stopped development on this and are focusing on the pro line. I have had 4 of the 3s and 4 pros. Their firmware is great but the calibration steps and documentation for the 3s could use some work. Especially for non o-drive motors.",
                    "post_number": 12,
                    "post_type": 1,
                    "posts_count": 25,
                    "updated_at": "2023-10-31T02:02:23.697Z",
                    "reply_count": 2,
                    "reply_to_post_number": 11,
                    "quote_count": 1,
                    "incoming_link_count": 1,
                    "reads": 244,
                    "readers_count": 243,
                    "score": 78.8,
                    "yours": false,
                    "topic_id": 443366,
                    "topic_slug": "designing-an-frc-style-brushless-motor-controller",
                    "display_username": "Mr. Siefen | 453",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 2,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "read": true,
                    "user_title": "",
                    "bookmarked": false,
                    "actions_summary": [
                        {
                            "id": 2,
                            "count": 1
                        }
                    ],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 20632,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "user_custom_fields": {
                        "user_field_4": "Mr. Siefen"
                    },
                    "post_url": "/t/designing-an-frc-style-brushless-motor-controller/443366/12",
                    "custom_user_title": "Mr. Siefen",
                    "reactions": [
                        {
                            "id": "heart",
                            "type": "emoji",
                            "count": 1
                        }
                    ],
                    "current_user_reaction": null,
                    "reaction_users_count": 1,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": null
                },
                {
                    "id": 3247444,
                    "name": "Andrew Schreiber",
                    "username": "Andrew_Schreiber",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/andrew_schreiber/{size}/209563_2.png",
                    "created_at": "2023-10-31T02:01:19.608Z",
                    "cooked": "First, that driver chip has my interests for a non FRC project if I can’t find a COTs control system prolly gonna take a look at it.\n\nijensen:\n\nThen there’s the challenge of writing software to control the driver chip.\n\nHave you looked at SimpleFOC? It probably wouldn’t support this driver board ( Drivers | Arduino-FOC ) but I was looking at  the DRC8316 because it seems like it should be supported and save me a ton of painful dev.\n\nThere’s also a handful of DRV chips that don’t have integrated FETs which is not something you’d want for FRC .",
                    "post_number": 13,
                    "post_type": 1,
                    "posts_count": 25,
                    "updated_at": "2023-10-31T02:01:19.608Z",
                    "reply_count": 3,
                    "reply_to_post_number": null,
                    "quote_count": 1,
                    "incoming_link_count": 2,
                    "reads": 239,
                    "readers_count": 238,
                    "score": 72.8,
                    "yours": false,
                    "topic_id": 443366,
                    "topic_slug": "designing-an-frc-style-brushless-motor-controller",
                    "display_username": "Andrew Schreiber",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 1,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "link_counts": [
                        {
                            "url": "https://www.ti.com/product/DRV8316?fbclid=IwAR0WUIEdykxm-09k-FUdrdbY1-qaG9hKAitRUI3LM0OOgJxGRUfRzp-OmDA",
                            "internal": false,
                            "reflection": false,
                            "title": "DRV8316 data sheet, product information and support | TI.com",
                            "clicks": 4
                        },
                        {
                            "url": "https://docs.simplefoc.com/drivers",
                            "internal": false,
                            "reflection": false,
                            "title": "Drivers | Arduino-FOC",
                            "clicks": 2
                        }
                    ],
                    "read": true,
                    "user_title": "",
                    "bookmarked": false,
                    "actions_summary": [],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 4297,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "user_custom_fields": {
                        "user_field_4": "I'm Retired"
                    },
                    "post_url": "/t/designing-an-frc-style-brushless-motor-controller/443366/13",
                    "custom_user_title": "I'm Retired",
                    "reactions": [],
                    "current_user_reaction": null,
                    "reaction_users_count": 0,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": null
                },
                {
                    "id": 3247478,
                    "name": "Anand Rajamani",
                    "username": "asid61",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/asid61/{size}/7179_2.png",
                    "created_at": "2023-10-31T03:00:22.232Z",
                    "cooked": "You’re not going to get more than servo power out of any chip with integrated FETs. 12V at 8A is a lot of an FTC servo, but it’s not much for any common FRC task like spinning intake rollers or rotating swerve pods. The minimum I would look for is about 30A, at which point a combo of DRV8300 + 2mohm FET would run under $2 total and perform reasonably well.\n\nNothing wrong with servos, mind you, but they’re just a hair underpowered for most FRC tasks.\n\nkingc95:\n\nThey stopped development on this and are focusing on the pro line.\n\nI thought they stopped open sourcing hardware, but were still updating the main firmware repo here: GitHub - odriverobotics/ODrive: High performance motor control",
                    "post_number": 14,
                    "post_type": 1,
                    "posts_count": 25,
                    "updated_at": "2023-10-31T03:02:39.237Z",
                    "reply_count": 2,
                    "reply_to_post_number": 13,
                    "quote_count": 1,
                    "incoming_link_count": 1,
                    "reads": 222,
                    "readers_count": 221,
                    "score": 59.4,
                    "yours": false,
                    "topic_id": 443366,
                    "topic_slug": "designing-an-frc-style-brushless-motor-controller",
                    "display_username": "Anand Rajamani",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 1,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "link_counts": [
                        {
                            "url": "https://github.com/odriverobotics/ODrive",
                            "internal": false,
                            "reflection": false,
                            "title": "GitHub - odriverobotics/ODrive: High performance motor control",
                            "clicks": 7
                        }
                    ],
                    "read": true,
                    "user_title": "",
                    "reply_to_user": {
                        "id": 4297,
                        "username": "Andrew_Schreiber",
                        "name": "Andrew Schreiber",
                        "avatar_template": "/user_avatar/www.chiefdelphi.com/andrew_schreiber/{size}/209563_2.png"
                    },
                    "bookmarked": false,
                    "actions_summary": [],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 21715,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "user_custom_fields": {
                        "user_field_4": ""
                    },
                    "post_url": "/t/designing-an-frc-style-brushless-motor-controller/443366/14",
                    "custom_user_title": null,
                    "reactions": [],
                    "current_user_reaction": null,
                    "reaction_users_count": 0,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": null
                },
                {
                    "id": 3247482,
                    "name": "Mr. Siefen | 453",
                    "username": "kingc95",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/kingc95/{size}/226662_2.png",
                    "created_at": "2023-10-31T03:24:28.903Z",
                    "cooked": "Sorry development is the wrong word, the 3.6 controller itself is Not Recommended for New Designs (NRND). They also don’t plan to go back to that style of Controller anytime soon from what I can tell as the 3.6 page recommends people move to the S1.",
                    "post_number": 15,
                    "post_type": 1,
                    "posts_count": 25,
                    "updated_at": "2023-10-31T03:24:45.893Z",
                    "reply_count": 0,
                    "reply_to_post_number": 14,
                    "quote_count": 0,
                    "incoming_link_count": 0,
                    "reads": 210,
                    "readers_count": 209,
                    "score": 57.0,
                    "yours": false,
                    "topic_id": 443366,
                    "topic_slug": "designing-an-frc-style-brushless-motor-controller",
                    "display_username": "Mr. Siefen | 453",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 1,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "read": true,
                    "user_title": "",
                    "reply_to_user": {
                        "id": 21715,
                        "username": "asid61",
                        "name": "Anand Rajamani",
                        "avatar_template": "/user_avatar/www.chiefdelphi.com/asid61/{size}/7179_2.png"
                    },
                    "bookmarked": false,
                    "actions_summary": [
                        {
                            "id": 2,
                            "count": 1
                        }
                    ],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 20632,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "user_custom_fields": {
                        "user_field_4": "Mr. Siefen"
                    },
                    "post_url": "/t/designing-an-frc-style-brushless-motor-controller/443366/15",
                    "custom_user_title": "Mr. Siefen",
                    "reactions": [
                        {
                            "id": "heart",
                            "type": "emoji",
                            "count": 1
                        }
                    ],
                    "current_user_reaction": null,
                    "reaction_users_count": 1,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": null
                },
                {
                    "id": 3247485,
                    "name": "Andrew Schreiber",
                    "username": "Andrew_Schreiber",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/andrew_schreiber/{size}/209563_2.png",
                    "created_at": "2023-10-31T03:48:40.228Z",
                    "cooked": "Yeah. That was a poorly built sentence.\n\nYou don’t want integrated fets for frc.\n\n(I do for my non frc application, 30w motors at 24v isn’t a lot of current, and I’m power constrained…)",
                    "post_number": 16,
                    "post_type": 1,
                    "posts_count": 25,
                    "updated_at": "2023-10-31T03:48:40.228Z",
                    "reply_count": 0,
                    "reply_to_post_number": 14,
                    "quote_count": 0,
                    "incoming_link_count": 0,
                    "reads": 209,
                    "readers_count": 208,
                    "score": 41.8,
                    "yours": false,
                    "topic_id": 443366,
                    "topic_slug": "designing-an-frc-style-brushless-motor-controller",
                    "display_username": "Andrew Schreiber",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 1,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "read": true,
                    "user_title": "",
                    "reply_to_user": {
                        "id": 21715,
                        "username": "asid61",
                        "name": "Anand Rajamani",
                        "avatar_template": "/user_avatar/www.chiefdelphi.com/asid61/{size}/7179_2.png"
                    },
                    "bookmarked": false,
                    "actions_summary": [],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 4297,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "user_custom_fields": {
                        "user_field_4": "I'm Retired"
                    },
                    "post_url": "/t/designing-an-frc-style-brushless-motor-controller/443366/16",
                    "custom_user_title": "I'm Retired",
                    "reactions": [],
                    "current_user_reaction": null,
                    "reaction_users_count": 0,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": null
                },
                {
                    "id": 3247489,
                    "name": "philso",
                    "username": "philso",
                    "avatar_template": "/letter_avatar_proxy/v4/letter/p/e68b1a/{size}.png",
                    "created_at": "2023-10-31T04:10:37.148Z",
                    "cooked": "You will have two, steep learning curves to climb in order to produce a successful motor controller design. The first is learning enough about electronic design to make an effective design. The second is learning how to most effectively arrange the components and the traces on the circuit board to minimize unwanted effects such as ringing, oscillations and EMI effects. @asid61 gives a lot of good advice on some resources to study. You will also have to acquire test equipment capable of detecting the unwanted circuit operation and learn how to use them properly.\n\nSome issues you may want to watch out for are the bootstrap capacitors discharging when running at low motor RPMs, EMI and ground-bounce issues, coupling from the power circuit into the control circuitry, shoot-through effects and oscillations/ringing in the gate signal causing excessive heating in the output devices.\n\nijensen:\n\nAs I was beginning to read through some of the layout recommendations for driver chips, it became apparent that keeping high-power and low-power separate was important. Moving those voltages to two different boards was an idea I had, and I may still if I have trouble laying both voltages on one board.\n\nThis is an easy way to ensure that the large and fast switching power stage currents do not flow through the power or ground  nets of the control circuitry and cause “ground bounce” issues. These can lead to catastrophic failures as a coworker who was a novice at PCB layout discovered. It is also possible that the “power board” is made with heavier copper to increase the current carrying capacity of the traces. Unfortunately, the heavier copper makes it difficult to to make the fine pitch pads necessary for the microcontroller.",
                    "post_number": 17,
                    "post_type": 1,
                    "posts_count": 25,
                    "updated_at": "2023-10-31T04:10:37.148Z",
                    "reply_count": 1,
                    "reply_to_post_number": 10,
                    "quote_count": 1,
                    "incoming_link_count": 7,
                    "reads": 210,
                    "readers_count": 209,
                    "score": 82.0,
                    "yours": false,
                    "topic_id": 443366,
                    "topic_slug": "designing-an-frc-style-brushless-motor-controller",
                    "display_username": "philso",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 1,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "read": true,
                    "user_title": "",
                    "bookmarked": false,
                    "actions_summary": [],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 15467,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "user_custom_fields": {
                        "user_field_4": ""
                    },
                    "post_url": "/t/designing-an-frc-style-brushless-motor-controller/443366/17",
                    "custom_user_title": null,
                    "reactions": [],
                    "current_user_reaction": null,
                    "reaction_users_count": 0,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": null
                },
                {
                    "id": 3247546,
                    "name": "Ian Jensen",
                    "username": "ijensen",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/ijensen/{size}/203356_2.png",
                    "created_at": "2023-10-31T13:04:36.685Z",
                    "cooked": "asid61:\n\nI highly recommend you look at all of Rick Hartley’s longform talks on YouTube about PCB design\n\nasid61:\n\nThen, take a look at this TI guide on components used in high power motor drivers .\n\nasid61:\n\nOnce you check out those docs, look at the VESC schematics for ideas on how the general layout of the controller should look.\n\nasid61:\n\nThis app note from Rohm is succinct and covers the major players: conduction, switching, dead time, and gate charge.\n\nkingc95:\n\nasid61:\n\nOdrive firmware\n\nI will say you’re gonna be looking for the 3.6 version as the latest open source version for the motor controllers.\n\nWell, thank you for the resources. I began skimming some of these last night, lots of details, but nothing that can’t be worked through.\n\nphilso:\n\nYou will have two, steep learning curves to climb in order to produce a successful motor controller design. The first is learning enough about electronic design to make an effective design. The second is learning how to most effectively arrange the components and the traces on the circuit board to minimize unwanted effects such as ringing, oscillations and EMI effects.\n\nGo big or go home. Yeah, I realize that this is one of the bigger hurtles right at the start after I get the schematic made. From what I’m reading, some of this is an iterative process, but there’s general guidelines to follow to get started on the right path. The unwanted effects of ringing, oscillations, and EMI are going to be effects I keep in mind while designing, and I’ ll follow advice and techniques to prevent them.\n\nasid61:\n\nHere’s a few pics and videos of a tiny, $7 BOM cost FRC motor controller I designed a few years ago: https://photos.app.goo.gl/L6RGpTNA5KZtW2M26 . If you want the raw design files for it just let me know.\n\nThat’s pretty neat! I would like to look at the design files for reference. Looks like this design was able to drive both brushed and brushless motors? I wasn’t completely sure if I was going to be able to do that with any of the gate driver ICs I’ve come across. Did you have to use two different\n\nasid61:\n\nDo note that there is a HUGE firmware effort involved with these things. Since working with Redux I’ve come to realize that getting the device to work is 10% of the effort, with the other 90% being getting it to talk to the RoboRIO intelligently. If you can steal VESC or Odrive firmware that would be ideal, but then you’re probably going to need a pricier MCU. On the plus side, it’ ll save you a ton of dev time, and you can always downgrade the MCU later if you want to try writing the FW yourself.\n\n… Heh, firmware is gonna be fun\n\nI’m not a software guy, but thinking over my requirements, I don’t believe the structure is going to be that overly difficult. CAN communication and SPI with the gate driver IC I imagine are probably the hardest parts (and without looking yet I am hoping there are just libraries I can use for that.) Actually controlling the gate driver IC doesn’t seem logically difficult, high and lows and a pwm signal.\n\nAndrew_Schreiber:\n\nHave you looked at SimpleFOC?\n\nOhh… this looks neat. I’ ll have to read up further on that, but I didn’t expect to be doing FOC until later down the line. It’ ll wait for a future firmware revision, thankfully one not locked behind a paywall.",
                    "post_number": 18,
                    "post_type": 1,
                    "posts_count": 25,
                    "updated_at": "2023-10-31T13:04:36.685Z",
                    "reply_count": 2,
                    "reply_to_post_number": null,
                    "quote_count": 4,
                    "incoming_link_count": 0,
                    "reads": 199,
                    "readers_count": 198,
                    "score": 64.8,
                    "yours": false,
                    "topic_id": 443366,
                    "topic_slug": "designing-an-frc-style-brushless-motor-controller",
                    "display_username": "Ian Jensen",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 1,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "read": true,
                    "user_title": "",
                    "bookmarked": false,
                    "actions_summary": [
                        {
                            "id": 2,
                            "count": 1
                        }
                    ],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 30857,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "user_custom_fields": {
                        "user_field_4": "FRC Voulenteer | FRC 639 Off Season Mentor | FRC 5881 Alum"
                    },
                    "post_url": "/t/designing-an-frc-style-brushless-motor-controller/443366/18",
                    "custom_user_title": "FRC Voulenteer | FRC 639 Off Season Mentor | FRC 5881 Alum",
                    "reactions": [
                        {
                            "id": "heart",
                            "type": "emoji",
                            "count": 1
                        }
                    ],
                    "current_user_reaction": null,
                    "reaction_users_count": 1,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": null
                },
                {
                    "id": 3247662,
                    "name": "philso",
                    "username": "philso",
                    "avatar_template": "/letter_avatar_proxy/v4/letter/p/e68b1a/{size}.png",
                    "created_at": "2023-10-31T16:36:13.789Z",
                    "cooked": "ijensen:\n\nFrom what I’m reading, some of this is an iterative process, but there’s general guidelines to follow to get started on the right path. The unwanted effects of ringing, oscillations, and EMI are going to be effects I keep in mind while designing, and I’ ll follow advice and techniques to prevent them.\n\nThe videos by Rick Hartley looked pretty comprehensive but didn’t seem to cover making “sheet busses” to reduce the loop inductance. You may have to hunt around to find resources describing how to do it. I was taught by a very talented guy who specialized in switching power supply design, pre-internet so I don’t have any specific resources to point you to.\n\nIt may be helpful to have someone with experience in “power electronics” to look over your PCB layout and to check the waveforms to ensure that the ringing and oscillations are not excessive. While you may be studying and “keeping it in mind”, there is no substitute for some experienced reviewing it. About a third of my work over the last 25 years has been fixing circuitry in products that had been released for production with ringing and/or oscillations causing problems.",
                    "post_number": 19,
                    "post_type": 1,
                    "posts_count": 25,
                    "updated_at": "2023-10-31T16:36:13.789Z",
                    "reply_count": 1,
                    "reply_to_post_number": 18,
                    "quote_count": 1,
                    "incoming_link_count": 0,
                    "reads": 167,
                    "readers_count": 166,
                    "score": 53.4,
                    "yours": false,
                    "topic_id": 443366,
                    "topic_slug": "designing-an-frc-style-brushless-motor-controller",
                    "display_username": "philso",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 1,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "read": true,
                    "user_title": "",
                    "bookmarked": false,
                    "actions_summary": [
                        {
                            "id": 2,
                            "count": 1
                        }
                    ],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 15467,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "user_custom_fields": {
                        "user_field_4": ""
                    },
                    "post_url": "/t/designing-an-frc-style-brushless-motor-controller/443366/19",
                    "custom_user_title": null,
                    "reactions": [
                        {
                            "id": "heart",
                            "type": "emoji",
                            "count": 1
                        }
                    ],
                    "current_user_reaction": null,
                    "reaction_users_count": 1,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": null
                },
                {
                    "id": 3247716,
                    "name": "Ian Jensen",
                    "username": "ijensen",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/ijensen/{size}/203356_2.png",
                    "created_at": "2023-10-31T17:47:47.526Z",
                    "cooked": "There was a little of that “sheet bus” stuff being talked about in one of the packets from TI I found, and I’ve made a note to look into that specific detail a little more. Funnily enough, one of the students who’s also on internship with me did his PCB project earlier in the summer, and I wanna say he used a technique similar for all the grounds on his PCB.\n\nThat being said, I wouldn’t be entering this project if I didn’t have local guidance available. Fun thing about taking an engineering degree, you meet a lot of people with a lot of experience. Currently I see myself at a stage of initial research where nothing is specific, and general guidance from the average knowledge pot that is the internet is my best tool. And I thank everyone who has pointed out resources to me so far, puts me a step ahead, which is a step more than where I was before. I have friends who can help me with troubleshooting/testing later down the line.\n\nAnd for peace of mind, I tend to say things like “keeping it in mind”/“making a note” when in actuality I’m most likely simultaneously hitting the print button on a document talking about said thing to add to my research docs binder. I don’t want to sound like I’m brushing details away only to come back to them later as an obstacle. I apologize if my phrasing indicated otherwise.",
                    "post_number": 20,
                    "post_type": 1,
                    "posts_count": 25,
                    "updated_at": "2023-10-31T17:47:47.526Z",
                    "reply_count": 0,
                    "reply_to_post_number": 19,
                    "quote_count": 0,
                    "incoming_link_count": 1,
                    "reads": 162,
                    "readers_count": 161,
                    "score": 52.4,
                    "yours": false,
                    "topic_id": 443366,
                    "topic_slug": "designing-an-frc-style-brushless-motor-controller",
                    "display_username": "Ian Jensen",
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_bg_color": null,
                    "flair_color": null,
                    "flair_group_id": null,
                    "badges_granted": [],
                    "version": 1,
                    "can_edit": false,
                    "can_delete": false,
                    "can_recover": false,
                    "can_see_hidden_post": true,
                    "can_wiki": false,
                    "read": true,
                    "user_title": "",
                    "reply_to_user": {
                        "id": 15467,
                        "username": "philso",
                        "name": "philso",
                        "avatar_template": "/letter_avatar_proxy/v4/letter/p/e68b1a/{size}.png"
                    },
                    "bookmarked": false,
                    "actions_summary": [
                        {
                            "id": 2,
                            "count": 1
                        }
                    ],
                    "moderator": false,
                    "admin": false,
                    "staff": false,
                    "user_id": 30857,
                    "hidden": false,
                    "trust_level": 2,
                    "deleted_at": null,
                    "user_deleted": false,
                    "edit_reason": null,
                    "can_view_edit_history": true,
                    "wiki": false,
                    "user_custom_fields": {
                        "user_field_4": "FRC Voulenteer | FRC 639 Off Season Mentor | FRC 5881 Alum"
                    },
                    "post_url": "/t/designing-an-frc-style-brushless-motor-controller/443366/20",
                    "custom_user_title": "FRC Voulenteer | FRC 639 Off Season Mentor | FRC 5881 Alum",
                    "reactions": [
                        {
                            "id": "heart",
                            "type": "emoji",
                            "count": 1
                        }
                    ],
                    "current_user_reaction": null,
                    "reaction_users_count": 1,
                    "current_user_used_main_reaction": false,
                    "can_accept_answer": false,
                    "can_unaccept_answer": false,
                    "accepted_answer": false,
                    "topic_accepted_answer": null
                }
            ],
            "stream": [
                3247225,
                3247233,
                3247243,
                3247262,
                3247286,
                3247301,
                3247310,
                3247312,
                3247314,
                3247331,
                3247436,
                3247438,
                3247444,
                3247478,
                3247482,
                3247485,
                3247489,
                3247546,
                3247662,
                3247716,
                3247744,
                3247763,
                3247767,
                3247888,
                3442003
            ]
        },
        "timeline_lookup": [
            [
                1,
                712
            ],
            [
                19,
                711
            ],
            [
                25,
                346
            ]
        ],
        "tags": [],
        "tags_descriptions": {},
        "fancy_title": "Designing an FRC style brushless motor controller",
        "id": 443366,
        "title": "Designing an FRC style brushless motor controller",
        "posts_count": 25,
        "created_at": "2023-10-30T17:15:44.881Z",
        "views": 2891,
        "reply_count": 14,
        "like_count": 45,
        "last_posted_at": "2024-10-31T03:14:39.042Z",
        "visible": true,
        "closed": true,
        "archived": false,
        "has_summary": false,
        "archetype": "regular",
        "slug": "designing-an-frc-style-brushless-motor-controller",
        "category_id": 72,
        "word_count": 6269,
        "deleted_at": null,
        "user_id": 30857,
        "featured_link": null,
        "pinned_globally": false,
        "pinned_at": null,
        "pinned_until": null,
        "image_url": null,
        "slow_mode_seconds": 0,
        "draft": null,
        "draft_key": "topic_443366",
        "draft_sequence": null,
        "unpinned": null,
        "pinned": false,
        "current_post_number": 1,
        "highest_post_number": 25,
        "deleted_by": null,
        "actions_summary": [
            {
                "id": 4,
                "count": 0,
                "hidden": false,
                "can_act": false
            },
            {
                "id": 8,
                "count": 0,
                "hidden": false,
                "can_act": false
            },
            {
                "id": 10,
                "count": 0,
                "hidden": false,
                "can_act": false
            },
            {
                "id": 7,
                "count": 0,
                "hidden": false,
                "can_act": false
            }
        ],
        "chunk_size": 20,
        "bookmarked": false,
        "topic_timer": null,
        "message_bus_last_id": 0,
        "participant_count": 10,
        "show_read_indicator": false,
        "thumbnails": null,
        "slow_mode_enabled_until": null,
        "valid_reactions": [
            "heart",
            "laughing",
            "point_up",
            "+1",
            "-1",
            "100",
            "open_mouth",
            "cry",
            "question",
            "thinking",
            "call_me_hand",
            "hugs",
            "angry"
        ],
        "user_chosen_thumbnail_url": null,
        "sidecar_installed": true,
        "can_vote": false,
        "vote_count": 0,
        "user_voted": false,
        "discourse_zendesk_plugin_zendesk_id": null,
        "discourse_zendesk_plugin_zendesk_url": "https://your-url.zendesk.com/agent/tickets/",
        "details": {
            "can_edit": false,
            "notification_level": 1,
            "participants": [
                {
                    "id": 30857,
                    "username": "ijensen",
                    "name": "Ian Jensen",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/ijensen/{size}/203356_2.png",
                    "post_count": 8,
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_color": null,
                    "flair_bg_color": null,
                    "flair_group_id": null,
                    "trust_level": 2
                },
                {
                    "id": 4297,
                    "username": "Andrew_Schreiber",
                    "name": "Andrew Schreiber",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/andrew_schreiber/{size}/209563_2.png",
                    "post_count": 3,
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_color": null,
                    "flair_bg_color": null,
                    "flair_group_id": null,
                    "trust_level": 2
                },
                {
                    "id": 21715,
                    "username": "asid61",
                    "name": "Anand Rajamani",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/asid61/{size}/7179_2.png",
                    "post_count": 3,
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_color": null,
                    "flair_bg_color": null,
                    "flair_group_id": null,
                    "trust_level": 2
                },
                {
                    "id": 48664,
                    "username": "RicDV",
                    "name": "Ric Ferrell Mentor for 5503 Tiger Trons",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/ricdv/{size}/188502_2.png",
                    "post_count": 2,
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_color": null,
                    "flair_bg_color": null,
                    "flair_group_id": null,
                    "trust_level": 2
                },
                {
                    "id": 20632,
                    "username": "kingc95",
                    "name": "Mr. Siefen | 453",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/kingc95/{size}/226662_2.png",
                    "post_count": 2,
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_color": null,
                    "flair_bg_color": null,
                    "flair_group_id": null,
                    "trust_level": 2
                },
                {
                    "id": 15467,
                    "username": "philso",
                    "name": "philso",
                    "avatar_template": "/letter_avatar_proxy/v4/letter/p/e68b1a/{size}.png",
                    "post_count": 2,
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_color": null,
                    "flair_bg_color": null,
                    "flair_group_id": null,
                    "trust_level": 2
                },
                {
                    "id": 53758,
                    "username": "Eeshwar",
                    "name": "Eeshwar Krishnan",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/eeshwar/{size}/195169_2.png",
                    "post_count": 1,
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_color": null,
                    "flair_bg_color": null,
                    "flair_group_id": null,
                    "trust_level": 2
                },
                {
                    "id": 14283,
                    "username": "nuttle",
                    "name": "Allen Nuttle",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/nuttle/{size}/124105_2.png",
                    "post_count": 1,
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_color": null,
                    "flair_bg_color": null,
                    "flair_group_id": null,
                    "trust_level": 2
                },
                {
                    "id": 24617,
                    "username": "gerthworm",
                    "name": "Chris Gerth",
                    "avatar_template": "/user_avatar/www.chiefdelphi.com/gerthworm/{size}/268658_2.png",
                    "post_count": 1,
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_color": null,
                    "flair_bg_color": null,
                    "flair_group_id": null,
                    "trust_level": 2
                },
                {
                    "id": 52551,
                    "username": "andej",
                    "name": "",
                    "avatar_template": "/letter_avatar_proxy/v4/letter/a/ccd318/{size}.png",
                    "post_count": 1,
                    "primary_group_name": null,
                    "flair_name": null,
                    "flair_url": null,
                    "flair_color": null,
                    "flair_bg_color": null,
                    "flair_group_id": null,
                    "trust_level": 2
                }
            ],
            "created_by": {
                "id": 30857,
                "username": "ijensen",
                "name": "Ian Jensen",
                "avatar_template": "/user_avatar/www.chiefdelphi.com/ijensen/{size}/203356_2.png"
            },
            "last_poster": {
                "id": -1,
                "username": "system",
                "name": "system",
                "avatar_template": "/uploads/default/original/4X/9/3/2/93234578e69f55873c63fc00fe2d0d85f23bce55.png"
            },
            "links": [
                {
                    "url": "https://www.ti.com/product/MCT8316Z",
                    "title": "MCT8316Z data sheet, product information and support | TI.com",
                    "internal": false,
                    "attachment": false,
                    "reflection": false,
                    "clicks": 47,
                    "user_id": 30857,
                    "domain": "www.ti.com",
                    "root_domain": "ti.com"
                },
                {
                    "url": "https://howtomechatronics.com/how-it-works/how-brushless-motor-and-esc-work/",
                    "title": "How Brushless DC Motor Works? BLDC and ESC Explained",
                    "internal": false,
                    "attachment": false,
                    "reflection": false,
                    "clicks": 19,
                    "user_id": 14283,
                    "domain": "howtomechatronics.com",
                    "root_domain": "howtomechatronics.com"
                },
                {
                    "url": "https://photos.app.goo.gl/L6RGpTNA5KZtW2M26",
                    "title": null,
                    "internal": false,
                    "attachment": false,
                    "reflection": false,
                    "clicks": 17,
                    "user_id": 21715,
                    "domain": "photos.app.goo.gl",
                    "root_domain": "goo.gl"
                },
                {
                    "url": "https://drive.google.com/file/d/1EUvDLZQWs53l0TOR_HzzyIyuH1_8U4KP/view?usp=sharing",
                    "title": "MCL-102-2 IQ100 brushless.zip - Google Drive",
                    "internal": false,
                    "attachment": false,
                    "reflection": false,
                    "clicks": 11,
                    "user_id": 21715,
                    "domain": "drive.google.com",
                    "root_domain": "google.com"
                },
                {
                    "url": "https://drive.google.com/file/d/1o5WG71OVCepYGbPJeP9faCaSHla_sddZ/view?usp=drive_link",
                    "title": "pi-pico-main.zip - Google Drive",
                    "internal": false,
                    "attachment": false,
                    "reflection": false,
                    "clicks": 7,
                    "user_id": 21715,
                    "domain": "drive.google.com",
                    "root_domain": "google.com"
                },
                {
                    "url": "https://github.com/odriverobotics/ODrive",
                    "title": "GitHub - odriverobotics/ODrive: High performance motor control",
                    "internal": false,
                    "attachment": false,
                    "reflection": false,
                    "clicks": 7,
                    "user_id": 21715,
                    "domain": "github.com",
                    "root_domain": "github.com"
                },
                {
                    "url": "https://www.ti.com/lit/an/slvaf66/slvaf66.pdf?ts=1688085388158&ref_url=https%253A%252F%252Fwww.ti.com%252Fproduct%252FDRV8323",
                    "title": null,
                    "internal": false,
                    "attachment": false,
                    "reflection": false,
                    "clicks": 7,
                    "user_id": 21715,
                    "domain": "www.ti.com",
                    "root_domain": "ti.com"
                },
                {
                    "url": "https://jlcpcb.com/?from=custompcb_us&gclid=Cj0KCQjwqP2pBhDMARIsAJQ0CzoOKGqUIlM3Bn1E_Heg_bFVVqq0-DuEDHSia9gJf2AoRucSvWDqh00aAiZDEALw_wcB",
                    "title": "PCB Prototype & PCB Fabrication Manufacturer - JLCPCB",
                    "internal": false,
                    "attachment": false,
                    "reflection": false,
                    "clicks": 4,
                    "user_id": 24617,
                    "domain": "jlcpcb.com",
                    "root_domain": "jlcpcb.com"
                },
                {
                    "url": "https://trello.com/b/JP203p1c/frc-brushless-motor-controller",
                    "title": "Trello",
                    "internal": false,
                    "attachment": false,
                    "reflection": false,
                    "clicks": 4,
                    "user_id": 30857,
                    "domain": "trello.com",
                    "root_domain": "trello.com"
                },
                {
                    "url": "https://www.ti.com/product/DRV8316?fbclid=IwAR0WUIEdykxm-09k-FUdrdbY1-qaG9hKAitRUI3LM0OOgJxGRUfRzp-OmDA",
                    "title": "DRV8316 data sheet, product information and support | TI.com",
                    "internal": false,
                    "attachment": false,
                    "reflection": false,
                    "clicks": 4,
                    "user_id": 4297,
                    "domain": "www.ti.com",
                    "root_domain": "ti.com"
                },
                {
                    "url": "https://fscdn.rohm.com/en/products/databook/applinote/ic/power/switching_regulator/power_loss_appli-e.pdf",
                    "title": null,
                    "internal": false,
                    "attachment": false,
                    "reflection": false,
                    "clicks": 3,
                    "user_id": 21715,
                    "domain": "fscdn.rohm.com",
                    "root_domain": "rohm.com"
                },
                {
                    "url": "https://docs.simplefoc.com/drivers",
                    "title": "Drivers | Arduino-FOC",
                    "internal": false,
                    "attachment": false,
                    "reflection": false,
                    "clicks": 2,
                    "user_id": 4297,
                    "domain": "docs.simplefoc.com",
                    "root_domain": "simplefoc.com"
                },
                {
                    "url": "https://www.chiefdelphi.com/t/project-developing-a-bldc-motor-driver-mostly-from-scratch/503756/12",
                    "title": "[Project] Developing a BLDC motor driver (mostly) from scratch",
                    "internal": true,
                    "attachment": false,
                    "reflection": true,
                    "clicks": 1,
                    "user_id": 21715,
                    "domain": "www.chiefdelphi.com",
                    "root_domain": "chiefdelphi.com"
                }
            ]
        },
        "bookmarks": []
    }
}