{"data":"{\"post_stream\":{\"posts\":[{\"id\":3556506,\"name\":\"jweston\",\"username\":\"jweston\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/jweston/{size}/8210_2.png\",\"created_at\":\"2025-03-13T21:47:46.101Z\",\"cooked\":\"\\u003cp\\u003eOur team is new to swerve this year. Using \\u003cspan class=\\\"abbreviation\\\"\\u003eSDS\\u003ctemplate class=\\\"tooltiptext\\\" data-text=\\\"Swerve Drive Specialties\\\"\\u003e\\u003c/template\\u003e\\u003c/span\\u003e modules with Krakens and CANcoders. Everything was great except one thing. The offset angles on the swerve modules kept changing from day one.\\u003c/p\\u003e\\n\\u003cp\\u003eAfter much trial and error, we discovered that the CANcoder magnets themselves were changing alignment. So, I’m sharing how we confirmed and fixed this in case it might help someone else.\\u003c/p\\u003e\\n\\u003cp\\u003eTo verify the problem:\\u003c/p\\u003e\\n\\u003col\\u003e\\n\\u003cli\\u003eRemove all angle offsets from code and from the CANcoder Magnet Offset (i.e. set to 0).\\u003c/li\\u003e\\n\\u003cli\\u003eWith a wheel that has problematic angle behavior, align the wheel to point foward (use a metal bar to square it), and note the CANcoder absolute value in Phoenix Tuner X.\\u003c/li\\u003e\\n\\u003cli\\u003eChange the angle of the wheel vigorously, preferably with a joystick, starting, stopping and changing abruptly several times. Be sure to do this many times, not just one or two turns.\\u003c/li\\u003e\\n\\u003cli\\u003eWhile disabled but still on, manually realign wheel to point forward again and note the CANcoder absolute position. If the absolute position value changes noticably (more than 0.3%), magnet movement is a possibility.\\u003c/li\\u003e\\n\\u003cli\\u003eTurn off the robot and remove the CANcoder mount so you can see the top of the magnet.\\u003c/li\\u003e\\n\\u003cli\\u003eMake sure the wheel is pointed forward and draw a line with a straightedge and sharpie across the outside of the swerve module and the magnet.\\u003c/li\\u003e\\n\\u003cli\\u003eRemount the CANcoder and turn the robot back on.\\u003c/li\\u003e\\n\\u003cli\\u003eRepeat step 3.\\u003c/li\\u003e\\n\\u003cli\\u003eTurn off the robot and unmount the CANcoder.\\u003c/li\\u003e\\n\\u003cli\\u003eRealign the wheel so it points forward and look at the magnet. If the line on the magnet no longer aligns with the line on the module, the magnet is loose.\\u003c/li\\u003e\\n\\u003c/ol\\u003e\\n\\u003cp\\u003eTo fix:\\u003c/p\\u003e\\n\\u003col\\u003e\\n\\u003cli\\u003eCut a piece of double-face tape about 1mm x 5mm and remove the backing.\\u003c/li\\u003e\\n\\u003cli\\u003eRemove the magnet from the module. It likely will come out pretty easily if it has play in it.\\u003c/li\\u003e\\n\\u003cli\\u003eStretch the adhesive and wrap it in a circle all around the side close to the bottom. Be careful not to get it on the bottom since you don’t want to change the height of the magnet.\\u003c/li\\u003e\\n\\u003cli\\u003eCarefully re-insert the magnet into the module as straight as possible so it sits flush. You do not need to realign the lines you made in the verification steps.\\u003c/li\\u003e\\n\\u003cli\\u003eRe-mount the CANcoder.\\u003c/li\\u003e\\n\\u003cli\\u003eRepeat steps 1-4 of the verification process to ensure the value is no longer changing and the magnet is no longer moving.\\u003c/li\\u003e\\n\\u003cli\\u003eRecord the new offset. This can be set either through code or with the CANcoder config Magnet Offset. If using the latter, be sure to negate the value.\\u003c/li\\u003e\\n\\u003c/ol\\u003e\",\"post_number\":1,\"post_type\":1,\"posts_count\":1,\"updated_at\":\"2025-03-13T21:47:46.101Z\",\"reply_count\":0,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":28,\"reads\":33,\"readers_count\":32,\"score\":146.6,\"yours\":false,\"topic_id\":495495,\"topic_slug\":\"angle-offset-on-swerve-modules-changing-solved\",\"display_username\":\"jweston\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":25112,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"\"},\"post_url\":\"/t/angle-offset-on-swerve-modules-changing-solved/495495/1\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null}],\"stream\":[3556506]},\"timeline_lookup\":[[1,143]],\"suggested_topics\":[{\"id\":493847,\"title\":\"Pathplanner: Named Command moves bot, how to re-align with path\",\"fancy_title\":\"Pathplanner: Named Command moves bot, how to re-align with path\",\"slug\":\"pathplanner-named-command-moves-bot-how-to-re-align-with-path\",\"posts_count\":8,\"reply_count\":5,\"highest_post_number\":8,\"image_url\":null,\"created_at\":\"2025-03-02T13:46:05.951Z\",\"last_posted_at\":\"2025-03-04T22:11:05.570Z\",\"bumped\":true,\"bumped_at\":\"2025-03-04T22:11:05.570Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"Hey all, we have named command that positions our bot based off of an april tag. In path planner, we have PATH1 that drives us close to the april tag, then we run this command to get us to the exact p…\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[],\"tags_descriptions\":{},\"like_count\":2,\"views\":179,\"category_id\":30,\"featured_link\":null,\"has_accepted_answer\":false,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3544809,\"topic_post_liked\":false,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":true,\"topic_post_is_current_users\":null,\"topic_post_number\":1,\"topic_post_user\":{\"id\":30875,\"username\":\"ericjanofski\",\"name\":\"ericjanofski\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/ericjanofski/{size}/73640_2.png\"},\"posters\":[{\"extras\":null,\"description\":\"Original Poster\",\"user\":{\"id\":30875,\"username\":\"ericjanofski\",\"name\":\"ericjanofski\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/ericjanofski/{size}/73640_2.png\",\"trust_level\":2}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":53351,\"username\":\"LaviRZ\",\"name\":\"Lavi Arzi\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/lavirz/{size}/176648_2.png\",\"trust_level\":1}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":69118,\"username\":\"Jason81\",\"name\":\"Jason\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/j/a9adbd/{size}.png\",\"trust_level\":2}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":63596,\"username\":\"Otter502\",\"name\":\"Val\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/otter502/{size}/245799_2.png\",\"trust_level\":2}},{\"extras\":\"latest\",\"description\":\"Most Recent Poster\",\"user\":{\"id\":33850,\"username\":\"mjansen4857\",\"name\":\"Michael Jansen\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/mjansen4857/{size}/201972_2.png\",\"trust_level\":2}}]},{\"id\":471183,\"title\":\"Limelight Query\",\"fancy_title\":\"Limelight Query\",\"slug\":\"limelight-query\",\"posts_count\":4,\"reply_count\":2,\"highest_post_number\":4,\"image_url\":null,\"created_at\":\"2024-09-13T14:51:06.887Z\",\"last_posted_at\":\"2024-09-14T22:20:53.818Z\",\"bumped\":true,\"bumped_at\":\"2024-09-14T22:20:53.818Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"As far as I understand, a limelight result can have multiple targets. Is there a way to select the best / most accurate target like you can with PV using PhotonPipelineResult.getBestTarget()?\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[\"programming\",\"limelight\",\"code\"],\"tags_descriptions\":{},\"like_count\":2,\"views\":266,\"category_id\":30,\"featured_link\":null,\"has_accepted_answer\":false,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3423356,\"topic_post_liked\":false,\"topic_post_like_count\":1,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":false,\"topic_post_is_current_users\":null,\"topic_post_number\":1,\"topic_post_user\":{\"id\":62434,\"username\":\"Strflightmight\",\"name\":\"Ezra\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/strflightmight/{size}/261969_2.png\"},\"posters\":[{\"extras\":null,\"description\":\"Original Poster\",\"user\":{\"id\":62434,\"username\":\"Strflightmight\",\"name\":\"Ezra\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/strflightmight/{size}/261969_2.png\",\"trust_level\":2}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":57809,\"username\":\"levyishai\",\"name\":\"Yishai Levy\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/levyishai/{size}/264719_2.png\",\"trust_level\":2}},{\"extras\":\"latest\",\"description\":\"Most Recent Poster\",\"user\":{\"id\":53160,\"username\":\"RomanTechPlus\",\"name\":\"Roman A.\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/romantechplus/{size}/214929_2.png\",\"trust_level\":2}}]},{\"id\":475130,\"title\":\"Start competition error when I deploy the code\",\"fancy_title\":\"Start competition error when I deploy the code\",\"slug\":\"start-competition-error-when-i-deploy-the-code\",\"posts_count\":5,\"reply_count\":3,\"highest_post_number\":6,\"image_url\":null,\"created_at\":\"2024-11-18T22:18:51.607Z\",\"last_posted_at\":\"2024-11-19T01:41:22.897Z\",\"bumped\":true,\"bumped_at\":\"2024-11-19T01:41:22.897Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"and You cannot instantiate a SparkMAX with the same CANID twice\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[\"programming\"],\"tags_descriptions\":{},\"like_count\":2,\"views\":200,\"category_id\":30,\"featured_link\":null,\"has_accepted_answer\":true,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3449088,\"topic_post_liked\":false,\"topic_post_like_count\":1,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":false,\"topic_post_is_current_users\":null,\"topic_post_number\":6,\"topic_post_user\":{\"id\":51887,\"username\":\"nstrike\",\"name\":\"\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/nstrike/{size}/167038_2.png\"},\"posters\":[{\"extras\":null,\"description\":\"Original Poster\",\"user\":{\"id\":60531,\"username\":\"NKRY_FRC\",\"name\":\"Krypton #9487\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/nkry_frc/{size}/206723_2.png\",\"trust_level\":2}},{\"extras\":\"latest\",\"description\":\"Most Recent Poster, Accepted Answer\",\"user\":{\"id\":51887,\"username\":\"nstrike\",\"name\":\"\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/nstrike/{size}/167038_2.png\",\"trust_level\":2}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":9105,\"username\":\"Fletch1373\",\"name\":\"Fletch\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/fletch1373/{size}/220073_2.png\",\"trust_level\":2}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":38743,\"username\":\"bovlb\",\"name\":\"Gavin Matthews\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/bovlb/{size}/167232_2.png\",\"trust_level\":2}}]},{\"id\":472942,\"title\":\"Getting camera pose from Apriltag pose\",\"fancy_title\":\"Getting camera pose from Apriltag pose\",\"slug\":\"getting-camera-pose-from-apriltag-pose\",\"posts_count\":7,\"reply_count\":3,\"highest_post_number\":7,\"image_url\":null,\"created_at\":\"2024-10-13T23:08:17.400Z\",\"last_posted_at\":\"2024-10-15T05:11:50.479Z\",\"bumped\":true,\"bumped_at\":\"2024-10-15T05:11:50.479Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"I’m attempting to do something which should be quite simple and easy. I have a system which can detect apriltags return their pose (position and orientation vectors) relative to the camera. Since I’m …\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[\"apriltags\",\"computervision\",\"jetson\"],\"tags_descriptions\":{},\"like_count\":7,\"views\":685,\"category_id\":30,\"featured_link\":null,\"has_accepted_answer\":false,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3434322,\"topic_post_liked\":false,\"topic_post_like_count\":1,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":true,\"topic_post_is_current_users\":null,\"topic_post_number\":1,\"topic_post_user\":{\"id\":56055,\"username\":\"lol\",\"name\":\"Adam\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/l/5daacb/{size}.png\"},\"posters\":[{\"extras\":null,\"description\":\"Original Poster\",\"user\":{\"id\":56055,\"username\":\"lol\",\"name\":\"Adam\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/l/5daacb/{size}.png\",\"trust_level\":2}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":24617,\"username\":\"gerthworm\",\"name\":\"Chris Gerth\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/gerthworm/{size}/8072_2.png\",\"trust_level\":2}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":60663,\"username\":\"Geoffrey8814\",\"name\":\"Geoffrey\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/geoffrey8814/{size}/262430_2.png\",\"trust_level\":2}},{\"extras\":\"latest\",\"description\":\"Most Recent Poster\",\"user\":{\"id\":60033,\"username\":\"catrix\",\"name\":\"sam liu\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/c/dbc845/{size}.png\",\"trust_level\":2}}]},{\"id\":494071,\"title\":\"YAGSL 180 Degree Rotation on Round Start\",\"fancy_title\":\"YAGSL 180 Degree Rotation on Round Start\",\"slug\":\"yagsl-180-degree-rotation-on-round-start\",\"posts_count\":6,\"reply_count\":4,\"highest_post_number\":6,\"image_url\":null,\"created_at\":\"2025-03-03T20:22:13.565Z\",\"last_posted_at\":\"2025-03-04T16:17:51.117Z\",\"bumped\":true,\"bumped_at\":\"2025-03-04T16:17:51.117Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"So we know that the robot will rotate 180 degrees when on red alliance. We were wondering a few things about that. Does that mean we need to place our robot always facing the red alliance side, so fo…\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[\"swerve\",\"yagsl\"],\"tags_descriptions\":{},\"like_count\":1,\"views\":148,\"category_id\":30,\"featured_link\":null,\"has_accepted_answer\":false,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3546472,\"topic_post_liked\":false,\"topic_post_like_count\":1,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":false,\"topic_post_is_current_users\":null,\"topic_post_number\":1,\"topic_post_user\":{\"id\":63873,\"username\":\"9636Programmer\",\"name\":\"\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/9/90db22/{size}.png\"},\"posters\":[{\"extras\":\"latest\",\"description\":\"Original Poster, Most Recent Poster\",\"user\":{\"id\":63873,\"username\":\"9636Programmer\",\"name\":\"\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/9/90db22/{size}.png\",\"trust_level\":1}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":51887,\"username\":\"nstrike\",\"name\":\"\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/nstrike/{size}/167038_2.png\",\"trust_level\":2}}]}],\"tags\":[\"swerve\",\"ctre\",\"ctre-encoder\"],\"tags_descriptions\":{},\"id\":495495,\"title\":\"Angle offset on swerve modules changing: SOLVED\",\"fancy_title\":\"Angle offset on swerve modules changing: SOLVED\",\"posts_count\":1,\"created_at\":\"2025-03-13T21:47:46.028Z\",\"views\":67,\"reply_count\":0,\"like_count\":0,\"last_posted_at\":\"2025-03-13T21:47:46.101Z\",\"visible\":true,\"closed\":false,\"archived\":false,\"has_summary\":false,\"archetype\":\"regular\",\"slug\":\"angle-offset-on-swerve-modules-changing-solved\",\"category_id\":30,\"word_count\":453,\"deleted_at\":null,\"user_id\":25112,\"featured_link\":null,\"pinned_globally\":false,\"pinned_at\":null,\"pinned_until\":null,\"image_url\":null,\"slow_mode_seconds\":0,\"draft\":null,\"draft_key\":\"topic_495495\",\"draft_sequence\":null,\"unpinned\":null,\"pinned\":false,\"current_post_number\":1,\"highest_post_number\":1,\"deleted_by\":null,\"actions_summary\":[{\"id\":4,\"count\":0,\"hidden\":false,\"can_act\":false},{\"id\":8,\"count\":0,\"hidden\":false,\"can_act\":false},{\"id\":10,\"count\":0,\"hidden\":false,\"can_act\":false},{\"id\":7,\"count\":0,\"hidden\":false,\"can_act\":false}],\"chunk_size\":20,\"bookmarked\":false,\"topic_timer\":{\"id\":45488,\"execute_at\":\"2026-03-13T21:47:46.101Z\",\"duration_minutes\":525600,\"based_on_last_post\":true,\"status_type\":\"close\",\"category_id\":null},\"message_bus_last_id\":0,\"participant_count\":1,\"show_read_indicator\":false,\"thumbnails\":null,\"slow_mode_enabled_until\":null,\"valid_reactions\":[\"heart\",\"laughing\",\"point_up\",\"+1\",\"-1\",\"100\",\"open_mouth\",\"cry\",\"question\",\"thinking\",\"call_me_hand\",\"hugs\",\"angry\"],\"user_chosen_thumbnail_url\":null,\"sidecar_installed\":true,\"details\":{\"can_edit\":false,\"notification_level\":1,\"participants\":[{\"id\":25112,\"username\":\"jweston\",\"name\":\"jweston\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/jweston/{size}/8210_2.png\",\"post_count\":1,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2}],\"created_by\":{\"id\":25112,\"username\":\"jweston\",\"name\":\"jweston\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/jweston/{size}/8210_2.png\"},\"last_poster\":{\"id\":25112,\"username\":\"jweston\",\"name\":\"jweston\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/jweston/{size}/8210_2.png\"}},\"bookmarks\":[]}"}
