{"data":"{\"post_stream\":{\"posts\":[{\"id\":3487132,\"name\":\"Lilja Kiiski\",\"username\":\"LiljaKiiski\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/l/ecae2f/{size}.png\",\"created_at\":\"2025-01-19T00:55:16.361Z\",\"cooked\":\"\\u003cp\\u003eWe’re having a pretty bad issue with our localization code, specifically with the line segment in our Localizer.java subsystem’s periodic method. Essentially as poseEstimator.updateWithTime(…) is being called (after several times of running successfully), a severe loop overrun happens, the code essentially stalls and everything (including swerve, localizer, and all other subsystems), do not run.\\u003c/p\\u003e\\n\\u003cp\\u003eThe segment with the issue (in Localizer.java):\\u003cbr\\u003e\\nRotation2d rot = new Rotation2d(swerve.getYaw());\\u003cbr\\u003e\\nSwerveModulePosition\\u003cspan class=\\\"chcklst-box fa fa-square-o fa-fw\\\"\\u003e\\u003c/span\\u003e module_pos = swerve.getSwerveModulePositions();\\u003c/p\\u003e\\n\\u003cp\\u003eposeEstimator.updateWithTime(Timer.getFPGATimestamp(), rot, module_pos); //LINE WITH LOOP OVERRUN\\u003c/p\\u003e\\n\\u003cp\\u003eWe’re using Phoenix6’s Legacy Swerve class for our swerve drivetrain, and in our Swerve.java subsystem (which extends  LegacySwerveDrivetrain) these are the following methods that I made in that class for our Localizer to use (to have access to the SwervePoseEstimator, and modules):\\u003c/p\\u003e\\n\\u003cp\\u003e/**\\u003c/p\\u003e\\n\\u003cul\\u003e\\n\\u003cli\\u003eFor Vision: Swerve Pose Estimator\\u003c/li\\u003e\\n\\u003cli\\u003e\\u003cspan class=\\\"mention\\\"\\u003e@return\\u003c/span\\u003e the swerve pose estimator (made by Phoenix6)\\u003cbr\\u003e\\n*/\\u003cbr\\u003e\\npublic SwerveDrivePoseEstimator getPoseEstimator(){\\u003cbr\\u003e\\nreturn m_odometry;\\u003cbr\\u003e\\n}\\u003c/li\\u003e\\n\\u003c/ul\\u003e\\n\\u003cp\\u003e/**\\u003c/p\\u003e\\n\\u003cul\\u003e\\n\\u003cli\\u003eFor Vision: Swerve Module Positions\\u003c/li\\u003e\\n\\u003cli\\u003e\\u003cspan class=\\\"mention\\\"\\u003e@return\\u003c/span\\u003e the swerve drive’s module positions (used when updating estimated pose)\\u003cbr\\u003e\\n*/\\u003cbr\\u003e\\npublic SwerveModulePosition\\u003cspan class=\\\"chcklst-box fa fa-square-o fa-fw\\\"\\u003e\\u003c/span\\u003e getSwerveModulePositions(){\\u003cbr\\u003e\\nreturn m_modulePositions;\\u003cbr\\u003e\\n}\\u003c/li\\u003e\\n\\u003c/ul\\u003e\\n\\u003cp\\u003epublic SwerveModuleState\\u003cspan class=\\\"chcklst-box fa fa-square-o fa-fw\\\"\\u003e\\u003c/span\\u003e getSwerveModuleStates(){\\u003cbr\\u003e\\nreturn m_moduleStates;\\u003cbr\\u003e\\n}\\u003c/p\\u003e\\n\\u003cp\\u003eI have attatched both our Swerve.java subsystem and our Localizer.java subsystem so the full code is there. The Loop Overrun is happening on line 116 in Localizer. java.\\u003c/p\\u003e\\n\\u003cp\\u003eThis is a pretty big issue for us and we’ve been having this issue for months now, and finally narrowed the issue down to this method. However, what exactly is happening and why it’s causing a loop overrun I do not know. It may be because of the custom methods in our Swerve.java… but I’m not sure what we’d go with using instead of them instead?\\u003c/p\\u003e\\n\\u003cp\\u003eAny help would be extremely appreciated!\\u003c/p\\u003e\\n\\u003cp\\u003e\\u003ca class=\\\"attachment\\\" href=\\\"/uploads/short-url/hvifXJSBSPYYbj5vekagq1V5n8C.java\\\"\\u003eLocalizer.java\\u003c/a\\u003e (10.7 KB)\\u003cbr\\u003e\\n\\u003ca class=\\\"attachment\\\" href=\\\"/uploads/short-url/jpow4MtARM9IYjeBzM0aRWVuhUK.java\\\"\\u003eSwerve.java\\u003c/a\\u003e (14.6 KB)\\u003c/p\\u003e\",\"post_number\":1,\"post_type\":1,\"posts_count\":1,\"updated_at\":\"2025-01-19T00:55:16.361Z\",\"reply_count\":0,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":19,\"reads\":66,\"readers_count\":65,\"score\":108.2,\"yours\":false,\"topic_id\":482595,\"topic_slug\":\"loop-overrun-with-swerve-pose-estimator-poseestimator-updatewithtime\",\"display_username\":\"Lilja Kiiski\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"link_counts\":[{\"url\":\"/uploads/short-url/hvifXJSBSPYYbj5vekagq1V5n8C.java\",\"internal\":true,\"reflection\":false,\"clicks\":0},{\"url\":\"/uploads/short-url/jpow4MtARM9IYjeBzM0aRWVuhUK.java\",\"internal\":true,\"reflection\":false,\"clicks\":0}],\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":51740,\"hidden\":false,\"trust_level\":1,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"post_url\":\"/t/loop-overrun-with-swerve-pose-estimator-poseestimator-updatewithtime/482595/1\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null,\"can_vote\":false}],\"stream\":[3487132]},\"timeline_lookup\":[[1,266]],\"suggested_topics\":[{\"fancy_title\":\"Falcon MK4N Wheel Alighment Consistency Issues\",\"id\":480003,\"title\":\"Falcon MK4N Wheel Alighment Consistency Issues\",\"slug\":\"falcon-mk4n-wheel-alighment-consistency-issues\",\"posts_count\":1,\"reply_count\":0,\"highest_post_number\":1,\"image_url\":null,\"created_at\":\"2025-01-08T00:13:49.861Z\",\"last_posted_at\":\"2025-01-08T00:13:49.940Z\",\"bumped\":true,\"bumped_at\":\"2025-01-08T00:13:49.940Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"Mentor for team 8709 here, posting this on behalf of the students for an issue that the team ran into today. We just built our chassis with new MK4N Modules, powered by 8 Falcon 500s, CANCoders and a…\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[],\"tags_descriptions\":{},\"like_count\":0,\"views\":90,\"category_id\":75,\"featured_link\":null,\"has_accepted_answer\":false,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3474696,\"topic_post_liked\":false,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":true,\"topic_post_is_current_users\":null,\"topic_post_number\":1,\"topic_post_user\":{\"id\":60894,\"username\":\"rackdev\",\"name\":\"Harrison\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/r/c0e974/{size}.png\"},\"posters\":[{\"extras\":\"latest single\",\"description\":\"Original Poster, Most Recent Poster\",\"user\":{\"id\":60894,\"username\":\"rackdev\",\"name\":\"Harrison\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/r/c0e974/{size}.png\",\"trust_level\":2}}]},{\"fancy_title\":\"Flipping/Mirroring PathPlanner paths?\",\"id\":484417,\"title\":\"Flipping/Mirroring PathPlanner paths?\",\"slug\":\"flipping-mirroring-pathplanner-paths\",\"posts_count\":2,\"reply_count\":0,\"highest_post_number\":2,\"image_url\":null,\"created_at\":\"2025-01-31T02:43:05.354Z\",\"last_posted_at\":\"2025-04-11T01:59:35.446Z\",\"bumped\":true,\"bumped_at\":\"2025-04-11T01:59:35.446Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"Is there a way to have pathplanner flip or mirror a path across an axis? (Similar to how being on red alliance last year would mirror the path). Right now pathplanner is flipped, so It moves straight …\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[\"pathplanner\"],\"tags_descriptions\":{},\"like_count\":1,\"views\":215,\"category_id\":75,\"featured_link\":null,\"has_accepted_answer\":false,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3497418,\"topic_post_liked\":false,\"topic_post_like_count\":1,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":false,\"topic_post_is_current_users\":null,\"topic_post_number\":1,\"topic_post_user\":{\"id\":57581,\"username\":\"AlligatorFan3\",\"name\":\"Frank\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/a/f17d59/{size}.png\"},\"posters\":[{\"extras\":null,\"description\":\"Original Poster\",\"user\":{\"id\":57581,\"username\":\"AlligatorFan3\",\"name\":\"Frank\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/a/f17d59/{size}.png\",\"trust_level\":2}},{\"extras\":\"latest\",\"description\":\"Most Recent Poster\",\"user\":{\"id\":63542,\"username\":\"Kavin\",\"name\":\"\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/k/ba8739/{size}.png\",\"trust_level\":1}}]},{\"fancy_title\":\"All SparkMAX sensor fault on enabling\",\"id\":484659,\"title\":\"All SparkMAX sensor fault on enabling\",\"slug\":\"all-sparkmax-sensor-fault-on-enabling\",\"posts_count\":15,\"reply_count\":10,\"highest_post_number\":15,\"image_url\":null,\"created_at\":\"2025-02-01T18:20:13.919Z\",\"last_posted_at\":\"2025-03-19T04:21:12.776Z\",\"bumped\":true,\"bumped_at\":\"2025-03-19T04:21:12.776Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"I am trying to help my team figure out an issue they are having with the REV MAXSwerve drive train. They are having issues where all 4 Spark MAX controllers and giving a sensor fault upon enabling the…\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[],\"tags_descriptions\":{},\"like_count\":2,\"views\":237,\"category_id\":75,\"featured_link\":null,\"has_accepted_answer\":false,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3499096,\"topic_post_liked\":false,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":false,\"topic_post_is_current_users\":null,\"topic_post_number\":1,\"topic_post_user\":{\"id\":51276,\"username\":\"6175DH\",\"name\":\"Daniel H\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/6175dh/{size}/247933_2.png\"},\"posters\":[{\"extras\":null,\"description\":\"Original Poster\",\"user\":{\"id\":51276,\"username\":\"6175DH\",\"name\":\"Daniel H\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/6175dh/{size}/247933_2.png\",\"trust_level\":2}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":9105,\"username\":\"Fletch1373\",\"name\":\"Fletch\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/fletch1373/{size}/220073_2.png\",\"trust_level\":2}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":34375,\"username\":\"snprime\",\"name\":\"\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/snprime/{size}/120580_2.png\",\"trust_level\":1}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":62439,\"username\":\"Benrboss\",\"name\":\"Ben riemer\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/b/5daacb/{size}.png\",\"trust_level\":1}},{\"extras\":\"latest\",\"description\":\"Most Recent Poster\",\"user\":{\"id\":53190,\"username\":\"truher\",\"name\":\"joel truher\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/truher/{size}/172222_2.png\",\"trust_level\":2}}]},{\"fancy_title\":\"Trough bore encoder\",\"id\":483191,\"title\":\"Trough bore encoder\",\"slug\":\"trough-bore-encoder\",\"posts_count\":9,\"reply_count\":7,\"highest_post_number\":10,\"image_url\":null,\"created_at\":\"2025-01-23T11:32:28.137Z\",\"last_posted_at\":\"2025-01-23T21:47:00.044Z\",\"bumped\":true,\"bumped_at\":\"2025-01-23T21:47:00.044Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"package frc.robot; import edu.wpi.first.wpilibj.TimedRobot; //import edu.wpi.first.wpilibj.DigitalInput; import com.revrobotics.spark.SparkMax; import com.revrobotics.AbsoluteEncoder; public clas…\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[],\"tags_descriptions\":{},\"like_count\":5,\"views\":318,\"category_id\":75,\"featured_link\":null,\"has_accepted_answer\":false,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3490572,\"topic_post_liked\":false,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":true,\"topic_post_is_current_users\":null,\"topic_post_number\":1,\"topic_post_user\":{\"id\":69705,\"username\":\"murilo404\",\"name\":\"Murilo Miranda Santos\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/m/49beb7/{size}.png\"},\"posters\":[{\"extras\":null,\"description\":\"Original Poster\",\"user\":{\"id\":69705,\"username\":\"murilo404\",\"name\":\"Murilo Miranda Santos\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/m/49beb7/{size}.png\",\"trust_level\":1}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":49695,\"username\":\"miguelsr\",\"name\":\"Miguel Ramos\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/miguelsr/{size}/244931_2.png\",\"trust_level\":2}},{\"extras\":\"latest\",\"description\":\"Most Recent Poster\",\"user\":{\"id\":47943,\"username\":\"megarubber\",\"name\":\"Guilherme Samuel\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/megarubber/{size}/172063_2.png\",\"trust_level\":2}}]},{\"fancy_title\":\"Trying to make a command run for a certain amount of seconds\",\"id\":494383,\"title\":\"Trying to make a command run for a certain amount of seconds\",\"slug\":\"trying-to-make-a-command-run-for-a-certain-amount-of-seconds\",\"posts_count\":3,\"reply_count\":1,\"highest_post_number\":3,\"image_url\":null,\"created_at\":\"2025-03-05T19:00:29.766Z\",\"last_posted_at\":\"2025-03-05T19:02:24.720Z\",\"bumped\":true,\"bumped_at\":\"2025-03-05T19:02:24.720Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"I am wondering if we can make a command run for a certain amount of time any examples or documentation would be helpful.\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[],\"tags_descriptions\":{},\"like_count\":1,\"views\":73,\"category_id\":75,\"featured_link\":null,\"has_accepted_answer\":false,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3548494,\"topic_post_liked\":false,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":true,\"topic_post_is_current_users\":null,\"topic_post_number\":1,\"topic_post_user\":{\"id\":57952,\"username\":\"thegravitor\",\"name\":\"\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/thegravitor/{size}/237066_2.png\"},\"posters\":[{\"extras\":\"latest\",\"description\":\"Original Poster, Most Recent Poster\",\"user\":{\"id\":57952,\"username\":\"thegravitor\",\"name\":\"\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/thegravitor/{size}/237066_2.png\",\"trust_level\":2}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":44763,\"username\":\"tekdemo\",\"name\":\"Dan\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/tekdemo/{size}/138330_2.png\",\"trust_level\":2}}]}],\"tags\":[\"robot\",\"swerve\"],\"tags_descriptions\":{},\"fancy_title\":\"Loop Overrun with Swerve Pose Estimator: poseEstimator.updateWithTime()\",\"id\":482595,\"title\":\"Loop Overrun with Swerve Pose Estimator: poseEstimator.updateWithTime()\",\"posts_count\":1,\"created_at\":\"2025-01-19T00:55:16.294Z\",\"views\":124,\"reply_count\":0,\"like_count\":0,\"last_posted_at\":\"2025-01-19T00:55:16.361Z\",\"visible\":true,\"closed\":false,\"archived\":false,\"has_summary\":false,\"archetype\":\"regular\",\"slug\":\"loop-overrun-with-swerve-pose-estimator-poseestimator-updatewithtime\",\"category_id\":75,\"word_count\":301,\"deleted_at\":null,\"user_id\":51740,\"featured_link\":null,\"pinned_globally\":false,\"pinned_at\":null,\"pinned_until\":null,\"image_url\":null,\"slow_mode_seconds\":0,\"draft\":null,\"draft_key\":\"topic_482595\",\"draft_sequence\":null,\"unpinned\":null,\"pinned\":false,\"current_post_number\":1,\"highest_post_number\":1,\"deleted_by\":null,\"actions_summary\":[{\"id\":4,\"count\":0,\"hidden\":false,\"can_act\":false},{\"id\":8,\"count\":0,\"hidden\":false,\"can_act\":false},{\"id\":10,\"count\":0,\"hidden\":false,\"can_act\":false},{\"id\":7,\"count\":0,\"hidden\":false,\"can_act\":false}],\"chunk_size\":20,\"bookmarked\":false,\"topic_timer\":{\"id\":39684,\"execute_at\":\"2026-01-19T00:55:16.361Z\",\"duration_minutes\":525600,\"based_on_last_post\":true,\"status_type\":\"close\",\"category_id\":null},\"message_bus_last_id\":0,\"participant_count\":1,\"show_read_indicator\":false,\"thumbnails\":null,\"slow_mode_enabled_until\":null,\"valid_reactions\":[\"heart\",\"laughing\",\"point_up\",\"+1\",\"-1\",\"100\",\"open_mouth\",\"cry\",\"question\",\"thinking\",\"call_me_hand\",\"hugs\",\"angry\"],\"user_chosen_thumbnail_url\":null,\"sidecar_installed\":true,\"can_vote\":false,\"vote_count\":0,\"user_voted\":false,\"discourse_zendesk_plugin_zendesk_id\":null,\"discourse_zendesk_plugin_zendesk_url\":\"https://your-url.zendesk.com/agent/tickets/\",\"details\":{\"can_edit\":false,\"notification_level\":1,\"participants\":[{\"id\":51740,\"username\":\"LiljaKiiski\",\"name\":\"Lilja Kiiski\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/l/ecae2f/{size}.png\",\"post_count\":1,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":1}],\"created_by\":{\"id\":51740,\"username\":\"LiljaKiiski\",\"name\":\"Lilja Kiiski\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/l/ecae2f/{size}.png\"},\"last_poster\":{\"id\":51740,\"username\":\"LiljaKiiski\",\"name\":\"Lilja Kiiski\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/l/ecae2f/{size}.png\"}},\"bookmarks\":[]}"}
