{"data":"{\"post_stream\":{\"posts\":[{\"id\":3623175,\"name\":\"Barkın Var\",\"username\":\"barkinvar\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/barkinvar/{size}/171468_2.png\",\"created_at\":\"2025-05-13T18:31:57.653Z\",\"cooked\":\"\\u003cp\\u003eI am trying to understand the implementation of motion followers on \\u003cspan class=\\\"abbreviation\\\"\\u003eFRC\\u003ctemplate class=\\\"tooltiptext\\\" data-text=\\\"FIRST Robotics Competition\\\"\\u003e\\u003c/template\\u003e\\u003c/span\\u003e products and since we don’t have the source code for TalonFX I am a little confused?\\u003c/p\\u003e\\n\\u003cp\\u003eAs far as I know \\u003cspan class=\\\"abbreviation\\\"\\u003eCTRE\\u003ctemplate class=\\\"tooltiptext\\\" data-text=\\\"Cross The Road Electronics\\\"\\u003e\\u003c/template\\u003e\\u003c/span\\u003e Products run a position \\u003cspan class=\\\"abbreviation\\\"\\u003ePID\\u003ctemplate class=\\\"tooltiptext\\\" data-text=\\\"Proportional Integral Derivative\\\"\\u003e\\u003c/template\\u003e\\u003c/span\\u003e to current position of time sampled state and a velocity feedforward for that state  for the generated profile.\\u003c/p\\u003e\\n\\u003cp\\u003eWhen I was looking for open source projects I saw the moteus project and \\u003ca href=\\\"https://github.com/mjbots/moteus/blob/main/docs/reference.md\\\" rel=\\\"noopener nofollow ugc\\\"\\u003edocumentation\\u003c/a\\u003e explained their way of closed loop control.\\u003c/p\\u003e\\n\\u003cpre\\u003e\\u003ccode class=\\\"lang-auto\\\"\\u003eacceleration = trajectory_follower(command_position, command_velocity)\\ncontrol_velocity = command_velocity OR control_velocity + acceleration * dt OR 0.0\\ncontrol_position = command_position OR control_position + control_velocity * dt\\nposition_error = control_position - feedback_position\\nvelocity_error = control_velocity - feedback_velocity\\nposition_integrator = limit(position_integrator + ki * position_error * dt, ilimit)\\ntorque = position_integrator +\\n         kp * kp_scale * position_error +\\n         kd * kd_scale * velocity_error +\\n         command_torque\\n\\u003c/code\\u003e\\u003c/pre\\u003e\\n\\u003cp\\u003eThis is where I just got confused, they were getting both position and velocity targets for their closed loop control and using the kd with the velocity error which I have never seen before in \\u003cspan class=\\\"abbreviation\\\"\\u003eFRC\\u003ctemplate class=\\\"tooltiptext\\\" data-text=\\\"FIRST Robotics Competition\\\"\\u003e\\u003c/template\\u003e\\u003c/span\\u003e (probably I did not see it).\\u003c/p\\u003e\\n\\u003cp\\u003eHow does this approach differ from standard \\u003cspan class=\\\"abbreviation\\\"\\u003eFRC\\u003ctemplate class=\\\"tooltiptext\\\" data-text=\\\"FIRST Robotics Competition\\\"\\u003e\\u003c/template\\u003e\\u003c/span\\u003e way of following motion profiles?\\u003c/p\\u003e\\n\\u003cp\\u003eAs far as I understand this approach will allow you to follow a non zero velocity ending trajectory as well, is it true?\\u003c/p\\u003e\",\"post_number\":1,\"post_type\":1,\"posts_count\":16,\"updated_at\":\"2025-05-13T18:32:57.325Z\",\"reply_count\":2,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":23,\"reads\":359,\"readers_count\":358,\"score\":196.8,\"yours\":false,\"topic_id\":501666,\"topic_slug\":\"motion-profiling-motion-magic-on-non-frc-products\",\"display_username\":\"Barkın Var\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"link_counts\":[{\"url\":\"https://github.com/mjbots/moteus/blob/main/docs/reference.md\",\"internal\":false,\"reflection\":false,\"title\":\"moteus/docs/reference.md at main · mjbots/moteus · GitHub\",\"clicks\":9}],\"read\":true,\"user_title\":null,\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":50115,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"9483 Mentor\"},\"post_url\":\"/t/motion-profiling-motion-magic-on-non-frc-products/501666/1\",\"custom_user_title\":\"9483 Mentor\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null,\"can_vote\":false},{\"id\":3623182,\"name\":\"Yishai Levy\",\"username\":\"levyishai\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/levyishai/{size}/264719_2.png\",\"created_at\":\"2025-05-13T18:36:25.332Z\",\"cooked\":\"\\u003caside class=\\\"quote no-group\\\" data-username=\\\"barkinvar\\\" data-post=\\\"1\\\" data-topic=\\\"501666\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg loading=\\\"lazy\\\" alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/user_avatar/www.chiefdelphi.com/barkinvar/48/171468_2.png\\\" class=\\\"avatar\\\"\\u003e barkinvar:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003ekd with the velocity error which I have never seen before in \\u003cspan class=\\\"abbreviation\\\"\\u003eFRC\\u003ctemplate class=\\\"tooltiptext\\\" data-text=\\\"FIRST Robotics Competition\\\"\\u003e\\u003c/template\\u003e\\u003c/span\\u003e\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003cp\\u003ekD is actually like having a kP controller on the velocity. Velocity is the \\u003cem\\u003ederivative\\u003c/em\\u003e of position.\\u003cbr\\u003e\\nThe reason you don’t need to input the target velocity to your usual \\u003cspan class=\\\"abbreviation\\\"\\u003eFRC\\u003ctemplate class=\\\"tooltiptext\\\" data-text=\\\"FIRST Robotics Competition\\\"\\u003e\\u003c/template\\u003e\\u003c/span\\u003e \\u003cspan class=\\\"abbreviation\\\"\\u003ePID\\u003ctemplate class=\\\"tooltiptext\\\" data-text=\\\"Proportional Integral Derivative\\\"\\u003e\\u003c/template\\u003e\\u003c/span\\u003e controller is because it’s “guessing” that on its own using the previous position error and the current one.\\u003cbr\\u003e\\n\\u003ccode\\u003e(currentError - prevError) / period = velocityError\\u003c/code\\u003e\\u003c/p\\u003e\\n\\u003caside class=\\\"quote no-group\\\" data-username=\\\"barkinvar\\\" data-post=\\\"1\\\" data-topic=\\\"501666\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg loading=\\\"lazy\\\" alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/user_avatar/www.chiefdelphi.com/barkinvar/48/171468_2.png\\\" class=\\\"avatar\\\"\\u003e barkinvar:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003esince we don’t have the source code for TalonFX I am a little confused?\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003cp\\u003e\\u003cspan class=\\\"abbreviation\\\"\\u003eCTRE\\u003ctemplate class=\\\"tooltiptext\\\" data-text=\\\"Cross The Road Electronics\\\"\\u003e\\u003c/template\\u003e\\u003c/span\\u003e uses an S-curve profile which is a bit harder to implement, but the \\u003ca href=\\\"https://docs.wpilib.org/en/stable/docs/software/commandbased/profile-subsystems-commands.html\\\" rel=\\\"noopener nofollow ugc\\\"\\u003eWPILib trapezoidal profile\\u003c/a\\u003e should probably be more than enough for you.\\u003c/p\\u003e\",\"post_number\":2,\"post_type\":1,\"posts_count\":16,\"updated_at\":\"2025-05-13T18:40:55.976Z\",\"reply_count\":3,\"reply_to_post_number\":null,\"quote_count\":1,\"incoming_link_count\":0,\"reads\":319,\"readers_count\":318,\"score\":93.8,\"yours\":false,\"topic_id\":501666,\"topic_slug\":\"motion-profiling-motion-magic-on-non-frc-products\",\"display_username\":\"Yishai Levy\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"link_counts\":[{\"url\":\"https://docs.wpilib.org/en/stable/docs/software/commandbased/profile-subsystems-commands.html\",\"internal\":false,\"reflection\":false,\"title\":\"Motion Profiling in Command-based — FIRST Robotics Competition documentation\",\"clicks\":2}],\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":1}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":57809,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"Team Captain, Programming Lead \\u0026 Operator\"},\"post_url\":\"/t/motion-profiling-motion-magic-on-non-frc-products/501666/2\",\"custom_user_title\":\"Team Captain, Programming Lead \\u0026 Operator\",\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":1}],\"current_user_reaction\":null,\"reaction_users_count\":1,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3623211,\"name\":\"\",\"username\":\"Alex_Y\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/a/82dd89/{size}.png\",\"created_at\":\"2025-05-13T18:50:03.245Z\",\"cooked\":\"\\u003caside class=\\\"quote no-group\\\" data-username=\\\"barkinvar\\\" data-post=\\\"1\\\" data-topic=\\\"501666\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg loading=\\\"lazy\\\" alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/user_avatar/www.chiefdelphi.com/barkinvar/48/171468_2.png\\\" class=\\\"avatar\\\"\\u003e barkinvar:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003eThis is where I just got confused, they were getting both position and velocity targets for their closed loop control and using the kd with the velocity error which I have never seen before in \\u003cspan class=\\\"abbreviation\\\"\\u003eFRC\\u003ctemplate class=\\\"tooltiptext\\\" data-text=\\\"FIRST Robotics Competition\\\"\\u003e\\u003c/template\\u003e\\u003c/span\\u003e (probably I did not see it).\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003cp\\u003ekD can be though of as a kP gain on velocity. A position pid can be better thought of as a \\u003cspan class=\\\"abbreviation\\\"\\u003ePID\\u003ctemplate class=\\\"tooltiptext\\\" data-text=\\\"Proportional Integral Derivative\\\"\\u003e\\u003c/template\\u003e\\u003c/span\\u003e with a target veloicty of zero. Motion profiles or moving inputs also generate a velocity reference and want you to keep velocity, so asking for a velocity of zero does not make sense. The solution is to pass velocity reference into both your feedforwards and feedback controllers, you will achieve significantly better reference tracking, resulting in the velocity error term you are seeing.\\u003c/p\\u003e\\n\\u003caside class=\\\"quote no-group\\\" data-username=\\\"levyishai\\\" data-post=\\\"2\\\" data-topic=\\\"501666\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg loading=\\\"lazy\\\" alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/user_avatar/www.chiefdelphi.com/levyishai/48/264719_2.png\\\" class=\\\"avatar\\\"\\u003e levyishai:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003e\\u003cspan class=\\\"abbreviation\\\"\\u003eCTRE\\u003ctemplate class=\\\"tooltiptext\\\" data-text=\\\"Cross The Road Electronics\\\"\\u003e\\u003c/template\\u003e\\u003c/span\\u003e uses an S-curve profile which is a bit harder to implement,\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003cp\\u003eIts less so hard but more so just tedious as they are are a \\u003ca href=\\\"https://www.sciencedirect.com/science/article/pii/S1474667016373815\\\" rel=\\\"noopener nofollow ugc\\\"\\u003elot more quations\\u003c/a\\u003e but they are applied in exactly in the same way.\\u003c/p\\u003e\\n\\u003caside class=\\\"quote no-group\\\" data-username=\\\"barkinvar\\\" data-post=\\\"1\\\" data-topic=\\\"501666\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg loading=\\\"lazy\\\" alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/user_avatar/www.chiefdelphi.com/barkinvar/48/171468_2.png\\\" class=\\\"avatar\\\"\\u003e barkinvar:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003eAs far as I understand this approach will allow you to follow a non zero velocity ending trajectory as well, is it true?\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003cp\\u003eYes. This is how you track moving inputs, but there is the caveat that you must update the velocity and position reference together such that the velocity reference is exactly the first derivative of the position reference. (e.g if you want the controller to stay put in one place, the velocity reference must be zero at the end of the controller.) If you don’t do this correctly, the system will stabilize somewhere where you don’t want where the kp gains on position and velocity (kd) reach equilibrium.\\u003c/p\\u003e\\n\\u003cp\\u003eI would actually suggest deriving the profiles by hand if you can’t find a good paper describing the math. Math is significantly easier to understand than code in terms of controls.\\u003c/p\\u003e\",\"post_number\":3,\"post_type\":1,\"posts_count\":16,\"updated_at\":\"2025-05-13T18:50:03.245Z\",\"reply_count\":2,\"reply_to_post_number\":null,\"quote_count\":2,\"incoming_link_count\":1,\"reads\":288,\"readers_count\":287,\"score\":72.6,\"yours\":false,\"topic_id\":501666,\"topic_slug\":\"motion-profiling-motion-magic-on-non-frc-products\",\"display_username\":\"\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"link_counts\":[{\"url\":\"https://www.sciencedirect.com/science/article/pii/S1474667016373815\",\"internal\":false,\"reflection\":false,\"clicks\":18}],\"read\":true,\"user_title\":null,\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":50219,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"\"},\"post_url\":\"/t/motion-profiling-motion-magic-on-non-frc-products/501666/3\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3623239,\"name\":\"Barkın Var\",\"username\":\"barkinvar\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/barkinvar/{size}/171468_2.png\",\"created_at\":\"2025-05-13T19:01:29.993Z\",\"cooked\":\"\\u003caside class=\\\"quote no-group\\\" data-username=\\\"Alex_Y\\\" data-post=\\\"3\\\" data-topic=\\\"501666\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg loading=\\\"lazy\\\" alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/letter_avatar_proxy/v4/letter/a/82dd89/48.png\\\" class=\\\"avatar\\\"\\u003e Alex_Y:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003eThe solution is to pass velocity reference into both your feedforwards and feedback controllers\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003cp\\u003eWPILib’s profiled \\u003cspan class=\\\"abbreviation\\\"\\u003ePID\\u003ctemplate class=\\\"tooltiptext\\\" data-text=\\\"Proportional Integral Derivative\\\"\\u003e\\u003c/template\\u003e\\u003c/span\\u003e controller does not use the velocity target while doing the calculations but rather it follows the moving target point. Since the target point is moving with the same velocity as profile calculated, it is probably going to achieve a similar result as I understand since\\u003c/p\\u003e\\n\\u003caside class=\\\"quote no-group\\\" data-username=\\\"levyishai\\\" data-post=\\\"2\\\" data-topic=\\\"501666\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg loading=\\\"lazy\\\" alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/user_avatar/www.chiefdelphi.com/levyishai/48/264719_2.png\\\" class=\\\"avatar\\\"\\u003e levyishai:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003e\\u003ccode\\u003e(currentError - prevError) / period = velocityError\\u003c/code\\u003e\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003cp\\u003ebut it still feels counter intuitive for me to calculate the velocity error from the position set points.\\u003c/p\\u003e\\n\\u003cp\\u003eAnother thing is that we use velocity feedforward but moteus does not. Wouldn’t it cause the controller to lag behind the target. Do they overcome it by doing torque control instead of voltage control?\\u003c/p\\u003e\",\"post_number\":4,\"post_type\":1,\"posts_count\":16,\"updated_at\":\"2025-05-13T19:02:45.988Z\",\"reply_count\":3,\"reply_to_post_number\":3,\"quote_count\":2,\"incoming_link_count\":0,\"reads\":222,\"readers_count\":221,\"score\":59.4,\"yours\":false,\"topic_id\":501666,\"topic_slug\":\"motion-profiling-motion-magic-on-non-frc-products\",\"display_username\":\"Barkın Var\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":null,\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":50115,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"9483 Mentor\"},\"post_url\":\"/t/motion-profiling-motion-magic-on-non-frc-products/501666/4\",\"custom_user_title\":\"9483 Mentor\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3623262,\"name\":\"\",\"username\":\"pigrammer\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/pigrammer/{size}/234083_2.png\",\"created_at\":\"2025-05-13T19:08:36.301Z\",\"cooked\":\"\\u003caside class=\\\"quote no-group\\\" data-username=\\\"barkinvar\\\" data-post=\\\"4\\\" data-topic=\\\"501666\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg loading=\\\"lazy\\\" alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/user_avatar/www.chiefdelphi.com/barkinvar/48/171468_2.png\\\" class=\\\"avatar\\\"\\u003e barkinvar:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003ebut it still feels counter intuitive for me to calculate the velocity error from the position set points.\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003cp\\u003eThink of it this way:\\u003c/p\\u003e\\n\\u003cp\\u003evelocity = d(Position)/dt\\u003cbr\\u003e\\nvelocityError = actualVelocity - desiredVelocity = (d(actualPosition)/dt) - (d(desiredPosition)/dt) = d(actualPosition - desiredPosition)/dt = d(positionError)/dt\\u003c/p\\u003e\",\"post_number\":5,\"post_type\":1,\"posts_count\":16,\"updated_at\":\"2025-05-13T19:08:55.264Z\",\"reply_count\":0,\"reply_to_post_number\":4,\"quote_count\":1,\"incoming_link_count\":1,\"reads\":196,\"readers_count\":195,\"score\":74.2,\"yours\":false,\"topic_id\":501666,\"topic_slug\":\"motion-profiling-motion-magic-on-non-frc-products\",\"display_username\":\"\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":null,\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":2}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":64857,\"hidden\":false,\"trust_level\":3,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"246 Software Lead\"},\"post_url\":\"/t/motion-profiling-motion-magic-on-non-frc-products/501666/5\",\"custom_user_title\":\"246 Software Lead\",\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":2}],\"current_user_reaction\":null,\"reaction_users_count\":2,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3623268,\"name\":\"Yishai Levy\",\"username\":\"levyishai\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/levyishai/{size}/264719_2.png\",\"created_at\":\"2025-05-13T19:10:05.410Z\",\"cooked\":\"\\u003caside class=\\\"quote no-group\\\" data-username=\\\"barkinvar\\\" data-post=\\\"4\\\" data-topic=\\\"501666\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg loading=\\\"lazy\\\" alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/user_avatar/www.chiefdelphi.com/barkinvar/48/171468_2.png\\\" class=\\\"avatar\\\"\\u003e barkinvar:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003ebut it still feels counter intuitive for me to calculate the velocity error from the position set points.\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003cp\\u003eI can totally understand why, think of it like this: if you’ll graph out each setpoint given to the robot, it’s very trivial to find the motion profile’s target velocity at any given moment without asking it for it. You simply take two points in the graph, find the slope between them and that should be the exact velocity setpoint given by the motion profile.\\u003cbr\\u003e\\nIt also handles non-zero velocity profile endings easily; if the rate of change in setpoint is constant and non-zero till the last second, the velocity target will also remain a non-zero constant setpoint.\\u003c/p\\u003e\\n\\u003caside class=\\\"quote no-group\\\" data-username=\\\"barkinvar\\\" data-post=\\\"4\\\" data-topic=\\\"501666\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg loading=\\\"lazy\\\" alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/user_avatar/www.chiefdelphi.com/barkinvar/48/171468_2.png\\\" class=\\\"avatar\\\"\\u003e barkinvar:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003eDo they overcome it by doing torque control instead of voltage control?\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003cp\\u003eYeah. Since torque is proportional to acceleration, zero torque should make you stay in your current velocity (if you apply kG, kS and other feed forward terms correctly). kV is used to cancel back-emf (basically the thing that makes motors slow down when the voltage goes down). You could say that just as a “side affect”, it also helps you \\u003cem\\u003ereach\\u003c/em\\u003e a cruise velocity for voltage control rather than only maintaining it. Because in torque control there is no back-emf (the motor won’t slow down given a zero torque request), a kV wouldn’t really work and would be useless in most cases. If you’ve ever tried to SysId with TorqueCurrent control, you can see it’ll basically return zero for the kV.\\u003cbr\\u003e\\nThe kV equivalent for not lagging behind even without a kP for torque control is usually the kA.\\u003c/p\\u003e\",\"post_number\":6,\"post_type\":1,\"posts_count\":16,\"updated_at\":\"2025-05-13T19:14:01.754Z\",\"reply_count\":1,\"reply_to_post_number\":4,\"quote_count\":1,\"incoming_link_count\":0,\"reads\":190,\"readers_count\":189,\"score\":58.0,\"yours\":false,\"topic_id\":501666,\"topic_slug\":\"motion-profiling-motion-magic-on-non-frc-products\",\"display_username\":\"Yishai Levy\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":1}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":57809,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"Team Captain, Programming Lead \\u0026 Operator\"},\"post_url\":\"/t/motion-profiling-motion-magic-on-non-frc-products/501666/6\",\"custom_user_title\":\"Team Captain, Programming Lead \\u0026 Operator\",\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":1}],\"current_user_reaction\":null,\"reaction_users_count\":1,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3623290,\"name\":\"Barkın Var\",\"username\":\"barkinvar\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/barkinvar/{size}/171468_2.png\",\"created_at\":\"2025-05-13T19:16:04.125Z\",\"cooked\":\"\\u003caside class=\\\"quote no-group\\\" data-username=\\\"levyishai\\\" data-post=\\\"6\\\" data-topic=\\\"501666\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg loading=\\\"lazy\\\" alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/user_avatar/www.chiefdelphi.com/levyishai/48/264719_2.png\\\" class=\\\"avatar\\\"\\u003e levyishai:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003eIt also handles non-zero velocity profile endings easily; if the rate of change in setpoint is constant and non-zero till the last second, the velocity target will also remain a non-zero constant setpoint.\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003cp\\u003eBut with the current implementation of profiledPIDController if I say go to position a with velocity b after it reaches the end position instead of going forward with constant speed it would fight to go back to position a I assume.\\u003c/p\\u003e\",\"post_number\":7,\"post_type\":1,\"posts_count\":16,\"updated_at\":\"2025-05-13T19:16:04.125Z\",\"reply_count\":1,\"reply_to_post_number\":6,\"quote_count\":1,\"incoming_link_count\":0,\"reads\":159,\"readers_count\":158,\"score\":36.8,\"yours\":false,\"topic_id\":501666,\"topic_slug\":\"motion-profiling-motion-magic-on-non-frc-products\",\"display_username\":\"Barkın Var\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":null,\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":50115,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"9483 Mentor\"},\"post_url\":\"/t/motion-profiling-motion-magic-on-non-frc-products/501666/7\",\"custom_user_title\":\"9483 Mentor\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3623308,\"name\":\"Yishai Levy\",\"username\":\"levyishai\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/levyishai/{size}/264719_2.png\",\"created_at\":\"2025-05-13T19:20:19.700Z\",\"cooked\":\"\\u003cp\\u003eIn that case, if you intend on stopping to change the setpoint at the end of the path it’ll always do that. You’ll regardless need to change the position setpoint accordingly to match the integral of the velocity setpoint. If you’d stop only one abruptly, it won’t function as you’d like, as Alex mentioned:\\u003c/p\\u003e\\n\\u003caside class=\\\"quote no-group\\\" data-username=\\\"Alex_Y\\\" data-post=\\\"3\\\" data-topic=\\\"501666\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg loading=\\\"lazy\\\" alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/letter_avatar_proxy/v4/letter/a/82dd89/48.png\\\" class=\\\"avatar\\\"\\u003e Alex_Y:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003eIf you don’t do this correctly, the system will stabilize somewhere where you don’t want where the kp gains on position and velocity (kd) reach equilibrium.\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003cp\\u003eThe real question should be; why are you generating a profile with a non-zero end velocity? I’d say the most common case is when switching between two controllers or setpoints in real time, and wanting the first one to try and maintain the highest velocity possible before going to the other setpoint.\\u003cbr\\u003e\\nYou might have a use case I haven’t thought of, but it should pretty much always work the same regardless on how you do it.\\u003c/p\\u003e\",\"post_number\":8,\"post_type\":1,\"posts_count\":16,\"updated_at\":\"2025-05-13T19:24:03.409Z\",\"reply_count\":2,\"reply_to_post_number\":7,\"quote_count\":1,\"incoming_link_count\":0,\"reads\":156,\"readers_count\":155,\"score\":56.2,\"yours\":false,\"topic_id\":501666,\"topic_slug\":\"motion-profiling-motion-magic-on-non-frc-products\",\"display_username\":\"Yishai Levy\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"reply_to_user\":{\"id\":50115,\"username\":\"barkinvar\",\"name\":\"Barkın Var\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/barkinvar/{size}/171468_2.png\"},\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":1}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":57809,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"Team Captain, Programming Lead \\u0026 Operator\"},\"post_url\":\"/t/motion-profiling-motion-magic-on-non-frc-products/501666/8\",\"custom_user_title\":\"Team Captain, Programming Lead \\u0026 Operator\",\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":1}],\"current_user_reaction\":null,\"reaction_users_count\":1,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3623350,\"name\":\"Barkın Var\",\"username\":\"barkinvar\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/barkinvar/{size}/171468_2.png\",\"created_at\":\"2025-05-13T19:26:50.803Z\",\"cooked\":\"\\u003caside class=\\\"quote no-group\\\" data-username=\\\"levyishai\\\" data-post=\\\"8\\\" data-topic=\\\"501666\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg loading=\\\"lazy\\\" alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/user_avatar/www.chiefdelphi.com/levyishai/48/264719_2.png\\\" class=\\\"avatar\\\"\\u003e levyishai:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003eThe real question should be; why are you generating a profile with a non-zero end velocity\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003cp\\u003eI don’t really have a reason the generate a non zero end velocity. I just wanted to understand the what if case.\\u003c/p\\u003e\\n\\u003caside class=\\\"quote no-group\\\" data-username=\\\"levyishai\\\" data-post=\\\"8\\\" data-topic=\\\"501666\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg loading=\\\"lazy\\\" alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/user_avatar/www.chiefdelphi.com/levyishai/48/264719_2.png\\\" class=\\\"avatar\\\"\\u003e levyishai:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003eI’d say the most common case is when switching between two controllers or setpoints in real time, and wanting the first one to try and maintain the highest velocity possible before going to the other setpoint.\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003cp\\u003eYes, we sometimes do it if we want to switch between controllers during autonomous (drive to position with trajectory following then drive to pose with pid etc).\\u003c/p\\u003e\",\"post_number\":9,\"post_type\":1,\"posts_count\":16,\"updated_at\":\"2025-05-13T19:27:29.956Z\",\"reply_count\":1,\"reply_to_post_number\":8,\"quote_count\":1,\"incoming_link_count\":0,\"reads\":142,\"readers_count\":141,\"score\":33.4,\"yours\":false,\"topic_id\":501666,\"topic_slug\":\"motion-profiling-motion-magic-on-non-frc-products\",\"display_username\":\"Barkın Var\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":null,\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":50115,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"9483 Mentor\"},\"post_url\":\"/t/motion-profiling-motion-magic-on-non-frc-products/501666/9\",\"custom_user_title\":\"9483 Mentor\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3623359,\"name\":\"Yishai Levy\",\"username\":\"levyishai\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/levyishai/{size}/264719_2.png\",\"created_at\":\"2025-05-13T19:28:43.777Z\",\"cooked\":\"\\u003caside class=\\\"quote no-group quote-modified\\\" data-username=\\\"barkinvar\\\" data-post=\\\"9\\\" data-topic=\\\"501666\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg loading=\\\"lazy\\\" alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/user_avatar/www.chiefdelphi.com/barkinvar/48/171468_2.png\\\" class=\\\"avatar\\\"\\u003e barkinvar:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003eYes, we sometimes do it if we want to switch between controllers during autonomous (drive to position with trajectory following then drive to pose).\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003cp\\u003eYeah, autonomous was the exact same use case I had in mind.\\u003cbr\\u003e\\nSo, it should pretty much function the exact same way either way you do it, but I’d say deriving it from the position error is safer than inputting the target velocity by hand.\\u003c/p\\u003e\",\"post_number\":10,\"post_type\":1,\"posts_count\":16,\"updated_at\":\"2025-05-13T19:30:56.554Z\",\"reply_count\":0,\"reply_to_post_number\":9,\"quote_count\":1,\"incoming_link_count\":0,\"reads\":148,\"readers_count\":147,\"score\":59.6,\"yours\":false,\"topic_id\":501666,\"topic_slug\":\"motion-profiling-motion-magic-on-non-frc-products\",\"display_username\":\"Yishai Levy\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":2}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":57809,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"Team Captain, Programming Lead \\u0026 Operator\"},\"post_url\":\"/t/motion-profiling-motion-magic-on-non-frc-products/501666/10\",\"custom_user_title\":\"Team Captain, Programming Lead \\u0026 Operator\",\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":2}],\"current_user_reaction\":null,\"reaction_users_count\":2,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3623609,\"name\":\"\",\"username\":\"Alex_Y\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/a/82dd89/{size}.png\",\"created_at\":\"2025-05-13T21:37:02.646Z\",\"cooked\":\"\\u003caside class=\\\"quote no-group\\\" data-username=\\\"barkinvar\\\" data-post=\\\"4\\\" data-topic=\\\"501666\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg loading=\\\"lazy\\\" alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/user_avatar/www.chiefdelphi.com/barkinvar/48/171468_2.png\\\" class=\\\"avatar\\\"\\u003e barkinvar:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003eWPILib’s profiled \\u003cspan class=\\\"abbreviation\\\"\\u003ePID\\u003ctemplate class=\\\"tooltiptext\\\" data-text=\\\"Proportional Integral Derivative\\\"\\u003e\\u003c/template\\u003e\\u003c/span\\u003e controller does not use the velocity target while doing the calculations but rather it follows the moving target point. Since the target point is moving with the same velocity as profile calculated, it is probably going to achieve a similar result as I understand since\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003cp\\u003eAssuming the first part is true, it will track the target very poorly due significant phase lag. When the system is near setpoint, the kd gain will try to decelerate the system to 0, when that’s not what you want. You want the system to continue at the desired non-zero velocity as dictated by the motoion profile or moving input, hence why the velocity error term is required.\\u003c/p\\u003e\\n\\u003caside class=\\\"quote no-group\\\" data-username=\\\"barkinvar\\\" data-post=\\\"4\\\" data-topic=\\\"501666\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg loading=\\\"lazy\\\" alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/user_avatar/www.chiefdelphi.com/barkinvar/48/171468_2.png\\\" class=\\\"avatar\\\"\\u003e barkinvar:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003ebut it still feels counter intuitive for me to calculate the velocity error from the position set points.\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003cp\\u003eVelocity is the first time derivative of position. The above formula is the simplest way to take a discrete derivative.\\u003c/p\\u003e\\n\\u003caside class=\\\"quote no-group\\\" data-username=\\\"levyishai\\\" data-post=\\\"8\\\" data-topic=\\\"501666\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg loading=\\\"lazy\\\" alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/user_avatar/www.chiefdelphi.com/levyishai/48/264719_2.png\\\" class=\\\"avatar\\\"\\u003e levyishai:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003eThe real question should be; why are you generating a profile with a non-zero end velocity? I’d say the most common case is when switching between two controllers or setpoints in real time, and wanting the first one to try and maintain the highest velocity possible before going to the other setpoint.\\u003cbr\\u003e\\nYou might have a use case I haven’t thought of, but it should pretty much always work the same regardless on how you do it.\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003cp\\u003eYes, but it is worth noting that you must have velocity continuity, which is not always trivial. Doing this but not well can result in velocity discontinuities which leads to unpredictable behavior.\\u003c/p\\u003e\",\"post_number\":11,\"post_type\":1,\"posts_count\":16,\"updated_at\":\"2025-05-13T21:37:02.646Z\",\"reply_count\":3,\"reply_to_post_number\":4,\"quote_count\":2,\"incoming_link_count\":2,\"reads\":137,\"readers_count\":136,\"score\":67.4,\"yours\":false,\"topic_id\":501666,\"topic_slug\":\"motion-profiling-motion-magic-on-non-frc-products\",\"display_username\":\"\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":null,\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":1}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":50219,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"\"},\"post_url\":\"/t/motion-profiling-motion-magic-on-non-frc-products/501666/11\",\"custom_user_title\":null,\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":1}],\"current_user_reaction\":null,\"reaction_users_count\":1,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3623615,\"name\":\"Yishai Levy\",\"username\":\"levyishai\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/levyishai/{size}/264719_2.png\",\"created_at\":\"2025-05-13T21:42:40.548Z\",\"cooked\":\"\\u003caside class=\\\"quote no-group\\\" data-username=\\\"Alex_Y\\\" data-post=\\\"11\\\" data-topic=\\\"501666\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg loading=\\\"lazy\\\" alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/letter_avatar_proxy/v4/letter/a/82dd89/48.png\\\" class=\\\"avatar\\\"\\u003e Alex_Y:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003ebut it is worth noting that you must have velocity continuity, which is not always trivial\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003cp\\u003eA good profile should be more than enough for this, which is already the intended use case.\\u003c/p\\u003e\",\"post_number\":12,\"post_type\":1,\"posts_count\":16,\"updated_at\":\"2025-05-13T21:42:40.548Z\",\"reply_count\":0,\"reply_to_post_number\":11,\"quote_count\":1,\"incoming_link_count\":0,\"reads\":132,\"readers_count\":131,\"score\":41.2,\"yours\":false,\"topic_id\":501666,\"topic_slug\":\"motion-profiling-motion-magic-on-non-frc-products\",\"display_username\":\"Yishai Levy\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":1}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":57809,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"Team Captain, Programming Lead \\u0026 Operator\"},\"post_url\":\"/t/motion-profiling-motion-magic-on-non-frc-products/501666/12\",\"custom_user_title\":\"Team Captain, Programming Lead \\u0026 Operator\",\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":1}],\"current_user_reaction\":null,\"reaction_users_count\":1,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3623621,\"name\":\"Barkın Var\",\"username\":\"barkinvar\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/barkinvar/{size}/171468_2.png\",\"created_at\":\"2025-05-13T21:44:57.738Z\",\"cooked\":\"\\u003caside class=\\\"quote no-group\\\" data-username=\\\"Alex_Y\\\" data-post=\\\"11\\\" data-topic=\\\"501666\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg loading=\\\"lazy\\\" alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/letter_avatar_proxy/v4/letter/a/82dd89/48.png\\\" class=\\\"avatar\\\"\\u003e Alex_Y:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003eAssuming the first part is true\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003cp\\u003eIt is not directly getting it as a parameter of a function, it is just a simple position \\u003cspan class=\\\"abbreviation\\\"\\u003ePID\\u003ctemplate class=\\\"tooltiptext\\\" data-text=\\\"Proportional Integral Derivative\\\"\\u003e\\u003c/template\\u003e\\u003c/span\\u003e but since the target position is changing with regards to wanted velocity and it uses\\u003c/p\\u003e\\n\\u003caside class=\\\"quote no-group\\\" data-username=\\\"levyishai\\\" data-post=\\\"2\\\" data-topic=\\\"501666\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg loading=\\\"lazy\\\" alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/user_avatar/www.chiefdelphi.com/levyishai/48/264719_2.png\\\" class=\\\"avatar\\\"\\u003e levyishai:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003e(currentError - prevError) / period = velocityError\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003cp\\u003ethis approach, all should result in the same mathematical value if I understood everything correctly.\\u003c/p\\u003e\",\"post_number\":13,\"post_type\":1,\"posts_count\":16,\"updated_at\":\"2025-05-13T21:44:57.738Z\",\"reply_count\":0,\"reply_to_post_number\":11,\"quote_count\":2,\"incoming_link_count\":0,\"reads\":135,\"readers_count\":134,\"score\":41.8,\"yours\":false,\"topic_id\":501666,\"topic_slug\":\"motion-profiling-motion-magic-on-non-frc-products\",\"display_username\":\"Barkın Var\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":null,\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":1}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":50115,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"9483 Mentor\"},\"post_url\":\"/t/motion-profiling-motion-magic-on-non-frc-products/501666/13\",\"custom_user_title\":\"9483 Mentor\",\"reactions\":[{\"id\":\"+1\",\"type\":\"emoji\",\"count\":1}],\"current_user_reaction\":null,\"reaction_users_count\":1,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3626048,\"name\":\"Eli Barnett\",\"username\":\"Oblarg\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/oblarg/{size}/161674_2.png\",\"created_at\":\"2025-05-16T13:17:04.152Z\",\"cooked\":\"\\u003caside class=\\\"quote no-group\\\" data-username=\\\"Alex_Y\\\" data-post=\\\"11\\\" data-topic=\\\"501666\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg loading=\\\"lazy\\\" alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/letter_avatar_proxy/v4/letter/a/82dd89/48.png\\\" class=\\\"avatar\\\"\\u003e Alex_Y:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003eAssuming the first part is true\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003cp\\u003eYou know you can read the source (or even the javadocs) and then you won’t have to (wrongly) assume and give bad advice.\\u003c/p\\u003e\",\"post_number\":14,\"post_type\":1,\"posts_count\":16,\"updated_at\":\"2025-05-16T13:17:04.152Z\",\"reply_count\":1,\"reply_to_post_number\":11,\"quote_count\":1,\"incoming_link_count\":0,\"reads\":96,\"readers_count\":95,\"score\":39.0,\"yours\":false,\"topic_id\":501666,\"topic_slug\":\"motion-profiling-motion-magic-on-non-frc-products\",\"display_username\":\"Eli Barnett\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":1}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":12381,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"Robot apartments! invisible suburbs! skeleton treasuries!\"},\"post_url\":\"/t/motion-profiling-motion-magic-on-non-frc-products/501666/14\",\"custom_user_title\":\"Robot apartments! invisible suburbs! skeleton treasuries!\",\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":1}],\"current_user_reaction\":null,\"reaction_users_count\":1,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3626142,\"name\":\"\",\"username\":\"Alex_Y\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/a/82dd89/{size}.png\",\"created_at\":\"2025-05-16T15:08:08.837Z\",\"cooked\":\"\\u003cp\\u003eYou know that you can read the entire discussion before replying to a post so you don’t have to take a post out of context and give a pointless reply distracting from the discussion?\\u003c/p\\u003e\\n\\u003cp\\u003eMy point is that tracking a moving target without using the velocity reference as suggested by earlier posts leads to poor tracking performance for reasons listed above, which needs to be notes when re-implementing profiles in a non-\\u003cspan class=\\\"abbreviation\\\"\\u003eFRC\\u003ctemplate class=\\\"tooltiptext\\\" data-text=\\\"FIRST Robotics Competition\\\"\\u003e\\u003c/template\\u003e\\u003c/span\\u003e context (like in the orignial post’s title)\\u003c/p\\u003e\",\"post_number\":15,\"post_type\":1,\"posts_count\":16,\"updated_at\":\"2025-05-16T15:14:44.596Z\",\"reply_count\":1,\"reply_to_post_number\":14,\"quote_count\":0,\"incoming_link_count\":1,\"reads\":86,\"readers_count\":85,\"score\":27.2,\"yours\":false,\"topic_id\":501666,\"topic_slug\":\"motion-profiling-motion-magic-on-non-frc-products\",\"display_username\":\"\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":2,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":null,\"reply_to_user\":{\"id\":12381,\"username\":\"Oblarg\",\"name\":\"Eli Barnett\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/oblarg/{size}/161674_2.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":50219,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"\"},\"post_url\":\"/t/motion-profiling-motion-magic-on-non-frc-products/501666/15\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3626162,\"name\":\"Eli Barnett\",\"username\":\"Oblarg\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/oblarg/{size}/161674_2.png\",\"created_at\":\"2025-05-16T15:31:12.355Z\",\"cooked\":\"\\u003cp\\u003eI understand what your point is.  Your point is irrelevant, because that \\u003cem\\u003ewasn’t\\u003c/em\\u003e suggested earlier in the thread, and you are operating off of a misunderstanding of the library.\\u003c/p\\u003e\",\"post_number\":16,\"post_type\":1,\"posts_count\":16,\"updated_at\":\"2025-05-16T15:31:12.355Z\",\"reply_count\":0,\"reply_to_post_number\":15,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":79,\"readers_count\":78,\"score\":45.8,\"yours\":false,\"topic_id\":501666,\"topic_slug\":\"motion-profiling-motion-magic-on-non-frc-products\",\"display_username\":\"Eli Barnett\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"reply_to_user\":{\"id\":50219,\"username\":\"Alex_Y\",\"name\":\"\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/a/82dd89/{size}.png\"},\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":2}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":12381,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"Robot apartments! invisible suburbs! skeleton treasuries!\"},\"post_url\":\"/t/motion-profiling-motion-magic-on-non-frc-products/501666/16\",\"custom_user_title\":\"Robot apartments! invisible suburbs! skeleton treasuries!\",\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":2}],\"current_user_reaction\":null,\"reaction_users_count\":2,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null}],\"stream\":[3623175,3623182,3623211,3623239,3623262,3623268,3623290,3623308,3623350,3623359,3623609,3623615,3623621,3626048,3626142,3626162]},\"timeline_lookup\":[[1,151],[14,148]],\"suggested_topics\":[{\"fancy_title\":\"Reusing bearings?\",\"id\":495056,\"title\":\"Reusing bearings?\",\"slug\":\"reusing-bearings\",\"posts_count\":4,\"reply_count\":1,\"highest_post_number\":4,\"image_url\":null,\"created_at\":\"2025-03-10T21:57:14.088Z\",\"last_posted_at\":\"2025-03-15T00:39:28.655Z\",\"bumped\":true,\"bumped_at\":\"2025-03-15T00:39:28.655Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"Forgive me if this sounds like an insane question but… does your team reuse bearings from old mechanisms, or do you treat them as single-use parts and always use fresh ones? Prototype with old ones b…\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[],\"tags_descriptions\":{},\"like_count\":5,\"views\":350,\"category_id\":9,\"featured_link\":null,\"has_accepted_answer\":false,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3553310,\"topic_post_liked\":false,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":false,\"topic_post_is_current_users\":null,\"topic_post_number\":1,\"topic_post_user\":{\"id\":26908,\"username\":\"Malm\",\"name\":\"Malm\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/malm/{size}/180801_2.png\"},\"posters\":[{\"extras\":null,\"description\":\"Original Poster\",\"user\":{\"id\":26908,\"username\":\"Malm\",\"name\":\"Malm\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/malm/{size}/180801_2.png\",\"trust_level\":2}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":59796,\"username\":\"Arrowmag\",\"name\":\"Joey Tidrow\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/arrowmag/{size}/233870_2.png\",\"trust_level\":2}},{\"extras\":\"latest\",\"description\":\"Most Recent Poster\",\"user\":{\"id\":22335,\"username\":\"GeeTwo\",\"name\":\"Gus Michel II\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/geetwo/{size}/120962_2.png\",\"trust_level\":2}}]},{\"fancy_title\":\"Dead Axle Rollers\",\"id\":476570,\"title\":\"Dead Axle Rollers\",\"slug\":\"dead-axle-rollers\",\"posts_count\":16,\"reply_count\":7,\"highest_post_number\":16,\"image_url\":null,\"created_at\":\"2024-12-12T15:43:59.715Z\",\"last_posted_at\":\"2024-12-13T01:17:06.949Z\",\"bumped\":true,\"bumped_at\":\"2024-12-13T01:23:46.179Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"I’m looking through ways of designing intakes to show my team for the new season and dead Axle Rollers are something that we have never really done and I wanted to know if there is a benefit to doing …\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[],\"tags_descriptions\":{},\"like_count\":32,\"views\":956,\"category_id\":9,\"featured_link\":null,\"has_accepted_answer\":false,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3458350,\"topic_post_liked\":false,\"topic_post_like_count\":3,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":true,\"topic_post_is_current_users\":null,\"topic_post_number\":1,\"topic_post_user\":{\"id\":56684,\"username\":\"schaefbl\",\"name\":\"Brett\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/schaefbl/{size}/238067_2.png\"},\"posters\":[{\"extras\":null,\"description\":\"Original Poster\",\"user\":{\"id\":56684,\"username\":\"schaefbl\",\"name\":\"Brett\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/schaefbl/{size}/238067_2.png\",\"trust_level\":2}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":48687,\"username\":\"Kbrady\",\"name\":\"KevinBrady\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/kbrady/{size}/161262_2.png\",\"trust_level\":2}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":59141,\"username\":\"petedog07\",\"name\":\"Peter Clausen\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/petedog07/{size}/199760_2.png\",\"trust_level\":2}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":53862,\"username\":\"Captain_D1\",\"name\":\"\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/captain_d1/{size}/176260_2.png\",\"trust_level\":2}},{\"extras\":\"latest\",\"description\":\"Most Recent Poster\",\"user\":{\"id\":22335,\"username\":\"GeeTwo\",\"name\":\"Gus Michel II\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/geetwo/{size}/120962_2.png\",\"trust_level\":2}}]},{\"fancy_title\":\"Limelight Neural Network\",\"id\":483130,\"title\":\"Limelight Neural Network\",\"slug\":\"limelight-neural-network\",\"posts_count\":3,\"reply_count\":1,\"highest_post_number\":3,\"image_url\":null,\"created_at\":\"2025-01-22T23:04:42.277Z\",\"last_posted_at\":\"2025-02-09T08:40:14.625Z\",\"bumped\":true,\"bumped_at\":\"2025-02-09T08:44:11.404Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"Heyy, as a part of Ri3D Mx, we made to models for detecting the algae and the coral with YOLO, you can find them over …\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[\"limelight\"],\"tags_descriptions\":{},\"like_count\":2,\"views\":454,\"category_id\":9,\"featured_link\":null,\"has_accepted_answer\":true,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3490268,\"topic_post_liked\":false,\"topic_post_like_count\":2,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":true,\"topic_post_is_current_users\":null,\"topic_post_number\":2,\"topic_post_user\":{\"id\":59820,\"username\":\"armando_mm09\",\"name\":\"Armando Mac Beath 5887, Programming Mentor\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/armando_mm09/{size}/206909_2.png\"},\"posters\":[{\"extras\":\"latest\",\"description\":\"Original Poster, Most Recent Poster\",\"user\":{\"id\":61815,\"username\":\"Mohammed\",\"name\":\"Mohammed\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/mohammed/{size}/255781_2.png\",\"trust_level\":2}},{\"extras\":null,\"description\":\"Frequent Poster, Accepted Answer\",\"user\":{\"id\":59820,\"username\":\"armando_mm09\",\"name\":\"Armando Mac Beath 5887, Programming Mentor\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/armando_mm09/{size}/206909_2.png\",\"trust_level\":2}}]},{\"fancy_title\":\"YAGSL Field Oriented driving help\",\"id\":482524,\"title\":\"YAGSL Field Oriented driving help\",\"slug\":\"yagsl-field-oriented-driving-help\",\"posts_count\":3,\"reply_count\":0,\"highest_post_number\":3,\"image_url\":null,\"created_at\":\"2025-01-18T19:24:25.819Z\",\"last_posted_at\":\"2025-01-18T23:12:00.296Z\",\"bumped\":true,\"bumped_at\":\"2025-01-18T23:12:00.296Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"We’re currently setting up YAGSL, and everything appears to be working except field oriented driving doesn’t appear to be working. Our robot always drives in a robot oriented manner. We set field ori…\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[\"yagsl\"],\"tags_descriptions\":{},\"like_count\":0,\"views\":121,\"category_id\":30,\"featured_link\":null,\"has_accepted_answer\":false,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3486796,\"topic_post_liked\":false,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":false,\"topic_post_is_current_users\":null,\"topic_post_number\":1,\"topic_post_user\":{\"id\":65270,\"username\":\"jc3m\",\"name\":\"Jonathan Xu\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/j/e274bd/{size}.png\"},\"posters\":[{\"extras\":null,\"description\":\"Original Poster\",\"user\":{\"id\":65270,\"username\":\"jc3m\",\"name\":\"Jonathan Xu\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/j/e274bd/{size}.png\",\"trust_level\":1}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":49423,\"username\":\"Gandagorn\",\"name\":\"Elliot Scher\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/gandagorn/{size}/267112_2.png\",\"trust_level\":2}},{\"extras\":\"latest\",\"description\":\"Most Recent Poster\",\"user\":{\"id\":51887,\"username\":\"nstrike\",\"name\":\"\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/nstrike/{size}/167038_2.png\",\"trust_level\":2}}]},{\"fancy_title\":\"[YAGSL] Swerve drive angle optimizations inverting swerve modules\",\"id\":491343,\"title\":\"[YAGSL] Swerve drive angle optimizations inverting swerve modules\",\"slug\":\"yagsl-swerve-drive-angle-optimizations-inverting-swerve-modules\",\"posts_count\":2,\"reply_count\":0,\"highest_post_number\":2,\"image_url\":null,\"created_at\":\"2025-02-12T13:20:01.404Z\",\"last_posted_at\":\"2025-02-12T15:12:12.913Z\",\"bumped\":true,\"bumped_at\":\"2025-02-12T15:12:12.913Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"I haven’t tried the “eight steps” yet, I wanna get a second opinion before I try them. We set the motors to face the same direction (bevel-side left) and confirmed that they have the correct inversio…\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[\"2025\",\"yagsl\"],\"tags_descriptions\":{},\"like_count\":0,\"views\":78,\"category_id\":30,\"featured_link\":null,\"has_accepted_answer\":false,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3524610,\"topic_post_liked\":false,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":false,\"topic_post_is_current_users\":null,\"topic_post_number\":1,\"topic_post_user\":{\"id\":73378,\"username\":\"anaktonik\",\"name\":\"Ahmet Melih Şen\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/a/59ef9b/{size}.png\"},\"posters\":[{\"extras\":null,\"description\":\"Original Poster\",\"user\":{\"id\":73378,\"username\":\"anaktonik\",\"name\":\"Ahmet Melih Şen\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/a/59ef9b/{size}.png\",\"trust_level\":1}},{\"extras\":\"latest\",\"description\":\"Most Recent Poster\",\"user\":{\"id\":51887,\"username\":\"nstrike\",\"name\":\"\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/nstrike/{size}/167038_2.png\",\"trust_level\":2}}]}],\"tags\":[],\"tags_descriptions\":{},\"fancy_title\":\"Motion Profiling / Motion Magic on Non-FRC Products\",\"id\":501666,\"title\":\"Motion Profiling / Motion Magic on Non-FRC Products\",\"posts_count\":16,\"created_at\":\"2025-05-13T18:31:57.602Z\",\"views\":693,\"reply_count\":13,\"like_count\":13,\"last_posted_at\":\"2025-05-16T15:31:12.355Z\",\"visible\":true,\"closed\":false,\"archived\":false,\"has_summary\":false,\"archetype\":\"regular\",\"slug\":\"motion-profiling-motion-magic-on-non-frc-products\",\"category_id\":9,\"word_count\":2170,\"deleted_at\":null,\"user_id\":50115,\"featured_link\":null,\"pinned_globally\":false,\"pinned_at\":null,\"pinned_until\":null,\"image_url\":null,\"slow_mode_seconds\":0,\"draft\":null,\"draft_key\":\"topic_501666\",\"draft_sequence\":null,\"unpinned\":null,\"pinned\":false,\"current_post_number\":1,\"highest_post_number\":16,\"deleted_by\":null,\"actions_summary\":[{\"id\":4,\"count\":0,\"hidden\":false,\"can_act\":false},{\"id\":8,\"count\":0,\"hidden\":false,\"can_act\":false},{\"id\":10,\"count\":0,\"hidden\":false,\"can_act\":false},{\"id\":7,\"count\":0,\"hidden\":false,\"can_act\":false}],\"chunk_size\":20,\"bookmarked\":false,\"topic_timer\":{\"id\":47297,\"execute_at\":\"2026-05-16T15:31:12.355Z\",\"duration_minutes\":525600,\"based_on_last_post\":true,\"status_type\":\"close\",\"category_id\":null},\"message_bus_last_id\":0,\"participant_count\":5,\"show_read_indicator\":false,\"thumbnails\":null,\"slow_mode_enabled_until\":null,\"valid_reactions\":[\"heart\",\"laughing\",\"point_up\",\"+1\",\"-1\",\"100\",\"open_mouth\",\"cry\",\"question\",\"thinking\",\"call_me_hand\",\"hugs\",\"angry\"],\"user_chosen_thumbnail_url\":null,\"sidecar_installed\":true,\"can_vote\":false,\"vote_count\":0,\"user_voted\":false,\"discourse_zendesk_plugin_zendesk_id\":null,\"discourse_zendesk_plugin_zendesk_url\":\"https://your-url.zendesk.com/agent/tickets/\",\"details\":{\"can_edit\":false,\"notification_level\":1,\"participants\":[{\"id\":50115,\"username\":\"barkinvar\",\"name\":\"Barkın Var\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/barkinvar/{size}/171468_2.png\",\"post_count\":5,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":57809,\"username\":\"levyishai\",\"name\":\"Yishai Levy\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/levyishai/{size}/264719_2.png\",\"post_count\":5,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":50219,\"username\":\"Alex_Y\",\"name\":\"\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/a/82dd89/{size}.png\",\"post_count\":3,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":12381,\"username\":\"Oblarg\",\"name\":\"Eli Barnett\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/oblarg/{size}/161674_2.png\",\"post_count\":2,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":64857,\"username\":\"pigrammer\",\"name\":\"\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/pigrammer/{size}/234083_2.png\",\"post_count\":1,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":3}],\"created_by\":{\"id\":50115,\"username\":\"barkinvar\",\"name\":\"Barkın Var\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/barkinvar/{size}/171468_2.png\"},\"last_poster\":{\"id\":12381,\"username\":\"Oblarg\",\"name\":\"Eli Barnett\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/oblarg/{size}/161674_2.png\"},\"links\":[{\"url\":\"https://www.sciencedirect.com/science/article/pii/S1474667016373815\",\"title\":null,\"internal\":false,\"attachment\":false,\"reflection\":false,\"clicks\":18,\"user_id\":50219,\"domain\":\"www.sciencedirect.com\",\"root_domain\":\"sciencedirect.com\"},{\"url\":\"https://github.com/mjbots/moteus/blob/main/docs/reference.md\",\"title\":\"moteus/docs/reference.md at main · mjbots/moteus · GitHub\",\"internal\":false,\"attachment\":false,\"reflection\":false,\"clicks\":9,\"user_id\":50115,\"domain\":\"github.com\",\"root_domain\":\"github.com\"},{\"url\":\"https://docs.wpilib.org/en/stable/docs/software/commandbased/profile-subsystems-commands.html\",\"title\":\"Motion Profiling in Command-based — FIRST Robotics Competition documentation\",\"internal\":false,\"attachment\":false,\"reflection\":false,\"clicks\":2,\"user_id\":57809,\"domain\":\"docs.wpilib.org\",\"root_domain\":\"wpilib.org\"}]},\"bookmarks\":[]}"}
