{"data":"{\"post_stream\":{\"posts\":[{\"id\":3186872,\"name\":\"ThatAlo\",\"username\":\"ThatAlo\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/thatalo/{size}/214544_2.png\",\"created_at\":\"2023-04-11T20:36:23.242Z\",\"cooked\":\"\\u003cp\\u003eHello!\\u003c/p\\u003e\\n\\u003cp\\u003eI’m in the process of implementing the c++ SwerveDriveKinematics libraries on our swerve robot, and I’ve reached an unusual problem.  In the code for each swerve module, there is a function to set the desired state.  The issue is with state optimization.  When \\u003ccode\\u003efrc::SwerveModuleState::Optimize()\\u003c/code\\u003e is used, forward movement works fine, but any rotation above 45 degrees in either direction causes the angle of the swerve module to switch to a vastly different angle, and begin oscillating uncontrollably.  When \\u003ccode\\u003efrc::SwerveModuleState::Optimize()\\u003c/code\\u003e is commented out, however, the angles are not optimized but the robot drives as intended.\\u003c/p\\u003e\\n\\u003cp\\u003eHere’s all the code involved in driving the module:\\u003c/p\\u003e\\n\\u003cpre\\u003e\\u003ccode class=\\\"lang-auto\\\"\\u003eunits::degree_t SwerveModule::getAngle() { return units::degree_t{m_angleEncoder.GetPosition()};}\\n\\nvoid SwerveModule::SetDesiredState(const frc::SwerveModuleState\\u0026amp; desiredState) {\\n  // Optimize the reference state to avoid spinning further than 90 degrees\\n  frc::Rotation2d const current_rotation = getAngle();\\n  auto const [optimized_speed, optimized_angle] = frc::SwerveModuleState::Optimize(desiredState, current_rotation);\\n\\n  // Set the motor outputs.\\n  m_driveMotor.Set((double) optimized_speed);\\n  m_angleMotor.Set(TalonFXControlMode::Position, optimized_angle.Degrees().value()*(4096.0 / 360.0));\\n}\\n\\u003c/code\\u003e\\u003c/pre\\u003e\\n\\u003cp\\u003eIf you have any knowledge of what might be causing this, your help would be greatly appreciated!\\u003c/p\\u003e\",\"post_number\":1,\"post_type\":1,\"posts_count\":18,\"updated_at\":\"2023-04-11T23:49:56.226Z\",\"reply_count\":0,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":490,\"reads\":325,\"readers_count\":324,\"score\":2515.0,\"yours\":false,\"topic_id\":433954,\"topic_slug\":\"frc-optimize-doesnt-optimize\",\"display_username\":\"ThatAlo\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":4,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":56514,\"hidden\":false,\"trust_level\":1,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"\"},\"post_url\":\"/t/frc-optimize-doesnt-optimize/433954/1\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true,\"can_vote\":false},{\"id\":3187435,\"name\":\"\",\"username\":\"IHateTuningPID\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/i/df705f/{size}.png\",\"created_at\":\"2023-04-12T11:28:11.581Z\",\"cooked\":\"\\u003cp\\u003eI know base falcon swerve has their own optimize function and it has a comment that says the wpilib one doesn’t work. Try copying the logic and see if that fixes the issue.\\u003c/p\\u003e\",\"post_number\":2,\"post_type\":1,\"posts_count\":18,\"updated_at\":\"2023-04-12T11:28:11.581Z\",\"reply_count\":2,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":13,\"reads\":240,\"readers_count\":239,\"score\":138.0,\"yours\":false,\"topic_id\":433954,\"topic_slug\":\"frc-optimize-doesnt-optimize\",\"display_username\":\"\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":null,\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":1}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":56557,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"\"},\"post_url\":\"/t/frc-optimize-doesnt-optimize/433954/2\",\"custom_user_title\":null,\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":1}],\"current_user_reaction\":null,\"reaction_users_count\":1,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3187439,\"name\":\"\",\"username\":\"crueter\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/crueter/{size}/258043_2.png\",\"created_at\":\"2023-04-12T11:45:46.241Z\",\"cooked\":\"\\u003cp\\u003eWhat’s in your getAngle() function? I had a very similar problem in Java caused by getAngle using the absolute encoder with all its latency rather than the turning motor’s actual encoder.\\u003c/p\\u003e\",\"post_number\":3,\"post_type\":1,\"posts_count\":18,\"updated_at\":\"2023-04-12T11:45:46.241Z\",\"reply_count\":0,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":3,\"reads\":232,\"readers_count\":231,\"score\":61.4,\"yours\":false,\"topic_id\":433954,\"topic_slug\":\"frc-optimize-doesnt-optimize\",\"display_username\":\"\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":50684,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"6032 | QDash\"},\"post_url\":\"/t/frc-optimize-doesnt-optimize/433954/3\",\"custom_user_title\":\"6032 | QDash\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3187728,\"name\":\"Kyle Reeve\",\"username\":\"kreeve\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/kreeve/{size}/187015_2.png\",\"created_at\":\"2023-04-12T15:36:58.180Z\",\"cooked\":\"\\u003cp\\u003eSpecifically, it’s this \\u003ca href=\\\"https://github.com/Team364/BaseFalconSwerve/blob/main/src/main/java/frc/lib/util/CTREModuleState.java#L16-L25\\\"\\u003emethod\\u003c/a\\u003e which makes sure if your wheel is reading 400 degrees and you command 225 degrees module position with a speed of 1, you’ll set an angle of 405 degrees with a speed of -1 (if I did the math right…). The point is that the CTRE internal encoder keeps accumulating after 360 degrees, it doesn’t go from 359 back to 0.\\u003c/p\\u003e\\n\\u003cp\\u003eOP, it sounds like you are commanding it to go from 400 degrees all the way back around to 225 degrees, in the example above.\\u003c/p\\u003e\",\"post_number\":4,\"post_type\":1,\"posts_count\":18,\"updated_at\":\"2023-04-12T15:36:58.180Z\",\"reply_count\":1,\"reply_to_post_number\":2,\"quote_count\":0,\"incoming_link_count\":3,\"reads\":207,\"readers_count\":206,\"score\":76.4,\"yours\":false,\"topic_id\":433954,\"topic_slug\":\"frc-optimize-doesnt-optimize\",\"display_username\":\"Kyle Reeve\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"link_counts\":[{\"url\":\"https://github.com/Team364/BaseFalconSwerve/blob/main/src/main/java/frc/lib/util/CTREModuleState.java#L16-L25\",\"internal\":false,\"reflection\":false,\"title\":\"BaseFalconSwerve/CTREModuleState.java at main · Team364/BaseFalconSwerve · GitHub\",\"clicks\":23}],\"read\":true,\"user_title\":\"\",\"reply_to_user\":{\"id\":56557,\"username\":\"IHateTuningPID\",\"name\":\"\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/i/df705f/{size}.png\"},\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":1}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":10385,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"\"},\"post_url\":\"/t/frc-optimize-doesnt-optimize/433954/4\",\"custom_user_title\":null,\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":1}],\"current_user_reaction\":null,\"reaction_users_count\":1,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3189007,\"name\":\"ThatAlo\",\"username\":\"ThatAlo\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/thatalo/{size}/214544_2.png\",\"created_at\":\"2023-04-13T18:37:57.344Z\",\"cooked\":\"\\u003cp\\u003eExcept, this happens when set on blocks when the encoder starts measuring zero.  As soon as the encoder angle exceeds 45 degrees in either direction, the oscillations begin.  As well copying the logic causes identical results.\\u003c/p\\u003e\",\"post_number\":5,\"post_type\":1,\"posts_count\":18,\"updated_at\":\"2023-04-13T18:37:57.344Z\",\"reply_count\":1,\"reply_to_post_number\":4,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":175,\"readers_count\":174,\"score\":40.0,\"yours\":false,\"topic_id\":433954,\"topic_slug\":\"frc-optimize-doesnt-optimize\",\"display_username\":\"ThatAlo\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"reply_to_user\":{\"id\":10385,\"username\":\"kreeve\",\"name\":\"Kyle Reeve\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/kreeve/{size}/187015_2.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":56514,\"hidden\":false,\"trust_level\":1,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"\"},\"post_url\":\"/t/frc-optimize-doesnt-optimize/433954/5\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3189012,\"name\":\"Gavin Matthews\",\"username\":\"bovlb\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/bovlb/{size}/167232_2.png\",\"created_at\":\"2023-04-13T18:42:31.910Z\",\"cooked\":\"\\u003cp\\u003eCan you graph the current and desired angles?\\u003c/p\\u003e\",\"post_number\":6,\"post_type\":1,\"posts_count\":18,\"updated_at\":\"2023-04-13T18:42:31.910Z\",\"reply_count\":1,\"reply_to_post_number\":5,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":153,\"readers_count\":152,\"score\":35.6,\"yours\":false,\"topic_id\":433954,\"topic_slug\":\"frc-optimize-doesnt-optimize\",\"display_username\":\"Gavin Matthews\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"reply_to_user\":{\"id\":56514,\"username\":\"ThatAlo\",\"name\":\"ThatAlo\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/thatalo/{size}/214544_2.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":38743,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"Programming mentor, Team 2102, RI, CSA (he/him)\"},\"post_url\":\"/t/frc-optimize-doesnt-optimize/433954/6\",\"custom_user_title\":\"Programming mentor, Team 2102, RI, CSA (he/him)\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3189333,\"name\":\"ThatAlo\",\"username\":\"ThatAlo\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/thatalo/{size}/214544_2.png\",\"created_at\":\"2023-04-13T21:52:38.789Z\",\"cooked\":\"\\u003cp\\u003e\\u003cdiv class=\\\"lightbox-wrapper\\\"\\u003e\\u003ca class=\\\"lightbox\\\" href=\\\"https://www.chiefdelphi.com/uploads/default/original/3X/5/e/5e100bda8badee39788f219f892868262478eedf.png\\\" data-download-href=\\\"https://www.chiefdelphi.com/uploads/default/5e100bda8badee39788f219f892868262478eedf\\\" title=\\\"image\\\"\\u003e\\u003cimg src=\\\"https://www.chiefdelphi.com/uploads/default/original/3X/5/e/5e100bda8badee39788f219f892868262478eedf.png\\\" alt=\\\"image\\\" data-base62-sha1=\\\"dq7gcjGRvZeRKE0ZDZRzXKqJZlt\\\" width=\\\"336\\\" height=\\\"500\\\" data-dominant-color=\\\"D2C6C6\\\"\\u003e\\u003cdiv class=\\\"meta\\\"\\u003e\\u003csvg class=\\\"fa d-icon d-icon-far-image svg-icon\\\" aria-hidden=\\\"true\\\"\\u003e\\u003cuse href=\\\"#far-image\\\"\\u003e\\u003c/use\\u003e\\u003c/svg\\u003e\\u003cspan class=\\\"filename\\\"\\u003eimage\\u003c/span\\u003e\\u003cspan class=\\\"informations\\\"\\u003e474×704 44.5 KB\\u003c/span\\u003e\\u003csvg class=\\\"fa d-icon d-icon-discourse-expand svg-icon\\\" aria-hidden=\\\"true\\\"\\u003e\\u003cuse href=\\\"#discourse-expand\\\"\\u003e\\u003c/use\\u003e\\u003c/svg\\u003e\\u003c/div\\u003e\\u003c/a\\u003e\\u003c/div\\u003e\\u003c/p\\u003e\",\"post_number\":7,\"post_type\":1,\"posts_count\":18,\"updated_at\":\"2023-04-13T21:52:38.789Z\",\"reply_count\":2,\"reply_to_post_number\":6,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":142,\"readers_count\":141,\"score\":38.4,\"yours\":false,\"topic_id\":433954,\"topic_slug\":\"frc-optimize-doesnt-optimize\",\"display_username\":\"ThatAlo\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"link_counts\":[{\"url\":\"https://www.chiefdelphi.com/uploads/default/original/3X/5/e/5e100bda8badee39788f219f892868262478eedf.png\",\"internal\":true,\"reflection\":false,\"clicks\":0}],\"read\":true,\"user_title\":\"\",\"reply_to_user\":{\"id\":38743,\"username\":\"bovlb\",\"name\":\"Gavin Matthews\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/bovlb/{size}/167232_2.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":56514,\"hidden\":false,\"trust_level\":1,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"\"},\"post_url\":\"/t/frc-optimize-doesnt-optimize/433954/7\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3189359,\"name\":\"Kyle Reeve\",\"username\":\"kreeve\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/kreeve/{size}/187015_2.png\",\"created_at\":\"2023-04-13T22:19:43.203Z\",\"cooked\":\"\\u003cp\\u003eHmm, interesting. How are you getting current angle? Is it directly from the encoder and then applying angle wrapping?\\u003c/p\\u003e\",\"post_number\":8,\"post_type\":1,\"posts_count\":18,\"updated_at\":\"2023-04-13T22:19:43.203Z\",\"reply_count\":0,\"reply_to_post_number\":7,\"quote_count\":0,\"incoming_link_count\":1,\"reads\":137,\"readers_count\":136,\"score\":32.4,\"yours\":false,\"topic_id\":433954,\"topic_slug\":\"frc-optimize-doesnt-optimize\",\"display_username\":\"Kyle Reeve\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"reply_to_user\":{\"id\":56514,\"username\":\"ThatAlo\",\"name\":\"ThatAlo\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/thatalo/{size}/214544_2.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":10385,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"\"},\"post_url\":\"/t/frc-optimize-doesnt-optimize/433954/8\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3189508,\"name\":\"\",\"username\":\"nstrike\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/nstrike/{size}/167038_2.png\",\"created_at\":\"2023-04-14T00:16:49.335Z\",\"cooked\":\"\\u003cp\\u003eBase Falcon works when you don’t use Rotation2d’s and do not scale your position from -180 to 180\\u003c/p\\u003e\",\"post_number\":9,\"post_type\":1,\"posts_count\":18,\"updated_at\":\"2023-04-14T01:23:46.657Z\",\"reply_count\":0,\"reply_to_post_number\":2,\"quote_count\":0,\"incoming_link_count\":1,\"reads\":126,\"readers_count\":125,\"score\":30.2,\"yours\":false,\"topic_id\":433954,\"topic_slug\":\"frc-optimize-doesnt-optimize\",\"display_username\":\"\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":2,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"reply_to_user\":{\"id\":56557,\"username\":\"IHateTuningPID\",\"name\":\"\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/i/df705f/{size}.png\"},\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":1}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":51887,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"YAGSL \\u0026 YASS Creator \"},\"post_url\":\"/t/frc-optimize-doesnt-optimize/433954/9\",\"custom_user_title\":\"YAGSL \\u0026 YASS Creator \",\"reactions\":[{\"id\":\"point_up\",\"type\":\"emoji\",\"count\":1},{\"id\":\"question\",\"type\":\"emoji\",\"count\":1}],\"current_user_reaction\":null,\"reaction_users_count\":2,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3189657,\"name\":\"Gavin Matthews\",\"username\":\"bovlb\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/bovlb/{size}/167232_2.png\",\"created_at\":\"2023-04-14T03:02:27.063Z\",\"cooked\":\"\\u003cp\\u003eIt looks like some part of your code is not treating current angles of “just less than 360°” and “just over 0°” as being close to each other.  I can’t tell from what you’ve shared exactly where the problem is.\\u003c/p\\u003e\",\"post_number\":10,\"post_type\":1,\"posts_count\":18,\"updated_at\":\"2023-04-14T03:02:27.063Z\",\"reply_count\":0,\"reply_to_post_number\":7,\"quote_count\":0,\"incoming_link_count\":6,\"reads\":121,\"readers_count\":120,\"score\":69.2,\"yours\":false,\"topic_id\":433954,\"topic_slug\":\"frc-optimize-doesnt-optimize\",\"display_username\":\"Gavin Matthews\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"reply_to_user\":{\"id\":56514,\"username\":\"ThatAlo\",\"name\":\"ThatAlo\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/thatalo/{size}/214544_2.png\"},\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":1}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":38743,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"Programming mentor, Team 2102, RI, CSA (he/him)\"},\"post_url\":\"/t/frc-optimize-doesnt-optimize/433954/10\",\"custom_user_title\":\"Programming mentor, Team 2102, RI, CSA (he/him)\",\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":1}],\"current_user_reaction\":null,\"reaction_users_count\":1,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3189713,\"name\":\"\",\"username\":\"greenden007\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/greenden007/{size}/182223_2.png\",\"created_at\":\"2023-04-14T04:30:38.799Z\",\"cooked\":\"\\u003cp\\u003eWe dealt with the same issue, only difference being that we used Java. To deal with this, I wrote an optimize method that goes through every case of swerve module heading.\\u003c/p\\u003e\\n\\u003cpre\\u003e\\u003ccode class=\\\"lang-auto\\\"\\u003edouble setpoint = original.angle.getRadians();\\ndouble forward = setpoint + (2 * Math.PI);\\ndouble reverse = setpoint - (2 * Math.PI);\\ndouble antisetpoint = findRevAngle(setpoint);\\ndouble antiforward = antisetpoint + (2 * Math.PI);\\ndouble antireverse = antisetpoint - (2 * Math.PI);\\n\\u003c/code\\u003e\\u003c/pre\\u003e\\n\\u003cp\\u003eIn addition to trying to get to our setpoint, I also thought of the possibilities where we would be crossing the 0-\\u0026gt;360 barrier on the encoder, and also when it would be fastest to have the wheel reverse. For more implementation, you can check out our robot code: \\u003ca href=\\\"https://github.com/Team2338/FRC2023/blob/main/src/main/java/team/gif/robot/subsystems/drivers/SwerveModuleMK4.java\\\" class=\\\"inline-onebox\\\" rel=\\\"noopener nofollow ugc\\\"\\u003eFRC2023/SwerveModuleMK4.java at main · Team2338/FRC2023 · GitHub\\u003c/a\\u003e. Happy coding!\\u003c/p\\u003e\",\"post_number\":11,\"post_type\":1,\"posts_count\":18,\"updated_at\":\"2023-04-14T04:30:38.799Z\",\"reply_count\":0,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":14,\"reads\":117,\"readers_count\":116,\"score\":93.4,\"yours\":false,\"topic_id\":433954,\"topic_slug\":\"frc-optimize-doesnt-optimize\",\"display_username\":\"\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"link_counts\":[{\"url\":\"https://github.com/Team2338/FRC2023/blob/main/src/main/java/team/gif/robot/subsystems/drivers/SwerveModuleMK4.java\",\"internal\":false,\"reflection\":false,\"title\":\"FRC2023/SwerveModuleMK4.java at main · Team2338/FRC2023 · GitHub\",\"clicks\":7}],\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":52085,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"CS @ MN\"},\"post_url\":\"/t/frc-optimize-doesnt-optimize/433954/11\",\"custom_user_title\":\"CS @ MN\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3192817,\"name\":\"\",\"username\":\"JeffG\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/j/53a042/{size}.png\",\"created_at\":\"2023-04-18T07:58:59.081Z\",\"cooked\":\"\\u003cp\\u003eI think the problem is happening because the m_angleEncoder is returning angles in the opposite direction from the direction of the m_angleMotor.  You can see that in your graphs: when the Desired angle goes up from 0 to +45, the Current angle goes down from 0 to -45 (360 to 315).\\u003cbr\\u003e\\nThat doesn’t cause any problem at first, because as long as the difference is less than 90 degrees, Optimize() leaves the desired angle alone.  Once you go past 45 degrees, though, the difference becomes more than 90 degrees and all hell breaks loose – Optimize() thinks something like: “the desired angle is 60 degrees, but the module is at -60 now, so it’ll be closer to go to -120 instead and reverse the drive motor”.  That doesn’t work too well, because the swerve module is actually at +60 degrees, not -60!\\u003cbr\\u003e\\nBecause your swerve drives correctly when you comment Optimize() out, the “Desired angle” must be correct, and the “Current angle” is the one that needs to be inverted.  So maybe just putting a minus sign in front of m_angleEncoder.GetPosition() in your first line will fix the problem.\\u003c/p\\u003e\",\"post_number\":12,\"post_type\":1,\"posts_count\":18,\"updated_at\":\"2023-04-18T07:58:59.081Z\",\"reply_count\":1,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":5,\"reads\":98,\"readers_count\":97,\"score\":79.6,\"yours\":false,\"topic_id\":433954,\"topic_slug\":\"frc-optimize-doesnt-optimize\",\"display_username\":\"\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":2}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":50942,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"post_url\":\"/t/frc-optimize-doesnt-optimize/433954/12\",\"custom_user_title\":null,\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":2}],\"current_user_reaction\":null,\"reaction_users_count\":2,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":true,\"topic_accepted_answer\":true},{\"id\":3194130,\"name\":\"ThatAlo\",\"username\":\"ThatAlo\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/thatalo/{size}/214544_2.png\",\"created_at\":\"2023-04-20T05:16:07.639Z\",\"cooked\":\"\\u003cp\\u003eThis was exactly it!  Thank you so much!\\u003c/p\\u003e\",\"post_number\":13,\"post_type\":1,\"posts_count\":18,\"updated_at\":\"2023-04-20T05:16:07.639Z\",\"reply_count\":0,\"reply_to_post_number\":12,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":80,\"readers_count\":79,\"score\":16.0,\"yours\":false,\"topic_id\":433954,\"topic_slug\":\"frc-optimize-doesnt-optimize\",\"display_username\":\"ThatAlo\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"reply_to_user\":{\"id\":50942,\"username\":\"JeffG\",\"name\":\"\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/j/53a042/{size}.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":56514,\"hidden\":false,\"trust_level\":1,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"\"},\"post_url\":\"/t/frc-optimize-doesnt-optimize/433954/13\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3194168,\"name\":\"joemost\",\"username\":\"joemost\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/joemost/{size}/11114_2.png\",\"created_at\":\"2023-04-20T11:33:11.040Z\",\"cooked\":\"\\u003cp\\u003eRelated, my team does not currently optimize our states. Is this to smooth out the driving?\\u003c/p\\u003e\\n\\u003cp\\u003eI’ve noticed ours is a little snappy to angles\\u003c/p\\u003e\",\"post_number\":14,\"post_type\":1,\"posts_count\":18,\"updated_at\":\"2023-04-20T11:33:11.040Z\",\"reply_count\":1,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":2,\"reads\":68,\"readers_count\":67,\"score\":28.6,\"yours\":false,\"topic_id\":433954,\"topic_slug\":\"frc-optimize-doesnt-optimize\",\"display_username\":\"joemost\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":20003,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"\"},\"post_url\":\"/t/frc-optimize-doesnt-optimize/433954/14\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3194461,\"name\":\"\",\"username\":\"JeffG\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/j/53a042/{size}.png\",\"created_at\":\"2023-04-20T22:34:35.070Z\",\"cooked\":\"\\u003cp\\u003eIt makes it so no swerve module ever has to rotate by more than 90 degrees, to get to where you are asking it to go – if you ask it to turn to a direction wihich is more than 90 degrees from where it is now, Optimize() will instead have it go the opposite direction until it is lined up the way it needs to be, and will also reverse the drive motor so the module moves in the direction you desire.  For example: if the swerve module forward direction is currently pointing to 180 degrees, and you ask it to go to 10 degrees, Optimize() will change that so it moves to 190 degrees instead, and moves the drive motor in reverse; the resulting motion is the same, but the module only had to rotate by 10 degrees rather than 170 degrees.\\u003cbr\\u003e\\nThere’s a good description of it here:\\u003cbr\\u003e\\n\\u003ca href=\\\"https://docs.wpilib.org/en/stable/docs/software/kinematics-and-odometry/swerve-drive-kinematics.html#module-angle-optimization\\\" rel=\\\"noopener nofollow ugc\\\"\\u003eWPILib docs: Optimize() function\\u003c/a\\u003e\\u003c/p\\u003e\",\"post_number\":15,\"post_type\":1,\"posts_count\":18,\"updated_at\":\"2023-04-20T22:34:35.070Z\",\"reply_count\":1,\"reply_to_post_number\":14,\"quote_count\":0,\"incoming_link_count\":2,\"reads\":65,\"readers_count\":64,\"score\":28.0,\"yours\":false,\"topic_id\":433954,\"topic_slug\":\"frc-optimize-doesnt-optimize\",\"display_username\":\"\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"link_counts\":[{\"url\":\"https://docs.wpilib.org/en/stable/docs/software/kinematics-and-odometry/swerve-drive-kinematics.html#module-angle-optimization\",\"internal\":false,\"reflection\":false,\"title\":\"Swerve Drive Kinematics — FIRST Robotics Competition documentation\",\"clicks\":8}],\"read\":true,\"user_title\":\"\",\"reply_to_user\":{\"id\":20003,\"username\":\"joemost\",\"name\":\"joemost\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/joemost/{size}/11114_2.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":50942,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"post_url\":\"/t/frc-optimize-doesnt-optimize/433954/15\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3194477,\"name\":\"Arnav T\",\"username\":\"arnavthak\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/arnavthak/{size}/194891_2.png\",\"created_at\":\"2023-04-20T23:39:22.731Z\",\"cooked\":\"\\u003cp\\u003eWe had this issue on another thread and came up with a working solution: \\u003ca href=\\\"https://www.chiefdelphi.com/t/swerve-modules-rotate-upon-first-enable/426785/25\\\" class=\\\"inline-onebox\\\"\\u003eSwerve Modules Rotate Upon First Enable - #25 by arnavthak\\u003c/a\\u003e\\u003c/p\\u003e\",\"post_number\":16,\"post_type\":1,\"posts_count\":18,\"updated_at\":\"2023-04-20T23:39:22.731Z\",\"reply_count\":0,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":50,\"readers_count\":49,\"score\":10.0,\"yours\":false,\"topic_id\":433954,\"topic_slug\":\"frc-optimize-doesnt-optimize\",\"display_username\":\"Arnav T\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"link_counts\":[{\"url\":\"https://www.chiefdelphi.com/t/swerve-modules-rotate-upon-first-enable/426785/25\",\"internal\":true,\"reflection\":false,\"title\":\"Swerve Modules Rotate Upon First Enable\",\"clicks\":18}],\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":57475,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"\"},\"post_url\":\"/t/frc-optimize-doesnt-optimize/433954/16\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3194514,\"name\":\"joemost\",\"username\":\"joemost\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/joemost/{size}/11114_2.png\",\"created_at\":\"2023-04-21T01:13:39.334Z\",\"cooked\":\"\\u003caside class=\\\"quote no-group\\\" data-username=\\\"JeffG\\\" data-post=\\\"15\\\" data-topic=\\\"433954\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg loading=\\\"lazy\\\" alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/letter_avatar_proxy/v4/letter/j/53a042/48.png\\\" class=\\\"avatar\\\"\\u003e JeffG:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003eIt makes it so no swerve module ever has to rotate by more than 90 degrees, to get to where you are asking it to go – if you ask it to turn to a direction wihich is more than 90 degrees from where it is now, Optimize() will instead have it go the opposite direction until it is lined up the way it needs to be, and will also reverse the drive motor so the module moves in the direction you desire. For example: if the swerve module forward direction is currently pointing to 180 degrees, and you ask it to go to 10 degrees, Optimize() will change that so it moves to 190 degrees instead, and moves the drive motor in reverse; the resulting motion is the same, but the module only had to rotate by 10 degrees rather than 170 degrees.\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003cp\\u003eVery nice. Okay so not what I think it does in terms of smoothing but we should be using that anyways…\\u003c/p\\u003e\",\"post_number\":17,\"post_type\":1,\"posts_count\":18,\"updated_at\":\"2023-04-21T01:13:39.334Z\",\"reply_count\":0,\"reply_to_post_number\":15,\"quote_count\":1,\"incoming_link_count\":2,\"reads\":42,\"readers_count\":41,\"score\":18.4,\"yours\":false,\"topic_id\":433954,\"topic_slug\":\"frc-optimize-doesnt-optimize\",\"display_username\":\"joemost\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":20003,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"\"},\"post_url\":\"/t/frc-optimize-doesnt-optimize/433954/17\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3366066,\"name\":\"system\",\"username\":\"system\",\"avatar_template\":\"/uploads/default/original/4X/9/3/2/93234578e69f55873c63fc00fe2d0d85f23bce55.png\",\"created_at\":\"2024-04-20T01:14:19.361Z\",\"cooked\":\"\\u003cp\\u003eThis topic was automatically closed 365 days after the last reply. New replies are no longer allowed.\\u003c/p\\u003e\",\"post_number\":18,\"post_type\":3,\"posts_count\":18,\"updated_at\":\"2024-04-20T01:14:19.361Z\",\"reply_count\":0,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":2,\"reads\":10,\"readers_count\":9,\"score\":12.0,\"yours\":false,\"topic_id\":433954,\"topic_slug\":\"frc-optimize-doesnt-optimize\",\"display_username\":\"system\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[],\"moderator\":true,\"admin\":true,\"staff\":true,\"user_id\":-1,\"hidden\":false,\"trust_level\":4,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"action_code\":\"autoclosed.enabled\",\"post_url\":\"/t/frc-optimize-doesnt-optimize/433954/18\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true}],\"stream\":[3186872,3187435,3187439,3187728,3189007,3189012,3189333,3189359,3189508,3189657,3189713,3192817,3194130,3194168,3194461,3194477,3194514,3366066]},\"timeline_lookup\":[[1,914],[4,913],[5,912],[12,908],[13,906],[15,905],[18,540]],\"suggested_topics\":[{\"fancy_title\":\"CTR Pro Unlicensed Device Error\",\"id\":493380,\"title\":\"CTR Pro Unlicensed Device Error\",\"slug\":\"ctr-pro-unlicensed-device-error\",\"posts_count\":3,\"reply_count\":1,\"highest_post_number\":3,\"image_url\":null,\"created_at\":\"2025-02-26T20:39:34.000Z\",\"last_posted_at\":\"2025-02-27T03:12:03.550Z\",\"bumped\":true,\"bumped_at\":\"2025-02-27T03:12:03.550Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"Hi Chief Delphi, I am currently experiencing an error with our CTR canbus where it states some of the devices on the bus are using a pro feature on an unlicensed device. After checking many times ou…\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[],\"tags_descriptions\":{},\"like_count\":0,\"views\":166,\"category_id\":74,\"featured_link\":null,\"has_accepted_answer\":false,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3541819,\"topic_post_liked\":false,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":false,\"topic_post_is_current_users\":null,\"topic_post_number\":1,\"topic_post_user\":{\"id\":67729,\"username\":\"T-Mac\",\"name\":\"Trent\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/t-mac/{size}/264702_2.png\"},\"posters\":[{\"extras\":null,\"description\":\"Original Poster\",\"user\":{\"id\":67729,\"username\":\"T-Mac\",\"name\":\"Trent\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/t-mac/{size}/264702_2.png\",\"trust_level\":2}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":34720,\"username\":\"FRCTnT280staff\",\"name\":\"Joe Horth\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/frctnt280staff/{size}/113318_2.png\",\"trust_level\":2}},{\"extras\":\"latest\",\"description\":\"Most Recent Poster\",\"user\":{\"id\":36169,\"username\":\"Hollisms\",\"name\":\"\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/hollisms/{size}/110925_2.png\",\"trust_level\":2}}]},{\"fancy_title\":\"Experiences with c++\",\"id\":473384,\"title\":\"Experiences with c++\",\"slug\":\"experiences-with-c\",\"posts_count\":14,\"reply_count\":7,\"highest_post_number\":14,\"image_url\":null,\"created_at\":\"2024-10-21T16:51:30.980Z\",\"last_posted_at\":\"2024-10-21T20:05:16.324Z\",\"bumped\":true,\"bumped_at\":\"2024-10-21T20:05:16.324Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"It sounds like you should be using Java, without question. You need significant experience (sounds like everyone is still learning) to override that “default”. You will benefit from other teams and …\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[],\"tags_descriptions\":{},\"like_count\":48,\"views\":480,\"category_id\":74,\"featured_link\":null,\"has_accepted_answer\":true,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3437428,\"topic_post_liked\":false,\"topic_post_like_count\":12,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":false,\"topic_post_is_current_users\":null,\"topic_post_number\":11,\"topic_post_user\":{\"id\":18342,\"username\":\"jdaming\",\"name\":\"Jason Daming\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/jdaming/{size}/137720_2.png\"},\"posters\":[{\"extras\":\"latest\",\"description\":\"Original Poster, Most Recent Poster\",\"user\":{\"id\":55025,\"username\":\"k4ther1ne\",\"name\":\"Ella/Kat\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/k4ther1ne/{size}/233059_2.png\",\"trust_level\":2}},{\"extras\":null,\"description\":\"Frequent Poster, Accepted Answer\",\"user\":{\"id\":18342,\"username\":\"jdaming\",\"name\":\"Jason Daming\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/jdaming/{size}/137720_2.png\",\"trust_level\":2}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":31951,\"username\":\"bluesteel\",\"name\":\"bluesteel 714 / 8630 / 8706\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/b/f1d935/{size}.png\",\"trust_level\":2}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":24617,\"username\":\"gerthworm\",\"name\":\"Chris Gerth\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/gerthworm/{size}/268658_2.png\",\"trust_level\":2}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":29802,\"username\":\"wits\",\"name\":\"Joe Witcpalek\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/wits/{size}/110752_2.png\",\"trust_level\":2}}]},{\"fancy_title\":\"WPILib 2025 Beta Shuffleboard and C++ Build Problems\",\"id\":477451,\"title\":\"WPILib 2025 Beta Shuffleboard and C++ Build Problems\",\"slug\":\"wpilib-2025-beta-shuffleboard-and-c-build-problems\",\"posts_count\":22,\"reply_count\":17,\"highest_post_number\":22,\"image_url\":null,\"created_at\":\"2024-12-28T05:24:26.249Z\",\"last_posted_at\":\"2025-01-02T03:35:35.524Z\",\"bumped\":true,\"bumped_at\":\"2025-01-02T03:35:35.524Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"We have just in the last week or so had time to try the beta version of WPILib for 2025 and we are having a few more problems that usual. I realise that it is just a beta version, but build season is …\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[],\"tags_descriptions\":{},\"like_count\":14,\"views\":597,\"category_id\":74,\"featured_link\":null,\"has_accepted_answer\":false,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3464220,\"topic_post_liked\":false,\"topic_post_like_count\":1,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":false,\"topic_post_is_current_users\":null,\"topic_post_number\":1,\"topic_post_user\":{\"id\":32158,\"username\":\"NickRandom\",\"name\":\"NickRandom\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/n/cc9497/{size}.png\"},\"posters\":[{\"extras\":\"latest\",\"description\":\"Original Poster, Most Recent Poster\",\"user\":{\"id\":32158,\"username\":\"NickRandom\",\"name\":\"NickRandom\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/n/cc9497/{size}.png\",\"trust_level\":2}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":60214,\"username\":\"spacey_sooty\",\"name\":\"Jade\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/spacey_sooty/{size}/256378_2.png\",\"trust_level\":2}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":13575,\"username\":\"Peter_Johnson\",\"name\":\"Peter Johnson\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/peter_johnson/{size}/10417_2.png\",\"trust_level\":2}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":65,\"username\":\"Joe_Ross\",\"name\":\"Joe Ross\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/joe_ross/{size}/37_2.png\",\"moderator\":true,\"trust_level\":4}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":16846,\"username\":\"calcmogul\",\"name\":\"Tyler Veness\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/calcmogul/{size}/128045_2.png\",\"trust_level\":2}}]},{\"fancy_title\":\"Pathplanner Autobuilder 2025 setting file error\",\"id\":485689,\"title\":\"Pathplanner Autobuilder 2025 setting file error\",\"slug\":\"pathplanner-autobuilder-2025-setting-file-error\",\"posts_count\":4,\"reply_count\":1,\"highest_post_number\":4,\"image_url\":null,\"created_at\":\"2025-02-08T17:40:46.152Z\",\"last_posted_at\":\"2025-02-11T03:25:43.490Z\",\"bumped\":true,\"bumped_at\":\"2025-02-11T03:25:43.490Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"I ended up figuring it out the settings folder didnt generate in my project I had to reopen it in pathplanner and go mess around in the settings to get it to generate if anyone seeing this post needs…\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[\"pathplanner\",\"cpp\"],\"tags_descriptions\":{},\"like_count\":0,\"views\":89,\"category_id\":74,\"featured_link\":null,\"has_accepted_answer\":true,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3523010,\"topic_post_liked\":false,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":false,\"topic_post_is_current_users\":null,\"topic_post_number\":4,\"topic_post_user\":{\"id\":61009,\"username\":\"Foodonice\",\"name\":\"Krish\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/f/858c86/{size}.png\"},\"posters\":[{\"extras\":\"latest\",\"description\":\"Original Poster, Most Recent Poster, Accepted Answer\",\"user\":{\"id\":61009,\"username\":\"Foodonice\",\"name\":\"Krish\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/f/858c86/{size}.png\",\"trust_level\":1}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":9105,\"username\":\"Fletch1373\",\"name\":\"Fletch\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/fletch1373/{size}/220073_2.png\",\"trust_level\":2}}]},{\"fancy_title\":\"Snap-set heading allignment code\",\"id\":494837,\"title\":\"Snap-set heading allignment code\",\"slug\":\"snap-set-heading-allignment-code\",\"posts_count\":1,\"reply_count\":0,\"highest_post_number\":1,\"image_url\":null,\"created_at\":\"2025-03-09T08:47:45.843Z\",\"last_posted_at\":\"2025-03-09T08:47:45.915Z\",\"bumped\":true,\"bumped_at\":\"2025-03-09T08:47:45.915Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"Hello, so I seem to be having a problem with this code. The goal is to snap to the reef which is at increments of (360/6 sides = 60) degrees and when you are within range, disable snapping so you can …\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[\"2025\",\"cpp\"],\"tags_descriptions\":{},\"like_count\":0,\"views\":75,\"category_id\":74,\"featured_link\":null,\"has_accepted_answer\":false,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3551772,\"topic_post_liked\":false,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":false,\"topic_post_is_current_users\":null,\"topic_post_number\":1,\"topic_post_user\":{\"id\":47080,\"username\":\"onthegrid007\",\"name\":\"Peter F\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/o/85f322/{size}.png\"},\"posters\":[{\"extras\":\"latest single\",\"description\":\"Original Poster, Most Recent Poster\",\"user\":{\"id\":47080,\"username\":\"onthegrid007\",\"name\":\"Peter F\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/o/85f322/{size}.png\",\"trust_level\":1}}]}],\"tags\":[\"swerve\",\"swervemodule\"],\"tags_descriptions\":{},\"fancy_title\":\"frc::SwerveModuleState::Optimize doesn\\u0026rsquo;t optimize\",\"id\":433954,\"title\":\"frc::SwerveModuleState::Optimize doesn't optimize\",\"posts_count\":18,\"created_at\":\"2023-04-11T20:36:23.163Z\",\"views\":1588,\"reply_count\":10,\"like_count\":6,\"last_posted_at\":\"2024-04-20T01:14:19.361Z\",\"visible\":true,\"closed\":true,\"archived\":false,\"has_summary\":false,\"archetype\":\"regular\",\"slug\":\"frc-optimize-doesnt-optimize\",\"category_id\":74,\"word_count\":1246,\"deleted_at\":null,\"user_id\":56514,\"featured_link\":null,\"pinned_globally\":false,\"pinned_at\":null,\"pinned_until\":null,\"image_url\":null,\"slow_mode_seconds\":0,\"draft\":null,\"draft_key\":\"topic_433954\",\"draft_sequence\":null,\"unpinned\":null,\"pinned\":false,\"current_post_number\":1,\"highest_post_number\":18,\"deleted_by\":null,\"actions_summary\":[{\"id\":4,\"count\":0,\"hidden\":false,\"can_act\":false},{\"id\":8,\"count\":0,\"hidden\":false,\"can_act\":false},{\"id\":10,\"count\":0,\"hidden\":false,\"can_act\":false},{\"id\":7,\"count\":0,\"hidden\":false,\"can_act\":false}],\"chunk_size\":20,\"bookmarked\":false,\"topic_timer\":null,\"unicode_title\":\"frc::SwerveModuleState::Optimize doesn't optimize\",\"message_bus_last_id\":0,\"participant_count\":10,\"show_read_indicator\":false,\"thumbnails\":null,\"slow_mode_enabled_until\":null,\"valid_reactions\":[\"heart\",\"laughing\",\"point_up\",\"+1\",\"-1\",\"100\",\"open_mouth\",\"cry\",\"question\",\"thinking\",\"call_me_hand\",\"hugs\",\"angry\"],\"accepted_answer\":{\"post_number\":12,\"username\":\"JeffG\",\"name\":null,\"excerpt\":\"I think the problem is happening because the m_angleEncoder is returning angles in the opposite direction from the direction of the m_angleMotor.  You can see that in your graphs: when the Desired angle goes up from 0 to +45, the Current angle goes down from 0 to -45 (360 to 315). \\nThat doesn’t caus\\u0026hellip;\",\"accepter_name\":null},\"user_chosen_thumbnail_url\":null,\"sidecar_installed\":true,\"can_vote\":false,\"vote_count\":0,\"user_voted\":false,\"discourse_zendesk_plugin_zendesk_id\":null,\"discourse_zendesk_plugin_zendesk_url\":\"https://your-url.zendesk.com/agent/tickets/\",\"details\":{\"can_edit\":false,\"notification_level\":1,\"participants\":[{\"id\":56514,\"username\":\"ThatAlo\",\"name\":\"ThatAlo\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/thatalo/{size}/214544_2.png\",\"post_count\":4,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":1},{\"id\":38743,\"username\":\"bovlb\",\"name\":\"Gavin Matthews\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/bovlb/{size}/167232_2.png\",\"post_count\":2,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":20003,\"username\":\"joemost\",\"name\":\"joemost\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/joemost/{size}/11114_2.png\",\"post_count\":2,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":50942,\"username\":\"JeffG\",\"name\":\"\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/j/53a042/{size}.png\",\"post_count\":2,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":10385,\"username\":\"kreeve\",\"name\":\"Kyle Reeve\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/kreeve/{size}/187015_2.png\",\"post_count\":2,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":57475,\"username\":\"arnavthak\",\"name\":\"Arnav T\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/arnavthak/{size}/194891_2.png\",\"post_count\":1,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":50684,\"username\":\"crueter\",\"name\":\"\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/crueter/{size}/258043_2.png\",\"post_count\":1,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":51887,\"username\":\"nstrike\",\"name\":\"\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/nstrike/{size}/167038_2.png\",\"post_count\":1,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":52085,\"username\":\"greenden007\",\"name\":\"\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/greenden007/{size}/182223_2.png\",\"post_count\":1,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":56557,\"username\":\"IHateTuningPID\",\"name\":\"\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/i/df705f/{size}.png\",\"post_count\":1,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2}],\"created_by\":{\"id\":56514,\"username\":\"ThatAlo\",\"name\":\"ThatAlo\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/thatalo/{size}/214544_2.png\"},\"last_poster\":{\"id\":-1,\"username\":\"system\",\"name\":\"system\",\"avatar_template\":\"/uploads/default/original/4X/9/3/2/93234578e69f55873c63fc00fe2d0d85f23bce55.png\"},\"links\":[{\"url\":\"https://github.com/Team364/BaseFalconSwerve/blob/main/src/main/java/frc/lib/util/CTREModuleState.java#L16-L25\",\"title\":\"BaseFalconSwerve/CTREModuleState.java at main · Team364/BaseFalconSwerve · GitHub\",\"internal\":false,\"attachment\":false,\"reflection\":false,\"clicks\":23,\"user_id\":10385,\"domain\":\"github.com\",\"root_domain\":\"github.com\"},{\"url\":\"https://www.chiefdelphi.com/t/swerve-modules-rotate-upon-first-enable/426785/25\",\"title\":\"Swerve Modules Rotate Upon First Enable\",\"internal\":true,\"attachment\":false,\"reflection\":false,\"clicks\":18,\"user_id\":57475,\"domain\":\"www.chiefdelphi.com\",\"root_domain\":\"chiefdelphi.com\"},{\"url\":\"https://docs.wpilib.org/en/stable/docs/software/kinematics-and-odometry/swerve-drive-kinematics.html#module-angle-optimization\",\"title\":\"Swerve Drive Kinematics — FIRST Robotics Competition documentation\",\"internal\":false,\"attachment\":false,\"reflection\":false,\"clicks\":8,\"user_id\":50942,\"domain\":\"docs.wpilib.org\",\"root_domain\":\"wpilib.org\"},{\"url\":\"https://github.com/Team2338/FRC2023/blob/main/src/main/java/team/gif/robot/subsystems/drivers/SwerveModuleMK4.java\",\"title\":\"FRC2023/SwerveModuleMK4.java at main · Team2338/FRC2023 · GitHub\",\"internal\":false,\"attachment\":false,\"reflection\":false,\"clicks\":7,\"user_id\":52085,\"domain\":\"github.com\",\"root_domain\":\"github.com\"}]},\"bookmarks\":[]}"}
