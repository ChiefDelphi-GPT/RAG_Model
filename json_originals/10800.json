{"data":"{\"post_stream\":{\"posts\":[{\"id\":3207153,\"name\":\"Hayden Heroux\",\"username\":\"hheroux24\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/hheroux24/{size}/194558_2.png\",\"created_at\":\"2023-05-14T01:57:53.446Z\",\"cooked\":\"\\u003cp\\u003eI am implementing feedforward for the rotation component of a pink arm but I am encountering steady-state error with a PID controller. Since the length of the arm (which impacts the effect of gravity on the rotation) varies, I am not using the \\u003ca href=\\\"https://github.wpilib.org/allwpilib/docs/release/java/edu/wpi/first/math/controller/ArmFeedforward.html\\\" rel=\\\"noopener nofollow ugc\\\"\\u003eArmFeedforward\\u003c/a\\u003e class from WPILib, but I am calculating the feedforward using the calculation on \\u003ca href=\\\"https://github.wpilib.org/allwpilib/docs/release/java/src-html/edu/wpi/first/math/controller/ArmFeedforward.html#line.58\\\" rel=\\\"noopener nofollow ugc\\\"\\u003eline 58\\u003c/a\\u003e. All of the units in my feedforward implementation are in volts. I am testing using a \\u003ca href=\\\"https://github.wpilib.org/allwpilib/docs/release/java/edu/wpi/first/wpilibj/simulation/SingleJointedArmSim.html\\\" rel=\\\"noopener nofollow ugc\\\"\\u003esimulated arm\\u003c/a\\u003e because I do not have around-the-clock access to an actual robot.\\u003c/p\\u003e\\n\\u003cp\\u003ePreviously, with only a PID controller, the simulated arm was able to consistently rotate until the simulated arm angle was equal to the setpoint arm angle. The addition of gravity compensation using the feedforward voltage calculator caused this feature to break, with the simulated arm angle rotating to a few degrees above the setpoint angle and being unable to progress further. Here is the whole Shuffleboard tab containing the data from the simulated arm when it is stuck, and the lists containing the arm position and setpoint position:\\u003c/p\\u003e\\n\\u003cp\\u003e\\u003cdiv class=\\\"lightbox-wrapper\\\"\\u003e\\u003ca class=\\\"lightbox\\\" href=\\\"https://www.chiefdelphi.com/uploads/default/original/3X/d/6/d6411f90809cb6fe27b6b06fa233b6edc4d005b5.png\\\" data-download-href=\\\"https://www.chiefdelphi.com/uploads/default/d6411f90809cb6fe27b6b06fa233b6edc4d005b5\\\" title=\\\"image\\\"\\u003e\\u003cimg src=\\\"https://www.chiefdelphi.com/uploads/default/optimized/3X/d/6/d6411f90809cb6fe27b6b06fa233b6edc4d005b5_2_689x306.png\\\" alt=\\\"image\\\" data-base62-sha1=\\\"uznHGRKv4wWKA0wTUY8mEvae2Xj\\\" width=\\\"689\\\" height=\\\"306\\\" srcset=\\\"https://www.chiefdelphi.com/uploads/default/optimized/3X/d/6/d6411f90809cb6fe27b6b06fa233b6edc4d005b5_2_689x306.png, https://www.chiefdelphi.com/uploads/default/optimized/3X/d/6/d6411f90809cb6fe27b6b06fa233b6edc4d005b5_2_1033x459.png 1.5x, https://www.chiefdelphi.com/uploads/default/original/3X/d/6/d6411f90809cb6fe27b6b06fa233b6edc4d005b5.png 2x\\\" data-dominant-color=\\\"DECACD\\\"\\u003e\\u003cdiv class=\\\"meta\\\"\\u003e\\u003csvg class=\\\"fa d-icon d-icon-far-image svg-icon\\\" aria-hidden=\\\"true\\\"\\u003e\\u003cuse href=\\\"#far-image\\\"\\u003e\\u003c/use\\u003e\\u003c/svg\\u003e\\u003cspan class=\\\"filename\\\"\\u003eimage\\u003c/span\\u003e\\u003cspan class=\\\"informations\\\"\\u003e1292×574 38.7 KB\\u003c/span\\u003e\\u003csvg class=\\\"fa d-icon d-icon-discourse-expand svg-icon\\\" aria-hidden=\\\"true\\\"\\u003e\\u003cuse href=\\\"#discourse-expand\\\"\\u003e\\u003c/use\\u003e\\u003c/svg\\u003e\\u003c/div\\u003e\\u003c/a\\u003e\\u003c/div\\u003e\\u003cbr\\u003e\\n\\u003cdiv class=\\\"lightbox-wrapper\\\"\\u003e\\u003ca class=\\\"lightbox\\\" href=\\\"https://www.chiefdelphi.com/uploads/default/original/3X/0/6/06097e3515c094b6a0244dc71f1ac90efb3e1cfe.png\\\" data-download-href=\\\"https://www.chiefdelphi.com/uploads/default/06097e3515c094b6a0244dc71f1ac90efb3e1cfe\\\" title=\\\"image\\\"\\u003e\\u003cimg src=\\\"https://www.chiefdelphi.com/uploads/default/original/3X/0/6/06097e3515c094b6a0244dc71f1ac90efb3e1cfe.png\\\" alt=\\\"image\\\" data-base62-sha1=\\\"RpcCa2GsDNcmdN7oDLJCkvVpAW\\\" width=\\\"501\\\" height=\\\"499\\\" data-dominant-color=\\\"E7DADC\\\"\\u003e\\u003cdiv class=\\\"meta\\\"\\u003e\\u003csvg class=\\\"fa d-icon d-icon-far-image svg-icon\\\" aria-hidden=\\\"true\\\"\\u003e\\u003cuse href=\\\"#far-image\\\"\\u003e\\u003c/use\\u003e\\u003c/svg\\u003e\\u003cspan class=\\\"filename\\\"\\u003eimage\\u003c/span\\u003e\\u003cspan class=\\\"informations\\\"\\u003e576×574 12.5 KB\\u003c/span\\u003e\\u003csvg class=\\\"fa d-icon d-icon-discourse-expand svg-icon\\\" aria-hidden=\\\"true\\\"\\u003e\\u003cuse href=\\\"#discourse-expand\\\"\\u003e\\u003c/use\\u003e\\u003c/svg\\u003e\\u003c/div\\u003e\\u003c/a\\u003e\\u003c/div\\u003e\\u003c/p\\u003e\\n\\u003cp\\u003eHere’s a visualization of the arm position when it is stuck, using a mechanism:\\u003c/p\\u003e\\n\\u003cp\\u003e\\u003cimg src=\\\"https://www.chiefdelphi.com/uploads/default/original/3X/5/f/5fd532c0206c336c954b3f4b183839c8952605e1.png\\\" alt=\\\"image\\\" data-base62-sha1=\\\"dFM8mglEzLIscsYRWf7S0sFxwXf\\\" width=\\\"611\\\" height=\\\"292\\\"\\u003e\\u003c/p\\u003e\\n\\u003cp\\u003eThe implementation of the arm feedforward that causes this behavior is this: the feedfoward calculates the voltage needed to resist the force of gravity at the current position (e.g. keep the arm at that position), then the PID controller calculates a voltage required to move the arm towards the setpoint, then these voltages are added together (which accomplishes staying at the setpoint if not at the setpoint, otherwise moving towards the setpoint) and sent to the simulated motor.\\u003c/p\\u003e\\n\\u003cp\\u003eThe calculation to resist the force of gravity is at: \\u003ca href=\\\"https://github.com/haydenheroux/Thoth/blob/0a30dc16b02559493d1fd121ca1c1182f5bb8a7e/src/main/java/frc/robot/arm/ExtensionRotationFeedforward.java#L32\\\" rel=\\\"noopener nofollow ugc\\\"\\u003ehttps://github.com/haydenheroux/Thoth/blob/0a30dc16b02559493d1fd121ca1c1182f5bb8a7e/src/main/java/frc/robot/arm/ExtensionRotationFeedforward.java#L32\\u003c/a\\u003e\\u003c/p\\u003e\\n\\u003cp\\u003eThe constant in there was found by setting the arm’s input rotation voltage to zero, then increasing the kG variable until the arm stayed still in one position. This is the same methodology from the \\u003ca href=\\\"https://docs.wpilib.org/en/stable/docs/software/advanced-controls/introduction/tuning-vertical-arm.html#tuning-a-vertical-arm-position-controller\\\" rel=\\\"noopener nofollow ugc\\\"\\u003eWPILib article on tuning an arm position controller\\u003c/a\\u003e.\\u003c/p\\u003e\\n\\u003cp\\u003eThe PID calculation (for the simulated arm) is at: \\u003ca href=\\\"https://github.com/haydenheroux/Thoth/blob/0a30dc16b02559493d1fd121ca1c1182f5bb8a7e/src/main/java/frc/robot/arm/ArmIOSim.java#L121\\\" rel=\\\"noopener nofollow ugc\\\"\\u003ehttps://github.com/haydenheroux/Thoth/blob/0a30dc16b02559493d1fd121ca1c1182f5bb8a7e/src/main/java/frc/robot/arm/ArmIOSim.java#L121\\u003c/a\\u003e\\u003c/p\\u003e\\n\\u003cp\\u003eThe summation of the voltages and using the voltage with the simulated arm is at: \\u003ca href=\\\"https://github.com/haydenheroux/Thoth/blob/0a30dc16b02559493d1fd121ca1c1182f5bb8a7e/src/main/java/frc/robot/arm/ArmIOSim.java#L134\\\" rel=\\\"noopener nofollow ugc\\\"\\u003ehttps://github.com/haydenheroux/Thoth/blob/0a30dc16b02559493d1fd121ca1c1182f5bb8a7e/src/main/java/frc/robot/arm/ArmIOSim.java#L134\\u003c/a\\u003e and \\u003ca href=\\\"https://github.com/haydenheroux/Thoth/blob/0a30dc16b02559493d1fd121ca1c1182f5bb8a7e/src/main/java/frc/robot/arm/ArmIOSim.java#L67\\\" rel=\\\"noopener nofollow ugc\\\"\\u003ehttps://github.com/haydenheroux/Thoth/blob/0a30dc16b02559493d1fd121ca1c1182f5bb8a7e/src/main/java/frc/robot/arm/ArmIOSim.java#L67\\u003c/a\\u003e\\u003c/p\\u003e\\n\\u003cp\\u003eWhat I am stuck on is the fact that the feedforward calculation produces the correct amount of voltage to hold the simulated arm at an angle when input voltage is zero (and the simulated brake is disabled, which was separately tested to be okay), and that the PID controller produces a value that is able to reduce the error by a considerable amount before becoming stuck at the steady-state position a few degrees above the setpoint. Here the values I am getting for each calculation when the arm is stuck at the steady-state position:\\u003c/p\\u003e\\n\\u003cp\\u003e\\u003cimg src=\\\"https://www.chiefdelphi.com/uploads/default/original/3X/3/a/3a8e7e8fc36275047f644636de06d34ae31ab038.png\\\" alt=\\\"image\\\" data-base62-sha1=\\\"8m0Z8wMho7IN8KmHMvYGDKQxWti\\\" width=\\\"433\\\" height=\\\"434\\\"\\u003e\\u003c/p\\u003e\\n\\u003cul\\u003e\\n\\u003cli\\u003einputVoltage is the voltage from the PID controller, attempting to match the setpoint\\u003c/li\\u003e\\n\\u003cli\\u003evoltageToOvercomeGravity is what the feedforward controller calculates is the voltage needed to resist gravity (hold the arm at the angle) for the arm’s position\\u003c/li\\u003e\\n\\u003cli\\u003eoutputVoltage is the voltage sent to the motor, controlling the arm angle\\u003c/li\\u003e\\n\\u003c/ul\\u003e\\n\\u003cp\\u003eSince the output voltage is less than the voltage needed to overcome gravity, shouldn’t the arm angle decrease, instead of staying still?\\u003c/p\\u003e\\n\\u003cp\\u003eAlso, it doesn’t seem like a coincidence that the stuck state occurs when the input and output voltages are opposites. What does that have to do with the angle of the arm not changing, when only the output voltage is being sent to the motor?\\u003c/p\\u003e\",\"post_number\":1,\"post_type\":1,\"posts_count\":11,\"updated_at\":\"2023-05-14T02:05:30.414Z\",\"reply_count\":0,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":136,\"reads\":180,\"readers_count\":179,\"score\":761.0,\"yours\":false,\"topic_id\":437070,\"topic_slug\":\"need-help-resolving-steady-state-error-in-arm-feedforward\",\"display_username\":\"Hayden Heroux\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":2,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"link_counts\":[{\"url\":\"https://github.wpilib.org/allwpilib/docs/release/java/src-html/edu/wpi/first/math/controller/ArmFeedforward.html#line.58\",\"internal\":false,\"reflection\":false,\"title\":\"Source code\",\"clicks\":8},{\"url\":\"https://github.com/haydenheroux/Thoth/blob/0a30dc16b02559493d1fd121ca1c1182f5bb8a7e/src/main/java/frc/robot/arm/ExtensionRotationFeedforward.java#L32\",\"internal\":false,\"reflection\":false,\"title\":\"Thoth/ExtensionRotationFeedforward.java at 0a30dc16b02559493d1fd121ca1c1182f5bb8a7e · haydenheroux/Thoth · GitHub\",\"clicks\":4},{\"url\":\"https://github.wpilib.org/allwpilib/docs/release/java/edu/wpi/first/wpilibj/simulation/SingleJointedArmSim.html\",\"internal\":false,\"reflection\":false,\"title\":\"SingleJointedArmSim (WPILib API 2023.4.3)\",\"clicks\":4},{\"url\":\"https://docs.wpilib.org/en/stable/docs/software/advanced-controls/introduction/tuning-vertical-arm.html#tuning-a-vertical-arm-position-controller\",\"internal\":false,\"reflection\":false,\"title\":\"Tuning a Vertical Arm Position Controller — FIRST Robotics Competition documentation\",\"clicks\":4},{\"url\":\"https://github.wpilib.org/allwpilib/docs/release/java/edu/wpi/first/math/controller/ArmFeedforward.html\",\"internal\":false,\"reflection\":false,\"title\":\"ArmFeedforward (WPILib API 2023.4.3)\",\"clicks\":3},{\"url\":\"https://github.com/haydenheroux/Thoth/blob/0a30dc16b02559493d1fd121ca1c1182f5bb8a7e/src/main/java/frc/robot/arm/ArmIOSim.java#L134\",\"internal\":false,\"reflection\":false,\"title\":\"Thoth/ArmIOSim.java at 0a30dc16b02559493d1fd121ca1c1182f5bb8a7e · haydenheroux/Thoth · GitHub\",\"clicks\":2},{\"url\":\"https://github.com/haydenheroux/Thoth/blob/0a30dc16b02559493d1fd121ca1c1182f5bb8a7e/src/main/java/frc/robot/arm/ArmIOSim.java#L121\",\"internal\":false,\"reflection\":false,\"title\":\"Thoth/ArmIOSim.java at 0a30dc16b02559493d1fd121ca1c1182f5bb8a7e · haydenheroux/Thoth · GitHub\",\"clicks\":1},{\"url\":\"https://www.chiefdelphi.com/uploads/default/original/3X/d/6/d6411f90809cb6fe27b6b06fa233b6edc4d005b5.png\",\"internal\":true,\"reflection\":false,\"clicks\":0},{\"url\":\"https://www.chiefdelphi.com/uploads/default/original/3X/0/6/06097e3515c094b6a0244dc71f1ac90efb3e1cfe.png\",\"internal\":true,\"reflection\":false,\"clicks\":0},{\"url\":\"https://github.com/haydenheroux/Thoth/blob/0a30dc16b02559493d1fd121ca1c1182f5bb8a7e/src/main/java/frc/robot/arm/ArmIOSim.java#L67\",\"internal\":false,\"reflection\":false,\"title\":\"Thoth/ArmIOSim.java at 0a30dc16b02559493d1fd121ca1c1182f5bb8a7e · haydenheroux/Thoth · GitHub\",\"clicks\":0}],\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":3}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":50682,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"post_url\":\"/t/need-help-resolving-steady-state-error-in-arm-feedforward/437070/1\",\"custom_user_title\":null,\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":3}],\"current_user_reaction\":null,\"reaction_users_count\":3,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true,\"can_vote\":false},{\"id\":3207166,\"name\":\"Eli Barnett\",\"username\":\"Oblarg\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/oblarg/{size}/161674_2.png\",\"created_at\":\"2023-05-14T02:37:38.892Z\",\"cooked\":\"\\u003cp\\u003eWhy is your feedforward function accepting voltage as an input?\\u003c/p\\u003e\",\"post_number\":2,\"post_type\":1,\"posts_count\":11,\"updated_at\":\"2023-05-14T02:37:38.892Z\",\"reply_count\":1,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":132,\"readers_count\":131,\"score\":31.4,\"yours\":false,\"topic_id\":437070,\"topic_slug\":\"need-help-resolving-steady-state-error-in-arm-feedforward\",\"display_username\":\"Eli Barnett\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":12381,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"Robot apartments! invisible suburbs! skeleton treasuries!\"},\"post_url\":\"/t/need-help-resolving-steady-state-error-in-arm-feedforward/437070/2\",\"custom_user_title\":\"Robot apartments! invisible suburbs! skeleton treasuries!\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3207169,\"name\":\"Hayden Heroux\",\"username\":\"hheroux24\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/hheroux24/{size}/194558_2.png\",\"created_at\":\"2023-05-14T02:42:52.482Z\",\"cooked\":\"\\u003cp\\u003eI will eventually be implementing feedforward for static friction, so it needs to take direction to apply the voltage as a parameter. It is unused in this version.\\u003c/p\\u003e\",\"post_number\":3,\"post_type\":1,\"posts_count\":11,\"updated_at\":\"2023-05-14T02:42:52.482Z\",\"reply_count\":1,\"reply_to_post_number\":2,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":129,\"readers_count\":128,\"score\":30.8,\"yours\":false,\"topic_id\":437070,\"topic_slug\":\"need-help-resolving-steady-state-error-in-arm-feedforward\",\"display_username\":\"Hayden Heroux\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"reply_to_user\":{\"id\":12381,\"username\":\"Oblarg\",\"name\":\"Eli Barnett\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/oblarg/{size}/161674_2.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":50682,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"post_url\":\"/t/need-help-resolving-steady-state-error-in-arm-feedforward/437070/3\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3207175,\"name\":\"Eli Barnett\",\"username\":\"Oblarg\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/oblarg/{size}/161674_2.png\",\"created_at\":\"2023-05-14T02:57:53.520Z\",\"cooked\":\"\\u003cp\\u003eThis would probably be better-achieved by basing that on the direction of the desired velocity.\\u003c/p\\u003e\\n\\u003cp\\u003eWhy not use the WPILib ArmFeedforward?\\u003c/p\\u003e\",\"post_number\":4,\"post_type\":1,\"posts_count\":11,\"updated_at\":\"2023-05-14T02:58:19.150Z\",\"reply_count\":1,\"reply_to_post_number\":3,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":122,\"readers_count\":121,\"score\":29.4,\"yours\":false,\"topic_id\":437070,\"topic_slug\":\"need-help-resolving-steady-state-error-in-arm-feedforward\",\"display_username\":\"Eli Barnett\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"reply_to_user\":{\"id\":50682,\"username\":\"hheroux24\",\"name\":\"Hayden Heroux\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/hheroux24/{size}/194558_2.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":12381,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"Robot apartments! invisible suburbs! skeleton treasuries!\"},\"post_url\":\"/t/need-help-resolving-steady-state-error-in-arm-feedforward/437070/4\",\"custom_user_title\":\"Robot apartments! invisible suburbs! skeleton treasuries!\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3207179,\"name\":\"Hayden Heroux\",\"username\":\"hheroux24\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/hheroux24/{size}/194558_2.png\",\"created_at\":\"2023-05-14T03:07:06.459Z\",\"cooked\":\"\\u003cp\\u003eThe voltage is analagous to the “velocity” (change in position) in this case, but that could be made more clear.\\u003c/p\\u003e\\n\\u003cp\\u003eAs the arm extends, the voltage needed to overcome gravity also increases. Since kG can’t be changed at runtime, one ArmFeedforward can’t work. It was easier to extract the gravity term into a separate class.\\u003c/p\\u003e\",\"post_number\":5,\"post_type\":1,\"posts_count\":11,\"updated_at\":\"2023-05-14T03:08:22.330Z\",\"reply_count\":1,\"reply_to_post_number\":4,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":119,\"readers_count\":118,\"score\":28.8,\"yours\":false,\"topic_id\":437070,\"topic_slug\":\"need-help-resolving-steady-state-error-in-arm-feedforward\",\"display_username\":\"Hayden Heroux\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"reply_to_user\":{\"id\":12381,\"username\":\"Oblarg\",\"name\":\"Eli Barnett\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/oblarg/{size}/161674_2.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":50682,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"post_url\":\"/t/need-help-resolving-steady-state-error-in-arm-feedforward/437070/5\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3207180,\"name\":\"Eli Barnett\",\"username\":\"Oblarg\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/oblarg/{size}/161674_2.png\",\"created_at\":\"2023-05-14T03:08:19.490Z\",\"cooked\":\"\\u003cp\\u003eJust copy the implementation of the whole ArmFeedforward class and give it some extra parameters, rather than extracting pieces of it.\\u003c/p\\u003e\\n\\u003cp\\u003eA more-accurate kG identification routine is to find the voltages that cause incremental motion in both the up and down direction, and take their average.  You can take the half the difference instead of the average to find kS.  There is a buffer of control signal values around kG, of radius kS, within which the arm will not move due to stiction.\\u003c/p\\u003e\",\"post_number\":6,\"post_type\":1,\"posts_count\":11,\"updated_at\":\"2023-05-14T03:13:45.115Z\",\"reply_count\":1,\"reply_to_post_number\":5,\"quote_count\":0,\"incoming_link_count\":1,\"reads\":113,\"readers_count\":112,\"score\":32.6,\"yours\":false,\"topic_id\":437070,\"topic_slug\":\"need-help-resolving-steady-state-error-in-arm-feedforward\",\"display_username\":\"Eli Barnett\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":2,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"reply_to_user\":{\"id\":50682,\"username\":\"hheroux24\",\"name\":\"Hayden Heroux\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/hheroux24/{size}/194558_2.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":12381,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"Robot apartments! invisible suburbs! skeleton treasuries!\"},\"post_url\":\"/t/need-help-resolving-steady-state-error-in-arm-feedforward/437070/6\",\"custom_user_title\":\"Robot apartments! invisible suburbs! skeleton treasuries!\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3207182,\"name\":\"Hayden Heroux\",\"username\":\"hheroux24\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/hheroux24/{size}/194558_2.png\",\"created_at\":\"2023-05-14T03:20:34.485Z\",\"cooked\":\"\\u003cp\\u003eWhat should “incremental” look like? \\u0026lt;1deg/s? \\u0026lt;0.5deg/s?\\u003c/p\\u003e\",\"post_number\":7,\"post_type\":1,\"posts_count\":11,\"updated_at\":\"2023-05-14T03:20:34.485Z\",\"reply_count\":1,\"reply_to_post_number\":6,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":105,\"readers_count\":104,\"score\":26.0,\"yours\":false,\"topic_id\":437070,\"topic_slug\":\"need-help-resolving-steady-state-error-in-arm-feedforward\",\"display_username\":\"Hayden Heroux\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"reply_to_user\":{\"id\":12381,\"username\":\"Oblarg\",\"name\":\"Eli Barnett\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/oblarg/{size}/161674_2.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":50682,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"post_url\":\"/t/need-help-resolving-steady-state-error-in-arm-feedforward/437070/7\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3207187,\"name\":\"rafi\",\"username\":\"rafi\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/rafi/{size}/9207_2.png\",\"created_at\":\"2023-05-14T03:56:10.590Z\",\"cooked\":\"\\u003cp\\u003eWe experimentally determined Kg and Ks on our 2 joint arm by performing a sweep where it would attempt to hold still at a sequence of positions, using a P loop and the theoretical values for Kg. Then we compare the holding voltage + the actual position held by that voltage, and perform regression to fit the equation V = Kg*cos(theta) + Ks*sign(v). For your telescoping arm, I’d recommend finding Kg_min and Kg_max when fully retracted and fully extended, respectively, and Kg should in theory be the linear interpolation between Kg(extension = 0) = Kg_min and Kg(extension = max) = Kg_max.\\u003c/p\\u003e\\n\\u003cp\\u003eAs for why it didn’t move when voltageToOvercomeGravity \\u0026gt; outputVoltage, you’ll have to do a bit more digging in the simulator. It seems that the FF’s expected voltageToOvercomeGravity doesn’t match what the simulator thinks it should be.\\u003c/p\\u003e\",\"post_number\":8,\"post_type\":1,\"posts_count\":11,\"updated_at\":\"2023-05-14T03:56:10.590Z\",\"reply_count\":1,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":2,\"reads\":99,\"readers_count\":98,\"score\":34.8,\"yours\":false,\"topic_id\":437070,\"topic_slug\":\"need-help-resolving-steady-state-error-in-arm-feedforward\",\"display_username\":\"rafi\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":28673,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"449 Mentor\"},\"post_url\":\"/t/need-help-resolving-steady-state-error-in-arm-feedforward/437070/8\",\"custom_user_title\":\"449 Mentor\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":true,\"topic_accepted_answer\":true},{\"id\":3207197,\"name\":\"Hayden Heroux\",\"username\":\"hheroux24\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/hheroux24/{size}/194558_2.png\",\"created_at\":\"2023-05-14T05:05:07.453Z\",\"cooked\":\"\\u003cp\\u003eI recalculated kG in the simulator and that prevented the arm from getting stuck. Not sure why the kG value from before was off.\\u003c/p\\u003e\",\"post_number\":9,\"post_type\":1,\"posts_count\":11,\"updated_at\":\"2023-05-14T05:05:07.453Z\",\"reply_count\":0,\"reply_to_post_number\":8,\"quote_count\":0,\"incoming_link_count\":2,\"reads\":90,\"readers_count\":89,\"score\":28.0,\"yours\":false,\"topic_id\":437070,\"topic_slug\":\"need-help-resolving-steady-state-error-in-arm-feedforward\",\"display_username\":\"Hayden Heroux\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"reply_to_user\":{\"id\":28673,\"username\":\"rafi\",\"name\":\"rafi\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/rafi/{size}/9207_2.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":50682,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"post_url\":\"/t/need-help-resolving-steady-state-error-in-arm-feedforward/437070/9\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3207216,\"name\":\"Eli Barnett\",\"username\":\"Oblarg\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/oblarg/{size}/161674_2.png\",\"created_at\":\"2023-05-14T10:53:05.201Z\",\"cooked\":\"\\u003cp\\u003eThe smallest motion you can detect.\\u003c/p\\u003e\",\"post_number\":10,\"post_type\":1,\"posts_count\":11,\"updated_at\":\"2023-05-14T10:53:05.201Z\",\"reply_count\":0,\"reply_to_post_number\":7,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":78,\"readers_count\":77,\"score\":15.6,\"yours\":false,\"topic_id\":437070,\"topic_slug\":\"need-help-resolving-steady-state-error-in-arm-feedforward\",\"display_username\":\"Eli Barnett\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"reply_to_user\":{\"id\":50682,\"username\":\"hheroux24\",\"name\":\"Hayden Heroux\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/hheroux24/{size}/194558_2.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":12381,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"Robot apartments! invisible suburbs! skeleton treasuries!\"},\"post_url\":\"/t/need-help-resolving-steady-state-error-in-arm-feedforward/437070/10\",\"custom_user_title\":\"Robot apartments! invisible suburbs! skeleton treasuries!\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3385178,\"name\":\"system\",\"username\":\"system\",\"avatar_template\":\"/uploads/default/original/4X/9/3/2/93234578e69f55873c63fc00fe2d0d85f23bce55.png\",\"created_at\":\"2024-05-13T10:53:14.462Z\",\"cooked\":\"\\u003cp\\u003eThis topic was automatically closed 365 days after the last reply. New replies are no longer allowed.\\u003c/p\\u003e\",\"post_number\":11,\"post_type\":3,\"posts_count\":11,\"updated_at\":\"2024-05-13T10:53:14.462Z\",\"reply_count\":0,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":7,\"readers_count\":6,\"score\":1.4,\"yours\":false,\"topic_id\":437070,\"topic_slug\":\"need-help-resolving-steady-state-error-in-arm-feedforward\",\"display_username\":\"system\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[],\"moderator\":true,\"admin\":true,\"staff\":true,\"user_id\":-1,\"hidden\":false,\"trust_level\":4,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"action_code\":\"autoclosed.enabled\",\"post_url\":\"/t/need-help-resolving-steady-state-error-in-arm-feedforward/437070/11\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true}],\"stream\":[3207153,3207166,3207169,3207175,3207179,3207180,3207182,3207187,3207197,3207216,3385178]},\"timeline_lookup\":[[1,882],[11,517]],\"suggested_topics\":[{\"fancy_title\":\"Finding max velocity \\u0026amp; acceleration values for swerve\",\"id\":475192,\"title\":\"Finding max velocity \\u0026 acceleration values for swerve\",\"slug\":\"finding-max-velocity-acceleration-values-for-swerve\",\"posts_count\":3,\"reply_count\":0,\"highest_post_number\":3,\"image_url\":\"https://www.chiefdelphi.com/uploads/default/optimized/3X/8/3/8311def6cbb0e7a4fdde8ee48cffe9e62e7855ae_2_768x1024.jpeg\",\"created_at\":\"2024-11-19T18:11:01.577Z\",\"last_posted_at\":\"2024-11-20T13:37:02.926Z\",\"bumped\":true,\"bumped_at\":\"2024-11-20T13:37:02.926Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"Hello ! Our programming team gave us missions for before the season officially starts. My mission is related to our swerve, finding its max velocity and acceleration. I thought of trying to calibrate …\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[\"robot\"],\"tags_descriptions\":{},\"like_count\":1,\"views\":244,\"category_id\":30,\"featured_link\":null,\"has_accepted_answer\":false,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3449402,\"topic_post_liked\":false,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":false,\"topic_post_is_current_users\":null,\"topic_post_number\":1,\"topic_post_user\":{\"id\":67224,\"username\":\"NotSoGodlyBoi\",\"name\":\"\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/n/3bc359/{size}.png\"},\"posters\":[{\"extras\":null,\"description\":\"Original Poster\",\"user\":{\"id\":67224,\"username\":\"NotSoGodlyBoi\",\"name\":\"\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/n/3bc359/{size}.png\",\"trust_level\":1}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":61239,\"username\":\"AvocadoPeel\",\"name\":\"\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/avocadopeel/{size}/232401_2.png\",\"trust_level\":2}},{\"extras\":\"latest\",\"description\":\"Most Recent Poster\",\"user\":{\"id\":55016,\"username\":\"person4268\",\"name\":\"\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/p/22d042/{size}.png\",\"trust_level\":2}}]},{\"fancy_title\":\"Moving Over SmartDashboard and Pathplanner Features from 2024 to 2025\",\"id\":480189,\"title\":\"Moving Over SmartDashboard and Pathplanner Features from 2024 to 2025\",\"slug\":\"moving-over-smartdashboard-and-pathplanner-features-from-2024-to-2025\",\"posts_count\":1,\"reply_count\":0,\"highest_post_number\":1,\"image_url\":null,\"created_at\":\"2025-01-08T18:52:34.024Z\",\"last_posted_at\":\"2025-01-08T18:52:34.113Z\",\"bumped\":true,\"bumped_at\":\"2025-01-08T18:52:34.113Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"Hi there! So now that there are all of the official releases for 2025 libraries, its time to move everything over that I worked on off-season. I know it isn’t supposed to be too easy, but I feel like …\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[],\"tags_descriptions\":{},\"like_count\":1,\"views\":122,\"category_id\":30,\"featured_link\":null,\"has_accepted_answer\":false,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3475578,\"topic_post_liked\":false,\"topic_post_like_count\":1,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":false,\"topic_post_is_current_users\":null,\"topic_post_number\":1,\"topic_post_user\":{\"id\":63796,\"username\":\"Declan0811\",\"name\":\"Declan Dunn\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/declan0811/{size}/213245_2.png\"},\"posters\":[{\"extras\":\"latest single\",\"description\":\"Original Poster, Most Recent Poster\",\"user\":{\"id\":63796,\"username\":\"Declan0811\",\"name\":\"Declan Dunn\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/declan0811/{size}/213245_2.png\",\"trust_level\":1}}]},{\"fancy_title\":\"PathPlanner AprilTag localization\",\"id\":480977,\"title\":\"PathPlanner AprilTag localization\",\"slug\":\"pathplanner-apriltag-localization\",\"posts_count\":10,\"reply_count\":5,\"highest_post_number\":10,\"image_url\":null,\"created_at\":\"2025-01-11T18:29:30.917Z\",\"last_posted_at\":\"2025-01-12T20:43:52.605Z\",\"bumped\":true,\"bumped_at\":\"2025-01-12T20:43:52.605Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"We are working for apriltag localization for Pathplanner. Before we started, we had one thing on our minds Does Pathplanner ask for the data required for Apriltag recognition in terms of distance to …\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[],\"tags_descriptions\":{},\"like_count\":0,\"views\":495,\"category_id\":30,\"featured_link\":null,\"has_accepted_answer\":false,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3479269,\"topic_post_liked\":false,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":false,\"topic_post_is_current_users\":null,\"topic_post_number\":1,\"topic_post_user\":{\"id\":68303,\"username\":\"cengo1101\",\"name\":\"\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/c/ac8455/{size}.png\"},\"posters\":[{\"extras\":null,\"description\":\"Original Poster\",\"user\":{\"id\":68303,\"username\":\"cengo1101\",\"name\":\"\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/c/ac8455/{size}.png\",\"trust_level\":1}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":36636,\"username\":\"POWERM\",\"name\":\"\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/p/48db29/{size}.png\",\"trust_level\":2}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":62573,\"username\":\"KfirNeuman\",\"name\":\"\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/k/d07c76/{size}.png\",\"trust_level\":2}},{\"extras\":\"latest\",\"description\":\"Most Recent Poster\",\"user\":{\"id\":24594,\"username\":\"SLAB-Mr.Thomas\",\"name\":\"SLAB-Mr.Thomas\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/slab-mr.thomas/{size}/182153_2.png\",\"trust_level\":2}}]},{\"fancy_title\":\"SparkSim position slightly differs from ArmSim position\",\"id\":481135,\"title\":\"SparkSim position slightly differs from ArmSim position\",\"slug\":\"sparksim-position-slightly-differs-from-armsim-position\",\"posts_count\":1,\"reply_count\":0,\"highest_post_number\":1,\"image_url\":null,\"created_at\":\"2025-01-12T06:19:33.617Z\",\"last_posted_at\":\"2025-01-12T06:19:33.682Z\",\"bumped\":true,\"bumped_at\":\"2025-01-12T06:41:35.734Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"My code is a fairly basic arm simulation using the SingleJointedArmSim class. When I simulate it, the SingleJointedArmSim reports slightly different angles than the SparkMaxSim. The difference seems …\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[\"rev\",\"python\",\"simulation\"],\"tags_descriptions\":{},\"like_count\":0,\"views\":80,\"category_id\":30,\"featured_link\":null,\"has_accepted_answer\":false,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3479824,\"topic_post_liked\":false,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":true,\"topic_post_is_current_users\":null,\"topic_post_number\":1,\"topic_post_user\":{\"id\":58301,\"username\":\"LHACK4142\",\"name\":\"\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/lhack4142/{size}/196107_2.png\"},\"posters\":[{\"extras\":\"latest single\",\"description\":\"Original Poster, Most Recent Poster\",\"user\":{\"id\":58301,\"username\":\"LHACK4142\",\"name\":\"\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/lhack4142/{size}/196107_2.png\",\"trust_level\":2}}]},{\"fancy_title\":\"Servo Motor Help\",\"id\":473825,\"title\":\"Servo Motor Help\",\"slug\":\"servo-motor-help\",\"posts_count\":7,\"reply_count\":2,\"highest_post_number\":7,\"image_url\":null,\"created_at\":\"2024-10-27T09:00:00.236Z\",\"last_posted_at\":\"2024-10-27T15:30:29.700Z\",\"bumped\":true,\"bumped_at\":\"2024-10-27T15:30:29.700Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"The RoboRio does not know what kind of servo you have; it just spits out a PWM signal from about 800 to 2,200 milli second on time. 1,500 is the zero/center point. You need to take care of understan…\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[],\"tags_descriptions\":{},\"like_count\":2,\"views\":190,\"category_id\":30,\"featured_link\":null,\"has_accepted_answer\":true,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3440280,\"topic_post_liked\":false,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":false,\"topic_post_is_current_users\":null,\"topic_post_number\":6,\"topic_post_user\":{\"id\":46443,\"username\":\"Weldingrod1\",\"name\":\"Rod\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/weldingrod1/{size}/162109_2.png\"},\"posters\":[{\"extras\":null,\"description\":\"Original Poster\",\"user\":{\"id\":62434,\"username\":\"Strflightmight\",\"name\":\"Ezra\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/strflightmight/{size}/261969_2.png\",\"trust_level\":2}},{\"extras\":null,\"description\":\"Frequent Poster, Accepted Answer\",\"user\":{\"id\":46443,\"username\":\"Weldingrod1\",\"name\":\"Rod\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/weldingrod1/{size}/162109_2.png\",\"trust_level\":2}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":14045,\"username\":\"Domtech\",\"name\":\"Domtech\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/domtech/{size}/138487_2.png\",\"trust_level\":2}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":60033,\"username\":\"catrix\",\"name\":\"sam liu\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/c/dbc845/{size}.png\",\"trust_level\":2}},{\"extras\":\"latest\",\"description\":\"Most Recent Poster\",\"user\":{\"id\":65,\"username\":\"Joe_Ross\",\"name\":\"Joe Ross\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/joe_ross/{size}/37_2.png\",\"moderator\":true,\"trust_level\":4}}]}],\"tags\":[],\"tags_descriptions\":{},\"fancy_title\":\"Need help resolving steady-state error in arm feedforward\",\"id\":437070,\"title\":\"Need help resolving steady-state error in arm feedforward\",\"posts_count\":11,\"created_at\":\"2023-05-14T01:57:53.299Z\",\"views\":800,\"reply_count\":7,\"like_count\":3,\"last_posted_at\":\"2024-05-13T10:53:14.462Z\",\"visible\":true,\"closed\":true,\"archived\":false,\"has_summary\":false,\"archetype\":\"regular\",\"slug\":\"need-help-resolving-steady-state-error-in-arm-feedforward\",\"category_id\":30,\"word_count\":1184,\"deleted_at\":null,\"user_id\":50682,\"featured_link\":null,\"pinned_globally\":false,\"pinned_at\":null,\"pinned_until\":null,\"image_url\":\"https://www.chiefdelphi.com/uploads/default/optimized/3X/d/6/d6411f90809cb6fe27b6b06fa233b6edc4d005b5_2_1024x454.png\",\"slow_mode_seconds\":0,\"draft\":null,\"draft_key\":\"topic_437070\",\"draft_sequence\":null,\"unpinned\":null,\"pinned\":false,\"current_post_number\":1,\"highest_post_number\":11,\"deleted_by\":null,\"actions_summary\":[{\"id\":4,\"count\":0,\"hidden\":false,\"can_act\":false},{\"id\":8,\"count\":0,\"hidden\":false,\"can_act\":false},{\"id\":10,\"count\":0,\"hidden\":false,\"can_act\":false},{\"id\":7,\"count\":0,\"hidden\":false,\"can_act\":false}],\"chunk_size\":20,\"bookmarked\":false,\"topic_timer\":null,\"message_bus_last_id\":0,\"participant_count\":3,\"show_read_indicator\":false,\"thumbnails\":[{\"max_width\":null,\"max_height\":null,\"width\":1292,\"height\":574,\"url\":\"https://www.chiefdelphi.com/uploads/default/original/3X/d/6/d6411f90809cb6fe27b6b06fa233b6edc4d005b5.png\"},{\"max_width\":1024,\"max_height\":1024,\"width\":1024,\"height\":454,\"url\":\"https://www.chiefdelphi.com/uploads/default/optimized/3X/d/6/d6411f90809cb6fe27b6b06fa233b6edc4d005b5_2_1024x454.png\"}],\"slow_mode_enabled_until\":null,\"valid_reactions\":[\"heart\",\"laughing\",\"point_up\",\"+1\",\"-1\",\"100\",\"open_mouth\",\"cry\",\"question\",\"thinking\",\"call_me_hand\",\"hugs\",\"angry\"],\"accepted_answer\":{\"post_number\":8,\"username\":\"rafi\",\"name\":null,\"excerpt\":\"We experimentally determined Kg and Ks on our 2 joint arm by performing a sweep where it would attempt to hold still at a sequence of positions, using a P loop and the theoretical values for Kg. Then we compare the holding voltage + the actual position held by that voltage, and perform regression to\\u0026hellip;\",\"accepter_name\":null},\"user_chosen_thumbnail_url\":null,\"sidecar_installed\":true,\"can_vote\":false,\"vote_count\":0,\"user_voted\":false,\"discourse_zendesk_plugin_zendesk_id\":null,\"discourse_zendesk_plugin_zendesk_url\":\"https://your-url.zendesk.com/agent/tickets/\",\"details\":{\"can_edit\":false,\"notification_level\":1,\"participants\":[{\"id\":50682,\"username\":\"hheroux24\",\"name\":\"Hayden Heroux\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/hheroux24/{size}/194558_2.png\",\"post_count\":5,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":12381,\"username\":\"Oblarg\",\"name\":\"Eli Barnett\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/oblarg/{size}/161674_2.png\",\"post_count\":4,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":28673,\"username\":\"rafi\",\"name\":\"rafi\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/rafi/{size}/9207_2.png\",\"post_count\":1,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2}],\"created_by\":{\"id\":50682,\"username\":\"hheroux24\",\"name\":\"Hayden Heroux\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/hheroux24/{size}/194558_2.png\"},\"last_poster\":{\"id\":-1,\"username\":\"system\",\"name\":\"system\",\"avatar_template\":\"/uploads/default/original/4X/9/3/2/93234578e69f55873c63fc00fe2d0d85f23bce55.png\"},\"links\":[{\"url\":\"https://github.wpilib.org/allwpilib/docs/release/java/src-html/edu/wpi/first/math/controller/ArmFeedforward.html#line.58\",\"title\":\"Source code\",\"internal\":false,\"attachment\":false,\"reflection\":false,\"clicks\":8,\"user_id\":50682,\"domain\":\"github.wpilib.org\",\"root_domain\":\"wpilib.org\"},{\"url\":\"https://github.com/haydenheroux/Thoth/blob/0a30dc16b02559493d1fd121ca1c1182f5bb8a7e/src/main/java/frc/robot/arm/ExtensionRotationFeedforward.java#L32\",\"title\":\"Thoth/ExtensionRotationFeedforward.java at 0a30dc16b02559493d1fd121ca1c1182f5bb8a7e · haydenheroux/Thoth · GitHub\",\"internal\":false,\"attachment\":false,\"reflection\":false,\"clicks\":4,\"user_id\":50682,\"domain\":\"github.com\",\"root_domain\":\"github.com\"},{\"url\":\"https://docs.wpilib.org/en/stable/docs/software/advanced-controls/introduction/tuning-vertical-arm.html#tuning-a-vertical-arm-position-controller\",\"title\":\"Tuning a Vertical Arm Position Controller — FIRST Robotics Competition documentation\",\"internal\":false,\"attachment\":false,\"reflection\":false,\"clicks\":4,\"user_id\":50682,\"domain\":\"docs.wpilib.org\",\"root_domain\":\"wpilib.org\"},{\"url\":\"https://github.wpilib.org/allwpilib/docs/release/java/edu/wpi/first/wpilibj/simulation/SingleJointedArmSim.html\",\"title\":\"SingleJointedArmSim (WPILib API 2023.4.3)\",\"internal\":false,\"attachment\":false,\"reflection\":false,\"clicks\":4,\"user_id\":50682,\"domain\":\"github.wpilib.org\",\"root_domain\":\"wpilib.org\"},{\"url\":\"https://github.wpilib.org/allwpilib/docs/release/java/edu/wpi/first/math/controller/ArmFeedforward.html\",\"title\":\"ArmFeedforward (WPILib API 2023.4.3)\",\"internal\":false,\"attachment\":false,\"reflection\":false,\"clicks\":3,\"user_id\":50682,\"domain\":\"github.wpilib.org\",\"root_domain\":\"wpilib.org\"},{\"url\":\"https://github.com/haydenheroux/Thoth/blob/0a30dc16b02559493d1fd121ca1c1182f5bb8a7e/src/main/java/frc/robot/arm/ArmIOSim.java#L134\",\"title\":\"Thoth/ArmIOSim.java at 0a30dc16b02559493d1fd121ca1c1182f5bb8a7e · haydenheroux/Thoth · GitHub\",\"internal\":false,\"attachment\":false,\"reflection\":false,\"clicks\":2,\"user_id\":50682,\"domain\":\"github.com\",\"root_domain\":\"github.com\"},{\"url\":\"https://github.com/haydenheroux/Thoth/blob/0a30dc16b02559493d1fd121ca1c1182f5bb8a7e/src/main/java/frc/robot/arm/ArmIOSim.java#L121\",\"title\":\"Thoth/ArmIOSim.java at 0a30dc16b02559493d1fd121ca1c1182f5bb8a7e · haydenheroux/Thoth · GitHub\",\"internal\":false,\"attachment\":false,\"reflection\":false,\"clicks\":1,\"user_id\":50682,\"domain\":\"github.com\",\"root_domain\":\"github.com\"}]},\"bookmarks\":[]}"}
