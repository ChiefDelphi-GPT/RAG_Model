{"data":"{\"post_stream\":{\"posts\":[{\"id\":3531077,\"name\":\"jfitz0807\",\"username\":\"jfitz0807\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/j/41988e/{size}.png\",\"created_at\":\"2025-02-18T03:23:23.727Z\",\"cooked\":\"\\u003cp\\u003eWe’re trying to use MaxMotion for our end effector pivot. We have a SparkMax with a Rev Throughbore encoder. Last year we used a TrapezoidProfileSubsystem to increment the setReference (aka “goal”) using the SparkMax SparkPIDController in kPosition mode. This year we’re trying to use the built-in MaxMotion kMAXMotionTrapezoidal mode. The Throughbore encoder is connected to the SparkMax data port just as it was last year and we think we’ve configured everything correctly. The end effector moves, but it doesn’t stop at the correct end point. We’ve tried jacking up the closedLoop P value but that doesn’t help.\\u003c/p\\u003e\\n\\u003cp\\u003eDoes anyone have an example that we can look at to compare our code against? Thanks in advance.\\u003c/p\\u003e\",\"post_number\":1,\"post_type\":1,\"posts_count\":5,\"updated_at\":\"2025-02-18T03:23:23.727Z\",\"reply_count\":0,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":148,\"reads\":181,\"readers_count\":180,\"score\":766.0,\"yours\":false,\"topic_id\":492122,\"topic_slug\":\"looking-for-maxmotion-examples\",\"display_username\":\"jfitz0807\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":11577,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"post_url\":\"/t/looking-for-maxmotion-examples/492122/1\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null,\"can_vote\":false},{\"id\":3531145,\"name\":\"Martin Nemaric\",\"username\":\"Martini159\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/m/278dde/{size}.png\",\"created_at\":\"2025-02-18T04:13:06.759Z\",\"cooked\":\"\\u003cp\\u003eThe 2025 REV ION Starter Bot has two examples!\\u003cbr\\u003e\\nBoth the arm and elevator in the CoralSubsystem use MaxMotion:\\u003c/p\\u003e\\n\\u003caside class=\\\"onebox githubblob\\\" data-onebox-src=\\\"https://github.com/REVrobotics/2025-REV-ION-FRC-Starter-Bot/blob/main/src/main/java/frc/robot/subsystems/CoralSubsystem.java\\\"\\u003e\\n  \\u003cheader class=\\\"source\\\"\\u003e\\n\\n      \\u003ca href=\\\"https://github.com/REVrobotics/2025-REV-ION-FRC-Starter-Bot/blob/main/src/main/java/frc/robot/subsystems/CoralSubsystem.java\\\" target=\\\"_blank\\\" rel=\\\"noopener nofollow ugc\\\"\\u003egithub.com\\u003c/a\\u003e\\n  \\u003c/header\\u003e\\n\\n  \\u003carticle class=\\\"onebox-body\\\"\\u003e\\n    \\u003ch4\\u003e\\u003ca href=\\\"https://github.com/REVrobotics/2025-REV-ION-FRC-Starter-Bot/blob/main/src/main/java/frc/robot/subsystems/CoralSubsystem.java\\\" target=\\\"_blank\\\" rel=\\\"noopener nofollow ugc\\\"\\u003eREVrobotics/2025-REV-ION-FRC-Starter-Bot/blob/main/src/main/java/frc/robot/subsystems/CoralSubsystem.java\\u003c/a\\u003e\\u003c/h4\\u003e\\n\\n\\n      \\u003cpre\\u003e\\u003ccode class=\\\"lang-java\\\"\\u003epackage frc.robot.subsystems;\\n\\nimport com.revrobotics.RelativeEncoder;\\nimport com.revrobotics.sim.SparkFlexSim;\\nimport com.revrobotics.sim.SparkLimitSwitchSim;\\nimport com.revrobotics.sim.SparkMaxSim;\\nimport com.revrobotics.spark.SparkBase.ControlType;\\nimport com.revrobotics.spark.SparkBase.PersistMode;\\nimport com.revrobotics.spark.SparkBase.ResetMode;\\nimport com.revrobotics.spark.SparkClosedLoopController;\\nimport com.revrobotics.spark.SparkFlex;\\nimport com.revrobotics.spark.SparkLowLevel.MotorType;\\nimport com.revrobotics.spark.SparkMax;\\nimport edu.wpi.first.math.system.plant.DCMotor;\\nimport edu.wpi.first.math.util.Units;\\nimport edu.wpi.first.wpilibj.RobotController;\\nimport edu.wpi.first.wpilibj.simulation.ElevatorSim;\\nimport edu.wpi.first.wpilibj.simulation.SingleJointedArmSim;\\nimport edu.wpi.first.wpilibj.smartdashboard.Mechanism2d;\\nimport edu.wpi.first.wpilibj.smartdashboard.MechanismLigament2d;\\n\\u003c/code\\u003e\\u003c/pre\\u003e\\n\\n\\n\\n  This file has been truncated. \\u003ca href=\\\"https://github.com/REVrobotics/2025-REV-ION-FRC-Starter-Bot/blob/main/src/main/java/frc/robot/subsystems/CoralSubsystem.java\\\" target=\\\"_blank\\\" rel=\\\"noopener nofollow ugc\\\"\\u003eshow original\\u003c/a\\u003e\\n\\n  \\u003c/article\\u003e\\n\\n  \\u003cdiv class=\\\"onebox-metadata\\\"\\u003e\\n    \\n    \\n  \\u003c/div\\u003e\\n\\n  \\u003cdiv style=\\\"clear: both\\\"\\u003e\\u003c/div\\u003e\\n\\u003c/aside\\u003e\\n\\n\\u003caside class=\\\"onebox githubblob\\\" data-onebox-src=\\\"https://github.com/REVrobotics/2025-REV-ION-FRC-Starter-Bot/blob/main/src/main/java/frc/robot/Configs.java\\\"\\u003e\\n  \\u003cheader class=\\\"source\\\"\\u003e\\n\\n      \\u003ca href=\\\"https://github.com/REVrobotics/2025-REV-ION-FRC-Starter-Bot/blob/main/src/main/java/frc/robot/Configs.java\\\" target=\\\"_blank\\\" rel=\\\"noopener nofollow ugc\\\"\\u003egithub.com\\u003c/a\\u003e\\n  \\u003c/header\\u003e\\n\\n  \\u003carticle class=\\\"onebox-body\\\"\\u003e\\n    \\u003ch4\\u003e\\u003ca href=\\\"https://github.com/REVrobotics/2025-REV-ION-FRC-Starter-Bot/blob/main/src/main/java/frc/robot/Configs.java\\\" target=\\\"_blank\\\" rel=\\\"noopener nofollow ugc\\\"\\u003eREVrobotics/2025-REV-ION-FRC-Starter-Bot/blob/main/src/main/java/frc/robot/Configs.java\\u003c/a\\u003e\\u003c/h4\\u003e\\n\\n\\n      \\u003cpre\\u003e\\u003ccode class=\\\"lang-java\\\"\\u003epackage frc.robot;\\n\\nimport com.revrobotics.spark.config.ClosedLoopConfig.FeedbackSensor;\\nimport com.revrobotics.spark.config.LimitSwitchConfig.Type;\\nimport com.revrobotics.spark.config.SparkBaseConfig.IdleMode;\\nimport com.revrobotics.spark.config.SparkFlexConfig;\\nimport com.revrobotics.spark.config.SparkMaxConfig;\\nimport frc.robot.Constants.ModuleConstants;\\n\\npublic final class Configs {\\n  public static final class MAXSwerveModule {\\n    public static final SparkFlexConfig drivingConfig = new SparkFlexConfig();\\n    public static final SparkMaxConfig turningConfig = new SparkMaxConfig();\\n\\n    static {\\n      // Use module constants to calculate conversion factors and feed forward gain.\\n      double drivingFactor =\\n          ModuleConstants.kWheelDiameterMeters * Math.PI / ModuleConstants.kDrivingMotorReduction;\\n      double turningFactor = 2 * Math.PI;\\n      double drivingVelocityFeedForward = 1 / ModuleConstants.kDriveWheelFreeSpeedRps;\\n\\u003c/code\\u003e\\u003c/pre\\u003e\\n\\n\\n\\n  This file has been truncated. \\u003ca href=\\\"https://github.com/REVrobotics/2025-REV-ION-FRC-Starter-Bot/blob/main/src/main/java/frc/robot/Configs.java\\\" target=\\\"_blank\\\" rel=\\\"noopener nofollow ugc\\\"\\u003eshow original\\u003c/a\\u003e\\n\\n  \\u003c/article\\u003e\\n\\n  \\u003cdiv class=\\\"onebox-metadata\\\"\\u003e\\n    \\n    \\n  \\u003c/div\\u003e\\n\\n  \\u003cdiv style=\\\"clear: both\\\"\\u003e\\u003c/div\\u003e\\n\\u003c/aside\\u003e\\n\\n\\u003cp\\u003eA caveat though… both use the relative encoder in the motor as opposed to an absolute encoder.\\u003c/p\\u003e\\n\\u003cp\\u003eWe initially got MaxMotion working pretty well to control a short arm using the relative encoder in a NEO. As soon as we switched to the through-bore absolute encoder it gave us nothing but headaches, so we switched back to using WPILib’s TrapezoidProfile and it worked great.\\u003c/p\\u003e\\n\\u003cp\\u003eWhen MaxMotion didn’t work, we could never really understand \\u003cem\\u003ewhy\\u003c/em\\u003e it wasn’t working, if that makes sense.\\u003c/p\\u003e\",\"post_number\":2,\"post_type\":1,\"posts_count\":5,\"updated_at\":\"2025-02-18T04:13:06.759Z\",\"reply_count\":1,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":13,\"reads\":172,\"readers_count\":171,\"score\":104.2,\"yours\":false,\"topic_id\":492122,\"topic_slug\":\"looking-for-maxmotion-examples\",\"display_username\":\"Martin Nemaric\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"link_counts\":[{\"url\":\"https://github.com/REVrobotics/2025-REV-ION-FRC-Starter-Bot/blob/main/src/main/java/frc/robot/subsystems/CoralSubsystem.java\",\"internal\":false,\"reflection\":false,\"title\":\"2025-REV-ION-FRC-Starter-Bot/src/main/java/frc/robot/subsystems/CoralSubsystem.java at main · REVrobotics/2025-REV-ION-FRC-Starter-Bot · GitHub\",\"clicks\":71},{\"url\":\"https://github.com/REVrobotics/2025-REV-ION-FRC-Starter-Bot/blob/main/src/main/java/frc/robot/Configs.java\",\"internal\":false,\"reflection\":false,\"title\":\"2025-REV-ION-FRC-Starter-Bot/src/main/java/frc/robot/Configs.java at main · REVrobotics/2025-REV-ION-FRC-Starter-Bot · GitHub\",\"clicks\":19}],\"read\":true,\"user_title\":null,\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":56673,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"post_url\":\"/t/looking-for-maxmotion-examples/492122/2\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3531258,\"name\":\"Tamer\",\"username\":\"Tamy0\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/t/b77776/{size}.png\",\"created_at\":\"2025-02-18T07:39:04.243Z\",\"cooked\":\"\\u003cp\\u003eWe’ve experienced similar problems. We couldn’t solve the problem either. Instead of a trapezoidal profile, the output was a triangle. It started as a trapezoid, but once the setpoint was reached, it stopped abruptly. We tried many combinations of maxAccel and Vel, but nothing seemed to fix it. Additionally, there were times when it overshot by a significant margin, though this wasn’t consistent—sometimes it would go past the setpoint and then come back. The normal closed-loop controller is working quite well for us now in our elevator system. Rather than trying to fix this issue, maybe consider switching to the normal kPosition. It worked out just fine for us.\\u003c/p\\u003e\\n\\u003cp\\u003eThe problem can be seen between 20s and 30s. Yellow line is the setpoint, blue is the position of the elevator, the encoder value, and the red is the velocity of the elevator.\\u003cbr\\u003e\\n\\u003cdiv class=\\\"lightbox-wrapper\\\"\\u003e\\u003ca class=\\\"lightbox\\\" href=\\\"https://www.chiefdelphi.com/uploads/default/original/3X/f/1/f1dedbf82683939ec17573bc7cd447fb4d322d98.jpeg\\\" data-download-href=\\\"https://www.chiefdelphi.com/uploads/default/f1dedbf82683939ec17573bc7cd447fb4d322d98\\\" title=\\\"WhatsApp Image 2025-01-26 at 19.22.30\\\"\\u003e\\u003cimg src=\\\"https://www.chiefdelphi.com/uploads/default/optimized/3X/f/1/f1dedbf82683939ec17573bc7cd447fb4d322d98_2_281x500.jpeg\\\" alt=\\\"WhatsApp Image 2025-01-26 at 19.22.30\\\" data-base62-sha1=\\\"yvGxJDwscZ9G7fkmZ2xygioNpDa\\\" width=\\\"281\\\" height=\\\"500\\\" srcset=\\\"https://www.chiefdelphi.com/uploads/default/optimized/3X/f/1/f1dedbf82683939ec17573bc7cd447fb4d322d98_2_281x500.jpeg, https://www.chiefdelphi.com/uploads/default/optimized/3X/f/1/f1dedbf82683939ec17573bc7cd447fb4d322d98_2_421x750.jpeg 1.5x, https://www.chiefdelphi.com/uploads/default/optimized/3X/f/1/f1dedbf82683939ec17573bc7cd447fb4d322d98_2_562x1000.jpeg 2x\\\" data-dominant-color=\\\"56585B\\\"\\u003e\\u003cdiv class=\\\"meta\\\"\\u003e\\u003csvg class=\\\"fa d-icon d-icon-far-image svg-icon\\\" aria-hidden=\\\"true\\\"\\u003e\\u003cuse href=\\\"#far-image\\\"\\u003e\\u003c/use\\u003e\\u003c/svg\\u003e\\u003cspan class=\\\"filename\\\"\\u003eWhatsApp Image 2025-01-26 at 19.22.30\\u003c/span\\u003e\\u003cspan class=\\\"informations\\\"\\u003e1080×1920 169 KB\\u003c/span\\u003e\\u003csvg class=\\\"fa d-icon d-icon-discourse-expand svg-icon\\\" aria-hidden=\\\"true\\\"\\u003e\\u003cuse href=\\\"#discourse-expand\\\"\\u003e\\u003c/use\\u003e\\u003c/svg\\u003e\\u003c/div\\u003e\\u003c/a\\u003e\\u003c/div\\u003e\\u003c/p\\u003e\\n\\u003cp\\u003eAlso this image is for the oscillation problem:\\u003c/p\\u003e\\n\\u003cp\\u003e\\u003cdiv class=\\\"lightbox-wrapper\\\"\\u003e\\u003ca class=\\\"lightbox\\\" href=\\\"https://www.chiefdelphi.com/uploads/default/original/3X/d/1/d1399c763d16e3875080742ee60632ee92fc0acd.jpeg\\\" data-download-href=\\\"https://www.chiefdelphi.com/uploads/default/d1399c763d16e3875080742ee60632ee92fc0acd\\\" title=\\\"WhatsApp Image 2025-01-27 at 21.07.39\\\"\\u003e\\u003cimg src=\\\"https://www.chiefdelphi.com/uploads/default/optimized/3X/d/1/d1399c763d16e3875080742ee60632ee92fc0acd_2_281x500.jpeg\\\" alt=\\\"WhatsApp Image 2025-01-27 at 21.07.39\\\" data-base62-sha1=\\\"tQTdO54q9DgI1eQKHwRaHF6R0uN\\\" width=\\\"281\\\" height=\\\"500\\\" srcset=\\\"https://www.chiefdelphi.com/uploads/default/optimized/3X/d/1/d1399c763d16e3875080742ee60632ee92fc0acd_2_281x500.jpeg, https://www.chiefdelphi.com/uploads/default/optimized/3X/d/1/d1399c763d16e3875080742ee60632ee92fc0acd_2_421x750.jpeg 1.5x, https://www.chiefdelphi.com/uploads/default/optimized/3X/d/1/d1399c763d16e3875080742ee60632ee92fc0acd_2_562x1000.jpeg 2x\\\" data-dominant-color=\\\"4F4E4D\\\"\\u003e\\u003cdiv class=\\\"meta\\\"\\u003e\\u003csvg class=\\\"fa d-icon d-icon-far-image svg-icon\\\" aria-hidden=\\\"true\\\"\\u003e\\u003cuse href=\\\"#far-image\\\"\\u003e\\u003c/use\\u003e\\u003c/svg\\u003e\\u003cspan class=\\\"filename\\\"\\u003eWhatsApp Image 2025-01-27 at 21.07.39\\u003c/span\\u003e\\u003cspan class=\\\"informations\\\"\\u003e1152×2048 267 KB\\u003c/span\\u003e\\u003csvg class=\\\"fa d-icon d-icon-discourse-expand svg-icon\\\" aria-hidden=\\\"true\\\"\\u003e\\u003cuse href=\\\"#discourse-expand\\\"\\u003e\\u003c/use\\u003e\\u003c/svg\\u003e\\u003c/div\\u003e\\u003c/a\\u003e\\u003c/div\\u003e\\u003c/p\\u003e\\n\\u003cp\\u003eYou can take a look at \\u003ca href=\\\"https://github.com/Mostra-Software/FRC10396-2025-Robot-Code/blob/changes/src/main/java/frc/robot/subsystems/elevator/ElevatorIOSpark.java\\\" rel=\\\"noopener nofollow ugc\\\"\\u003eour code\\u003c/a\\u003e, under ElevatorIOSpark to see how we implemented. Also we used the internal encoder but you can simply change \\u003ccode\\u003eRelativeEncoder masterEncoder = masterMotor.getEncoder();\\u003c/code\\u003e to \\u003ccode\\u003eprivate final AbsoluteEncoder masterEncoder = masterMotor.getAbsoluteEncoder();\\u003c/code\\u003e\\u003c/p\\u003e\\n\\u003cp\\u003eIf you want to have a deeper insight about our problems with MaxMotion you can check our build blog.\\u003c/p\\u003e\\n\\u003caside class=\\\"quote no-group\\\" data-username=\\\"gamze\\\" data-post=\\\"27\\\" data-topic=\\\"475291\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg loading=\\\"lazy\\\" alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/user_avatar/www.chiefdelphi.com/gamze/48/247097_2.png\\\" class=\\\"avatar\\\"\\u003e\\u003ca href=\\\"https://www.chiefdelphi.com/t/frc-10396-team-mostra-2025-build-thread/475291/27\\\"\\u003eFRC 10396 Team Mostra | 2025 Build Thread\\u003c/a\\u003e\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003ch2\\u003e\\u003c/h2\\u003e\\n\\u003cp\\u003e\\u003cspan class=\\\"abbreviation\\\"\\u003ePID\\u003ctemplate class=\\\"tooltiptext\\\" data-text=\\\"Proportional Integral Derivative\\\"\\u003e\\u003c/template\\u003e\\u003c/span\\u003e Tuning Adventures! \\u003cimg src=\\\"https://www.chiefdelphi.com/images/emoji/google/roller_coaster.png?v=12\\\" title=\\\":roller_coaster:\\\" class=\\\"emoji\\\" alt=\\\":roller_coaster:\\\" loading=\\\"lazy\\\" width=\\\"20\\\" height=\\\"20\\\"\\u003e\\u003c/p\\u003e\\n\\u003cp\\u003eTuning the \\u003cspan class=\\\"abbreviation\\\"\\u003ePID\\u003ctemplate class=\\\"tooltiptext\\\" data-text=\\\"Proportional Integral Derivative\\\"\\u003e\\u003c/template\\u003e\\u003c/span\\u003e controller has been tougher than we anticipated! We’re using the new MaxMotion from REVlib, but we’ve been experiencing oscillation issues (as shown in the video below \\u003cimg src=\\\"https://www.chiefdelphi.com/images/emoji/google/point_down.png?v=12\\\" title=\\\":point_down:\\\" class=\\\"emoji\\\" alt=\\\":point_down:\\\" loading=\\\"lazy\\\" width=\\\"20\\\" height=\\\"20\\\"\\u003e). Interestingly, this is not a consistent problem—2 out of 3 times, there’s little to no overshooting or oscillation. We’re troubleshooting and actively working on resolving this issue! \\u003cimg src=\\\"https://www.chiefdelphi.com/images/emoji/google/wrench.png?v=12\\\" title=\\\":wrench:\\\" class=\\\"emoji\\\" alt=\\\":wrench:\\\" loading=\\\"lazy\\\" width=\\\"20\\\" height=\\\"20\\\"\\u003e\\u003c/p\\u003e\\n\\u003cp\\u003e\\u003cimg src=\\\"https://www.chiefdelphi.com/images/emoji/google/film_projector.png?v=12\\\" title=\\\":film_projector:\\\" class=\\\"emoji\\\" alt=\\\":film_projector:\\\" loading=\\\"lazy\\\" width=\\\"20\\\" height=\\\"20\\\"\\u003e Oscillating :\\u003c/p\\u003e\\n\\u003cp\\u003e\\u003cimg src=\\\"https://www.chiefdelphi.com/uploads/default/original/3X/1/9/19515ca8d959feb06d310d3fa4dec7b7c55910b8.gif\\\" alt=\\\"trim.191BBEE8-9BEE-4774-89A2-0D1F8CA44692\\\" data-base62-sha1=\\\"3BYfK8AyGwqVlJtP6mYHrSPXK4M\\\" width=\\\"272\\\" height=\\\"480\\\" class=\\\"animated\\\"\\u003e\\u003c/p\\u003e\\n\\u003cp\\u003e\\u003cimg src=\\\"https://www.chiefdelphi.com/images/emoji/google/film_projector.png?v=12\\\" title=\\\":film_projector:\\\" class=\\\"emoji\\\" alt=\\\":film_projector:\\\" loading=\\\"lazy\\\" width=\\\"20\\\" height=\\\"20\\\"\\u003e No Oscillating :\\u003c/p\\u003e\\n\\u003cp\\u003e\\u003cimg src=\\\"https://www.chiefdelphi.com/uploads/default/original/3X/7/e/7e34106907d03ebd69c1a08950281722accd7112.gif\\\" alt=\\\"trim.6B8E41BF-AE68-4650-96B1-B0D013E22604\\\" data-base62-sha1=\\\"i0rHTWxAZRAj7B4bCI3kz4zrYzg\\\" width=\\\"272\\\" height=\\\"480\\\" class=\\\"animated\\\"\\u003e\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\",\"post_number\":3,\"post_type\":1,\"posts_count\":5,\"updated_at\":\"2025-02-18T07:39:04.243Z\",\"reply_count\":0,\"reply_to_post_number\":2,\"quote_count\":0,\"incoming_link_count\":1,\"reads\":123,\"readers_count\":122,\"score\":29.4,\"yours\":false,\"topic_id\":492122,\"topic_slug\":\"looking-for-maxmotion-examples\",\"display_username\":\"Tamer\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"link_counts\":[{\"url\":\"https://github.com/Mostra-Software/FRC10396-2025-Robot-Code/blob/changes/src/main/java/frc/robot/subsystems/elevator/ElevatorIOSpark.java\",\"internal\":false,\"reflection\":false,\"title\":\"FRC10396-2025-Robot-Code/src/main/java/frc/robot/subsystems/elevator/ElevatorIOSpark.java at changes · Mostra-Software/FRC10396-2025-Robot-Code · GitHub\",\"clicks\":1},{\"url\":\"https://www.chiefdelphi.com/t/frc-10396-team-mostra-2025-build-thread/475291/27\",\"internal\":true,\"reflection\":false,\"title\":\"FRC 10396 Team Mostra | 2025 Build Thread\",\"clicks\":0}],\"read\":true,\"user_title\":null,\"reply_to_user\":{\"id\":56673,\"username\":\"Martini159\",\"name\":\"Martin Nemaric\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/m/278dde/{size}.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":57606,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"\"},\"post_url\":\"/t/looking-for-maxmotion-examples/492122/3\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3532715,\"name\":\"jfitz0807\",\"username\":\"jfitz0807\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/j/41988e/{size}.png\",\"created_at\":\"2025-02-19T14:04:14.257Z\",\"cooked\":\"\\u003cp\\u003eIf we simply call setReference with kPosition it works in the sense that it pivots to the correct orientation and holds there. What we’re concerned with is the initial jerk that one gets from a straight \\u003cspan class=\\\"abbreviation\\\"\\u003ePID\\u003ctemplate class=\\\"tooltiptext\\\" data-text=\\\"Proportional Integral Derivative\\\"\\u003e\\u003c/template\\u003e\\u003c/span\\u003e position control loop. When we change kPosition to kMAXMotionPositionControl, it does not work. It does not move to the correct orientation and it doesn’t hold even if we set the reference point to the current orientation while holding it and then letting go. Below is the source file in question:\\u003c/p\\u003e\\n\\u003cp\\u003e// Copyright (c) \\u003cspan class=\\\"abbreviation\\\"\\u003eFIRST\\u003ctemplate class=\\\"tooltiptext\\\" data-text=\\\"For Inspiration and Recognition of Science and Technology\\\"\\u003e\\u003c/template\\u003e\\u003c/span\\u003e and other WPILib contributors.\\u003cbr\\u003e\\n// Open Source Software; you can modify and/or share it under the terms of\\u003cbr\\u003e\\n// the WPILib BSD license file in the root directory of this project.\\u003c/p\\u003e\\n\\u003cp\\u003epackage frc.robot.subsystems;\\u003c/p\\u003e\\n\\u003cp\\u003eimport com.revrobotics.spark.config.*;\\u003cbr\\u003e\\nimport com.revrobotics.spark.config.ClosedLoopConfig.FeedbackSensor;\\u003cbr\\u003e\\nimport com.revrobotics.spark.config.MAXMotionConfig.MAXMotionPositionMode;\\u003cbr\\u003e\\nimport com.revrobotics.spark.config.SparkBaseConfig.IdleMode;\\u003c/p\\u003e\\n\\u003cp\\u003eimport java.util.function.DoubleSupplier;\\u003c/p\\u003e\\n\\u003cp\\u003eimport com.revrobotics.sim.SparkAbsoluteEncoderSim;\\u003cbr\\u003e\\nimport com.revrobotics.spark.SparkMax;\\u003cbr\\u003e\\nimport com.revrobotics.spark.ClosedLoopSlot;\\u003cbr\\u003e\\nimport com.revrobotics.spark.SparkAbsoluteEncoder;\\u003cbr\\u003e\\nimport com.revrobotics.spark.SparkBase.ControlType;\\u003cbr\\u003e\\nimport com.revrobotics.spark.SparkBase.PersistMode;\\u003cbr\\u003e\\nimport com.revrobotics.spark.SparkBase.ResetMode;\\u003cbr\\u003e\\nimport com.revrobotics.spark.SparkClosedLoopController;\\u003cbr\\u003e\\nimport com.revrobotics.spark.SparkLowLevel.MotorType;\\u003c/p\\u003e\\n\\u003cp\\u003eimport edu.wpi.first.math.MathUtil;\\u003cbr\\u003e\\nimport edu.wpi.first.math.geometry.Rotation2d;\\u003cbr\\u003e\\nimport edu.wpi.first.wpilibj.smartdashboard.SmartDashboard;\\u003cbr\\u003e\\nimport edu.wpi.first.wpilibj2.command.SubsystemBase;\\u003c/p\\u003e\\n\\u003cp\\u003eimport frc.robot.Constants;\\u003c/p\\u003e\\n\\u003cp\\u003epublic class EndEffectorPivot extends SubsystemBase {\\u003c/p\\u003e\\n\\u003cpre\\u003e\\u003ccode\\u003e// When the elevator is low, the angle range needs to be restricted\\n// Remember that the midpoint is roughly 180 (not 0).\\nprivate static final double MIN_ANGLE_LOW_DEG = 137.0;\\nprivate static final double MAX_ANGLE_LOW_DEG = 298.0;\\n\\nprivate static final double MIN_ANGLE_HIGH_DEG = 110.0;\\nprivate static final double MAX_ANGLE_HIGH_DEG = 350.0;\\n\\n// NOTE: All constants were taken from the 2023 arm \\n// Note: Current values for limits are refrenced with the shooter being flat\\n// facing fowards as zero.\\n// As of writing the above note we still may want to change the limits\\npublic static final double ANGLE_TOLERANCE_DEG = 1.0;\\n\\nprivate static final int CURRENT_LIMIT = 30;\\n\\n// 25:1 planetary plus 42:18 sprockets\\nprivate static final double GEAR_RATIO = 25.0 * (42.0 / 18.0);\\n  \\n// Constants to limit the shooterPivot rotation speed\\n// max vel: 1 rotation = 10 seconds  and then gear_ratio\\nprivate static final double MAX_VEL_ROT_PER_SEC = 0.2 * GEAR_RATIO;\\nprivate static final double MAX_ACC_ROT_PER_SEC2 = 1.0 * GEAR_RATIO;\\n// units??? rotations?\\nprivate static final double ALLOWED_ERROR = ANGLE_TOLERANCE_DEG/360.0 * GEAR_RATIO;\\n\\n// lower max vel and acceleration for when the elevator is high\\nprivate static final double MAX_VEL_SLOW_ROT_PER_SEC = 0.5 * MAX_VEL_ROT_PER_SEC;\\nprivate static final double MAX_ACC_SLOW_ROT_PER_SEC2 = 0.5 * MAX_ACC_ROT_PER_SEC2;\\n\\n// Zero point of the absolute encoder\\nprivate static final double ABS_ENCODER_ZERO_OFFSET = (135.2+180)/360.0; \\n\\n// Constants for the pivot PID controller\\nprivate static final double K_P = 20.0;\\nprivate static final double K_I = 0.0;\\nprivate static final double K_D = 0.0;\\nprivate static final double K_FF = 0.0;\\n\\n// feedforward terms to balance gravity\\n// TODO: find good values\\nprivate static final Rotation2d BALANCE_ANGLE = Rotation2d.fromDegrees(160);\\n// FF scale. Units are Volts (probably negative)\\nprivate static final double K_GRAVITY = 0;\\n\\n// aliases names for the slots, so it is easier to remember\\nprivate static final ClosedLoopSlot SLOT_FAST = ClosedLoopSlot.kSlot0;\\nprivate static final ClosedLoopSlot SLOT_SLOW = ClosedLoopSlot.kSlot1;\\n\\nprivate final SparkMax m_motor;\\nprivate final SparkAbsoluteEncoder m_absoluteEncoder;\\nprivate final SparkAbsoluteEncoderSim m_absoluteEncoderSim;\\nprivate final SparkClosedLoopController m_controller;\\n\\n// Used for checking if on goal\\n// m_goal is the commanded goal\\n// m_goalClipped is the goal taking into account any restrictions\\nprivate Rotation2d m_goal = Rotation2d.fromDegrees(0);\\nprivate Rotation2d m_goalClipped = Rotation2d.fromDegrees(0);\\n\\n// supplier to get the Elevator height\\n// needed to check on range limits and motion speed\\nprivate final DoubleSupplier m_elevatorHeight;\\n\\n// Construct a new shooterPivot subsystem\\npublic EndEffectorPivot(DoubleSupplier elevatorHeight) {\\n    m_elevatorHeight = elevatorHeight;\\n    \\n    m_motor = new SparkMax(Constants.END_EFFECTOR_PIVOT_CAN_ID, MotorType.kBrushless);\\n    \\n    SparkMaxConfig config = new SparkMaxConfig();\\n    config.inverted(true);\\n    config.idleMode(IdleMode.kBrake);\\n    config.smartCurrentLimit(CURRENT_LIMIT);\\n\\n    AbsoluteEncoderConfig absEncConfig = new AbsoluteEncoderConfig();\\n    absEncConfig.setSparkMaxDataPortConfig(); // might be redundant, but can't hurt.\\n    absEncConfig.velocityConversionFactor(1/60.0);   // convert rpm to rps\\n    absEncConfig.zeroOffset(ABS_ENCODER_ZERO_OFFSET);\\n    absEncConfig.inverted(false);\\n    config.apply(absEncConfig);\\n\\n    // General parameters for the cloed loop/MAXMotion control\\n    config.closedLoop\\n            .feedbackSensor(FeedbackSensor.kAbsoluteEncoder)\\n            .positionWrappingEnabled(false); // don't treat it as a circle\\n    \\n    // Set up the \\\"fast\\\" slot for typical control (when the elevator is not high)\\n    config.closedLoop\\n            .pidf(K_P, K_I, K_D, K_FF, SLOT_FAST)\\n            .outputRange(-1, 1, SLOT_FAST);\\n    // MAXMotion parameters\\n    config.closedLoop.maxMotion\\n            .maxVelocity(MAX_VEL_ROT_PER_SEC, SLOT_FAST)\\n            .maxAcceleration(MAX_ACC_ROT_PER_SEC2, SLOT_FAST)\\n            .allowedClosedLoopError(ALLOWED_ERROR, SLOT_FAST)\\n            .positionMode(MAXMotionPositionMode.kMAXMotionTrapezoidal, SLOT_FAST);\\n\\n    // Set up the \\\"slow\\\" slot; used when the elevator is high\\n    config.closedLoop\\n            .pidf(K_P, K_I, K_D, K_FF, SLOT_SLOW)\\n            .outputRange(-1, 1, SLOT_SLOW);\\n    config.closedLoop.maxMotion\\n            .maxVelocity(MAX_VEL_SLOW_ROT_PER_SEC, SLOT_SLOW)\\n            .maxAcceleration(MAX_ACC_SLOW_ROT_PER_SEC2, SLOT_SLOW)\\n            .allowedClosedLoopError(ALLOWED_ERROR, SLOT_SLOW)\\n            .positionMode(MAXMotionPositionMode.kMAXMotionTrapezoidal, SLOT_SLOW);\\n                    \\n    m_motor.configure(config, ResetMode.kResetSafeParameters, PersistMode.kPersistParameters);\\n\\n    m_absoluteEncoder = m_motor.getAbsoluteEncoder();\\n    m_absoluteEncoderSim = new SparkAbsoluteEncoderSim(m_motor);\\n    m_absoluteEncoderSim.setZeroOffset(ABS_ENCODER_ZERO_OFFSET);\\n\\n    // controller for MAX Motion\\n    m_controller = m_motor.getClosedLoopController();\\n\\n    // set the goal to the current sensor value; should prevent sudden motion when enabling\\n    resetGoal();\\n\\n    SmartDashboard.putBoolean(\\\"pivot/coastMode\\\", false);\\n    setCoastMode();\\n\\n    SmartDashboard.putNumber(\\\"pivot/testAngle\\\", getAngle().getDegrees());\\n}\\n\\n@Override\\npublic void periodic() {\\n    double elevHeight = m_elevatorHeight.getAsDouble();\\n    m_goalClipped = limitPivotAngle(m_goal, elevHeight);\\n\\n    // Pick the slow to use based on Elevator height\\n    m_controller.setReference(m_goalClipped.getRotations(), ControlType.kMAXMotionPositionControl, \\n                elevHeight \\u0026gt;= Elevator.SLOW_PIVOT_MIN_HEIGHT ? SLOT_SLOW : SLOT_FAST,\\n                feedforward());\\n\\n    // Display current values on the SmartDashboard\\n    // These also get logged to the log file on the Rio and aid in replaying a match\\n    SmartDashboard.putNumber(\\\"pivot/goalClipped\\\", m_goalClipped.getDegrees());\\n    SmartDashboard.putNumber(\\\"pivot/absoluteEncoder\\\", getAngle().getDegrees());\\n    SmartDashboard.putNumber(\\\"pivot/outputCurrent\\\", m_motor.getOutputCurrent());\\n    SmartDashboard.putNumber(\\\"pivot/busVoltage\\\", m_motor.getBusVoltage());\\n    SmartDashboard.putBoolean(\\\"pivot/onGoal\\\", angleWithinTolerance());\\n    SmartDashboard.putNumber(\\\"pivot/appliedOutput\\\", m_motor.getAppliedOutput());\\n}\\n\\n// get the current pivot angle\\npublic Rotation2d getAngle() {\\n    return Rotation2d.fromRotations(m_absoluteEncoder.getPosition());\\n}\\n\\n// only for testing!!\\npublic void run(double speed) {\\n    m_motor.set(speed);\\n}\\n\\n// set shooterPivot angle\\npublic void setAngle(Rotation2d angle) {\\n    m_goal = angle;\\n    SmartDashboard.putNumber(\\\"pivot/goal\\\", m_goal.getDegrees());\\n}\\n\\n// get the angle from the absolute encoder\\n// public double getAbsEncoderAngleRadians() {\\n//     return TWO_PI * m_absoluteEncoder.getDistance();\\n// }\\n\\n// // update the motor encoder offset to match the absolute encoder\\n// public void updateMotorEncoderOffset() {\\n//     m_encoder.setPosition(m_absoluteEncoder.getDistance());\\n// }\\n\\npublic boolean isOutsideLowHeightRange() {\\n    double angle = getAngle().getDegrees();\\n    return angle \\u0026lt; MIN_ANGLE_LOW_DEG || angle \\u0026gt; MAX_ANGLE_LOW_DEG;\\n}\\n\\n// needs to be public so that commands can get the restricted angle\\npublic Rotation2d limitPivotAngle(Rotation2d angle, double elevHeight) {\\n    double angleClamped;\\n    if (elevHeight \\u0026lt;= Elevator.NARROW_PIVOT_MAX_HEIGHT)\\n        angleClamped = MathUtil.clamp(angle.getDegrees(), MIN_ANGLE_LOW_DEG, MAX_ANGLE_LOW_DEG);\\n    else\\n        angleClamped = MathUtil.clamp(angle.getDegrees(), MIN_ANGLE_HIGH_DEG, MAX_ANGLE_HIGH_DEG);\\n\\n    return Rotation2d.fromDegrees(angleClamped);\\n}\\n\\npublic boolean angleWithinTolerance() {\\n    //TODO does MAXMotion provide this?\\n    return Math.abs(m_goalClipped.minus(getAngle()).getDegrees()) \\u0026lt; ANGLE_TOLERANCE_DEG;\\n}\\n\\nprivate double feedforward() {\\n    Rotation2d angle = getAngle().minus(BALANCE_ANGLE);\\n    return K_GRAVITY * angle.getSin();\\n}\\n\\n// public void adjustAngle(boolean goUp) {\\n//     double adjust = (goUp ? 1 : -1) * ADJUSTMENT_STEP;\\n//     m_angleAdjustment += adjust;\\n//     setAngle(m_goalRadians + adjust, false);\\n// }\\n\\npublic void resetGoal() {\\n    setAngle(getAngle());\\n}\\n\\npublic void setCoastMode() {\\n    boolean coastMode = SmartDashboard.getBoolean(\\\"shooterPivot/coastMode\\\", false);\\n    if (coastMode) {\\n        m_motor.stopMotor();\\n        m_motor.configure(new SparkMaxConfig().idleMode(IdleMode.kCoast), ResetMode.kNoResetSafeParameters, PersistMode.kNoPersistParameters);\\n    } else\\n        m_motor.configure(new SparkMaxConfig().idleMode(IdleMode.kBrake), ResetMode.kNoResetSafeParameters, PersistMode.kNoPersistParameters);\\n}\\n\\u003c/code\\u003e\\u003c/pre\\u003e\\n\\u003cp\\u003e}\\u003c/p\\u003e\",\"post_number\":4,\"post_type\":1,\"posts_count\":5,\"updated_at\":\"2025-02-19T14:06:34.747Z\",\"reply_count\":0,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":4,\"reads\":100,\"readers_count\":99,\"score\":39.8,\"yours\":false,\"topic_id\":492122,\"topic_slug\":\"looking-for-maxmotion-examples\",\"display_username\":\"jfitz0807\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":2,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":11577,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"post_url\":\"/t/looking-for-maxmotion-examples/492122/4\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3532936,\"name\":\"Eli Barnett\",\"username\":\"Oblarg\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/oblarg/{size}/161674_2.png\",\"created_at\":\"2025-02-19T16:16:10.463Z\",\"cooked\":\"\\u003cp\\u003eYou have to plot some telemetry values and see where things are going wrong.\\u003c/p\\u003e\\n\\u003cp\\u003eWhat feedforward are you using, if any?\\u003c/p\\u003e\",\"post_number\":5,\"post_type\":1,\"posts_count\":5,\"updated_at\":\"2025-02-19T16:16:10.463Z\",\"reply_count\":0,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":82,\"readers_count\":81,\"score\":16.2,\"yours\":false,\"topic_id\":492122,\"topic_slug\":\"looking-for-maxmotion-examples\",\"display_username\":\"Eli Barnett\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":12381,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"Robot apartments! invisible suburbs! skeleton treasuries!\"},\"post_url\":\"/t/looking-for-maxmotion-examples/492122/5\",\"custom_user_title\":\"Robot apartments! invisible suburbs! skeleton treasuries!\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null}],\"stream\":[3531077,3531145,3531258,3532715,3532936]},\"timeline_lookup\":[[1,236],[4,234]],\"suggested_topics\":[{\"fancy_title\":\"Elevator help with command base\",\"id\":494552,\"title\":\"Elevator help with command base\",\"slug\":\"elevator-help-with-command-base\",\"posts_count\":4,\"reply_count\":0,\"highest_post_number\":4,\"image_url\":null,\"created_at\":\"2025-03-06T22:05:23.637Z\",\"last_posted_at\":\"2025-03-06T22:52:50.320Z\",\"bumped\":true,\"bumped_at\":\"2025-03-06T22:52:50.320Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"We are having issues with command base and getting the elevator to move. We for now are just trying to set the voltage on the motor but the command does not seem to do anything when the buttons are …\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[],\"tags_descriptions\":{},\"like_count\":0,\"views\":57,\"category_id\":30,\"featured_link\":null,\"has_accepted_answer\":false,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3549851,\"topic_post_liked\":false,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":false,\"topic_post_is_current_users\":null,\"topic_post_number\":1,\"topic_post_user\":{\"id\":22041,\"username\":\"FABLABFULTONMO\",\"name\":\"FABLABFULTONMO\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/f/c2a13f/{size}.png\"},\"posters\":[{\"extras\":null,\"description\":\"Original Poster\",\"user\":{\"id\":22041,\"username\":\"FABLABFULTONMO\",\"name\":\"FABLABFULTONMO\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/f/c2a13f/{size}.png\",\"trust_level\":1}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":28240,\"username\":\"icemannie\",\"name\":\"icemannie\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/i/bc79bd/{size}.png\",\"trust_level\":2}},{\"extras\":\"latest\",\"description\":\"Most Recent Poster\",\"user\":{\"id\":74098,\"username\":\"turb0encabulat0r\",\"name\":\"Neal\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/t/e68b1a/{size}.png\",\"trust_level\":1}}]},{\"fancy_title\":\"Max Motion Simulation\",\"id\":495146,\"title\":\"Max Motion Simulation\",\"slug\":\"max-motion-simulation\",\"posts_count\":2,\"reply_count\":0,\"highest_post_number\":2,\"image_url\":null,\"created_at\":\"2025-03-11T13:32:44.389Z\",\"last_posted_at\":\"2025-03-11T14:46:15.880Z\",\"bumped\":true,\"bumped_at\":\"2025-03-11T14:46:15.880Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"Is MAX Motion simulatable?\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[],\"tags_descriptions\":{},\"like_count\":0,\"views\":99,\"category_id\":30,\"featured_link\":null,\"has_accepted_answer\":false,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3553928,\"topic_post_liked\":false,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":false,\"topic_post_is_current_users\":null,\"topic_post_number\":1,\"topic_post_user\":{\"id\":48345,\"username\":\"narmstro\",\"name\":\"Nicholas Armstrong\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/n/5e9695/{size}.png\"},\"posters\":[{\"extras\":null,\"description\":\"Original Poster\",\"user\":{\"id\":48345,\"username\":\"narmstro\",\"name\":\"Nicholas Armstrong\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/n/5e9695/{size}.png\",\"trust_level\":2}},{\"extras\":\"latest\",\"description\":\"Most Recent Poster\",\"user\":{\"id\":28240,\"username\":\"icemannie\",\"name\":\"icemannie\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/i/bc79bd/{size}.png\",\"trust_level\":2}}]},{\"fancy_title\":\"WPILib, OpenDS, PathPlanner installation script for Linux and macOS\",\"id\":491692,\"title\":\"WPILib, OpenDS, PathPlanner installation script for Linux and macOS\",\"slug\":\"wpilib-opends-pathplanner-installation-script-for-linux-and-macos\",\"posts_count\":2,\"reply_count\":0,\"highest_post_number\":2,\"image_url\":null,\"created_at\":\"2025-02-14T16:18:23.975Z\",\"last_posted_at\":\"2025-02-14T21:16:28.516Z\",\"bumped\":true,\"bumped_at\":\"2025-02-14T21:16:28.516Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"I have just updated my installation script to install WPILib 2025.3.1. It Install WPILib Install the WPILib vscode extension into your main VSCode installation or into a VSCode fork such as VS…\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[],\"tags_descriptions\":{},\"like_count\":4,\"views\":139,\"category_id\":30,\"featured_link\":null,\"has_accepted_answer\":false,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3527091,\"topic_post_liked\":false,\"topic_post_like_count\":4,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":false,\"topic_post_is_current_users\":null,\"topic_post_number\":1,\"topic_post_user\":{\"id\":63616,\"username\":\"ethanc8\",\"name\":\"Ethan C\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/e/ee59a6/{size}.png\"},\"posters\":[{\"extras\":\"latest single\",\"description\":\"Original Poster, Most Recent Poster\",\"user\":{\"id\":63616,\"username\":\"ethanc8\",\"name\":\"Ethan C\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/e/ee59a6/{size}.png\",\"trust_level\":2}}]},{\"fancy_title\":\"YAGSL swerve jitters to heading setpoint\",\"id\":480967,\"title\":\"YAGSL swerve jitters to heading setpoint\",\"slug\":\"yagsl-swerve-jitters-to-heading-setpoint\",\"posts_count\":2,\"reply_count\":0,\"highest_post_number\":2,\"image_url\":null,\"created_at\":\"2025-01-11T17:54:34.250Z\",\"last_posted_at\":\"2025-01-11T22:02:47.339Z\",\"bumped\":true,\"bumped_at\":\"2025-01-11T22:02:47.339Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"Our team is having problems with out swerve jittering to the heading setpoint. It moves in the correct direction, but even if it is not at the setpoint, it jitters. We only have a P value. The states …\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[],\"tags_descriptions\":{},\"like_count\":0,\"views\":89,\"category_id\":30,\"featured_link\":null,\"has_accepted_answer\":false,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3479241,\"topic_post_liked\":false,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":false,\"topic_post_is_current_users\":null,\"topic_post_number\":1,\"topic_post_user\":{\"id\":62398,\"username\":\"essanders\",\"name\":\"Ethan Sanders\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/essanders/{size}/208157_2.png\"},\"posters\":[{\"extras\":null,\"description\":\"Original Poster\",\"user\":{\"id\":62398,\"username\":\"essanders\",\"name\":\"Ethan Sanders\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/essanders/{size}/208157_2.png\",\"trust_level\":2}},{\"extras\":\"latest\",\"description\":\"Most Recent Poster\",\"user\":{\"id\":51887,\"username\":\"nstrike\",\"name\":\"\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/nstrike/{size}/167038_2.png\",\"trust_level\":2}}]},{\"fancy_title\":\"Elevator sim position not matching velocity\",\"id\":496723,\"title\":\"Elevator sim position not matching velocity\",\"slug\":\"elevator-sim-position-not-matching-velocity\",\"posts_count\":1,\"reply_count\":0,\"highest_post_number\":1,\"image_url\":\"https://www.chiefdelphi.com/uploads/default/optimized/4X/e/0/6/e060aab665581b048ac26abab0bda17139b215f4_2_1024x589.png\",\"created_at\":\"2025-03-24T16:18:22.784Z\",\"last_posted_at\":\"2025-03-24T16:18:22.909Z\",\"bumped\":true,\"bumped_at\":\"2025-03-24T16:18:22.909Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"I’m trying to simulate our elevator while controlling it with a motion profile and sparkmax position control but the position of the elevator is not matching the velocity. The elevator is travelin…\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[],\"tags_descriptions\":{},\"like_count\":0,\"views\":42,\"category_id\":30,\"featured_link\":null,\"has_accepted_answer\":false,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3566982,\"topic_post_liked\":false,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":false,\"topic_post_is_current_users\":null,\"topic_post_number\":1,\"topic_post_user\":{\"id\":60754,\"username\":\"Spaceman\",\"name\":\"\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/s/a5b964/{size}.png\"},\"posters\":[{\"extras\":\"latest single\",\"description\":\"Original Poster, Most Recent Poster\",\"user\":{\"id\":60754,\"username\":\"Spaceman\",\"name\":\"\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/s/a5b964/{size}.png\",\"trust_level\":2}}]}],\"tags\":[],\"tags_descriptions\":{},\"fancy_title\":\"Looking for MaxMotion examples\",\"id\":492122,\"title\":\"Looking for MaxMotion examples\",\"posts_count\":5,\"created_at\":\"2025-02-18T03:23:23.674Z\",\"views\":423,\"reply_count\":1,\"like_count\":0,\"last_posted_at\":\"2025-02-19T16:16:10.463Z\",\"visible\":true,\"closed\":false,\"archived\":false,\"has_summary\":false,\"archetype\":\"regular\",\"slug\":\"looking-for-maxmotion-examples\",\"category_id\":30,\"word_count\":1767,\"deleted_at\":null,\"user_id\":11577,\"featured_link\":null,\"pinned_globally\":false,\"pinned_at\":null,\"pinned_until\":null,\"image_url\":null,\"slow_mode_seconds\":0,\"draft\":null,\"draft_key\":\"topic_492122\",\"draft_sequence\":null,\"unpinned\":null,\"pinned\":false,\"current_post_number\":1,\"highest_post_number\":5,\"deleted_by\":null,\"actions_summary\":[{\"id\":4,\"count\":0,\"hidden\":false,\"can_act\":false},{\"id\":8,\"count\":0,\"hidden\":false,\"can_act\":false},{\"id\":10,\"count\":0,\"hidden\":false,\"can_act\":false},{\"id\":7,\"count\":0,\"hidden\":false,\"can_act\":false}],\"chunk_size\":20,\"bookmarked\":false,\"topic_timer\":{\"id\":44172,\"execute_at\":\"2026-02-19T16:16:10.463Z\",\"duration_minutes\":525600,\"based_on_last_post\":true,\"status_type\":\"close\",\"category_id\":null},\"message_bus_last_id\":0,\"participant_count\":4,\"show_read_indicator\":false,\"thumbnails\":null,\"slow_mode_enabled_until\":null,\"valid_reactions\":[\"heart\",\"laughing\",\"point_up\",\"+1\",\"-1\",\"100\",\"open_mouth\",\"cry\",\"question\",\"thinking\",\"call_me_hand\",\"hugs\",\"angry\"],\"user_chosen_thumbnail_url\":null,\"sidecar_installed\":true,\"can_vote\":false,\"vote_count\":0,\"user_voted\":false,\"discourse_zendesk_plugin_zendesk_id\":null,\"discourse_zendesk_plugin_zendesk_url\":\"https://your-url.zendesk.com/agent/tickets/\",\"details\":{\"can_edit\":false,\"notification_level\":1,\"participants\":[{\"id\":11577,\"username\":\"jfitz0807\",\"name\":\"jfitz0807\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/j/41988e/{size}.png\",\"post_count\":2,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":12381,\"username\":\"Oblarg\",\"name\":\"Eli Barnett\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/oblarg/{size}/161674_2.png\",\"post_count\":1,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":56673,\"username\":\"Martini159\",\"name\":\"Martin Nemaric\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/m/278dde/{size}.png\",\"post_count\":1,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":57606,\"username\":\"Tamy0\",\"name\":\"Tamer\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/t/b77776/{size}.png\",\"post_count\":1,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2}],\"created_by\":{\"id\":11577,\"username\":\"jfitz0807\",\"name\":\"jfitz0807\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/j/41988e/{size}.png\"},\"last_poster\":{\"id\":12381,\"username\":\"Oblarg\",\"name\":\"Eli Barnett\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/oblarg/{size}/161674_2.png\"},\"links\":[{\"url\":\"https://github.com/REVrobotics/2025-REV-ION-FRC-Starter-Bot/blob/main/src/main/java/frc/robot/subsystems/CoralSubsystem.java\",\"title\":\"2025-REV-ION-FRC-Starter-Bot/src/main/java/frc/robot/subsystems/CoralSubsystem.java at main · REVrobotics/2025-REV-ION-FRC-Starter-Bot · GitHub\",\"internal\":false,\"attachment\":false,\"reflection\":false,\"clicks\":71,\"user_id\":56673,\"domain\":\"github.com\",\"root_domain\":\"github.com\"},{\"url\":\"https://github.com/REVrobotics/2025-REV-ION-FRC-Starter-Bot/blob/main/src/main/java/frc/robot/Configs.java\",\"title\":\"2025-REV-ION-FRC-Starter-Bot/src/main/java/frc/robot/Configs.java at main · REVrobotics/2025-REV-ION-FRC-Starter-Bot · GitHub\",\"internal\":false,\"attachment\":false,\"reflection\":false,\"clicks\":19,\"user_id\":56673,\"domain\":\"github.com\",\"root_domain\":\"github.com\"},{\"url\":\"https://github.com/Mostra-Software/FRC10396-2025-Robot-Code/blob/changes/src/main/java/frc/robot/subsystems/elevator/ElevatorIOSpark.java\",\"title\":\"FRC10396-2025-Robot-Code/src/main/java/frc/robot/subsystems/elevator/ElevatorIOSpark.java at changes · Mostra-Software/FRC10396-2025-Robot-Code · GitHub\",\"internal\":false,\"attachment\":false,\"reflection\":false,\"clicks\":1,\"user_id\":57606,\"domain\":\"github.com\",\"root_domain\":\"github.com\"}]},\"bookmarks\":[]}"}
