{"data":"{\"post_stream\":{\"posts\":[{\"id\":3479948,\"name\":\"EricRehder\",\"username\":\"EricRehder\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/e/7ab992/{size}.png\",\"created_at\":\"2025-01-12T15:02:10.029Z\",\"cooked\":\"\\u003cp\\u003eAprilTag sensing is sensitive to Left/Right position. But distance from camera to the AprilTag is often not very sensitive. We are interested in adding a Lidar to measure distance from the robot to the wall that the AprilTag is on.\\u003c/p\\u003e\\n\\u003cp\\u003eHow can multiple sensor estimates of field position be integrated?\\u003c/p\\u003e\",\"post_number\":1,\"post_type\":1,\"posts_count\":17,\"updated_at\":\"2025-01-12T15:02:10.029Z\",\"reply_count\":1,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":236,\"reads\":417,\"readers_count\":416,\"score\":1268.4,\"yours\":false,\"topic_id\":481173,\"topic_slug\":\"combine-apriltag-and-lidar-for-robotpose\",\"display_username\":\"EricRehder\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":32451,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"post_url\":\"/t/combine-apriltag-and-lidar-for-robotpose/481173/1\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null,\"can_vote\":false},{\"id\":3479981,\"name\":\"Chris Gerth\",\"username\":\"gerthworm\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/gerthworm/{size}/268658_2.png\",\"created_at\":\"2025-01-12T15:56:16.581Z\",\"cooked\":\"\\u003caside class=\\\"quote no-group\\\" data-username=\\\"EricRehder\\\" data-post=\\\"1\\\" data-topic=\\\"481173\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg loading=\\\"lazy\\\" alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/letter_avatar_proxy/v4/letter/e/7ab992/48.png\\\" class=\\\"avatar\\\"\\u003e EricRehder:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003eHow can multiple sensor estimates of field position be integrated?\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003cp\\u003eThere are many ways. Let’s start by breaking the problem down.\\u003c/p\\u003e\\n\\u003cp\\u003eFirst, a single lidar measurement provides a linear distance from the wall, to the pose of the sensor on the field.\\u003c/p\\u003e\\n\\u003cp\\u003eThe sensor’s pose is generally assumed to be three components - an X/Y coordinate on the field, and a rotation. WPILib wraps these up into a \\u003ccode\\u003ePose2d\\u003c/code\\u003e class.\\u003c/p\\u003e\\n\\u003cp\\u003eGiven only a single, accurate lidar measurement, there still many possible poses which could have produced that measurement.\\u003c/p\\u003e\\n\\u003cp\\u003eYou’ll need some way to constrain down \\u003cem\\u003ewhich\\u003c/em\\u003e pose you assume produced the lidar measurement. This could include only trusting the measurement while in a specific are of the field (perhaps, aligned with a side of the reef?). It could also involve adding additional sensors - a gyro, or another lidar for example.\\u003c/p\\u003e\\n\\u003cp\\u003eOnce you have the pose you \\u003cem\\u003ethink\\u003c/em\\u003e produced the measurement, it’s important to remember that all measurements have noise. In reality, there’s a pose that \\u003cem\\u003emost likely\\u003c/em\\u003e produced the measurement, but other poses near by that also \\u003cem\\u003emight\\u003c/em\\u003e have produced the measurement (with the probability of the pose being the real one dropping off as you get further from the most-likely point).\\u003c/p\\u003e\\n\\u003cp\\u003eApplying a filter to the measurement is one way to decrease the impact of this probability - basically, you use \\u003cem\\u003emultiple\\u003c/em\\u003e measurements to confirm the pose before using it.\\u003c/p\\u003e\\n\\u003cp\\u003eGetting multiple measurements requires that you either have faster sensors, more sensors, or wait for for the sensors to supply more data.\\u003c/p\\u003e\\n\\u003cp\\u003eIn all cases, as long as the sensors are supplying information \\u003cem\\u003ein the same reference frame\\u003c/em\\u003e (IE, all produce a \\u003ccode\\u003ePose2d\\u003c/code\\u003e) a simple strategy is to take a weighted average of sensors. Pick your weights to represent how much you trust each source of data.\\u003c/p\\u003e\\n\\u003cp\\u003eA Kalman Filter (a common recommendation in these cases) takes more steps to formalize this process, also usually including information from your motor power and previous estimates of pose to make an “optimal” guess of current pose.\\u003c/p\\u003e\\n\\u003cp\\u003eTwo key Lidar-specific considerations:\\u003c/p\\u003e\\n\\u003col\\u003e\\n\\u003cli\\u003eThe field walls are made of clear polycarb, which is usually somewhat scuffed up. This can have some unexpected scattering/transmission effects, depending on the wavelength of laser used.\\u003c/li\\u003e\\n\\u003cli\\u003eOther robots and field obstacles might block the line of sight from the lidar to the wall.\\u003c/li\\u003e\\n\\u003c/ol\\u003e\\n\\u003cp\\u003eHaving a strategy for when to or not trust the lidar measurement will be key.\\u003c/p\\u003e\\n\\u003cp\\u003eDoes all this sound hard? It definitely is!\\u003c/p\\u003e\\n\\u003cp\\u003eIf you’re willing to assume this is an X/Y problem (your real goal is “better pose” and you’ve incorrectly assumed the solution is “add lidar”)…\\u003c/p\\u003e\\n\\u003cp\\u003eHave you done root-cause analysis to determine \\u003cem\\u003ewhy\\u003c/em\\u003e one dimension is more accurate than the other with apriltags?\\u003c/p\\u003e\\n\\u003cp\\u003eWhy not use two apriltag estimates to improve the accuracy?\\u003c/p\\u003e\",\"post_number\":2,\"post_type\":1,\"posts_count\":17,\"updated_at\":\"2025-01-12T15:58:22.722Z\",\"reply_count\":1,\"reply_to_post_number\":null,\"quote_count\":1,\"incoming_link_count\":6,\"reads\":403,\"readers_count\":402,\"score\":160.6,\"yours\":false,\"topic_id\":481173,\"topic_slug\":\"combine-apriltag-and-lidar-for-robotpose\",\"display_username\":\"Chris Gerth\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":3}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":24617,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"\"},\"post_url\":\"/t/combine-apriltag-and-lidar-for-robotpose/481173/2\",\"custom_user_title\":null,\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":3}],\"current_user_reaction\":null,\"reaction_users_count\":3,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3480506,\"name\":\"Asher Olgeirson\",\"username\":\"Cynosure\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/cynosure/{size}/184875_2.png\",\"created_at\":\"2025-01-13T00:42:36.089Z\",\"cooked\":\"\\u003cp\\u003eIs your camera mounted head-on? Apriltag distances can be off if you look straight ahead. Also, why not mount multiple cameras so that you get a left-right estimate from each side?\\u003c/p\\u003e\",\"post_number\":3,\"post_type\":1,\"posts_count\":17,\"updated_at\":\"2025-01-13T00:42:36.089Z\",\"reply_count\":0,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":279,\"readers_count\":278,\"score\":55.8,\"yours\":false,\"topic_id\":481173,\"topic_slug\":\"combine-apriltag-and-lidar-for-robotpose\",\"display_username\":\"Asher Olgeirson\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":51179,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"\"},\"post_url\":\"/t/combine-apriltag-and-lidar-for-robotpose/481173/3\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3480518,\"name\":\"EricRehder\",\"username\":\"EricRehder\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/e/7ab992/{size}.png\",\"created_at\":\"2025-01-13T00:59:14.562Z\",\"cooked\":\"\\u003cblockquote\\u003e\\n\\u003cp\\u003eHave you done root-cause analysis to determine \\u003cem\\u003ewhy\\u003c/em\\u003e one dimension is more accurate than the other with apriltags?\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003cp\\u003eWe haven’t done a fault tree, knot chart, 5 whys, or fishbone on this question. I’ve been trying for the last year to get the students to even make the position noise measurements! When looking directly at an April tag the only indicator of distance is the size of the apriltag and that is limited by pixel size\\u0026amp;noise. The poor distance estimation was talked a lot with the older limelight2 running at 320x200. This is what our team has. Planning an upgrade but that’s what we have today. The newer cameras/processing power are enabling higher pixel density which will improve precision.\\u003c/p\\u003e\\n\\u003cp\\u003eI’ll point to this which shows what I’m talking about\\u003c/p\\u003e\\u003caside class=\\\"onebox allowlistedgeneric\\\" data-onebox-src=\\\"https://docs.limelightvision.io/docs/docs-limelight/pipeline-apriltag/apriltag-robot-localization-megatag2\\\"\\u003e\\n  \\u003cheader class=\\\"source\\\"\\u003e\\n      \\u003cimg src=\\\"https://docs.limelightvision.io/img/favicon.ico\\\" class=\\\"site-icon\\\" width=\\\"500\\\" height=\\\"500\\\"\\u003e\\n\\n      \\u003ca href=\\\"https://docs.limelightvision.io/docs/docs-limelight/pipeline-apriltag/apriltag-robot-localization-megatag2\\\" target=\\\"_blank\\\" rel=\\\"noopener nofollow ugc\\\"\\u003edocs.limelightvision.io\\u003c/a\\u003e\\n  \\u003c/header\\u003e\\n\\n  \\u003carticle class=\\\"onebox-body\\\"\\u003e\\n    \\u003cimg width=\\\"\\\" height=\\\"\\\" src=\\\"https://docs.limelightvision.io/img/docusaurus-social-card.jpg\\\" class=\\\"thumbnail\\\"\\u003e\\n\\n\\u003ch3\\u003e\\u003ca href=\\\"https://docs.limelightvision.io/docs/docs-limelight/pipeline-apriltag/apriltag-robot-localization-megatag2\\\" target=\\\"_blank\\\" rel=\\\"noopener nofollow ugc\\\"\\u003eRobot Localization with MegaTag2 | Limelight Documentation\\u003c/a\\u003e\\u003c/h3\\u003e\\n\\n  \\u003cp\\u003eIntroduced in 2024, Megatag2 is a precise and ambiguity-free AprilTag-based localizer for mobile robots. It was built with the following goals:\\u003c/p\\u003e\\n\\n\\n  \\u003c/article\\u003e\\n\\n  \\u003cdiv class=\\\"onebox-metadata\\\"\\u003e\\n    \\n    \\n  \\u003c/div\\u003e\\n\\n  \\u003cdiv style=\\\"clear: both\\\"\\u003e\\u003c/div\\u003e\\n\\u003c/aside\\u003e\\n\\u003cp\\u003e\\nThe animation after the line “Notice the difference between MegaTag2”. The Red bumper robot is bouncing closer/farther to the apriltag but the lateral position is very steady. That difference in noise is my focus.\\u003c/p\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003eWhy not use two apriltag estimates to improve the accuracy?\\u003cbr\\u003e\\nYes, that would greatly improve accuracy but requires a second camera. We plan to have one camera and in many cases only 1 apriltag is visible in a frame.\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003eIn all cases, as long as the sensors are supplying information \\u003cem\\u003ein the same reference frame\\u003c/em\\u003e (IE, all produce a Pose2d) a simple strategy is to take a weighted average of sensors. Pick your weights to represent how much you trust each source of data.\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003cp\\u003eYes, but that only works if you have multiple independent Pose2d. What I’m trying to do is a bit different. I will have a distance from the Lidar to a wall near the AprilTag. A camera on the robot will identify the April Tag, the robot distance to the AprilTag, and robot angle to the AprilTag. These are used to determine the Pose2d of the robot (XYR).\\u003c/p\\u003e\\n\\u003cp\\u003eIf the robot is fairly close to and facing straight at an April Tag there is large error in the distance to the AprilTag and I wish to use lidar to improve that.\\u003c/p\\u003e\\n\\u003cp\\u003eSee my cartoon with the blue robot facing the Apriltag on a wall. The yellow ellipse indicates the noise in the Apriltag XYR position. There will be much larger uncertainty in the robot to Apriltag distance then in the lateral position.\\u003c/p\\u003e\\n\\u003cp\\u003e\\u003cimg src=\\\"https://www.chiefdelphi.com/uploads/default/original/3X/2/0/2092e76e004ae0be0e302d0326d7602b4751f9ca.png\\\" alt=\\\"image\\\" data-base62-sha1=\\\"4Ea1cQlKHIVN9HnXJHIqHy9wk9Y\\\" width=\\\"253\\\" height=\\\"203\\\"\\u003e\\u003c/p\\u003e\\n\\u003cp\\u003eThe lidar info is represented in a green arc with low uncertainty in the distance to the wall/April tag and no knowledge of the lateral position. The comments about lidar uncertainty are well taken.\\u003c/p\\u003e\\n\\u003cp\\u003eThese sensors appear to complement each other. I’m thinking of combining the data as follows:\\u003c/p\\u003e\\n\\u003cul\\u003e\\n\\u003cli\\u003eIdentify the Apriltag\\u003c/li\\u003e\\n\\u003cli\\u003eDetermine the relative angle of camera and robot to April tag\\u003c/li\\u003e\\n\\u003cli\\u003eMeasure the lidar distance to the wall/April tag\\u003c/li\\u003e\\n\\u003cli\\u003eMake a weighting determination of the Apriltag distance measurement and the lidar distance measurement and combine them.\\u003c/li\\u003e\\n\\u003cli\\u003eThen use the Apriltag XYR, angle of the bot, and the distance to determine the robotpose XYR\\u003c/li\\u003e\\n\\u003c/ul\\u003e\\n\\u003cp\\u003eI’m not very familiar with all the options in WPILib, PhotoVision, etc. I wasn’t sure if there are other, easier ways to combine these data.\\u003c/p\\u003e\\n\\u003cp\\u003e[I think the issue is that robotpose is in a cartesian XY coordinate system. But the errors and data I’m concerned about are fundamentally in a cylindrical coordinate system.]\\u003c/p\\u003e\",\"post_number\":4,\"post_type\":1,\"posts_count\":17,\"updated_at\":\"2025-01-13T00:59:14.562Z\",\"reply_count\":4,\"reply_to_post_number\":2,\"quote_count\":0,\"incoming_link_count\":1,\"reads\":276,\"readers_count\":275,\"score\":95.2,\"yours\":false,\"topic_id\":481173,\"topic_slug\":\"combine-apriltag-and-lidar-for-robotpose\",\"display_username\":\"EricRehder\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"link_counts\":[{\"url\":\"https://docs.limelightvision.io/docs/docs-limelight/pipeline-apriltag/apriltag-robot-localization-megatag2\",\"internal\":false,\"reflection\":false,\"title\":\"Robot Localization with MegaTag2 | Limelight Documentation\",\"clicks\":17}],\"read\":true,\"user_title\":\"\",\"reply_to_user\":{\"id\":24617,\"username\":\"gerthworm\",\"name\":\"Chris Gerth\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/gerthworm/{size}/268658_2.png\"},\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":1}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":32451,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"post_url\":\"/t/combine-apriltag-and-lidar-for-robotpose/481173/4\",\"custom_user_title\":null,\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":1}],\"current_user_reaction\":null,\"reaction_users_count\":1,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3480523,\"name\":\"Dylan Powers\",\"username\":\"Dylan1259\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/dylan1259/{size}/161876_2.png\",\"created_at\":\"2025-01-13T01:12:01.471Z\",\"cooked\":\"\\u003cp\\u003eTo answer the final part of your last post. You might wanna take a look at \\u003ccode\\u003eKalmanFilter\\u003c/code\\u003e. Might have what you need.\\u003c/p\\u003e\\n\\u003cp\\u003eOtherwise you could woild probably need to do this math on your own.\\u003c/p\\u003e\",\"post_number\":5,\"post_type\":1,\"posts_count\":17,\"updated_at\":\"2025-01-13T01:12:01.471Z\",\"reply_count\":0,\"reply_to_post_number\":4,\"quote_count\":0,\"incoming_link_count\":3,\"reads\":190,\"readers_count\":189,\"score\":53.0,\"yours\":false,\"topic_id\":481173,\"topic_slug\":\"combine-apriltag-and-lidar-for-robotpose\",\"display_username\":\"Dylan Powers\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":null,\"reply_to_user\":{\"id\":32451,\"username\":\"EricRehder\",\"name\":\"EricRehder\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/e/7ab992/{size}.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":42126,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"\"},\"post_url\":\"/t/combine-apriltag-and-lidar-for-robotpose/481173/5\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3480534,\"name\":\"Dylan Powers\",\"username\":\"Dylan1259\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/dylan1259/{size}/161876_2.png\",\"created_at\":\"2025-01-13T01:20:21.819Z\",\"cooked\":\"\\u003cp\\u003eNEW THOUGHT: You could create a Pose2d based on solely the LiDAR measurement by taking the pose of the AprilTag and and translating it by the vector you can create from the tag to your robot using the angle from the camera and distance from lidar. You can then weighted average those within tbe WPILib space and in the field oriented coordinates system.\\u003c/p\\u003e\",\"post_number\":6,\"post_type\":1,\"posts_count\":17,\"updated_at\":\"2025-01-13T01:20:21.819Z\",\"reply_count\":1,\"reply_to_post_number\":4,\"quote_count\":0,\"incoming_link_count\":1,\"reads\":191,\"readers_count\":190,\"score\":63.2,\"yours\":false,\"topic_id\":481173,\"topic_slug\":\"combine-apriltag-and-lidar-for-robotpose\",\"display_username\":\"Dylan Powers\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":null,\"reply_to_user\":{\"id\":32451,\"username\":\"EricRehder\",\"name\":\"EricRehder\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/e/7ab992/{size}.png\"},\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":1}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":42126,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"\"},\"post_url\":\"/t/combine-apriltag-and-lidar-for-robotpose/481173/6\",\"custom_user_title\":null,\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":1}],\"current_user_reaction\":null,\"reaction_users_count\":1,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3480539,\"name\":\"Chris Gerth\",\"username\":\"gerthworm\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/gerthworm/{size}/268658_2.png\",\"created_at\":\"2025-01-13T01:27:26.469Z\",\"cooked\":\"\\u003cp\\u003eLots of info here, and I appreciate the detailed response.\\u003c/p\\u003e\\n\\u003cp\\u003eThe biggest thing I’d recommend, if you’re having issues with side-to-side variability: First and foremost, make sure you and your students \\u003ca href=\\\"https://docs.wpilib.org/en/stable/docs/software/vision-processing/apriltag/apriltag-intro.html#d-to-3d-ambiguity\\\"\\u003eunderstand the main pose ambiguity issue with apriltags\\u003c/a\\u003e - it’s the optical illusion that cameras see, and is fundamental to the problem of extracting 3-dimensional output from 2-dimensional sensor data.\\u003c/p\\u003e\\n\\u003cp\\u003eI’d advise against investing in Lidar - it’s very unproven in \\u003cspan class=\\\"abbreviation\\\"\\u003eFRC\\u003ctemplate class=\\\"tooltiptext\\\" data-text=\\\"FIRST Robotics Competition\\\"\\u003e\\u003c/template\\u003e\\u003c/span\\u003e (relative to other sensor technologies), and represents a large investment in software and validation before I’d trust it’s a good answer to improve performance.\\u003c/p\\u003e\\n\\u003cp\\u003eInstead, spend your time researching wpilib’s \\u003ca href=\\\"https://docs.wpilib.org/en/2021/docs/software/advanced-controls/state-space/state-space-pose_state-estimators.html\\\"\\u003ePose Estimators\\u003c/a\\u003e, especially including their latency calculations. Additionally, increase the resolution of your apriltag detection (you want it at max resolution, most likely), and make sure you’re correctly passing the latency numbers into the pose estimator.\\u003c/p\\u003e\\n\\u003cp\\u003eBased on what you have told me, it is my belief that that line of thinking will bring you the greatest improvement in pose estimation with the least amount of work.\\u003c/p\\u003e\",\"post_number\":7,\"post_type\":1,\"posts_count\":17,\"updated_at\":\"2025-01-13T01:27:26.469Z\",\"reply_count\":1,\"reply_to_post_number\":4,\"quote_count\":0,\"incoming_link_count\":1,\"reads\":187,\"readers_count\":186,\"score\":62.4,\"yours\":false,\"topic_id\":481173,\"topic_slug\":\"combine-apriltag-and-lidar-for-robotpose\",\"display_username\":\"Chris Gerth\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"link_counts\":[{\"url\":\"https://docs.wpilib.org/en/stable/docs/software/vision-processing/apriltag/apriltag-intro.html#d-to-3d-ambiguity\",\"internal\":false,\"reflection\":false,\"title\":\"What Are AprilTags? — FIRST Robotics Competition documentation\",\"clicks\":14},{\"url\":\"https://docs.wpilib.org/en/2021/docs/software/advanced-controls/state-space/state-space-pose_state-estimators.html\",\"internal\":false,\"reflection\":false,\"title\":\"WPILib Pose Estimators — FIRST Robotics Competition documentation\",\"clicks\":3}],\"read\":true,\"user_title\":\"\",\"reply_to_user\":{\"id\":32451,\"username\":\"EricRehder\",\"name\":\"EricRehder\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/e/7ab992/{size}.png\"},\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":1}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":24617,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"\"},\"post_url\":\"/t/combine-apriltag-and-lidar-for-robotpose/481173/7\",\"custom_user_title\":null,\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":1}],\"current_user_reaction\":null,\"reaction_users_count\":1,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3480601,\"name\":\"Dylan Powers\",\"username\":\"Dylan1259\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/dylan1259/{size}/161876_2.png\",\"created_at\":\"2025-01-13T02:32:04.912Z\",\"cooked\":\"\\u003cp\\u003eI agree with \\u003ca class=\\\"mention\\\" href=\\\"/u/gerthworm\\\"\\u003e@gerthworm\\u003c/a\\u003e 's assessment here when it comes to improving performace in season.\\u003c/p\\u003e\\n\\u003cp\\u003eI would encourage you to pursue this in the offseason, however, if your (fellow) students are interested.\\u003c/p\\u003e\",\"post_number\":8,\"post_type\":1,\"posts_count\":17,\"updated_at\":\"2025-01-13T02:32:04.912Z\",\"reply_count\":0,\"reply_to_post_number\":4,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":153,\"readers_count\":152,\"score\":30.6,\"yours\":false,\"topic_id\":481173,\"topic_slug\":\"combine-apriltag-and-lidar-for-robotpose\",\"display_username\":\"Dylan Powers\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":null,\"reply_to_user\":{\"id\":32451,\"username\":\"EricRehder\",\"name\":\"EricRehder\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/e/7ab992/{size}.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":42126,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"\"},\"post_url\":\"/t/combine-apriltag-and-lidar-for-robotpose/481173/8\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3480672,\"name\":\"Justin Buist\",\"username\":\"Justin_Buist\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/j/c77e96/{size}.png\",\"created_at\":\"2025-01-13T04:10:39.631Z\",\"cooked\":\"\\u003cp\\u003eI would probably try and nail down your pose estimation with odometry and vision, then start working on the lidar.\\u003c/p\\u003e\\n\\u003cp\\u003eAlthough I think an easy way to do it is just to take your estimated pose after odometry and vision fusion in the Kalman filter, adjust that to be true to what the lidar tells you as a distance from the wall, and feed it right back in with another addVisionMeasurement() with adjusted standard deviations and some kind of lag calculation.\\u003c/p\\u003e\",\"post_number\":9,\"post_type\":1,\"posts_count\":17,\"updated_at\":\"2025-01-13T04:10:39.631Z\",\"reply_count\":1,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":134,\"readers_count\":133,\"score\":31.8,\"yours\":false,\"topic_id\":481173,\"topic_slug\":\"combine-apriltag-and-lidar-for-robotpose\",\"display_username\":\"Justin Buist\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":24678,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"post_url\":\"/t/combine-apriltag-and-lidar-for-robotpose/481173/9\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3480807,\"name\":\"Geoffrey\",\"username\":\"Geoffrey8814\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/geoffrey8814/{size}/262430_2.png\",\"created_at\":\"2025-01-13T08:41:42.259Z\",\"cooked\":\"\\u003cp\\u003eYou can use a particle filter for this purpose, as particle filters are typically employed in pose estimation with lidar. Additionally, you can incorporate AprilTag data, since the particle filter primarily calculates the probabilities of each simulated robot pose and resamples them during each iteration. You don’t require an absolute pose as input; instead, you just need a method to determine whether the simulated pose is accurate or not.\\u003c/p\\u003e\",\"post_number\":10,\"post_type\":1,\"posts_count\":17,\"updated_at\":\"2025-01-13T08:41:42.259Z\",\"reply_count\":0,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":114,\"readers_count\":113,\"score\":37.8,\"yours\":false,\"topic_id\":481173,\"topic_slug\":\"combine-apriltag-and-lidar-for-robotpose\",\"display_username\":\"Geoffrey\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":1}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":60663,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"\"},\"post_url\":\"/t/combine-apriltag-and-lidar-for-robotpose/481173/10\",\"custom_user_title\":null,\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":1}],\"current_user_reaction\":null,\"reaction_users_count\":1,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3482144,\"name\":\"EricRehder\",\"username\":\"EricRehder\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/e/7ab992/{size}.png\",\"created_at\":\"2025-01-14T16:13:57.162Z\",\"cooked\":\"\\u003cp\\u003eYeah, I described some steps in my bulleted points. I think these are the same, right?\\u003c/p\\u003e\",\"post_number\":11,\"post_type\":1,\"posts_count\":17,\"updated_at\":\"2025-01-14T16:13:57.162Z\",\"reply_count\":0,\"reply_to_post_number\":6,\"quote_count\":0,\"incoming_link_count\":2,\"reads\":89,\"readers_count\":88,\"score\":27.8,\"yours\":false,\"topic_id\":481173,\"topic_slug\":\"combine-apriltag-and-lidar-for-robotpose\",\"display_username\":\"EricRehder\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"reply_to_user\":{\"id\":42126,\"username\":\"Dylan1259\",\"name\":\"Dylan Powers\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/dylan1259/{size}/161876_2.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":32451,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"post_url\":\"/t/combine-apriltag-and-lidar-for-robotpose/481173/11\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3482150,\"name\":\"EricRehder\",\"username\":\"EricRehder\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/e/7ab992/{size}.png\",\"created_at\":\"2025-01-14T16:19:10.847Z\",\"cooked\":\"\\u003cp\\u003eI appreciate the points about the ambiguity. We’ll emphasize that. If we can get the resolution from camera-april tag that would be great. But to place the coral requires some fine position control.\\u003c/p\\u003e\\n\\u003cp\\u003eWhy against Lidar? Its not new. My understanding was interfacing to them was a bit complicated, but the new module from Grapple has a \\u003cspan class=\\\"abbreviation\\\"\\u003eCAN\\u003ctemplate class=\\\"tooltiptext\\\" data-text=\\\"Controller Area Network\\\"\\u003e\\u003c/template\\u003e\\u003c/span\\u003e interface built in which appears to solve that side.\\u003c/p\\u003e\\u003caside class=\\\"onebox allowlistedgeneric\\\" data-onebox-src=\\\"https://www.thethriftybot.com/products/pre-order-grapple-robotics-lasercan\\\"\\u003e\\n  \\u003cheader class=\\\"source\\\"\\u003e\\n\\n      \\u003ca href=\\\"https://www.thethriftybot.com/products/pre-order-grapple-robotics-lasercan\\\" target=\\\"_blank\\\" rel=\\\"noopener nofollow ugc\\\"\\u003eThe Thrifty Bot\\u003c/a\\u003e\\n  \\u003c/header\\u003e\\n\\n  \\u003carticle class=\\\"onebox-body\\\"\\u003e\\n    \\u003cdiv class=\\\"aspect-image\\\" style=\\\"--aspect-ratio:535/500;\\\"\\u003e\\u003cimg src=\\\"https://www.thethriftybot.com/cdn/shop/files/PXL_20240603_231149634.jpg?v=1718902410\\\" class=\\\"thumbnail\\\" width=\\\"534\\\" height=\\\"500\\\"\\u003e\\u003c/div\\u003e\\n\\n\\u003ch3\\u003e\\u003ca href=\\\"https://www.thethriftybot.com/products/pre-order-grapple-robotics-lasercan\\\" target=\\\"_blank\\\" rel=\\\"noopener nofollow ugc\\\"\\u003eGrapple Robotics LaserCAN\\u003c/a\\u003e\\u003c/h3\\u003e\\n\\n  \\u003cp\\u003ePowered by\\u0026nbsp;Grapple Robotics, the LaserCAN is a LIDAR sensor purpose-built for FRC teams! This postage-stamp sized sensor is capable of detecting objects up to 4m (13 feet!) away (or 1.35m (4.5 feet) in short range mode). It contains an...\\u003c/p\\u003e\\n\\n  \\u003cp\\u003e\\n    \\u003cspan class=\\\"label1\\\"\\u003ePrice: USD 42.50\\u003c/span\\u003e\\n  \\u003c/p\\u003e\\n\\n  \\u003c/article\\u003e\\n\\n  \\u003cdiv class=\\\"onebox-metadata\\\"\\u003e\\n    \\n    \\n  \\u003c/div\\u003e\\n\\n  \\u003cdiv style=\\\"clear: both\\\"\\u003e\\u003c/div\\u003e\\n\\u003c/aside\\u003e\\n\",\"post_number\":12,\"post_type\":1,\"posts_count\":17,\"updated_at\":\"2025-01-14T16:19:10.847Z\",\"reply_count\":1,\"reply_to_post_number\":7,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":91,\"readers_count\":90,\"score\":23.2,\"yours\":false,\"topic_id\":481173,\"topic_slug\":\"combine-apriltag-and-lidar-for-robotpose\",\"display_username\":\"EricRehder\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"link_counts\":[{\"url\":\"https://www.thethriftybot.com/products/pre-order-grapple-robotics-lasercan\",\"internal\":false,\"reflection\":false,\"title\":\"Grapple Robotics LaserCAN\",\"clicks\":5}],\"read\":true,\"user_title\":\"\",\"reply_to_user\":{\"id\":24617,\"username\":\"gerthworm\",\"name\":\"Chris Gerth\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/gerthworm/{size}/268658_2.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":32451,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"post_url\":\"/t/combine-apriltag-and-lidar-for-robotpose/481173/12\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3482153,\"name\":\"EricRehder\",\"username\":\"EricRehder\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/e/7ab992/{size}.png\",\"created_at\":\"2025-01-14T16:21:09.976Z\",\"cooked\":\"\\u003cp\\u003eInteresting. I’m interested to see how to “combine” the different sensor data. We’ll read up on these functions.\\u003c/p\\u003e\",\"post_number\":13,\"post_type\":1,\"posts_count\":17,\"updated_at\":\"2025-01-14T16:21:09.976Z\",\"reply_count\":0,\"reply_to_post_number\":9,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":88,\"readers_count\":87,\"score\":17.6,\"yours\":false,\"topic_id\":481173,\"topic_slug\":\"combine-apriltag-and-lidar-for-robotpose\",\"display_username\":\"EricRehder\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"reply_to_user\":{\"id\":24678,\"username\":\"Justin_Buist\",\"name\":\"Justin Buist\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/j/c77e96/{size}.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":32451,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"post_url\":\"/t/combine-apriltag-and-lidar-for-robotpose/481173/13\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3482181,\"name\":\"Chris Gerth\",\"username\":\"gerthworm\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/gerthworm/{size}/268658_2.png\",\"created_at\":\"2025-01-14T16:34:50.584Z\",\"cooked\":\"\\u003caside class=\\\"quote no-group\\\" data-username=\\\"EricRehder\\\" data-post=\\\"12\\\" data-topic=\\\"481173\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg loading=\\\"lazy\\\" alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/letter_avatar_proxy/v4/letter/e/7ab992/48.png\\\" class=\\\"avatar\\\"\\u003e EricRehder:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003eWhy against Lidar? Its not new.\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003cp\\u003eI cannot cite a team which has used lidar for localization successfully in a match.\\u003c/p\\u003e\\n\\u003cp\\u003eIt would be good if someone could correct me with a working example (code and hardware setup), but I do not have one.\\u003c/p\\u003e\\n\\u003cp\\u003eLacking one, I would only be able to recommend it if the team was willing to do the legwork to be first adopter, and all the pain that comes with it.\\u003c/p\\u003e\",\"post_number\":14,\"post_type\":1,\"posts_count\":17,\"updated_at\":\"2025-01-14T16:34:50.584Z\",\"reply_count\":1,\"reply_to_post_number\":12,\"quote_count\":1,\"incoming_link_count\":0,\"reads\":90,\"readers_count\":89,\"score\":23.0,\"yours\":false,\"topic_id\":481173,\"topic_slug\":\"combine-apriltag-and-lidar-for-robotpose\",\"display_username\":\"Chris Gerth\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":24617,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"\"},\"post_url\":\"/t/combine-apriltag-and-lidar-for-robotpose/481173/14\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3482197,\"name\":\"Geoffrey\",\"username\":\"Geoffrey8814\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/geoffrey8814/{size}/262430_2.png\",\"created_at\":\"2025-01-14T16:50:32.110Z\",\"cooked\":\"\\u003cp\\u003eI believe that 254 utilized it in 2018.\\u003c/p\\u003e\",\"post_number\":15,\"post_type\":1,\"posts_count\":17,\"updated_at\":\"2025-01-14T16:50:32.110Z\",\"reply_count\":2,\"reply_to_post_number\":14,\"quote_count\":0,\"incoming_link_count\":1,\"reads\":88,\"readers_count\":87,\"score\":32.6,\"yours\":false,\"topic_id\":481173,\"topic_slug\":\"combine-apriltag-and-lidar-for-robotpose\",\"display_username\":\"Geoffrey\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"reply_to_user\":{\"id\":24617,\"username\":\"gerthworm\",\"name\":\"Chris Gerth\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/gerthworm/{size}/268658_2.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":60663,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"\"},\"post_url\":\"/t/combine-apriltag-and-lidar-for-robotpose/481173/15\",\"custom_user_title\":null,\"reactions\":[{\"id\":\"-1\",\"type\":\"emoji\",\"count\":1}],\"current_user_reaction\":null,\"reaction_users_count\":1,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3482252,\"name\":\"Chris Gerth\",\"username\":\"gerthworm\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/gerthworm/{size}/268658_2.png\",\"created_at\":\"2025-01-14T17:27:14.640Z\",\"cooked\":\"\\u003cp\\u003eThere was one \\u003cem\\u003emounted\\u003c/em\\u003e on their robot.\\u003c/p\\u003e\\n\\u003cp\\u003eIt was a 2d lidar, OP has only referenced 1d lidar.\\u003c/p\\u003e\\n\\u003cp\\u003e\\u003ca href=\\\"https://github.com/Team254/FRC-2018-Public/blob/master/src/main/java/com/team254/frc2018/lidar/LidarProcessor.java\\\" class=\\\"inline-onebox\\\"\\u003eFRC-2018-Public/src/main/java/com/team254/frc2018/lidar/LidarProcessor.java at master · Team254/FRC-2018-Public · GitHub\\u003c/a\\u003e is a place to start looking in code, but I cannot find how it is \\u003cem\\u003eactually\\u003c/em\\u003e used for localization. The last reference in \\u003ca href=\\\"https://www.team254.com/build-blog-days-14-and-15-12918-13118/\\\"\\u003etheir build blog\\u003c/a\\u003e to it indicates they were using idler wheels for odometry, not the lidar.\\u003c/p\\u003e\\n\\u003cp\\u003eThere is no reference to it in their technical binder or in the \\u003ca href=\\\"https://www.chiefdelphi.com/t/team-254-presents-lockdown-technical-binder-2018/166515\\\"\\u003e\\u003cspan class=\\\"abbreviation\\\"\\u003eCD\\u003ctemplate class=\\\"tooltiptext\\\" data-text=\\\"Chief Delphi\\\"\\u003e\\u003c/template\\u003e\\u003c/span\\u003e thread discussing it.\\u003c/a\\u003e\\u003c/p\\u003e\\n\\u003cp\\u003eAgain, I’m happy to be proven wrong, but I don’t think this fact is useful to OP.\\u003c/p\\u003e\",\"post_number\":16,\"post_type\":1,\"posts_count\":17,\"updated_at\":\"2025-01-14T17:30:32.203Z\",\"reply_count\":0,\"reply_to_post_number\":15,\"quote_count\":0,\"incoming_link_count\":10,\"reads\":107,\"readers_count\":106,\"score\":101.4,\"yours\":false,\"topic_id\":481173,\"topic_slug\":\"combine-apriltag-and-lidar-for-robotpose\",\"display_username\":\"Chris Gerth\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"link_counts\":[{\"url\":\"https://github.com/Team254/FRC-2018-Public/blob/master/src/main/java/com/team254/frc2018/lidar/LidarProcessor.java\",\"internal\":false,\"reflection\":false,\"title\":\"FRC-2018-Public/src/main/java/com/team254/frc2018/lidar/LidarProcessor.java at master · Team254/FRC-2018-Public · GitHub\",\"clicks\":4},{\"url\":\"https://www.team254.com/build-blog-days-14-and-15-12918-13118/\",\"internal\":false,\"reflection\":false,\"title\":\"Build Blog Days 14 and 15 (1/29/18 \\u0026 1/31/18) | Team 254\",\"clicks\":2},{\"url\":\"https://www.chiefdelphi.com/t/team-254-presents-lockdown-technical-binder-2018/166515\",\"internal\":true,\"reflection\":false,\"title\":\"Team 254 Presents: Lockdown Technical Binder 2018\",\"clicks\":1}],\"read\":true,\"user_title\":\"\",\"reply_to_user\":{\"id\":60663,\"username\":\"Geoffrey8814\",\"name\":\"Geoffrey\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/geoffrey8814/{size}/262430_2.png\"},\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":2}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":24617,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"\"},\"post_url\":\"/t/combine-apriltag-and-lidar-for-robotpose/481173/16\",\"custom_user_title\":null,\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":2}],\"current_user_reaction\":null,\"reaction_users_count\":2,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3482340,\"name\":\"Tom Bottiglieri\",\"username\":\"Tom_Bottiglieri\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/tom_bottiglieri/{size}/110881_2.png\",\"created_at\":\"2025-01-14T18:40:54.797Z\",\"cooked\":\"\\u003cp\\u003eWe had mounting provisions for a 2d spinning lidar on the robot. The intention was to measure the height of the scale arms, to see if it was tipped or not. We never ended up using it, and instead went with a vision based solution with a camera in the driver station.\\u003c/p\\u003e\\n\\u003cp\\u003eAs far as finding distance measurements using only vision with april tag detections, you are likely seeing small errors explode with the solve pnp solution that is used for 3d localization in photon vision and limelight implementations. We mitigated this last year by running multiple different pose estimation models (megatag/solvepnp, pinhole using known mounting height of the tag) and using a simple heuristic to decide which (if any) of the vision model outputs to accept into our pose estimator.  The pinhole model should provide a more accurate “distance from tag” at large distances, but does not provide as rich of a signal. IIRC we found megatag2 to be pretty good at close distances, and would use that to seed our localization pose while sitting on the field before auto mode.\\u003c/p\\u003e\\n\\u003cp\\u003e\\u003ca href=\\\"https://github.com/Team254/FRC-2024-Public/blob/040f653744c9b18182be5f6bc51a7e505e346e59/src/main/java/com/team254/frc2024/subsystems/vision/VisionSubsystem.java#L74\\\" rel=\\\"noopener nofollow ugc\\\"\\u003e(Link to code\\u003c/a\\u003e, see the shouldUseMegatag and shouldUsePinhole calls for the model choosing heuristic logic)\\u003c/p\\u003e\",\"post_number\":17,\"post_type\":1,\"posts_count\":17,\"updated_at\":\"2025-01-14T18:44:57.736Z\",\"reply_count\":0,\"reply_to_post_number\":15,\"quote_count\":0,\"incoming_link_count\":3,\"reads\":96,\"readers_count\":95,\"score\":79.2,\"yours\":false,\"topic_id\":481173,\"topic_slug\":\"combine-apriltag-and-lidar-for-robotpose\",\"display_username\":\"Tom Bottiglieri\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"link_counts\":[{\"url\":\"https://github.com/Team254/FRC-2024-Public/blob/040f653744c9b18182be5f6bc51a7e505e346e59/src/main/java/com/team254/frc2024/subsystems/vision/VisionSubsystem.java#L74\",\"internal\":false,\"reflection\":false,\"title\":\"FRC-2024-Public/src/main/java/com/team254/frc2024/subsystems/vision/VisionSubsystem.java at 040f653744c9b18182be5f6bc51a7e505e346e59 · Team254/FRC-2024-Public · GitHub\",\"clicks\":10}],\"read\":true,\"user_title\":\"\",\"reply_to_user\":{\"id\":60663,\"username\":\"Geoffrey8814\",\"name\":\"Geoffrey\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/geoffrey8814/{size}/262430_2.png\"},\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":3}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":2669,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"Custom User Title\"},\"post_url\":\"/t/combine-apriltag-and-lidar-for-robotpose/481173/17\",\"custom_user_title\":\"Custom User Title\",\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":3}],\"current_user_reaction\":null,\"reaction_users_count\":3,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null}],\"stream\":[3479948,3479981,3480506,3480518,3480523,3480534,3480539,3480601,3480672,3480807,3482144,3482150,3482153,3482181,3482197,3482252,3482340]},\"timeline_lookup\":[[1,272],[11,270]],\"suggested_topics\":[{\"fancy_title\":\"CANCoder Hex bore housing?\",\"id\":482321,\"title\":\"CANCoder Hex bore housing?\",\"slug\":\"cancoder-hex-bore-housing\",\"posts_count\":8,\"reply_count\":5,\"highest_post_number\":8,\"image_url\":null,\"created_at\":\"2025-01-17T19:16:05.654Z\",\"last_posted_at\":\"2025-01-21T23:49:14.763Z\",\"bumped\":true,\"bumped_at\":\"2025-01-21T23:49:14.763Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"CTRE has expressed they wont be selling this anymore and its out of stock for vex, has anyone had any success 3d printing their own housing? If not is there anyone who knows a team that would be willi…\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[],\"tags_descriptions\":{},\"like_count\":1,\"views\":355,\"category_id\":70,\"featured_link\":null,\"has_accepted_answer\":false,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3485888,\"topic_post_liked\":false,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":false,\"topic_post_is_current_users\":null,\"topic_post_number\":1,\"topic_post_user\":{\"id\":51272,\"username\":\"Wing\",\"name\":\"\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/wing/{size}/175245_2.png\"},\"posters\":[{\"extras\":null,\"description\":\"Original Poster\",\"user\":{\"id\":51272,\"username\":\"Wing\",\"name\":\"\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/wing/{size}/175245_2.png\",\"trust_level\":2}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":19235,\"username\":\"Skyehawk\",\"name\":\"Skye Leake\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/skyehawk/{size}/179363_2.png\",\"moderator\":true,\"trust_level\":4}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":52943,\"username\":\"Jimmyy\",\"name\":\"Jimmy McCosker\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/jimmyy/{size}/199505_2.png\",\"trust_level\":2}},{\"extras\":\"latest\",\"description\":\"Most Recent Poster\",\"user\":{\"id\":51417,\"username\":\"CuteRedpandas\",\"name\":\"Jared Van Horn\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/cuteredpandas/{size}/243322_2.png\",\"trust_level\":2}}]},{\"fancy_title\":\"Rev through bore encoder not controlling Neo\",\"id\":492394,\"title\":\"Rev through bore encoder not controlling Neo\",\"slug\":\"rev-through-bore-encoder-not-controlling-neo\",\"posts_count\":13,\"reply_count\":7,\"highest_post_number\":13,\"image_url\":null,\"created_at\":\"2025-02-20T00:16:22.971Z\",\"last_posted_at\":\"2025-03-13T17:27:58.758Z\",\"bumped\":true,\"bumped_at\":\"2025-03-13T17:27:58.758Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"We’re trying to use a rev through bore encoder to control our arm position (shoulder in code) and it looks like it’s reading our button inputs, but it’s not actually moving the motor. The spark max ha…\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[],\"tags_descriptions\":{},\"like_count\":0,\"views\":186,\"category_id\":70,\"featured_link\":null,\"has_accepted_answer\":false,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3533662,\"topic_post_liked\":false,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":true,\"topic_post_is_current_users\":null,\"topic_post_number\":1,\"topic_post_user\":{\"id\":55669,\"username\":\"Raysine\",\"name\":\"\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/r/e495f1/{size}.png\"},\"posters\":[{\"extras\":null,\"description\":\"Original Poster\",\"user\":{\"id\":55669,\"username\":\"Raysine\",\"name\":\"\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/r/e495f1/{size}.png\",\"trust_level\":2}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":7968,\"username\":\"Jon_Stratis\",\"name\":\"Jon Stratis\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/jon_stratis/{size}/2663_2.png\",\"trust_level\":2}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":60512,\"username\":\"four\",\"name\":\"\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/four/{size}/199902_2.png\",\"trust_level\":2}},{\"extras\":\"latest\",\"description\":\"Most Recent Poster\",\"user\":{\"id\":44480,\"username\":\"ebrooks\",\"name\":\"\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/e/7ab992/{size}.png\",\"trust_level\":1}}]},{\"fancy_title\":\"Created a navX2 Case\",\"id\":483627,\"title\":\"Created a navX2 Case\",\"slug\":\"created-a-navx2-case\",\"posts_count\":1,\"reply_count\":0,\"highest_post_number\":1,\"image_url\":\"https://www.chiefdelphi.com/uploads/default/optimized/3X/2/6/2622955e72e3175784f0566698b38da0d7bd8d97_2_768x1024.jpeg\",\"created_at\":\"2025-01-25T21:55:49.740Z\",\"last_posted_at\":\"2025-01-25T21:55:49.822Z\",\"bumped\":true,\"bumped_at\":\"2025-01-25T21:55:49.822Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"Just wanted to share a cover I designed for our navX2. It was specifically for our v4.2, but I modeled it on Onshape using the v4.3, so it should work for both. It was designed to allow easy access…\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[\"cad\",\"design\",\"onshape\",\"3dprinting\",\"gyro\",\"sensors\"],\"tags_descriptions\":{},\"like_count\":3,\"views\":73,\"category_id\":70,\"featured_link\":null,\"has_accepted_answer\":false,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3492652,\"topic_post_liked\":false,\"topic_post_like_count\":3,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":false,\"topic_post_is_current_users\":null,\"topic_post_number\":1,\"topic_post_user\":{\"id\":71804,\"username\":\"ProdeAxolotl13\",\"name\":\"\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/p/c57346/{size}.png\"},\"posters\":[{\"extras\":\"latest single\",\"description\":\"Original Poster, Most Recent Poster\",\"user\":{\"id\":71804,\"username\":\"ProdeAxolotl13\",\"name\":\"\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/p/c57346/{size}.png\",\"trust_level\":0}}]},{\"fancy_title\":\"Arudino\",\"id\":491131,\"title\":\"Arudino\",\"slug\":\"arudino\",\"posts_count\":8,\"reply_count\":5,\"highest_post_number\":8,\"image_url\":null,\"created_at\":\"2025-02-11T02:59:51.312Z\",\"last_posted_at\":\"2025-02-13T04:41:59.971Z\",\"bumped\":true,\"bumped_at\":\"2025-02-13T04:41:59.971Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"The roborio has DIO ports that you can use to connect sensors to it, on of them is a beam breaks.\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[],\"tags_descriptions\":{},\"like_count\":2,\"views\":280,\"category_id\":70,\"featured_link\":null,\"has_accepted_answer\":true,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3523153,\"topic_post_liked\":false,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":false,\"topic_post_is_current_users\":null,\"topic_post_number\":6,\"topic_post_user\":{\"id\":59306,\"username\":\"Tom_Neu\",\"name\":\"Tom\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/tom_neu/{size}/222407_2.png\"},\"posters\":[{\"extras\":\"latest\",\"description\":\"Original Poster, Most Recent Poster\",\"user\":{\"id\":66649,\"username\":\"ShreyasHingarh\",\"name\":\"\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/s/ce73a5/{size}.png\",\"trust_level\":1}},{\"extras\":null,\"description\":\"Frequent Poster, Accepted Answer\",\"user\":{\"id\":59306,\"username\":\"Tom_Neu\",\"name\":\"Tom\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/tom_neu/{size}/222407_2.png\",\"trust_level\":2}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":3095,\"username\":\"Billfred\",\"name\":\"Billfred Leverette (he/him/not Bill)\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/billfred/{size}/225278_2.png\",\"moderator\":true,\"trust_level\":4}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":4760,\"username\":\"billbo911\",\"name\":\"billbo911\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/billbo911/{size}/110890_2.png\",\"trust_level\":2}}]},{\"fancy_title\":\"Encoder\",\"id\":495066,\"title\":\"Encoder\",\"slug\":\"encoder\",\"posts_count\":7,\"reply_count\":4,\"highest_post_number\":7,\"image_url\":null,\"created_at\":\"2025-03-10T23:18:59.023Z\",\"last_posted_at\":\"2025-03-11T20:02:33.061Z\",\"bumped\":true,\"bumped_at\":\"2025-03-11T20:02:33.061Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"Hello, my name is Matheus, I’m from team #8276, our encoder doesn’t read the rotation backwards, we wanted to know what the problem is\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[],\"tags_descriptions\":{},\"like_count\":0,\"views\":245,\"category_id\":70,\"featured_link\":null,\"has_accepted_answer\":false,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3553384,\"topic_post_liked\":false,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":false,\"topic_post_is_current_users\":null,\"topic_post_number\":1,\"topic_post_user\":{\"id\":59989,\"username\":\"Neno\",\"name\":\"Matheus Henrique de Faria Pereira \",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/n/a88e4f/{size}.png\"},\"posters\":[{\"extras\":null,\"description\":\"Original Poster\",\"user\":{\"id\":59989,\"username\":\"Neno\",\"name\":\"Matheus Henrique de Faria Pereira \",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/n/a88e4f/{size}.png\",\"trust_level\":1}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":24506,\"username\":\"s3529\",\"name\":\"Robertson Robotics\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/s3529/{size}/121055_2.png\",\"trust_level\":2}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":24594,\"username\":\"SLAB-Mr.Thomas\",\"name\":\"SLAB-Mr.Thomas\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/slab-mr.thomas/{size}/182153_2.png\",\"trust_level\":2}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":65,\"username\":\"Joe_Ross\",\"name\":\"Joe Ross\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/joe_ross/{size}/37_2.png\",\"moderator\":true,\"trust_level\":4}},{\"extras\":\"latest\",\"description\":\"Most Recent Poster\",\"user\":{\"id\":58286,\"username\":\"Feldix\",\"name\":\"Diego dos Santos Amaral \",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/f/4af34b/{size}.png\",\"trust_level\":1}}]}],\"tags\":[],\"tags_descriptions\":{},\"fancy_title\":\"Combine AprilTag and Lidar for Robotpose\",\"id\":481173,\"title\":\"Combine AprilTag and Lidar for Robotpose\",\"posts_count\":17,\"created_at\":\"2025-01-12T15:02:09.934Z\",\"views\":963,\"reply_count\":12,\"like_count\":12,\"last_posted_at\":\"2025-01-14T18:40:54.797Z\",\"visible\":true,\"closed\":false,\"archived\":false,\"has_summary\":false,\"archetype\":\"regular\",\"slug\":\"combine-apriltag-and-lidar-for-robotpose\",\"category_id\":70,\"word_count\":2202,\"deleted_at\":null,\"user_id\":32451,\"featured_link\":null,\"pinned_globally\":false,\"pinned_at\":null,\"pinned_until\":null,\"image_url\":null,\"slow_mode_seconds\":0,\"draft\":null,\"draft_key\":\"topic_481173\",\"draft_sequence\":null,\"unpinned\":null,\"pinned\":false,\"current_post_number\":1,\"highest_post_number\":17,\"deleted_by\":null,\"actions_summary\":[{\"id\":4,\"count\":0,\"hidden\":false,\"can_act\":false},{\"id\":8,\"count\":0,\"hidden\":false,\"can_act\":false},{\"id\":10,\"count\":0,\"hidden\":false,\"can_act\":false},{\"id\":7,\"count\":0,\"hidden\":false,\"can_act\":false}],\"chunk_size\":20,\"bookmarked\":false,\"topic_timer\":{\"id\":39313,\"execute_at\":\"2026-01-14T18:40:54.797Z\",\"duration_minutes\":525600,\"based_on_last_post\":true,\"status_type\":\"close\",\"category_id\":null},\"message_bus_last_id\":0,\"participant_count\":7,\"show_read_indicator\":false,\"thumbnails\":null,\"slow_mode_enabled_until\":null,\"valid_reactions\":[\"heart\",\"laughing\",\"point_up\",\"+1\",\"-1\",\"100\",\"open_mouth\",\"cry\",\"question\",\"thinking\",\"call_me_hand\",\"hugs\",\"angry\"],\"user_chosen_thumbnail_url\":null,\"sidecar_installed\":true,\"can_vote\":false,\"vote_count\":0,\"user_voted\":false,\"discourse_zendesk_plugin_zendesk_id\":null,\"discourse_zendesk_plugin_zendesk_url\":\"https://your-url.zendesk.com/agent/tickets/\",\"details\":{\"can_edit\":false,\"notification_level\":1,\"participants\":[{\"id\":32451,\"username\":\"EricRehder\",\"name\":\"EricRehder\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/e/7ab992/{size}.png\",\"post_count\":5,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":24617,\"username\":\"gerthworm\",\"name\":\"Chris Gerth\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/gerthworm/{size}/268658_2.png\",\"post_count\":4,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":42126,\"username\":\"Dylan1259\",\"name\":\"Dylan Powers\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/dylan1259/{size}/161876_2.png\",\"post_count\":3,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":60663,\"username\":\"Geoffrey8814\",\"name\":\"Geoffrey\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/geoffrey8814/{size}/262430_2.png\",\"post_count\":2,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":24678,\"username\":\"Justin_Buist\",\"name\":\"Justin Buist\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/j/c77e96/{size}.png\",\"post_count\":1,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":2669,\"username\":\"Tom_Bottiglieri\",\"name\":\"Tom Bottiglieri\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/tom_bottiglieri/{size}/110881_2.png\",\"post_count\":1,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":51179,\"username\":\"Cynosure\",\"name\":\"Asher Olgeirson\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/cynosure/{size}/184875_2.png\",\"post_count\":1,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2}],\"created_by\":{\"id\":32451,\"username\":\"EricRehder\",\"name\":\"EricRehder\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/e/7ab992/{size}.png\"},\"last_poster\":{\"id\":2669,\"username\":\"Tom_Bottiglieri\",\"name\":\"Tom Bottiglieri\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/tom_bottiglieri/{size}/110881_2.png\"},\"links\":[{\"url\":\"https://docs.limelightvision.io/docs/docs-limelight/pipeline-apriltag/apriltag-robot-localization-megatag2\",\"title\":\"Robot Localization with MegaTag2 | Limelight Documentation\",\"internal\":false,\"attachment\":false,\"reflection\":false,\"clicks\":17,\"user_id\":32451,\"domain\":\"docs.limelightvision.io\",\"root_domain\":\"limelightvision.io\"},{\"url\":\"https://docs.wpilib.org/en/stable/docs/software/vision-processing/apriltag/apriltag-intro.html#d-to-3d-ambiguity\",\"title\":\"What Are AprilTags? — FIRST Robotics Competition documentation\",\"internal\":false,\"attachment\":false,\"reflection\":false,\"clicks\":14,\"user_id\":24617,\"domain\":\"docs.wpilib.org\",\"root_domain\":\"wpilib.org\"},{\"url\":\"https://github.com/Team254/FRC-2024-Public/blob/040f653744c9b18182be5f6bc51a7e505e346e59/src/main/java/com/team254/frc2024/subsystems/vision/VisionSubsystem.java#L74\",\"title\":\"FRC-2024-Public/src/main/java/com/team254/frc2024/subsystems/vision/VisionSubsystem.java at 040f653744c9b18182be5f6bc51a7e505e346e59 · Team254/FRC-2024-Public · GitHub\",\"internal\":false,\"attachment\":false,\"reflection\":false,\"clicks\":10,\"user_id\":2669,\"domain\":\"github.com\",\"root_domain\":\"github.com\"},{\"url\":\"https://www.thethriftybot.com/products/pre-order-grapple-robotics-lasercan\",\"title\":\"Grapple Robotics LaserCAN\",\"internal\":false,\"attachment\":false,\"reflection\":false,\"clicks\":5,\"user_id\":32451,\"domain\":\"www.thethriftybot.com\",\"root_domain\":\"thethriftybot.com\"},{\"url\":\"https://github.com/Team254/FRC-2018-Public/blob/master/src/main/java/com/team254/frc2018/lidar/LidarProcessor.java\",\"title\":\"FRC-2018-Public/src/main/java/com/team254/frc2018/lidar/LidarProcessor.java at master · Team254/FRC-2018-Public · GitHub\",\"internal\":false,\"attachment\":false,\"reflection\":false,\"clicks\":4,\"user_id\":24617,\"domain\":\"github.com\",\"root_domain\":\"github.com\"},{\"url\":\"https://docs.wpilib.org/en/2021/docs/software/advanced-controls/state-space/state-space-pose_state-estimators.html\",\"title\":\"WPILib Pose Estimators — FIRST Robotics Competition documentation\",\"internal\":false,\"attachment\":false,\"reflection\":false,\"clicks\":3,\"user_id\":24617,\"domain\":\"docs.wpilib.org\",\"root_domain\":\"wpilib.org\"},{\"url\":\"https://www.team254.com/build-blog-days-14-and-15-12918-13118/\",\"title\":\"Build Blog Days 14 and 15 (1/29/18 \\u0026 1/31/18) | Team 254\",\"internal\":false,\"attachment\":false,\"reflection\":false,\"clicks\":2,\"user_id\":24617,\"domain\":\"www.team254.com\",\"root_domain\":\"team254.com\"},{\"url\":\"https://www.chiefdelphi.com/t/team-254-presents-lockdown-technical-binder-2018/166515\",\"title\":\"Team 254 Presents: Lockdown Technical Binder 2018\",\"internal\":true,\"attachment\":false,\"reflection\":false,\"clicks\":1,\"user_id\":24617,\"domain\":\"www.chiefdelphi.com\",\"root_domain\":\"chiefdelphi.com\"}]},\"bookmarks\":[]}"}
