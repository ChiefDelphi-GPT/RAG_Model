{"data":"{\"post_stream\":{\"posts\":[{\"id\":3623001,\"name\":\"9427_William \",\"username\":\"9427_William\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/9427_william/{size}/236241_2.png\",\"created_at\":\"2025-05-13T15:20:12.277Z\",\"cooked\":\"\\u003cp\\u003eJust out of curiosity, have any teams applied the WPILib LQR controller class on their robots?\\u003c/p\\u003e\",\"post_number\":1,\"post_type\":1,\"posts_count\":12,\"updated_at\":\"2025-05-13T15:20:12.277Z\",\"reply_count\":0,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":10,\"reads\":386,\"readers_count\":385,\"score\":127.2,\"yours\":false,\"topic_id\":501654,\"topic_slug\":\"have-any-teams-implemented-the-wpilib-lqr-controller-class-on-their-robots\",\"display_username\":\"9427_William \",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":null,\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":68953,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"post_url\":\"/t/have-any-teams-implemented-the-wpilib-lqr-controller-class-on-their-robots/501654/1\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true,\"can_vote\":false},{\"id\":3623019,\"name\":\"\",\"username\":\"IHateTuningPID\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/i/df705f/{size}.png\",\"created_at\":\"2025-05-13T15:37:51.726Z\",\"cooked\":\"\\u003cp\\u003eIIRC a few of the teams that ran diffy swerve used them. They are also used in the state space examples for wpilib.\\u003c/p\\u003e\",\"post_number\":2,\"post_type\":1,\"posts_count\":12,\"updated_at\":\"2025-05-13T15:38:07.362Z\",\"reply_count\":1,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":2,\"reads\":361,\"readers_count\":360,\"score\":117.2,\"yours\":false,\"topic_id\":501654,\"topic_slug\":\"have-any-teams-implemented-the-wpilib-lqr-controller-class-on-their-robots\",\"display_username\":\"\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":null,\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":2}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":56557,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"\"},\"post_url\":\"/t/have-any-teams-implemented-the-wpilib-lqr-controller-class-on-their-robots/501654/2\",\"custom_user_title\":null,\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":2}],\"current_user_reaction\":null,\"reaction_users_count\":2,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3623024,\"name\":\"Tim Winters\",\"username\":\"ArchdukeTim\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/archduketim/{size}/256125_2.png\",\"created_at\":\"2025-05-13T15:46:32.690Z\",\"cooked\":\"\\u003cp\\u003eWhat teams ran diffy swerve? It’s not legal in \\u003cspan class=\\\"abbreviation\\\"\\u003eFRC\\u003ctemplate class=\\\"tooltiptext\\\" data-text=\\\"FIRST Robotics Competition\\\"\\u003e\\u003c/template\\u003e\\u003c/span\\u003e (unless you are only powering two modules?)\\u003c/p\\u003e\",\"post_number\":3,\"post_type\":1,\"posts_count\":12,\"updated_at\":\"2025-05-13T15:46:53.156Z\",\"reply_count\":1,\"reply_to_post_number\":2,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":344,\"readers_count\":343,\"score\":88.8,\"yours\":false,\"topic_id\":501654,\"topic_slug\":\"have-any-teams-implemented-the-wpilib-lqr-controller-class-on-their-robots\",\"display_username\":\"Tim Winters\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"reply_to_user\":{\"id\":56557,\"username\":\"IHateTuningPID\",\"name\":\"\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/i/df705f/{size}.png\"},\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":1}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":19820,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"78 AIR Strike Mentor\"},\"post_url\":\"/t/have-any-teams-implemented-the-wpilib-lqr-controller-class-on-their-robots/501654/3\",\"custom_user_title\":\"78 AIR Strike Mentor\",\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":1}],\"current_user_reaction\":null,\"reaction_users_count\":1,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3623033,\"name\":\"\",\"username\":\"IHateTuningPID\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/i/df705f/{size}.png\",\"created_at\":\"2025-05-13T15:49:08.682Z\",\"cooked\":\"\\u003cp\\u003eIn years past, not this year. That would be ninjaneers and then there was another 5000 (I think) team that used an LQR controller for sure. Search \\u003cspan class=\\\"abbreviation\\\"\\u003eCD\\u003ctemplate class=\\\"tooltiptext\\\" data-text=\\\"Chief Delphi\\\"\\u003e\\u003c/template\\u003e\\u003c/span\\u003e for them and a few with public code should show up.\\u003c/p\\u003e\",\"post_number\":4,\"post_type\":1,\"posts_count\":12,\"updated_at\":\"2025-05-13T15:49:08.682Z\",\"reply_count\":0,\"reply_to_post_number\":3,\"quote_count\":0,\"incoming_link_count\":1,\"reads\":325,\"readers_count\":324,\"score\":145.0,\"yours\":false,\"topic_id\":501654,\"topic_slug\":\"have-any-teams-implemented-the-wpilib-lqr-controller-class-on-their-robots\",\"display_username\":\"\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":null,\"reply_to_user\":{\"id\":19820,\"username\":\"ArchdukeTim\",\"name\":\"Tim Winters\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/archduketim/{size}/256125_2.png\"},\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":5}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":56557,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"\"},\"post_url\":\"/t/have-any-teams-implemented-the-wpilib-lqr-controller-class-on-their-robots/501654/4\",\"custom_user_title\":null,\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":4},{\"id\":\"+1\",\"type\":\"emoji\",\"count\":1}],\"current_user_reaction\":null,\"reaction_users_count\":5,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3623063,\"name\":\"Henry LeCompte\",\"username\":\"HenryLeC\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/h/7bcc69/{size}.png\",\"created_at\":\"2025-05-13T16:31:33.204Z\",\"cooked\":\"\\u003cp\\u003eWe ran state space control with an LQR controller and Kalman filter for differential swerve on our 2023 robot, if you have any questions about it I’d be happy to help.\\u003c/p\\u003e\",\"post_number\":5,\"post_type\":1,\"posts_count\":12,\"updated_at\":\"2025-05-13T16:31:33.204Z\",\"reply_count\":1,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":1,\"reads\":297,\"readers_count\":296,\"score\":84.4,\"yours\":false,\"topic_id\":501654,\"topic_slug\":\"have-any-teams-implemented-the-wpilib-lqr-controller-class-on-their-robots\",\"display_username\":\"Henry LeCompte\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":null,\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":1}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":53417,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"2383 Electrical Director\"},\"post_url\":\"/t/have-any-teams-implemented-the-wpilib-lqr-controller-class-on-their-robots/501654/5\",\"custom_user_title\":\"2383 Electrical Director\",\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":1}],\"current_user_reaction\":null,\"reaction_users_count\":1,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3623085,\"name\":\"Tyler Veness\",\"username\":\"calcmogul\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/calcmogul/{size}/128045_2.png\",\"created_at\":\"2025-05-13T17:02:33.378Z\",\"cooked\":\"\\u003cp\\u003e3512 used LQR and Kalman filters on everything that moved from 2018 offeason to 2020. For context, I was their software mentor and I wrote the C++ state-space library for WPILib 2020. I stopped mentoring 3512 after 2021 (with some transition support for 2022). 3512 stopped using state-space and switched to Java in 2023.\\u003c/p\\u003e\\n\\u003cul\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"https://github.com/frc3512/Robot-2018.1/tree/main/src/main/include/control\\\" rel=\\\"noopener nofollow ugc\\\"\\u003e2018.1\\u003c/a\\u003e with model and controller gains generated by \\u003ca href=\\\"https://github.com/frc3512/Robot-2018.1/tree/main/python\\\" rel=\\\"noopener nofollow ugc\\\"\\u003ePython scripts\\u003c/a\\u003e\\n\\u003cul\\u003e\\n\\u003cli\\u003eDrivetrain (differential drive model)\\u003c/li\\u003e\\n\\u003cli\\u003eElevator (elevator model)\\u003c/li\\u003e\\n\\u003c/ul\\u003e\\n\\u003c/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"https://github.com/frc3512/Robot-2019/tree/main/src/main/include/controllers\\\" rel=\\\"noopener nofollow ugc\\\"\\u003e2019\\u003c/a\\u003e:\\n\\u003cul\\u003e\\n\\u003cli\\u003eClimber (elevator model)\\u003c/li\\u003e\\n\\u003cli\\u003eDrivetrain (differential drive model)\\u003c/li\\u003e\\n\\u003cli\\u003eElevator (elevator model)\\u003c/li\\u003e\\n\\u003cli\\u003eFour-bar lift (arm model)\\u003c/li\\u003e\\n\\u003c/ul\\u003e\\n\\u003c/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"https://github.com/frc3512/Robot-2020/tree/main/src/main/include/controllers\\\" rel=\\\"noopener nofollow ugc\\\"\\u003e2020\\u003c/a\\u003e:\\n\\u003cul\\u003e\\n\\u003cli\\u003eDrivetrain (differential drive model)\\u003c/li\\u003e\\n\\u003cli\\u003eTurret (arm model with no gravity)\\u003c/li\\u003e\\n\\u003cli\\u003eShooter (flywheel model)\\u003c/li\\u003e\\n\\u003c/ul\\u003e\\n\\u003c/li\\u003e\\n\\u003c/ul\\u003e\\n\\u003cp\\u003eThe main benefit of model-based control like LQR is you can leverage those same models for high-fidelity physics sim. The sim let us write and test new features without a physical robot, catch regressions via unit tests run on GitHub PRs, and separate software troubleshooting from hardware troubleshooting. This was especially important in 2020 since we got the completed robot like the day before competition.\\u003c/p\\u003e\\n\\u003cp\\u003eIn fact, our sim and testing infrastructure got so good that we often just let the robot sit motionless on the carpet all day during the dedicated “software testing time” in offseason. This really confused the head coach who firmly believed a real robot was better. The thing is, we used telemetry to debug issues, and we had plenty of that in sim already; watching the robot drive around didn’t tell us much of anything.\\u003c/p\\u003e\\n\\u003cp\\u003eWe ran our \\u003ca href=\\\"https://github.com/frc3512/Robot-2020/blob/main/src/main/cpp/autonomous/AutoLeftSideShootTen.cpp\\\" rel=\\\"noopener nofollow ugc\\\"\\u003eautonomous modes\\u003c/a\\u003e as \\u003ca href=\\\"https://github.com/frc3512/Robot-2020/blob/main/src/test/cpp/AutonomousTest.cpp\\\" rel=\\\"noopener nofollow ugc\\\"\\u003eintegration tests\\u003c/a\\u003e; the modes had Google Test assertions and hardware mocking via \\u003ccode\\u003eif constexpr\\u003c/code\\u003e blocks embedded within them. The test driver also asserted the function completed within 15 seconds (the duration of autonomous mode).\\u003c/p\\u003e\\n\\u003cp\\u003eThe students and I loved this way of working, but I wouldn’t recommend it for most teams because it requires a lot of training and discipline. The state-space API is also way easier to use in C++ for ergonomic and performance/determinism reasons, but most teams use Java. The compilation times in C++ are also really long if you don’t architect your codebase carefully and use the common system sizes WPILib already explicitly instantiated.\\u003c/p\\u003e\",\"post_number\":6,\"post_type\":1,\"posts_count\":12,\"updated_at\":\"2025-05-13T18:12:54.016Z\",\"reply_count\":1,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":7,\"reads\":276,\"readers_count\":275,\"score\":215.2,\"yours\":false,\"topic_id\":501654,\"topic_slug\":\"have-any-teams-implemented-the-wpilib-lqr-controller-class-on-their-robots\",\"display_username\":\"Tyler Veness\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":4,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"link_counts\":[{\"url\":\"https://github.com/frc3512/Robot-2019/tree/main/src/main/include/controllers\",\"internal\":false,\"reflection\":false,\"title\":\"Robot-2019/src/main/include/controllers at main · frc3512/Robot-2019 · GitHub\",\"clicks\":5},{\"url\":\"https://github.com/frc3512/Robot-2020/blob/main/src/main/cpp/autonomous/AutoLeftSideShootTen.cpp\",\"internal\":false,\"reflection\":false,\"title\":\"Robot-2020/src/main/cpp/autonomous/AutoLeftSideShootTen.cpp at main · frc3512/Robot-2020 · GitHub\",\"clicks\":4},{\"url\":\"https://github.com/frc3512/Robot-2020/tree/main/src/main/include/controllers\",\"internal\":false,\"reflection\":false,\"title\":\"Robot-2020/src/main/include/controllers at main · frc3512/Robot-2020 · GitHub\",\"clicks\":4},{\"url\":\"https://github.com/frc3512/Robot-2018.1/tree/main/python\",\"internal\":false,\"reflection\":false,\"title\":\"Robot-2018.1/python at main · frc3512/Robot-2018.1 · GitHub\",\"clicks\":3},{\"url\":\"https://github.com/frc3512/Robot-2020/blob/main/src/test/cpp/AutonomousTest.cpp\",\"internal\":false,\"reflection\":false,\"title\":\"Robot-2020/src/test/cpp/AutonomousTest.cpp at main · frc3512/Robot-2020 · GitHub\",\"clicks\":3},{\"url\":\"https://github.com/frc3512/Robot-2018.1/tree/main/src/main/include/control\",\"internal\":false,\"reflection\":false,\"title\":\"Robot-2018.1/src/main/include/control at main · frc3512/Robot-2018.1 · GitHub\",\"clicks\":2}],\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":8}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":16846,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"WPILib controls | Choreo optimizer backend\"},\"post_url\":\"/t/have-any-teams-implemented-the-wpilib-lqr-controller-class-on-their-robots/501654/6\",\"custom_user_title\":\"WPILib controls | Choreo optimizer backend\",\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":8}],\"current_user_reaction\":null,\"reaction_users_count\":8,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3623935,\"name\":\"9427_William \",\"username\":\"9427_William\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/9427_william/{size}/236241_2.png\",\"created_at\":\"2025-05-14T09:46:14.247Z\",\"cooked\":\"\\u003cp\\u003eThis season, our team experimented with implementing LQR control on our MK4i Swerve modules. We observed that while the LQR controller performed effectively with fixed setpoints (e.g., 1.0 m/s for drive and pi/2 rad for steer), its aggressive nature led to a notable issue when using joystick control. Specifically, rapid transitions between setpoints resulted in loud noises emanating from the swerve gears. We are curious if others have experienced a similar problem.\\u003c/p\\u003e\",\"post_number\":7,\"post_type\":1,\"posts_count\":12,\"updated_at\":\"2025-05-14T09:46:14.247Z\",\"reply_count\":0,\"reply_to_post_number\":5,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":162,\"readers_count\":161,\"score\":32.4,\"yours\":false,\"topic_id\":501654,\"topic_slug\":\"have-any-teams-implemented-the-wpilib-lqr-controller-class-on-their-robots\",\"display_username\":\"9427_William \",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":null,\"reply_to_user\":{\"id\":53417,\"username\":\"HenryLeC\",\"name\":\"Henry LeCompte\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/h/7bcc69/{size}.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":68953,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"post_url\":\"/t/have-any-teams-implemented-the-wpilib-lqr-controller-class-on-their-robots/501654/7\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3623946,\"name\":\"9427_William \",\"username\":\"9427_William\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/9427_william/{size}/236241_2.png\",\"created_at\":\"2025-05-14T10:50:21.533Z\",\"cooked\":\"\\u003cp\\u003eOur team used Java for our robot’s software this season. We implemented an LQR controller for both our elevator and arm mechanisms. We also developed a Python simulation, and the mechanisms perform well in simulation, with decent performance observed in real-world operation.\\u003c/p\\u003e\\n\\u003cp\\u003eHowever, we’ve encountered a persistent issue where the LQR control exhibits a slight error, approximately 1-3 cm for the elevator, regardless of how we tune the Q matrix. It’s challenging for us to determine whether this inaccuracy stems from an imprecise model or issues with our testing methodology.\\u003c/p\\u003e\\n\\u003cp\\u003eWe are very interested in understanding how teams specializing in state-space control achieve high speed and precision with their mechanisms. We would greatly appreciate it if you would be willing to share any insights or experiences you might have.\\u003c/p\\u003e\\n\\u003cp\\u003eHere is a test video of our elevator (using two Kraken motors with a 1:12 ratio): \\u003ca href=\\\"https://drive.google.com/file/d/1_c5_uJoZtPpi35qZrUHOz6d_9A0bJcn1/view?usp=sharing\\\" rel=\\\"noopener nofollow ugc\\\"\\u003ehttps://drive.google.com/file/d/1_c5_uJoZtPpi35qZrUHOz6d_9A0bJcn1/view?usp=sharing\\u003c/a\\u003e\\u003c/p\\u003e\",\"post_number\":8,\"post_type\":1,\"posts_count\":12,\"updated_at\":\"2025-05-14T10:50:21.533Z\",\"reply_count\":1,\"reply_to_post_number\":6,\"quote_count\":0,\"incoming_link_count\":1,\"reads\":155,\"readers_count\":154,\"score\":41.0,\"yours\":false,\"topic_id\":501654,\"topic_slug\":\"have-any-teams-implemented-the-wpilib-lqr-controller-class-on-their-robots\",\"display_username\":\"9427_William \",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"link_counts\":[{\"url\":\"https://drive.google.com/file/d/1_c5_uJoZtPpi35qZrUHOz6d_9A0bJcn1/view?usp=sharing\",\"internal\":false,\"reflection\":false,\"clicks\":10}],\"read\":true,\"user_title\":null,\"reply_to_user\":{\"id\":16846,\"username\":\"calcmogul\",\"name\":\"Tyler Veness\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/calcmogul/{size}/128045_2.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":68953,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"post_url\":\"/t/have-any-teams-implemented-the-wpilib-lqr-controller-class-on-their-robots/501654/8\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3624278,\"name\":\"Tyler Veness\",\"username\":\"calcmogul\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/calcmogul/{size}/128045_2.png\",\"created_at\":\"2025-05-14T15:25:39.096Z\",\"cooked\":\"\\u003cp\\u003eElevators are subject to gravity, so proportional controllers will have steady-state error. A gravity feedforward should fix it. Tracking performance is also greatly improved with a motion profile.\\u003c/p\\u003e\",\"post_number\":9,\"post_type\":1,\"posts_count\":12,\"updated_at\":\"2025-05-14T15:25:39.096Z\",\"reply_count\":1,\"reply_to_post_number\":8,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":108,\"readers_count\":107,\"score\":41.6,\"yours\":false,\"topic_id\":501654,\"topic_slug\":\"have-any-teams-implemented-the-wpilib-lqr-controller-class-on-their-robots\",\"display_username\":\"Tyler Veness\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"reply_to_user\":{\"id\":68953,\"username\":\"9427_William\",\"name\":\"9427_William \",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/9427_william/{size}/236241_2.png\"},\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":1}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":16846,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"WPILib controls | Choreo optimizer backend\"},\"post_url\":\"/t/have-any-teams-implemented-the-wpilib-lqr-controller-class-on-their-robots/501654/9\",\"custom_user_title\":\"WPILib controls | Choreo optimizer backend\",\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":1}],\"current_user_reaction\":null,\"reaction_users_count\":1,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3624295,\"name\":\"9427_William \",\"username\":\"9427_William\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/9427_william/{size}/236241_2.png\",\"created_at\":\"2025-05-14T15:39:24.616Z\",\"cooked\":\"\\u003cp\\u003eWe are currently using Trapezoidal Motion Profiles and Gravity Feedforward. We generated our weights based on Bryson’s Rule.\\u003c/p\\u003e\\n\\u003cp\\u003eOur primary challenge is the trade-off between precision and overshoot. If we tune the controller to achieve minimal error, it invariably exhibits some degree of overshoot, even if small. Conversely, when we allow for a slightly larger steady-state error, the overshoot is eliminated, but a persistent error remains.\\u003c/p\\u003e\\n\\u003cp\\u003eBased on your experience, what level of precision is typically achievable with LQR? Additionally, could you share how you typically conduct your testing?\\u003c/p\\u003e\\n\\u003cp\\u003eThank you for your time and insights.\\u003c/p\\u003e\",\"post_number\":10,\"post_type\":1,\"posts_count\":12,\"updated_at\":\"2025-05-14T15:39:24.616Z\",\"reply_count\":1,\"reply_to_post_number\":9,\"quote_count\":0,\"incoming_link_count\":1,\"reads\":106,\"readers_count\":105,\"score\":31.2,\"yours\":false,\"topic_id\":501654,\"topic_slug\":\"have-any-teams-implemented-the-wpilib-lqr-controller-class-on-their-robots\",\"display_username\":\"9427_William \",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":null,\"reply_to_user\":{\"id\":16846,\"username\":\"calcmogul\",\"name\":\"Tyler Veness\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/calcmogul/{size}/128045_2.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":68953,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"post_url\":\"/t/have-any-teams-implemented-the-wpilib-lqr-controller-class-on-their-robots/501654/10\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3624345,\"name\":\"Tyler Veness\",\"username\":\"calcmogul\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/calcmogul/{size}/128045_2.png\",\"created_at\":\"2025-05-14T16:01:41.163Z\",\"cooked\":\"\\u003caside class=\\\"quote no-group\\\" data-username=\\\"9427_William\\\" data-post=\\\"10\\\" data-topic=\\\"501654\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg loading=\\\"lazy\\\" alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/user_avatar/www.chiefdelphi.com/9427_william/48/236241_2.png\\\" class=\\\"avatar\\\"\\u003e 9427_William:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003eBased on your experience, what level of precision is typically achievable with LQR?\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003cp\\u003eWe were able to eliminate steady-state error and overshoot completely.\\u003c/p\\u003e\\n\\u003cp\\u003eEnsure your Kalman filter is accurately estimating velocity from the model and position measurements. Also, minimize measurement and control input latency, since that will limit gain aggressiveness. FYI, \\u003ca href=\\\"https://github.wpilib.org/allwpilib/docs/release/java/edu/wpi/first/math/controller/LinearQuadraticRegulator.html#latencyCompensate(edu.wpi.first.math.system.LinearSystem,double,double)\\\" rel=\\\"noopener nofollow ugc\\\"\\u003eLinearQuadraticRegulator.latencyCompensate()\\u003c/a\\u003e reduces the feedback gain to what’s optimal in the presence of latency rather than actually fixing it. \\u003cspan class=\\\"abbreviation\\\"\\u003eCTRE\\u003ctemplate class=\\\"tooltiptext\\\" data-text=\\\"Cross The Road Electronics\\\"\\u003e\\u003c/template\\u003e\\u003c/span\\u003e does fancier stuff like estimating where the system should be based on the most recent position and velocity measurements and expected latency.\\u003c/p\\u003e\\n\\u003cp\\u003e3512 used \\u003cspan class=\\\"abbreviation\\\"\\u003eCAN\\u003ctemplate class=\\\"tooltiptext\\\" data-text=\\\"Controller Area Network\\\"\\u003e\\u003c/template\\u003e\\u003c/span\\u003e motor controllers, but with quadrature encoders routed directly to the roboRIO DIO. If I recall correctly, Phoenix Pro has a timestamping feature you could potentially use to latency-compensate measurements sent over the \\u003cspan class=\\\"abbreviation\\\"\\u003eCAN\\u003ctemplate class=\\\"tooltiptext\\\" data-text=\\\"Controller Area Network\\\"\\u003e\\u003c/template\\u003e\\u003c/span\\u003e bus.\\u003c/p\\u003e\\n\\u003cp\\u003eYou can also try input error estimation (model-based integral control) from section 6.7.2 of \\u003ca href=\\\"https://file.tavsys.net/control/controls-engineering-in-frc.pdf\\\" rel=\\\"noopener nofollow ugc\\\"\\u003ehttps://file.tavsys.net/control/controls-engineering-in-frc.pdf\\u003c/a\\u003e to estimate the unmodeled disturbances and cancel them out. Section 6.9.2 has an elevator input error estimation example.\\u003c/p\\u003e\\n\\u003caside class=\\\"quote no-group\\\" data-username=\\\"9427_William\\\" data-post=\\\"10\\\" data-topic=\\\"501654\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg loading=\\\"lazy\\\" alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/user_avatar/www.chiefdelphi.com/9427_william/48/236241_2.png\\\" class=\\\"avatar\\\"\\u003e 9427_William:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003ecould you share how you typically conduct your testing?\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003cp\\u003eWe ran motion profiles with \\u003cem\\u003eeverything\\u003c/em\\u003e plotted vs time (references, state estimates, measurements, control inputs). We used a different plot for each unit, and we included plot titles and axis labels (e.g., “Velocity (m/s)”). These plots usually exposed all the issues.\\u003c/p\\u003e\\n\\u003cp\\u003eOur most difficult case was gearbox backlash in our 2019 four-bar linkage; mechanical couldn’t eliminate it, so we reduced the control input weights to make the controller less aggressive.\\u003c/p\\u003e\",\"post_number\":11,\"post_type\":1,\"posts_count\":12,\"updated_at\":\"2025-05-14T16:12:39.490Z\",\"reply_count\":1,\"reply_to_post_number\":10,\"quote_count\":1,\"incoming_link_count\":2,\"reads\":96,\"readers_count\":95,\"score\":64.2,\"yours\":false,\"topic_id\":501654,\"topic_slug\":\"have-any-teams-implemented-the-wpilib-lqr-controller-class-on-their-robots\",\"display_username\":\"Tyler Veness\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":3,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"link_counts\":[{\"url\":\"https://file.tavsys.net/control/controls-engineering-in-frc.pdf\",\"internal\":false,\"reflection\":false,\"clicks\":5},{\"url\":\"https://github.wpilib.org/allwpilib/docs/release/java/edu/wpi/first/math/controller/LinearQuadraticRegulator.html#latencyCompensate(edu.wpi.first.math.system.LinearSystem,double,double)\",\"internal\":false,\"reflection\":false,\"title\":\"LinearQuadraticRegulator (WPILib API 2025.3.2)\",\"clicks\":2}],\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":2}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":16846,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"WPILib controls | Choreo optimizer backend\"},\"post_url\":\"/t/have-any-teams-implemented-the-wpilib-lqr-controller-class-on-their-robots/501654/11\",\"custom_user_title\":\"WPILib controls | Choreo optimizer backend\",\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":2}],\"current_user_reaction\":null,\"reaction_users_count\":2,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":true,\"topic_accepted_answer\":true},{\"id\":3624353,\"name\":\"9427_William \",\"username\":\"9427_William\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/9427_william/{size}/236241_2.png\",\"created_at\":\"2025-05-14T16:13:50.510Z\",\"cooked\":\"\\u003cp\\u003eThank you for your advice. We will try that！\\u003c/p\\u003e\",\"post_number\":12,\"post_type\":1,\"posts_count\":12,\"updated_at\":\"2025-05-14T16:13:50.510Z\",\"reply_count\":0,\"reply_to_post_number\":11,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":80,\"readers_count\":79,\"score\":16.0,\"yours\":false,\"topic_id\":501654,\"topic_slug\":\"have-any-teams-implemented-the-wpilib-lqr-controller-class-on-their-robots\",\"display_username\":\"9427_William \",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":null,\"reply_to_user\":{\"id\":16846,\"username\":\"calcmogul\",\"name\":\"Tyler Veness\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/calcmogul/{size}/128045_2.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":68953,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"post_url\":\"/t/have-any-teams-implemented-the-wpilib-lqr-controller-class-on-their-robots/501654/12\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true}],\"stream\":[3623001,3623019,3623024,3623033,3623063,3623085,3623935,3623946,3624278,3624295,3624345,3624353]},\"timeline_lookup\":[[1,151],[7,150]],\"suggested_topics\":[{\"fancy_title\":\"How to figure out encoder and motor polarities for swerve drive?\",\"id\":494245,\"title\":\"How to figure out encoder and motor polarities for swerve drive?\",\"slug\":\"how-to-figure-out-encoder-and-motor-polarities-for-swerve-drive\",\"posts_count\":3,\"reply_count\":0,\"highest_post_number\":3,\"image_url\":null,\"created_at\":\"2025-03-04T22:51:09.986Z\",\"last_posted_at\":\"2025-03-05T13:49:19.603Z\",\"bumped\":true,\"bumped_at\":\"2025-03-05T13:49:19.603Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"If you are using the CTRE swerve generator, you can decide which direction is forward when you do the configuration. It sounds like you have all CTRE swerve equipment (unless you don’t have a pigeon g…\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[\"robot\",\"swerve\",\"2025\"],\"tags_descriptions\":{},\"like_count\":0,\"views\":80,\"category_id\":75,\"featured_link\":null,\"has_accepted_answer\":true,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3548153,\"topic_post_liked\":false,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":false,\"topic_post_is_current_users\":null,\"topic_post_number\":3,\"topic_post_user\":{\"id\":61741,\"username\":\"kr1699\",\"name\":\"Kevin \",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/kr1699/{size}/207533_2.png\"},\"posters\":[{\"extras\":null,\"description\":\"Original Poster\",\"user\":{\"id\":65054,\"username\":\"mahmut\",\"name\":\"mahmut\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/m/278dde/{size}.png\",\"trust_level\":1}},{\"extras\":\"latest\",\"description\":\"Most Recent Poster, Accepted Answer\",\"user\":{\"id\":61741,\"username\":\"kr1699\",\"name\":\"Kevin \",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/kr1699/{size}/207533_2.png\",\"trust_level\":2}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":9105,\"username\":\"Fletch1373\",\"name\":\"Fletch\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/fletch1373/{size}/220073_2.png\",\"trust_level\":2}}]},{\"fancy_title\":\"How to use getAbsolutePosition() ? i am new java wplib 2025\",\"id\":481195,\"title\":\"How to use getAbsolutePosition() ? i am new java wplib 2025\",\"slug\":\"how-to-use-getabsoluteposition-i-am-new-java-wplib-2025\",\"posts_count\":3,\"reply_count\":1,\"highest_post_number\":3,\"image_url\":\"https://www.chiefdelphi.com/uploads/default/original/3X/a/0/a0fe5ac5be48de944338f9d7b56666e3fdc55f42.png\",\"created_at\":\"2025-01-12T17:14:09.571Z\",\"last_posted_at\":\"2025-01-12T19:19:50.269Z\",\"bumped\":true,\"bumped_at\":\"2025-01-12T19:19:50.269Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"Just use get() instead of getAbsolutePosition()\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[],\"tags_descriptions\":{},\"like_count\":1,\"views\":112,\"category_id\":75,\"featured_link\":null,\"has_accepted_answer\":true,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3480069,\"topic_post_liked\":false,\"topic_post_like_count\":1,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":false,\"topic_post_is_current_users\":null,\"topic_post_number\":2,\"topic_post_user\":{\"id\":16147,\"username\":\"Thad_House\",\"name\":\"Thad House\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/t/a4c791/{size}.png\"},\"posters\":[{\"extras\":null,\"description\":\"Original Poster\",\"user\":{\"id\":71059,\"username\":\"Ogi\",\"name\":\"oğuzalp ozdemir\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/o/35a633/{size}.png\",\"trust_level\":1}},{\"extras\":null,\"description\":\"Frequent Poster, Accepted Answer\",\"user\":{\"id\":16147,\"username\":\"Thad_House\",\"name\":\"Thad House\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/t/a4c791/{size}.png\",\"trust_level\":2}},{\"extras\":\"latest\",\"description\":\"Most Recent Poster\",\"user\":{\"id\":69630,\"username\":\"programminggonewrong\",\"name\":null,\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/programminggonewrong/{size}/239880_2.png\",\"trust_level\":2}}]},{\"fancy_title\":\"How do you make lights turn on after a certain rev on the talon fx\",\"id\":473880,\"title\":\"How do you make lights turn on after a certain rev on the talon fx\",\"slug\":\"how-do-you-make-lights-turn-on-after-a-certain-rev-on-the-talon-fx\",\"posts_count\":5,\"reply_count\":3,\"highest_post_number\":5,\"image_url\":null,\"created_at\":\"2024-10-28T14:04:46.753Z\",\"last_posted_at\":\"2024-10-29T13:16:18.376Z\",\"bumped\":true,\"bumped_at\":\"2024-10-29T13:16:18.376Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"Break the problem down into smaller pieces. Identify the “trigger” for the change you want Perform the change For 1, the trigger you seem to want is “after motor has turned __ times”. How might yo…\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[],\"tags_descriptions\":{},\"like_count\":4,\"views\":251,\"category_id\":75,\"featured_link\":null,\"has_accepted_answer\":true,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3440759,\"topic_post_liked\":false,\"topic_post_like_count\":4,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":false,\"topic_post_is_current_users\":null,\"topic_post_number\":4,\"topic_post_user\":{\"id\":9105,\"username\":\"Fletch1373\",\"name\":\"Fletch\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/fletch1373/{size}/220073_2.png\"},\"posters\":[{\"extras\":null,\"description\":\"Original Poster\",\"user\":{\"id\":68704,\"username\":\"txrnqt\",\"name\":\"jace\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/t/a9a28c/{size}.png\",\"trust_level\":2}},{\"extras\":null,\"description\":\"Frequent Poster, Accepted Answer\",\"user\":{\"id\":9105,\"username\":\"Fletch1373\",\"name\":\"Fletch\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/fletch1373/{size}/220073_2.png\",\"trust_level\":2}},{\"extras\":\"latest\",\"description\":\"Most Recent Poster\",\"user\":{\"id\":3095,\"username\":\"Billfred\",\"name\":\"Billfred Leverette (he/him/not Bill)\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/billfred/{size}/225278_2.png\",\"moderator\":true,\"trust_level\":4}}]},{\"fancy_title\":\"Phoenix v6 : Motor Follower Strange Behavior\",\"id\":491759,\"title\":\"Phoenix v6 : Motor Follower Strange Behavior\",\"slug\":\"phoenix-v6-motor-follower-strange-behavior\",\"posts_count\":2,\"reply_count\":0,\"highest_post_number\":2,\"image_url\":null,\"created_at\":\"2025-02-15T00:12:26.035Z\",\"last_posted_at\":\"2025-02-16T02:51:30.731Z\",\"bumped\":true,\"bumped_at\":\"2025-02-16T02:51:30.731Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"Solved : There was an issue having enabled can bus optimizations on the leader. Such that the follower wouldn’t follow\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[],\"tags_descriptions\":{},\"like_count\":0,\"views\":153,\"category_id\":75,\"featured_link\":null,\"has_accepted_answer\":true,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3528470,\"topic_post_liked\":false,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":false,\"topic_post_is_current_users\":null,\"topic_post_number\":2,\"topic_post_user\":{\"id\":23786,\"username\":\"EKM_319\",\"name\":\"Eric (319)\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/ekm_319/{size}/230932_2.png\"},\"posters\":[{\"extras\":\"latest single\",\"description\":\"Original Poster, Most Recent Poster, Accepted Answer\",\"user\":{\"id\":23786,\"username\":\"EKM_319\",\"name\":\"Eric (319)\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/ekm_319/{size}/230932_2.png\",\"trust_level\":2}}]},{\"fancy_title\":\"Building YAGSL?\",\"id\":495963,\"title\":\"Building YAGSL?\",\"slug\":\"building-yagsl\",\"posts_count\":2,\"reply_count\":0,\"highest_post_number\":2,\"image_url\":null,\"created_at\":\"2025-03-17T21:53:08.298Z\",\"last_posted_at\":\"2025-03-17T22:05:31.184Z\",\"bumped\":true,\"bumped_at\":\"2025-03-17T22:05:31.184Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"What is the best practice for building and testing YAGSL itself? I found a nit in the DutyCycleEncoder that looks to be a one line patch, but I need to somehow test it, and I don’t see anywhere how on…\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[\"yagsl\"],\"tags_descriptions\":{},\"like_count\":0,\"views\":56,\"category_id\":75,\"featured_link\":null,\"has_accepted_answer\":false,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3559829,\"topic_post_liked\":false,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":false,\"topic_post_is_current_users\":null,\"topic_post_number\":1,\"topic_post_user\":{\"id\":15648,\"username\":\"fovea1959\",\"name\":\"fovea1959\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/fovea1959/{size}/5301_2.png\"},\"posters\":[{\"extras\":null,\"description\":\"Original Poster\",\"user\":{\"id\":15648,\"username\":\"fovea1959\",\"name\":\"fovea1959\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/fovea1959/{size}/5301_2.png\",\"trust_level\":2}},{\"extras\":\"latest\",\"description\":\"Most Recent Poster\",\"user\":{\"id\":51887,\"username\":\"nstrike\",\"name\":\"\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/nstrike/{size}/167038_2.png\",\"trust_level\":2}}]}],\"tags\":[\"programming\"],\"tags_descriptions\":{},\"fancy_title\":\"Have Any Teams Implemented the WPILib LQR Controller Class on Their Robots?\",\"id\":501654,\"title\":\"Have Any Teams Implemented the WPILib LQR Controller Class on Their Robots?\",\"posts_count\":12,\"created_at\":\"2025-05-13T15:20:12.198Z\",\"views\":700,\"reply_count\":8,\"like_count\":20,\"last_posted_at\":\"2025-05-14T16:13:50.510Z\",\"visible\":true,\"closed\":false,\"archived\":false,\"has_summary\":false,\"archetype\":\"regular\",\"slug\":\"have-any-teams-implemented-the-wpilib-lqr-controller-class-on-their-robots\",\"category_id\":75,\"word_count\":1242,\"deleted_at\":null,\"user_id\":68953,\"featured_link\":null,\"pinned_globally\":false,\"pinned_at\":null,\"pinned_until\":null,\"image_url\":null,\"slow_mode_seconds\":0,\"draft\":null,\"draft_key\":\"topic_501654\",\"draft_sequence\":null,\"unpinned\":null,\"pinned\":false,\"current_post_number\":1,\"highest_post_number\":12,\"deleted_by\":null,\"actions_summary\":[{\"id\":4,\"count\":0,\"hidden\":false,\"can_act\":false},{\"id\":8,\"count\":0,\"hidden\":false,\"can_act\":false},{\"id\":10,\"count\":0,\"hidden\":false,\"can_act\":false},{\"id\":7,\"count\":0,\"hidden\":false,\"can_act\":false}],\"chunk_size\":20,\"bookmarked\":false,\"topic_timer\":{\"id\":47291,\"execute_at\":\"2026-05-14T16:13:50.510Z\",\"duration_minutes\":525600,\"based_on_last_post\":true,\"status_type\":\"close\",\"category_id\":null},\"message_bus_last_id\":0,\"participant_count\":5,\"show_read_indicator\":false,\"thumbnails\":null,\"slow_mode_enabled_until\":null,\"valid_reactions\":[\"heart\",\"laughing\",\"point_up\",\"+1\",\"-1\",\"100\",\"open_mouth\",\"cry\",\"question\",\"thinking\",\"call_me_hand\",\"hugs\",\"angry\"],\"accepted_answer\":{\"post_number\":11,\"username\":\"calcmogul\",\"name\":null,\"excerpt\":\"We were able to eliminate steady-state error and overshoot completely. \\nEnsure your Kalman filter is accurately estimating velocity from the model and position measurements. Also, minimize measurement and control input latency, since that will limit gain aggressiveness. FYI, \\u003ca href=\\\"https://github.wpilib.org/allwpilib/docs/release/java/edu/wpi/first/math/controller/LinearQuadraticRegulator.html#latencyCompensate(edu.wpi.first.math.system.LinearSystem,double,double)\\\" rel=\\\"noopener nofollow ugc\\\"\\u003eLinearQuadraticRegulato\\u0026hellip;\\u003c/a\\u003e\",\"accepter_name\":null},\"user_chosen_thumbnail_url\":null,\"sidecar_installed\":true,\"can_vote\":false,\"vote_count\":0,\"user_voted\":false,\"discourse_zendesk_plugin_zendesk_id\":null,\"discourse_zendesk_plugin_zendesk_url\":\"https://your-url.zendesk.com/agent/tickets/\",\"details\":{\"can_edit\":false,\"notification_level\":1,\"participants\":[{\"id\":68953,\"username\":\"9427_William\",\"name\":\"9427_William \",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/9427_william/{size}/236241_2.png\",\"post_count\":5,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":16846,\"username\":\"calcmogul\",\"name\":\"Tyler Veness\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/calcmogul/{size}/128045_2.png\",\"post_count\":3,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":56557,\"username\":\"IHateTuningPID\",\"name\":\"\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/i/df705f/{size}.png\",\"post_count\":2,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":19820,\"username\":\"ArchdukeTim\",\"name\":\"Tim Winters\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/archduketim/{size}/256125_2.png\",\"post_count\":1,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":53417,\"username\":\"HenryLeC\",\"name\":\"Henry LeCompte\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/h/7bcc69/{size}.png\",\"post_count\":1,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2}],\"created_by\":{\"id\":68953,\"username\":\"9427_William\",\"name\":\"9427_William \",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/9427_william/{size}/236241_2.png\"},\"last_poster\":{\"id\":68953,\"username\":\"9427_William\",\"name\":\"9427_William \",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/9427_william/{size}/236241_2.png\"},\"links\":[{\"url\":\"https://drive.google.com/file/d/1_c5_uJoZtPpi35qZrUHOz6d_9A0bJcn1/view?usp=sharing\",\"title\":null,\"internal\":false,\"attachment\":false,\"reflection\":false,\"clicks\":10,\"user_id\":68953,\"domain\":\"drive.google.com\",\"root_domain\":\"google.com\"},{\"url\":\"https://file.tavsys.net/control/controls-engineering-in-frc.pdf\",\"title\":null,\"internal\":false,\"attachment\":false,\"reflection\":false,\"clicks\":5,\"user_id\":16846,\"domain\":\"file.tavsys.net\",\"root_domain\":\"tavsys.net\"},{\"url\":\"https://github.com/frc3512/Robot-2019/tree/main/src/main/include/controllers\",\"title\":\"Robot-2019/src/main/include/controllers at main · frc3512/Robot-2019 · GitHub\",\"internal\":false,\"attachment\":false,\"reflection\":false,\"clicks\":5,\"user_id\":16846,\"domain\":\"github.com\",\"root_domain\":\"github.com\"},{\"url\":\"https://github.com/frc3512/Robot-2020/blob/main/src/main/cpp/autonomous/AutoLeftSideShootTen.cpp\",\"title\":\"Robot-2020/src/main/cpp/autonomous/AutoLeftSideShootTen.cpp at main · frc3512/Robot-2020 · GitHub\",\"internal\":false,\"attachment\":false,\"reflection\":false,\"clicks\":4,\"user_id\":16846,\"domain\":\"github.com\",\"root_domain\":\"github.com\"},{\"url\":\"https://github.com/frc3512/Robot-2020/tree/main/src/main/include/controllers\",\"title\":\"Robot-2020/src/main/include/controllers at main · frc3512/Robot-2020 · GitHub\",\"internal\":false,\"attachment\":false,\"reflection\":false,\"clicks\":4,\"user_id\":16846,\"domain\":\"github.com\",\"root_domain\":\"github.com\"},{\"url\":\"https://github.com/frc3512/Robot-2018.1/tree/main/python\",\"title\":\"Robot-2018.1/python at main · frc3512/Robot-2018.1 · GitHub\",\"internal\":false,\"attachment\":false,\"reflection\":false,\"clicks\":3,\"user_id\":16846,\"domain\":\"github.com\",\"root_domain\":\"github.com\"},{\"url\":\"https://github.com/frc3512/Robot-2020/blob/main/src/test/cpp/AutonomousTest.cpp\",\"title\":\"Robot-2020/src/test/cpp/AutonomousTest.cpp at main · frc3512/Robot-2020 · GitHub\",\"internal\":false,\"attachment\":false,\"reflection\":false,\"clicks\":3,\"user_id\":16846,\"domain\":\"github.com\",\"root_domain\":\"github.com\"},{\"url\":\"https://github.com/frc3512/Robot-2018.1/tree/main/src/main/include/control\",\"title\":\"Robot-2018.1/src/main/include/control at main · frc3512/Robot-2018.1 · GitHub\",\"internal\":false,\"attachment\":false,\"reflection\":false,\"clicks\":2,\"user_id\":16846,\"domain\":\"github.com\",\"root_domain\":\"github.com\"},{\"url\":\"https://github.wpilib.org/allwpilib/docs/release/java/edu/wpi/first/math/controller/LinearQuadraticRegulator.html#latencyCompensate(edu.wpi.first.math.system.LinearSystem,double,double)\",\"title\":\"LinearQuadraticRegulator (WPILib API 2025.3.2)\",\"internal\":false,\"attachment\":false,\"reflection\":false,\"clicks\":2,\"user_id\":16846,\"domain\":\"github.wpilib.org\",\"root_domain\":\"wpilib.org\"}]},\"bookmarks\":[]}"}
