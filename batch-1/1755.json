{"data":"{\"post_stream\":{\"posts\":[{\"id\":3547764,\"name\":\"\",\"username\":\"magwoodrf\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/m/b19c9b/{size}.png\",\"created_at\":\"2025-03-05T00:28:07.788Z\",\"cooked\":\"\\u003cp\\u003eBelow is the code to my AutoDrive command. I wanted to get feedback on it before I’m able to deploy it to our robot. I’m not very familiar with HolonomicDriveController and figured I needed to use the Trajectory class to limit the acceleration of the robot. Thank you!\\u003c/p\\u003e\\n\\u003cpre\\u003e\\u003ccode class=\\\"lang-auto\\\"\\u003epublic class AutoDrive extends Command {\\n\\n  private final DriveTrain driveTrain;\\n  private final PoseEstimator poseEstimator;\\n\\n  private final HolonomicDriveController holonomicDriveController = new HolonomicDriveController(\\n    new PIDController(2, 0, 0), new PIDController(2, 0, 0), \\n    new ProfiledPIDController(3, 0, 0,\\n     new TrapezoidProfile.Constraints(Units.degreesToRadians(180), Units.degreesToRadians(180)))\\n  );\\n\\n  private Pose2d closestScoringPose;\\n\\n  private Trajectory desiredTrajectory;\\n  private TrajectoryConfig trajectoryConfig;\\n  private Timer driveTimer = new Timer();\\n\\n  public AutoDrive(DriveTrain driveTrain, PoseEstimator poseEstimator) {\\n    this.driveTrain = driveTrain;\\n    this.poseEstimator = poseEstimator;\\n\\n    holonomicDriveController.setTolerance(new Pose2d(Units.inchesToMeters(2), Units.inchesToMeters(2), Rotation2d.fromDegrees(2)));\\n\\n    addRequirements(driveTrain);\\n  }\\n\\n  // Called when the command is initially scheduled.\\n  @Override\\n  public void initialize() {\\n    driveTimer.stop();\\n    driveTimer.reset();\\n\\n    Pose2d robotPose = poseEstimator.getPoseEstimate();\\n\\n    double bestCost = Double.MAX_VALUE;\\n    for(Pose2d scoringPose : Constants.scoringPoses) {\\n      double distanceError = robotPose.getTranslation().getDistance(scoringPose.getTranslation());\\n      double angleError = Math.abs(robotPose.getRotation().minus(scoringPose.getRotation()).getRadians());\\n\\n      double cost = (distanceError * 0.5 + angleError * 5);\\n      if (cost \\u0026lt; bestCost) {\\n        bestCost = cost;\\n        closestScoringPose = scoringPose; \\n      }\\n    }\\n\\n    trajectoryConfig = new TrajectoryConfig(2, 2);\\n    trajectoryConfig.setStartVelocity(driveTrain.getRobotVeloMagnitude());  \\n    trajectoryConfig.setKinematics(driveTrain.getKinematics());\\n\\n    desiredTrajectory = TrajectoryGenerator.generateTrajectory(\\n      robotPose, \\n      null, \\n      closestScoringPose, \\n      trajectoryConfig);\\n  }\\n\\n  // Called every time the scheduler runs while the command is scheduled.\\n  @Override\\n  public void execute() {\\n    driveTimer.start();\\n    ChassisSpeeds speeds = holonomicDriveController.calculate(\\n      poseEstimator.getPoseEstimate(), \\n      desiredTrajectory.sample(driveTimer.get()),\\n      closestScoringPose.getRotation()\\n    );\\n\\n    driveTrain.setDesiredSpeedsFromHolonomicController(speeds);\\n  }\\n\\n  // Called once the command ends or is interrupted.\\n  @Override\\n  public void end(boolean interrupted) {\\n    driveTimer.stop();\\n    driveTimer.reset();\\n  }\\n\\n  // Returns true when the command should end.\\n  @Override\\n  public boolean isFinished() {\\n    return holonomicDriveController.atReference();\\n  }\\n}\\n\\u003c/code\\u003e\\u003c/pre\\u003e\",\"post_number\":1,\"post_type\":1,\"posts_count\":1,\"updated_at\":\"2025-03-05T11:18:45.079Z\",\"reply_count\":0,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":6,\"reads\":53,\"readers_count\":52,\"score\":40.6,\"yours\":false,\"topic_id\":494276,\"topic_slug\":\"is-there-any-feedback-on-my-autodrive-command\",\"display_username\":\"\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":3,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":null,\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":68902,\"hidden\":false,\"trust_level\":1,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"post_url\":\"/t/is-there-any-feedback-on-my-autodrive-command/494276/1\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null,\"can_vote\":false}],\"stream\":[3547764]},\"timeline_lookup\":[[1,221]],\"suggested_topics\":[{\"fancy_title\":\"Ctre Pose Logging Issue\",\"id\":495932,\"title\":\"Ctre Pose Logging Issue\",\"slug\":\"ctre-pose-logging-issue\",\"posts_count\":3,\"reply_count\":1,\"highest_post_number\":3,\"image_url\":null,\"created_at\":\"2025-03-17T19:17:57.933Z\",\"last_posted_at\":\"2025-03-18T18:30:46.799Z\",\"bumped\":true,\"bumped_at\":\"2025-03-18T18:30:46.799Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"Did you set the “Rotation Units” in AdvantageScope to degrees instead of radians? You can change the units by right-clicking on the field under “Poses” and selecting “Rotation Units”. AdvantageScope u…\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[],\"tags_descriptions\":{},\"like_count\":1,\"views\":97,\"category_id\":75,\"featured_link\":null,\"has_accepted_answer\":true,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3559617,\"topic_post_liked\":false,\"topic_post_like_count\":1,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":false,\"topic_post_is_current_users\":null,\"topic_post_number\":2,\"topic_post_user\":{\"id\":44471,\"username\":\"jonahb55\",\"name\":\"Jonah Bonner\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/jonahb55/{size}/194474_2.png\"},\"posters\":[{\"extras\":\"latest\",\"description\":\"Original Poster, Most Recent Poster\",\"user\":{\"id\":69053,\"username\":\"HitendraBedacie\",\"name\":\"Hitendra Bedacie\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/h/d07c76/{size}.png\",\"trust_level\":1}},{\"extras\":null,\"description\":\"Frequent Poster, Accepted Answer\",\"user\":{\"id\":44471,\"username\":\"jonahb55\",\"name\":\"Jonah Bonner\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/jonahb55/{size}/194474_2.png\",\"trust_level\":2}}]},{\"fancy_title\":\"Trouble with YAGSL 2025 Beta\",\"id\":476325,\"title\":\"Trouble with YAGSL 2025 Beta\",\"slug\":\"trouble-with-yagsl-2025-beta\",\"posts_count\":88,\"reply_count\":70,\"highest_post_number\":88,\"image_url\":null,\"created_at\":\"2024-12-09T13:23:03.852Z\",\"last_posted_at\":\"2024-12-26T17:02:44.359Z\",\"bumped\":true,\"bumped_at\":\"2024-12-26T17:02:44.359Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"When we used the 2024 version of YAGSL, everything was working perfectly. Our team was interested in trying the 2025 beta and other beta firmware and software to have an easier transition after kickof…\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[],\"tags_descriptions\":{},\"like_count\":27,\"views\":1433,\"category_id\":75,\"featured_link\":null,\"has_accepted_answer\":false,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3456738,\"topic_post_liked\":false,\"topic_post_like_count\":1,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":false,\"topic_post_is_current_users\":null,\"topic_post_number\":1,\"topic_post_user\":{\"id\":51278,\"username\":\"JamerGamer789\",\"name\":\"James\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/j/e19b73/{size}.png\"},\"posters\":[{\"extras\":null,\"description\":\"Original Poster\",\"user\":{\"id\":51278,\"username\":\"JamerGamer789\",\"name\":\"James\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/j/e19b73/{size}.png\",\"trust_level\":2}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":51887,\"username\":\"nstrike\",\"name\":\"\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/nstrike/{size}/167038_2.png\",\"trust_level\":2}},{\"extras\":\"latest\",\"description\":\"Most Recent Poster\",\"user\":{\"id\":55817,\"username\":\"MTappen\",\"name\":\"Marshall Tappen\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/m/aca169/{size}.png\",\"trust_level\":2}}]},{\"fancy_title\":\"Loop Overrun with Swerve Pose Estimator: poseEstimator.updateWithTime()\",\"id\":482595,\"title\":\"Loop Overrun with Swerve Pose Estimator: poseEstimator.updateWithTime()\",\"slug\":\"loop-overrun-with-swerve-pose-estimator-poseestimator-updatewithtime\",\"posts_count\":1,\"reply_count\":0,\"highest_post_number\":1,\"image_url\":null,\"created_at\":\"2025-01-19T00:55:16.294Z\",\"last_posted_at\":\"2025-01-19T00:55:16.361Z\",\"bumped\":true,\"bumped_at\":\"2025-01-19T00:55:16.361Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"We’re having a pretty bad issue with our localization code, specifically with the line segment in our Localizer.java subsystem’s periodic method. Essentially as poseEstimator.updateWithTime(…) is bein…\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[\"robot\",\"swerve\"],\"tags_descriptions\":{},\"like_count\":0,\"views\":124,\"category_id\":75,\"featured_link\":null,\"has_accepted_answer\":false,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3487132,\"topic_post_liked\":false,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":true,\"topic_post_is_current_users\":null,\"topic_post_number\":1,\"topic_post_user\":{\"id\":51740,\"username\":\"LiljaKiiski\",\"name\":\"Lilja Kiiski\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/l/ecae2f/{size}.png\"},\"posters\":[{\"extras\":\"latest single\",\"description\":\"Original Poster, Most Recent Poster\",\"user\":{\"id\":51740,\"username\":\"LiljaKiiski\",\"name\":\"Lilja Kiiski\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/l/ecae2f/{size}.png\",\"trust_level\":1}}]},{\"fancy_title\":\"Seeking Assistance with Coding for SWYFT Ascend Telescoping Elevator and Kraken X60 Integration\",\"id\":495753,\"title\":\"Seeking Assistance with Coding for SWYFT Ascend Telescoping Elevator and Kraken X60 Integration\",\"slug\":\"seeking-assistance-with-coding-for-swyft-ascend-telescoping-elevator-and-kraken-x60-integration\",\"posts_count\":4,\"reply_count\":1,\"highest_post_number\":4,\"image_url\":null,\"created_at\":\"2025-03-16T04:37:06.341Z\",\"last_posted_at\":\"2025-03-16T15:37:57.876Z\",\"bumped\":true,\"bumped_at\":\"2025-03-16T15:37:57.876Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"Hello FRC Community, Our team is integrating the SWYFT Ascend Telescoping Elevator into our robot design, powered by a Kraken X60 motor. While we’ve assembled the mechanical components without altera…\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[],\"tags_descriptions\":{},\"like_count\":1,\"views\":143,\"category_id\":75,\"featured_link\":null,\"has_accepted_answer\":false,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3558139,\"topic_post_liked\":false,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":false,\"topic_post_is_current_users\":null,\"topic_post_number\":1,\"topic_post_user\":{\"id\":63403,\"username\":\"Joshua1024\",\"name\":\"Joshua\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/joshua1024/{size}/255250_2.png\"},\"posters\":[{\"extras\":\"latest\",\"description\":\"Original Poster, Most Recent Poster\",\"user\":{\"id\":63403,\"username\":\"Joshua1024\",\"name\":\"Joshua\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/joshua1024/{size}/255250_2.png\",\"trust_level\":1}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":61536,\"username\":\"kuzeyatay\",\"name\":\"kuzey\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/k/59ef9b/{size}.png\",\"trust_level\":2}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":64968,\"username\":\"DukeEmree\",\"name\":\"Emre \",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/dukeemree/{size}/251833_2.png\",\"trust_level\":2}}]},{\"fancy_title\":\"Pathplanner Overshooting in Auton on Real Field Only\",\"id\":498418,\"title\":\"Pathplanner Overshooting in Auton on Real Field Only\",\"slug\":\"pathplanner-overshooting-in-auton-on-real-field-only\",\"posts_count\":1,\"reply_count\":0,\"highest_post_number\":1,\"image_url\":null,\"created_at\":\"2025-04-08T13:51:16.748Z\",\"last_posted_at\":\"2025-04-08T13:51:16.825Z\",\"bumped\":true,\"bumped_at\":\"2025-04-08T13:51:16.825Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"Earlier this season, we had a major loop overrun problem at the start of auton (when connected to FMS only). With folks’ help here on CD we were able to put some things in place that seemed to take c…\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[],\"tags_descriptions\":{},\"like_count\":0,\"views\":103,\"category_id\":75,\"featured_link\":null,\"has_accepted_answer\":false,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3583661,\"topic_post_liked\":false,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":false,\"topic_post_is_current_users\":null,\"topic_post_number\":1,\"topic_post_user\":{\"id\":56643,\"username\":\"aveeser\",\"name\":\"4391 Programming Mentor\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/a/3da27b/{size}.png\"},\"posters\":[{\"extras\":\"latest single\",\"description\":\"Original Poster, Most Recent Poster\",\"user\":{\"id\":56643,\"username\":\"aveeser\",\"name\":\"4391 Programming Mentor\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/a/3da27b/{size}.png\",\"trust_level\":2}}]}],\"tags\":[],\"tags_descriptions\":{},\"fancy_title\":\"Is there any feedback on my AutoDrive command?\",\"id\":494276,\"title\":\"Is there any feedback on my AutoDrive command?\",\"posts_count\":1,\"created_at\":\"2025-03-05T00:28:07.736Z\",\"views\":86,\"reply_count\":0,\"like_count\":0,\"last_posted_at\":\"2025-03-05T00:28:07.788Z\",\"visible\":true,\"closed\":false,\"archived\":false,\"has_summary\":false,\"archetype\":\"regular\",\"slug\":\"is-there-any-feedback-on-my-autodrive-command\",\"category_id\":75,\"word_count\":277,\"deleted_at\":null,\"user_id\":68902,\"featured_link\":null,\"pinned_globally\":false,\"pinned_at\":null,\"pinned_until\":null,\"image_url\":null,\"slow_mode_seconds\":0,\"draft\":null,\"draft_key\":\"topic_494276\",\"draft_sequence\":null,\"unpinned\":null,\"pinned\":false,\"current_post_number\":1,\"highest_post_number\":1,\"deleted_by\":null,\"actions_summary\":[{\"id\":4,\"count\":0,\"hidden\":false,\"can_act\":false},{\"id\":8,\"count\":0,\"hidden\":false,\"can_act\":false},{\"id\":10,\"count\":0,\"hidden\":false,\"can_act\":false},{\"id\":7,\"count\":0,\"hidden\":false,\"can_act\":false}],\"chunk_size\":20,\"bookmarked\":false,\"topic_timer\":{\"id\":45020,\"execute_at\":\"2026-03-05T00:28:07.788Z\",\"duration_minutes\":525600,\"based_on_last_post\":true,\"status_type\":\"close\",\"category_id\":null},\"message_bus_last_id\":0,\"participant_count\":1,\"show_read_indicator\":false,\"thumbnails\":null,\"slow_mode_enabled_until\":null,\"valid_reactions\":[\"heart\",\"laughing\",\"point_up\",\"+1\",\"-1\",\"100\",\"open_mouth\",\"cry\",\"question\",\"thinking\",\"call_me_hand\",\"hugs\",\"angry\"],\"user_chosen_thumbnail_url\":null,\"sidecar_installed\":true,\"can_vote\":false,\"vote_count\":0,\"user_voted\":false,\"discourse_zendesk_plugin_zendesk_id\":null,\"discourse_zendesk_plugin_zendesk_url\":\"https://your-url.zendesk.com/agent/tickets/\",\"details\":{\"can_edit\":false,\"notification_level\":1,\"participants\":[{\"id\":68902,\"username\":\"magwoodrf\",\"name\":\"\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/m/b19c9b/{size}.png\",\"post_count\":1,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":1}],\"created_by\":{\"id\":68902,\"username\":\"magwoodrf\",\"name\":\"\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/m/b19c9b/{size}.png\"},\"last_poster\":{\"id\":68902,\"username\":\"magwoodrf\",\"name\":\"\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/m/b19c9b/{size}.png\"}},\"bookmarks\":[]}"}
