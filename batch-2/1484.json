{"data":"{\"post_stream\":{\"posts\":[{\"id\":3453426,\"name\":\"Caden R Dalley\",\"username\":\"Pickle_Face5\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/pickle_face5/{size}/210767_2.png\",\"created_at\":\"2024-12-01T04:40:31.966Z\",\"cooked\":\"\\u003cp\\u003eThe \\u003cspan class=\\\"abbreviation\\\"\\u003eCTRE\\u003ctemplate class=\\\"tooltiptext\\\" data-text=\\\"Cross The Road Electronics\\\"\\u003e\\u003c/template\\u003e\\u003c/span\\u003e Phoenix 6 Swerve contains a FieldCentricFacingAngle request, which allows you to add a target rate feedforward for the rotation of the drivetrain. The generated code also contains a SysId routine to determine feedforward values as well as P and D values.\\u003c/p\\u003e\\n\\u003cp\\u003eSo, that’s great and all, but uh… how do I actually implement these feedforward values? I understand the WPILib SimpleFeedForward classes, but how do I get the Setpoint/Next Velocity in order to calculate it?\\u003c/p\\u003e\\n\\u003cp\\u003eI’m a little lost on how to approach this. Any help is appreciated!\\u003c/p\\u003e\",\"post_number\":1,\"post_type\":1,\"posts_count\":14,\"updated_at\":\"2024-12-01T04:40:31.966Z\",\"reply_count\":0,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":214,\"reads\":242,\"readers_count\":241,\"score\":1163.4,\"yours\":false,\"topic_id\":475822,\"topic_slug\":\"implementing-feedforward-with-ctre-s-fieldcentricfacingangle-request\",\"display_username\":\"Caden R Dalley\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":3}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":63244,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"6343 Alum\"},\"post_url\":\"/t/implementing-feedforward-with-ctre-s-fieldcentricfacingangle-request/475822/1\",\"custom_user_title\":\"6343 Alum\",\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":3}],\"current_user_reaction\":null,\"reaction_users_count\":3,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true,\"can_vote\":false},{\"id\":3453452,\"name\":\"Eilon nave huppert\",\"username\":\"The_big_Melon\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/the_big_melon/{size}/236259_2.png\",\"created_at\":\"2024-12-01T07:31:08.280Z\",\"cooked\":\"\\u003cp\\u003eare you using the \\u003ca href=\\\"https://v6.docs.ctr-electronics.com/en/stable/docs/tuner/tuner-swerve/index.html\\\" rel=\\\"noopener nofollow ugc\\\"\\u003eSwerve Project Generator\\u003c/a\\u003e?\\u003c/p\\u003e\",\"post_number\":2,\"post_type\":1,\"posts_count\":14,\"updated_at\":\"2024-12-01T07:31:08.280Z\",\"reply_count\":1,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":1,\"reads\":219,\"readers_count\":218,\"score\":53.8,\"yours\":false,\"topic_id\":475822,\"topic_slug\":\"implementing-feedforward-with-ctre-s-fieldcentricfacingangle-request\",\"display_username\":\"Eilon nave huppert\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"link_counts\":[{\"url\":\"https://v6.docs.ctr-electronics.com/en/stable/docs/tuner/tuner-swerve/index.html\",\"internal\":false,\"reflection\":false,\"title\":\"Swerve Project Generator\",\"clicks\":10}],\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":63061,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"Head of softwere team and drive team coach \"},\"post_url\":\"/t/implementing-feedforward-with-ctre-s-fieldcentricfacingangle-request/475822/2\",\"custom_user_title\":\"Head of softwere team and drive team coach \",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3453453,\"name\":\"Caden R Dalley\",\"username\":\"Pickle_Face5\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/pickle_face5/{size}/210767_2.png\",\"created_at\":\"2024-12-01T07:36:12.415Z\",\"cooked\":\"\\u003cp\\u003eYes, my team used the Swerve Project Generator to generate our code in Python.\\u003c/p\\u003e\",\"post_number\":3,\"post_type\":1,\"posts_count\":14,\"updated_at\":\"2024-12-01T07:36:26.652Z\",\"reply_count\":1,\"reply_to_post_number\":2,\"quote_count\":0,\"incoming_link_count\":1,\"reads\":199,\"readers_count\":198,\"score\":49.8,\"yours\":false,\"topic_id\":475822,\"topic_slug\":\"implementing-feedforward-with-ctre-s-fieldcentricfacingangle-request\",\"display_username\":\"Caden R Dalley\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"reply_to_user\":{\"id\":63061,\"username\":\"The_big_Melon\",\"name\":\"Eilon nave huppert\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/the_big_melon/{size}/236259_2.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":63244,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"6343 Alum\"},\"post_url\":\"/t/implementing-feedforward-with-ctre-s-fieldcentricfacingangle-request/475822/3\",\"custom_user_title\":\"6343 Alum\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3453454,\"name\":\"Eilon nave huppert\",\"username\":\"The_big_Melon\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/the_big_melon/{size}/236259_2.png\",\"created_at\":\"2024-12-01T07:43:55.931Z\",\"cooked\":\"\\u003cp\\u003ei’m not sure if i understand, but if i do. the setTarget you can add \\u003ccode\\u003ewithVelocity()\\u003c/code\\u003e\\u003cbr\\u003e\\nand with the values of FF you can find in TunerConstants.\\u003c/p\\u003e\",\"post_number\":4,\"post_type\":1,\"posts_count\":14,\"updated_at\":\"2024-12-01T07:43:55.931Z\",\"reply_count\":1,\"reply_to_post_number\":3,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":191,\"readers_count\":190,\"score\":43.2,\"yours\":false,\"topic_id\":475822,\"topic_slug\":\"implementing-feedforward-with-ctre-s-fieldcentricfacingangle-request\",\"display_username\":\"Eilon nave huppert\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"reply_to_user\":{\"id\":63244,\"username\":\"Pickle_Face5\",\"name\":\"Caden R Dalley\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/pickle_face5/{size}/210767_2.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":63061,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"Head of softwere team and drive team coach \"},\"post_url\":\"/t/implementing-feedforward-with-ctre-s-fieldcentricfacingangle-request/475822/4\",\"custom_user_title\":\"Head of softwere team and drive team coach \",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3453455,\"name\":\"Caden R Dalley\",\"username\":\"Pickle_Face5\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/pickle_face5/{size}/210767_2.png\",\"created_at\":\"2024-12-01T07:54:51.922Z\",\"cooked\":\"\\u003cp\\u003eI’m a little confused. Where is this “setTarget” method you are referring to? I’m looking at the Phoenix 6 documentation and can’t find any reference to that.\\u003c/p\\u003e\",\"post_number\":5,\"post_type\":1,\"posts_count\":14,\"updated_at\":\"2024-12-01T07:54:51.922Z\",\"reply_count\":1,\"reply_to_post_number\":4,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":185,\"readers_count\":184,\"score\":57.0,\"yours\":false,\"topic_id\":475822,\"topic_slug\":\"implementing-feedforward-with-ctre-s-fieldcentricfacingangle-request\",\"display_username\":\"Caden R Dalley\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"reply_to_user\":{\"id\":63061,\"username\":\"The_big_Melon\",\"name\":\"Eilon nave huppert\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/the_big_melon/{size}/236259_2.png\"},\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":1}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":63244,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"6343 Alum\"},\"post_url\":\"/t/implementing-feedforward-with-ctre-s-fieldcentricfacingangle-request/475822/5\",\"custom_user_title\":\"6343 Alum\",\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":1}],\"current_user_reaction\":null,\"reaction_users_count\":1,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3453456,\"name\":\"Eilon nave huppert\",\"username\":\"The_big_Melon\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/the_big_melon/{size}/236259_2.png\",\"created_at\":\"2024-12-01T08:00:50.321Z\",\"cooked\":\"\\u003cpre\\u003e\\u003ccode class=\\\"lang-auto\\\"\\u003e        // Note that X is defined as forward according to WPILib convention,\\n        // and Y is defined as to the left according to WPILib convention.\\n        drivetrain.setDefaultCommand(\\n            // Drivetrain will execute this comm\\n[details=\\\"Summary\\\"]\\nThis text will be hidden\\n[/details]\\nand periodically\\n            drivetrain.applyRequest(() -\\u0026gt;\\n                drive.withVelocityX(-driverController.getLeftY() * MaxSpeed) // Drive forward with negative Y (forward)\\n                    .withVelocityY(-driverController.getLeftX() * MaxSpeed) // Drive left with negative X (left)\\n                    .withRotationalRate(-driverController.getRightX() * MaxAngularRate) // Drive counterclockwise with negative X (left)\\n            )\\n        );\\n\\u003c/code\\u003e\\u003c/pre\\u003e\",\"post_number\":6,\"post_type\":1,\"posts_count\":14,\"updated_at\":\"2024-12-01T08:00:50.321Z\",\"reply_count\":1,\"reply_to_post_number\":5,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":178,\"readers_count\":177,\"score\":40.6,\"yours\":false,\"topic_id\":475822,\"topic_slug\":\"implementing-feedforward-with-ctre-s-fieldcentricfacingangle-request\",\"display_username\":\"Eilon nave huppert\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"reply_to_user\":{\"id\":63244,\"username\":\"Pickle_Face5\",\"name\":\"Caden R Dalley\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/pickle_face5/{size}/210767_2.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":63061,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"Head of softwere team and drive team coach \"},\"post_url\":\"/t/implementing-feedforward-with-ctre-s-fieldcentricfacingangle-request/475822/6\",\"custom_user_title\":\"Head of softwere team and drive team coach \",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3453457,\"name\":\"Eilon nave huppert\",\"username\":\"The_big_Melon\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/the_big_melon/{size}/236259_2.png\",\"created_at\":\"2024-12-01T08:02:43.907Z\",\"cooked\":\"\\u003cp\\u003ethis is with normal \\u003ccode\\u003eFieldCentric\\u003c/code\\u003e but it works about the same with \\u003ccode\\u003eFieldCentricFacingAngel\\u003c/code\\u003e\\u003c/p\\u003e\",\"post_number\":7,\"post_type\":1,\"posts_count\":14,\"updated_at\":\"2024-12-01T08:02:43.907Z\",\"reply_count\":0,\"reply_to_post_number\":6,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":153,\"readers_count\":152,\"score\":30.6,\"yours\":false,\"topic_id\":475822,\"topic_slug\":\"implementing-feedforward-with-ctre-s-fieldcentricfacingangle-request\",\"display_username\":\"Eilon nave huppert\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"reply_to_user\":{\"id\":63061,\"username\":\"The_big_Melon\",\"name\":\"Eilon nave huppert\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/the_big_melon/{size}/236259_2.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":63061,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"Head of softwere team and drive team coach \"},\"post_url\":\"/t/implementing-feedforward-with-ctre-s-fieldcentricfacingangle-request/475822/7\",\"custom_user_title\":\"Head of softwere team and drive team coach \",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3453461,\"name\":\"\",\"username\":\"KfirNeuman\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/k/d07c76/{size}.png\",\"created_at\":\"2024-12-01T08:20:37.829Z\",\"cooked\":\"\\u003cp\\u003eI’ll try to explain this with an example of how my team used this. This year we used fieldcentricfacingangle to make sure we were able to follow a path in auto. The path generator we used created a file that gave the target angle and angular velocity at each point in time.\\u003c/p\\u003e\\n\\u003cp\\u003eTo start we just inputted the x velocity, y velocity and angle into the request. What happened then was that the robot would only start spinning after some time not when it was supposed to. The reason for this is that \\u003cspan class=\\\"abbreviation\\\"\\u003ePID\\u003ctemplate class=\\\"tooltiptext\\\" data-text=\\\"Proportional Integral Derivative\\\"\\u003e\\u003c/template\\u003e\\u003c/span\\u003e only responds to error. At the beginning of the path the error was zero and until the setpoint had changed enough the \\u003cspan class=\\\"abbreviation\\\"\\u003ePID\\u003ctemplate class=\\\"tooltiptext\\\" data-text=\\\"Proportional Integral Derivative\\\"\\u003e\\u003c/template\\u003e\\u003c/span\\u003e was too small to make a difference. This caused a problem where the setpoint would have to changr to something like 15 degrees before we would start rotating.\\u003c/p\\u003e\\n\\u003cp\\u003eSo how did we fix this? The fieldcentricfacingangle request has an additional parameter of the rotational velocity you want. This is the feedforward term. By adding the the angular velocity generated by the path as feedforward then we did not have to get to such high errors to begin rotating and the \\u003cspan class=\\\"abbreviation\\\"\\u003ePID\\u003ctemplate class=\\\"tooltiptext\\\" data-text=\\\"Proportional Integral Derivative\\\"\\u003e\\u003c/template\\u003e\\u003c/span\\u003e only corrected small errors. The feedforward did most of the work and the \\u003cspan class=\\\"abbreviation\\\"\\u003ePID\\u003ctemplate class=\\\"tooltiptext\\\" data-text=\\\"Proportional Integral Derivative\\\"\\u003e\\u003c/template\\u003e\\u003c/span\\u003e only corrected small errors that occurred.\\u003c/p\\u003e\\n\\u003cp\\u003eThe point of the feedforward is to prevent the errors before they happen. In the case of following a path that means adding the wanted angular velocity from the path. In the case of driving with a joystick there are ways to do this but they are more complicated. If you want I can explain them.\\u003c/p\\u003e\",\"post_number\":8,\"post_type\":1,\"posts_count\":14,\"updated_at\":\"2024-12-01T08:20:37.829Z\",\"reply_count\":2,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":3,\"reads\":153,\"readers_count\":152,\"score\":70.6,\"yours\":false,\"topic_id\":475822,\"topic_slug\":\"implementing-feedforward-with-ctre-s-fieldcentricfacingangle-request\",\"display_username\":\"\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":null,\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":1}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":62573,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"3075 Code Lead\"},\"post_url\":\"/t/implementing-feedforward-with-ctre-s-fieldcentricfacingangle-request/475822/8\",\"custom_user_title\":\"3075 Code Lead\",\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":1}],\"current_user_reaction\":null,\"reaction_users_count\":1,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3453469,\"name\":\"Caden R Dalley\",\"username\":\"Pickle_Face5\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/pickle_face5/{size}/210767_2.png\",\"created_at\":\"2024-12-01T12:52:49.501Z\",\"cooked\":\"\\u003cp\\u003eSure!\\u003c/p\\u003e\\n\\u003cp\\u003eFor context, my team is planning to use FieldCentricFacingAngle to allow us to rotate to a fixed angle quickly without having the driver needing to spin the robot manually. We want to implement a feedforward in order for the robot to quickly reach the angle regardless of how far away we are from the target.\\u003c/p\\u003e\",\"post_number\":9,\"post_type\":1,\"posts_count\":14,\"updated_at\":\"2024-12-01T12:52:49.501Z\",\"reply_count\":0,\"reply_to_post_number\":8,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":130,\"readers_count\":129,\"score\":26.0,\"yours\":false,\"topic_id\":475822,\"topic_slug\":\"implementing-feedforward-with-ctre-s-fieldcentricfacingangle-request\",\"display_username\":\"Caden R Dalley\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"reply_to_user\":{\"id\":62573,\"username\":\"KfirNeuman\",\"name\":\"\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/k/d07c76/{size}.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":63244,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"6343 Alum\"},\"post_url\":\"/t/implementing-feedforward-with-ctre-s-fieldcentricfacingangle-request/475822/9\",\"custom_user_title\":\"6343 Alum\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3453471,\"name\":\"Brad\",\"username\":\"Bmongar\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/bmongar/{size}/228654_2.png\",\"created_at\":\"2024-12-01T13:14:32.818Z\",\"cooked\":\"\\u003caside class=\\\"quote no-group\\\" data-username=\\\"KfirNeuman\\\" data-post=\\\"8\\\" data-topic=\\\"475822\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg loading=\\\"lazy\\\" alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/letter_avatar_proxy/v4/letter/k/d07c76/48.png\\\" class=\\\"avatar\\\"\\u003e KfirNeuman:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003ehe fieldcentricfacingangle request has an additional parameter of the rotational velocity you want.\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003cp\\u003eI am not seeing this in FieldCentricFacingAngle\\u003c/p\\u003e\\n\\u003cpre\\u003e\\u003ccode class=\\\"lang-auto\\\"\\u003e   public class FieldCentricFacingAngle implements SwerveRequest {\\n        /**\\n         * The velocity in the X direction, in m/s.\\n         * X is defined as forward according to WPILib convention,\\n         * so this determines how fast to travel forward.\\n         */\\n        public double VelocityX = 0;\\n        /**\\n         * The velocity in the Y direction, in m/s.\\n         * Y is defined as to the left according to WPILib convention,\\n         * so this determines how fast to travel to the left.\\n         */\\n        public double VelocityY = 0;\\n        /**\\n         * The desired direction to face.\\n         * 0 Degrees is defined as in the direction of the X axis.\\n         * As a result, a TargetDirection of 90 degrees will point along\\n         * the Y axis, or to the left.\\n         */\\n        public Rotation2d TargetDirection = new Rotation2d();\\n\\n        /**\\n         * The allowable deadband of the request.\\n         */\\n        public double Deadband = 0;\\n        /**\\n         * The rotational deadband of the request.\\n         */\\n        public double RotationalDeadband = 0;\\n        /**\\n         * The center of rotation the robot should rotate around.\\n         * This is (0,0) by default, which will rotate around the center of the robot.\\n         */\\n        public Translation2d CenterOfRotation = new Translation2d();\\n\\n        /**\\n         * The type of control request to use for the drive motor.\\n         */\\n        public SwerveModule.DriveRequestType DriveRequestType = SwerveModule.DriveRequestType.OpenLoopVoltage;\\n        /**\\n         * The type of control request to use for the steer motor.\\n         */\\n        public SwerveModule.SteerRequestType SteerRequestType = SwerveModule.SteerRequestType.MotionMagic;\\n\\n        /**\\n         * The PID controller used to maintain the desired heading.\\n         * Users can specify the PID gains to change how aggressively to maintain\\n         * heading.\\n         * \\u0026lt;p\\u0026gt;\\n         * This PID controller operates on heading radians and outputs a target\\n         * rotational rate in radians per second.\\n         */\\n        public PhoenixPIDController HeadingController = new PhoenixPIDController(0, 0, 0);\\n\\n        /**\\n         * The perspective to use when determining which direction is forward.\\n         */\\n        public ForwardReference ForwardReference = SwerveRequest.ForwardReference.OperatorPerspective;\\n\\n        public StatusCode apply(SwerveControlRequestParameters parameters, SwerveModule... modulesToApply) {\\n            double toApplyX = VelocityX;\\n            double toApplyY = VelocityY;\\n            Rotation2d angleToFace = TargetDirection;\\n            if (ForwardReference == SwerveRequest.ForwardReference.OperatorPerspective) {\\n                /* If we're operator perspective, modify the X/Y translation by the angle */\\n                Translation2d tmp = new Translation2d(toApplyX, toApplyY);\\n                tmp = tmp.rotateBy(parameters.operatorForwardDirection);\\n                toApplyX = tmp.getX();\\n                toApplyY = tmp.getY();\\n                /* And rotate the direction we want to face by the angle */\\n                angleToFace = angleToFace.rotateBy(parameters.operatorForwardDirection);\\n            }\\n\\n            double rotationRate = HeadingController.calculate(parameters.currentPose.getRotation().getRadians(),\\n                    angleToFace.getRadians(), parameters.timestamp);\\n\\n            double toApplyOmega = rotationRate;\\n            if (Math.sqrt(toApplyX * toApplyX + toApplyY * toApplyY) \\u0026lt; Deadband) {\\n                toApplyX = 0;\\n                toApplyY = 0;\\n            }\\n            if (Math.abs(toApplyOmega) \\u0026lt; RotationalDeadband) {\\n                toApplyOmega = 0;\\n            }\\n\\n            ChassisSpeeds speeds = ChassisSpeeds.discretize(ChassisSpeeds.fromFieldRelativeSpeeds(toApplyX, toApplyY, toApplyOmega,\\n                    parameters.currentPose.getRotation()), parameters.updatePeriod);\\n\\n            var states = parameters.kinematics.toSwerveModuleStates(speeds, CenterOfRotation);\\n\\n            for (int i = 0; i \\u0026lt; modulesToApply.length; ++i) {\\n                modulesToApply[i].apply(states[i], DriveRequestType, SteerRequestType);\\n            }\\n\\n            return StatusCode.OK;\\n        }\\n\\n        /**\\n         * Sets the velocity in the X direction, in m/s.\\n         * X is defined as forward according to WPILib convention,\\n         * so this determines how fast to travel forward.\\n         *\\n         * @param velocityX Velocity in the X direction, in m/s\\n         * @return this request\\n         */\\n        public FieldCentricFacingAngle withVelocityX(double velocityX) {\\n            this.VelocityX = velocityX;\\n            return this;\\n        }\\n\\n        /**\\n         * Sets the velocity in the Y direction, in m/s.\\n         * Y is defined as to the left according to WPILib convention,\\n         * so this determines how fast to travel to the left.\\n         *\\n         * @param velocityY Velocity in the Y direction, in m/s\\n         * @return this request\\n         */\\n        public FieldCentricFacingAngle withVelocityY(double velocityY) {\\n            this.VelocityY = velocityY;\\n            return this;\\n        }\\n\\n        /**\\n         * Sets the desired direction to face.\\n         * 0 Degrees is defined as in the direction of the X axis.\\n         * As a result, a TargetDirection of 90 degrees will point along\\n         * the Y axis, or to the left.\\n         *\\n         * @param targetDirection Desired direction to face\\n         * @return this request\\n         */\\n        public FieldCentricFacingAngle withTargetDirection(Rotation2d targetDirection) {\\n            this.TargetDirection = targetDirection;\\n            return this;\\n        }\\n\\n        /**\\n         * Sets the allowable deadband of the request.\\n         *\\n         * @param deadband Allowable deadband of the request\\n         * @return this request\\n         */\\n        public FieldCentricFacingAngle withDeadband(double deadband) {\\n            this.Deadband = deadband;\\n            return this;\\n        }\\n        /**\\n         * Sets the rotational deadband of the request.\\n         *\\n         * @param rotationalDeadband Rotational deadband of the request\\n         * @return this request\\n         */\\n        public FieldCentricFacingAngle withRotationalDeadband(double rotationalDeadband) {\\n            this.RotationalDeadband = rotationalDeadband;\\n            return this;\\n        }\\n        /**\\n         * Sets the center of rotation of the request\\n         *\\n         * @param centerOfRotation The center of rotation the robot should rotate around.\\n         * @return this request\\n         */\\n        public FieldCentricFacingAngle withCenterOfRotation(Translation2d centerOfRotation) {\\n            this.CenterOfRotation = centerOfRotation;\\n            return this;\\n        }\\n\\n        /**\\n         * Sets the type of control request to use for the drive motor.\\n         *\\n         * @param driveRequestType The type of control request to use for the drive motor\\n         * @return this request\\n         */\\n        public FieldCentricFacingAngle withDriveRequestType(SwerveModule.DriveRequestType driveRequestType) {\\n            this.DriveRequestType = driveRequestType;\\n            return this;\\n        }\\n        /**\\n         * Sets the type of control request to use for the steer motor.\\n         *\\n         * @param steerRequestType The type of control request to use for the steer motor\\n         * @return this request\\n         */\\n        public FieldCentricFacingAngle withSteerRequestType(SwerveModule.SteerRequestType steerRequestType) {\\n            this.SteerRequestType = steerRequestType;\\n            return this;\\n        }\\n    }\\n\\u003c/code\\u003e\\u003c/pre\\u003e\",\"post_number\":10,\"post_type\":1,\"posts_count\":14,\"updated_at\":\"2024-12-01T13:14:32.818Z\",\"reply_count\":1,\"reply_to_post_number\":8,\"quote_count\":1,\"incoming_link_count\":0,\"reads\":130,\"readers_count\":129,\"score\":31.0,\"yours\":false,\"topic_id\":475822,\"topic_slug\":\"implementing-feedforward-with-ctre-s-fieldcentricfacingangle-request\",\"display_username\":\"Brad\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":38557,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"5126 Codenator / Electrical, CSA, FTAA, Inspector \"},\"post_url\":\"/t/implementing-feedforward-with-ctre-s-fieldcentricfacingangle-request/475822/10\",\"custom_user_title\":\"5126 Codenator / Electrical, CSA, FTAA, Inspector \",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3453479,\"name\":\"\",\"username\":\"KfirNeuman\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/k/d07c76/{size}.png\",\"created_at\":\"2024-12-01T14:03:08.275Z\",\"cooked\":\"\\u003cp\\u003eLooks like I made a mistake. The feedforward part is only in the new betas. I guess we did not use FieldCentricFacingAngle in our code but we used the same algorithm.\\u003c/p\\u003e\",\"post_number\":11,\"post_type\":1,\"posts_count\":14,\"updated_at\":\"2024-12-01T14:03:08.275Z\",\"reply_count\":0,\"reply_to_post_number\":10,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":114,\"readers_count\":113,\"score\":37.8,\"yours\":false,\"topic_id\":475822,\"topic_slug\":\"implementing-feedforward-with-ctre-s-fieldcentricfacingangle-request\",\"display_username\":\"\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":null,\"reply_to_user\":{\"id\":38557,\"username\":\"Bmongar\",\"name\":\"Brad\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/bmongar/{size}/228654_2.png\"},\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":1}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":62573,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"3075 Code Lead\"},\"post_url\":\"/t/implementing-feedforward-with-ctre-s-fieldcentricfacingangle-request/475822/11\",\"custom_user_title\":\"3075 Code Lead\",\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":1}],\"current_user_reaction\":null,\"reaction_users_count\":1,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3454254,\"name\":\"Caden R Dalley\",\"username\":\"Pickle_Face5\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/pickle_face5/{size}/210767_2.png\",\"created_at\":\"2024-12-03T19:47:31.495Z\",\"cooked\":\"\\u003cp\\u003eGoing to bump this, since my question has not been answered yet. \\u003cspan class=\\\"abbreviation\\\"\\u003eCTRE\\u003ctemplate class=\\\"tooltiptext\\\" data-text=\\\"Cross The Road Electronics\\\"\\u003e\\u003c/template\\u003e\\u003c/span\\u003e provides these routines, but I have yet to find an example of these feedforwards being used in any robot project or provided example.\\u003c/p\\u003e\\n\\u003cp\\u003eHas anyone been able to implement the rotation feedforwards with FieldCentricFacingAngle requests?\\u003c/p\\u003e\",\"post_number\":12,\"post_type\":1,\"posts_count\":14,\"updated_at\":\"2024-12-03T19:47:31.495Z\",\"reply_count\":1,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":90,\"readers_count\":89,\"score\":23.0,\"yours\":false,\"topic_id\":475822,\"topic_slug\":\"implementing-feedforward-with-ctre-s-fieldcentricfacingangle-request\",\"display_username\":\"Caden R Dalley\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":63244,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"6343 Alum\"},\"post_url\":\"/t/implementing-feedforward-with-ctre-s-fieldcentricfacingangle-request/475822/12\",\"custom_user_title\":\"6343 Alum\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3454515,\"name\":\"Eilon nave huppert\",\"username\":\"The_big_Melon\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/the_big_melon/{size}/236259_2.png\",\"created_at\":\"2024-12-04T09:32:33.553Z\",\"cooked\":\"\\u003cpre\\u003e\\u003ccode class=\\\"lang-auto\\\"\\u003e    private static final Slot0Configs steerGains = new Slot0Configs()\\n        .withKP(100).withKI(0).withKD(2.0)\\n        .withKS(0.2).withKV(1.59).withKA(0)\\n        .withStaticFeedforwardSign(StaticFeedforwardSignValue.UseClosedLoopSign);\\n    // When using closed-loop control, the drive motor uses the control\\n    // output type specified by SwerveModuleConstants.DriveMotorClosedLoopOutput\\n    private static final Slot0Configs driveGains = new Slot0Configs()\\n        .withKP(0.1).withKI(0).withKD(0)\\n        .withKS(0).withKV(0.124);\\n\\u003c/code\\u003e\\u003c/pre\\u003e\\n\\u003cp\\u003ethis is to set the FF and this is to add it to the FieldCentricFacingAngle\\u003c/p\\u003e\\n\\u003cpre\\u003e\\u003ccode class=\\\"lang-auto\\\"\\u003eprivate final SwerveRequest.FieldCentricFacingAngle pointFacingAngle = new SwerveRequest.FieldCentricFacingAngle()\\n    .withDriveRequestType(DriveRequestType.OpenLoopVoltage).withTargetRateFeedforward(5);\\n\\u003c/code\\u003e\\u003c/pre\\u003e\\n\\u003cp\\u003e\\u003ca href=\\\"https://api.ctr-electronics.com/phoenix6/latest/cpp/classctre_1_1phoenix6_1_1swerve_1_1requests_1_1_field_centric_facing_angle.html#details\\\" rel=\\\"noopener nofollow ugc\\\"\\u003ectre\\u003c/a\\u003e\\u003cbr\\u003e\\n\\u003cem\\u003eTargetRateFeedforward\\u003c/em\\u003e - is only to control the speed of it and i’m pretty sure the values are good as is. the only thing you need to do is run SYSID and get the \\u003cspan class=\\\"abbreviation\\\"\\u003eKV\\u003ctemplate class=\\\"tooltiptext\\\" data-text=\\\"Key Volunteer\\\"\\u003e\\u003c/template\\u003e\\u003c/span\\u003e kS. and math will do the rest.\\u003c/p\\u003e\",\"post_number\":13,\"post_type\":1,\"posts_count\":14,\"updated_at\":\"2024-12-04T09:35:21.499Z\",\"reply_count\":1,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":3,\"reads\":85,\"readers_count\":84,\"score\":37.0,\"yours\":false,\"topic_id\":475822,\"topic_slug\":\"implementing-feedforward-with-ctre-s-fieldcentricfacingangle-request\",\"display_username\":\"Eilon nave huppert\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"link_counts\":[{\"url\":\"https://api.ctr-electronics.com/phoenix6/latest/cpp/classctre_1_1phoenix6_1_1swerve_1_1requests_1_1_field_centric_facing_angle.html#details\",\"internal\":false,\"reflection\":false,\"title\":\"CTRE Phoenix 6 C++: ctre::phoenix6::swerve::requests::FieldCentricFacingAngle Class Reference\",\"clicks\":2}],\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":63061,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"Head of softwere team and drive team coach \"},\"post_url\":\"/t/implementing-feedforward-with-ctre-s-fieldcentricfacingangle-request/475822/13\",\"custom_user_title\":\"Head of softwere team and drive team coach \",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3454684,\"name\":\"Benjamin Hall\",\"username\":\"bhall-ctre\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/bhall-ctre/{size}/198180_2.png\",\"created_at\":\"2024-12-04T18:19:01.456Z\",\"cooked\":\"\\u003cp\\u003eIf you are controlling the target direction with something like a joystick or vision, then you would only use the \\u003ccode\\u003eTargetRateFeedforward\\u003c/code\\u003e if you apply a motion profile to the target direction. We do not apply any motion profile OOTB in our \\u003ccode\\u003eFieldCentricFacingAngle\\u003c/code\\u003e request. If you want to apply a motion profile, then the \\u003ccode\\u003eTargetRateFeedforward\\u003c/code\\u003e would just be set to the velocity of the current profile setpoint.\\u003c/p\\u003e\\n\\u003cp\\u003eAttached below is an example custom swerve request that adds a \\u003ccode\\u003eTrapezoidProfile\\u003c/code\\u003e to the \\u003ccode\\u003eTargetDirection\\u003c/code\\u003e and uses our \\u003ccode\\u003eFieldCentricFacingAngle\\u003c/code\\u003e under the hood.\\u003c/p\\u003e\\n\\u003cp\\u003e\\u003ca class=\\\"attachment\\\" href=\\\"/uploads/short-url/jQ6BFcbJVTVPNr53Zz3o5s7wCmI.java\\\"\\u003eProfiledFieldCentricFacingAngle.java\\u003c/a\\u003e (13.4 KB)\\u003c/p\\u003e\\n\\u003cp\\u003eInstead of creating a custom swerve request, you could put the motion profile logic in \\u003ccode\\u003eCommandSwerveDrivetrain\\u003c/code\\u003e and directly use \\u003ccode\\u003eFieldCentricFacingAngle\\u003c/code\\u003e. Note that you would need to cache the operator forward direction since we currently don’t provide a getter for it, and the profile would only update at 50 Hz instead of the full 250 Hz of the custom swerve request, which should be fine.\\u003c/p\\u003e\\n\\u003cp\\u003eUsage of the custom swerve request is then the same as the regular \\u003ccode\\u003eFieldCentricFacingAngle\\u003c/code\\u003e request:\\u003c/p\\u003e\\n\\u003cpre data-code-wrap=\\\"java\\\"\\u003e\\u003ccode class=\\\"lang-java\\\"\\u003e    private final ProfiledFieldCentricFacingAngle driveFacingAngle =\\n        new ProfiledFieldCentricFacingAngle(new TrapezoidProfile.Constraints(MaxAngularRate, MaxAngularRate / 0.25))\\n            .withDeadband(MaxSpeed * 0.1).withRotationalDeadband(MaxAngularRate * 0.1) // Add a 10% deadband\\n            .withDriveRequestType(DriveRequestType.OpenLoopVoltage); // Use open-loop control for drive motors\\n\\n    private void configureBindings() {\\n        drive.HeadingController.setPID(7, 0, 0);\\n        // Note that X is defined as forward according to WPILib convention,\\n        // and Y is defined as to the left according to WPILib convention.\\n        drivetrain.setDefaultCommand(\\n            // Drivetrain will execute this command periodically\\n            drivetrain.runOnce(() -\\u0026gt; driveFacingAngle.resetProfile(drivetrain.getState().Pose.getRotation()))\\n                .andThen(\\n                    drivetrain.applyRequest(() -\\u0026gt;\\n                        driveFacingAngle.withVelocityX(-joystick.getLeftY() * MaxSpeed) // Drive forward with negative Y (forward)\\n                            .withVelocityY(-joystick.getLeftX() * MaxSpeed) // Drive left with negative X (left)\\n                            .withTargetDirection(new Rotation2d(-joystick.getRightY(), -joystick.getRightX())) // Drive to target angle using right joystick\\n                    )\\n                )\\n        );\\n        // ...\\n    }\\n\\u003c/code\\u003e\\u003c/pre\\u003e\\n\\u003caside class=\\\"quote no-group\\\" data-username=\\\"The_big_Melon\\\" data-post=\\\"13\\\" data-topic=\\\"475822\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg loading=\\\"lazy\\\" alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/user_avatar/www.chiefdelphi.com/the_big_melon/48/236259_2.png\\\" class=\\\"avatar\\\"\\u003e The_big_Melon:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003e\\u003cem\\u003eTargetRateFeedforward\\u003c/em\\u003e - is only to control the speed of it and i’m pretty sure the values are good as is.\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003cp\\u003eThis isn’t quite right, the \\u003ccode\\u003eTargetRateFeedforward\\u003c/code\\u003e is a value in radians/second that is directly added to the target rotational speed of the drivetrain. So setting it to a constant value means the drivetrain will try to rotate at a constant velocity, which will go against the \\u003cspan class=\\\"abbreviation\\\"\\u003ePID\\u003ctemplate class=\\\"tooltiptext\\\" data-text=\\\"Proportional Integral Derivative\\\"\\u003e\\u003c/template\\u003e\\u003c/span\\u003e that is trying to hold a constant heading.\\u003c/p\\u003e\",\"post_number\":14,\"post_type\":1,\"posts_count\":14,\"updated_at\":\"2024-12-04T18:22:47.500Z\",\"reply_count\":0,\"reply_to_post_number\":12,\"quote_count\":1,\"incoming_link_count\":19,\"reads\":71,\"readers_count\":70,\"score\":169.2,\"yours\":false,\"topic_id\":475822,\"topic_slug\":\"implementing-feedforward-with-ctre-s-fieldcentricfacingangle-request\",\"display_username\":\"Benjamin Hall\",\"primary_group_name\":\"CTRE\",\"flair_name\":\"CTRE\",\"flair_url\":\"/uploads/default/original/3X/1/b/1bd2b430e1bb6427d1c6504ff6abcd31de851a6d.png\",\"flair_bg_color\":\"\",\"flair_color\":\"\",\"flair_group_id\":57,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"link_counts\":[{\"url\":\"/uploads/short-url/jQ6BFcbJVTVPNr53Zz3o5s7wCmI.java\",\"internal\":true,\"reflection\":false,\"clicks\":0}],\"read\":true,\"user_title\":\"\",\"reply_to_user\":{\"id\":63244,\"username\":\"Pickle_Face5\",\"name\":\"Caden R Dalley\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/pickle_face5/{size}/210767_2.png\"},\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":4}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":48146,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"Software Engineering Intern at CTR Electronics\"},\"post_url\":\"/t/implementing-feedforward-with-ctre-s-fieldcentricfacingangle-request/475822/14\",\"custom_user_title\":\"Software Engineering Intern at CTR Electronics\",\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":4}],\"current_user_reaction\":null,\"reaction_users_count\":4,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":true,\"topic_accepted_answer\":true}],\"stream\":[3453426,3453452,3453453,3453454,3453455,3453456,3453457,3453461,3453469,3453471,3453479,3454254,3454515,3454684]},\"timeline_lookup\":[[1,315],[9,314],[12,312],[14,311]],\"suggested_topics\":[{\"fancy_title\":\"Rev SparkMax versus SparkFlex class\",\"id\":480768,\"title\":\"Rev SparkMax versus SparkFlex class\",\"slug\":\"rev-sparkmax-versus-sparkflex-class\",\"posts_count\":2,\"reply_count\":0,\"highest_post_number\":2,\"image_url\":null,\"created_at\":\"2025-01-10T20:28:36.880Z\",\"last_posted_at\":\"2025-01-10T20:47:01.204Z\",\"bumped\":true,\"bumped_at\":\"2025-01-10T20:47:01.204Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"In python, for the rev libraries, there is a rev.SparkMax and a rev.SparkFlex class. We have a robot with a SparkMax controller for the wheel motor, and a robot with a SparkFlex for the wheel motor. …\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[\"sparkmax\",\"rev\",\"python\",\"sparkflex\"],\"tags_descriptions\":{},\"like_count\":1,\"views\":115,\"category_id\":30,\"featured_link\":null,\"has_accepted_answer\":false,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3478379,\"topic_post_liked\":false,\"topic_post_like_count\":1,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":false,\"topic_post_is_current_users\":null,\"topic_post_number\":1,\"topic_post_user\":{\"id\":54037,\"username\":\"stittrm\",\"name\":\"Mike Stitt\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/stittrm/{size}/175198_2.png\"},\"posters\":[{\"extras\":null,\"description\":\"Original Poster\",\"user\":{\"id\":54037,\"username\":\"stittrm\",\"name\":\"Mike Stitt\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/stittrm/{size}/175198_2.png\",\"trust_level\":2}},{\"extras\":\"latest\",\"description\":\"Most Recent Poster\",\"user\":{\"id\":6349,\"username\":\"Will_Toth\",\"name\":\"Will Toth\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/will_toth/{size}/111117_2.png\",\"trust_level\":2}}]},{\"fancy_title\":\"RevLib imports being weird\",\"id\":491322,\"title\":\"RevLib imports being weird\",\"slug\":\"revlib-imports-being-weird\",\"posts_count\":12,\"reply_count\":7,\"highest_post_number\":12,\"image_url\":\"https://www.chiefdelphi.com/uploads/default/optimized/3X/8/7/8727761e9fece8945856935065fb0bc22ea8dc01_2_1024x592.png\",\"created_at\":\"2025-02-12T03:26:39.219Z\",\"last_posted_at\":\"2025-02-13T05:04:33.391Z\",\"bumped\":true,\"bumped_at\":\"2025-02-13T05:04:33.391Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"Hello! I was coding my robot (java), and imported my com.revrobotics. Earlier today, when I was at with my team on their computers, it worked fine. However, once I went home to work on it, it keeps sa…\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[],\"tags_descriptions\":{},\"like_count\":4,\"views\":145,\"category_id\":30,\"featured_link\":null,\"has_accepted_answer\":false,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3524436,\"topic_post_liked\":false,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":false,\"topic_post_is_current_users\":null,\"topic_post_number\":1,\"topic_post_user\":{\"id\":73369,\"username\":\"Kade\",\"name\":\"Kade Dressing\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/k/c57346/{size}.png\"},\"posters\":[{\"extras\":\"latest\",\"description\":\"Original Poster, Most Recent Poster\",\"user\":{\"id\":73369,\"username\":\"Kade\",\"name\":\"Kade Dressing\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/k/c57346/{size}.png\",\"trust_level\":2}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":9105,\"username\":\"Fletch1373\",\"name\":\"Fletch\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/fletch1373/{size}/220073_2.png\",\"trust_level\":2}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":23320,\"username\":\"Owen_Busler\",\"name\":\"Owen Busler\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/owen_busler/{size}/7684_2.png\",\"trust_level\":2}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":60586,\"username\":\"cmdada\",\"name\":\"Ada T\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/cmdada/{size}/230870_2.png\",\"trust_level\":2}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":63003,\"username\":\"teddyshi\",\"name\":\"\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/t/e0b2c6/{size}.png\",\"trust_level\":2}}]},{\"fancy_title\":\"How to Connect Glass to Simulation\",\"id\":491860,\"title\":\"How to Connect Glass to Simulation\",\"slug\":\"how-to-connect-glass-to-simulation\",\"posts_count\":2,\"reply_count\":0,\"highest_post_number\":2,\"image_url\":null,\"created_at\":\"2025-02-15T20:56:37.818Z\",\"last_posted_at\":\"2025-02-15T21:49:54.941Z\",\"bumped\":true,\"bumped_at\":\"2025-02-15T21:49:54.941Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[\"simulation\",\"glass\"],\"tags_descriptions\":{},\"like_count\":2,\"views\":70,\"category_id\":30,\"featured_link\":null,\"has_accepted_answer\":true,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3528249,\"topic_post_liked\":false,\"topic_post_like_count\":2,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":false,\"topic_post_is_current_users\":null,\"topic_post_number\":2,\"topic_post_user\":{\"id\":65,\"username\":\"Joe_Ross\",\"name\":\"Joe Ross\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/joe_ross/{size}/37_2.png\"},\"posters\":[{\"extras\":null,\"description\":\"Original Poster\",\"user\":{\"id\":70504,\"username\":\"AutumnPlanet\",\"name\":null,\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/autumnplanet/{size}/260647_2.png\",\"trust_level\":2}},{\"extras\":\"latest\",\"description\":\"Most Recent Poster, Accepted Answer\",\"user\":{\"id\":65,\"username\":\"Joe_Ross\",\"name\":\"Joe Ross\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/joe_ross/{size}/37_2.png\",\"moderator\":true,\"trust_level\":4}}]},{\"fancy_title\":\"Logger not recording all data\",\"id\":492595,\"title\":\"Logger not recording all data\",\"slug\":\"logger-not-recording-all-data\",\"posts_count\":2,\"reply_count\":0,\"highest_post_number\":2,\"image_url\":null,\"created_at\":\"2025-02-21T17:53:54.933Z\",\"last_posted_at\":\"2025-02-23T19:48:53.045Z\",\"bumped\":true,\"bumped_at\":\"2025-02-23T19:48:53.045Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"We are using the built-in WPILib logger. To save data to the log, we publish it to the NetworkTables and then enable the record NetworkTables option in the WPILib logger. We use the logger’s start fun…\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[],\"tags_descriptions\":{},\"like_count\":1,\"views\":91,\"category_id\":30,\"featured_link\":null,\"has_accepted_answer\":false,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3535469,\"topic_post_liked\":false,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":false,\"topic_post_is_current_users\":null,\"topic_post_number\":1,\"topic_post_user\":{\"id\":60986,\"username\":\"GalDotan\",\"name\":\"Gal\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/galdotan/{size}/201749_2.png\"},\"posters\":[{\"extras\":null,\"description\":\"Original Poster\",\"user\":{\"id\":60986,\"username\":\"GalDotan\",\"name\":\"Gal\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/galdotan/{size}/201749_2.png\",\"trust_level\":2}},{\"extras\":\"latest\",\"description\":\"Most Recent Poster\",\"user\":{\"id\":13575,\"username\":\"Peter_Johnson\",\"name\":\"Peter Johnson\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/peter_johnson/{size}/10417_2.png\",\"trust_level\":2}}]},{\"fancy_title\":\"Python ImportError in playingwithfusion\",\"id\":497778,\"title\":\"Python ImportError in playingwithfusion\",\"slug\":\"python-importerror-in-playingwithfusion\",\"posts_count\":2,\"reply_count\":0,\"highest_post_number\":2,\"image_url\":null,\"created_at\":\"2025-04-02T01:42:13.234Z\",\"last_posted_at\":\"2025-04-02T03:35:07.787Z\",\"bumped\":true,\"bumped_at\":\"2025-04-02T03:35:07.787Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"Upon updating to Robotpy 3.2.0, running simulation immediately produces the below importing /home/leo/programming/frc2429_2025/robot/robot.py failed! Traceback (most recent call last): …\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[],\"tags_descriptions\":{},\"like_count\":1,\"views\":61,\"category_id\":30,\"featured_link\":null,\"has_accepted_answer\":false,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3577449,\"topic_post_liked\":false,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":false,\"topic_post_is_current_users\":null,\"topic_post_number\":1,\"topic_post_user\":{\"id\":58301,\"username\":\"LHACK4142\",\"name\":\"\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/lhack4142/{size}/196107_2.png\"},\"posters\":[{\"extras\":null,\"description\":\"Original Poster\",\"user\":{\"id\":58301,\"username\":\"LHACK4142\",\"name\":\"\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/lhack4142/{size}/196107_2.png\",\"trust_level\":2}},{\"extras\":\"latest\",\"description\":\"Most Recent Poster\",\"user\":{\"id\":11063,\"username\":\"virtuald\",\"name\":\"Dustin Spicuzza\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/virtuald/{size}/65268_2.png\",\"trust_level\":2}}]}],\"tags\":[\"swerve\",\"phoenix\",\"feedforward\"],\"tags_descriptions\":{},\"fancy_title\":\"Implementing Feedforward with CTRE’s FieldCentricFacingAngle Request\",\"id\":475822,\"title\":\"Implementing Feedforward with CTRE’s FieldCentricFacingAngle Request\",\"posts_count\":14,\"created_at\":\"2024-12-01T04:40:31.905Z\",\"views\":625,\"reply_count\":9,\"like_count\":10,\"last_posted_at\":\"2024-12-04T18:19:01.456Z\",\"visible\":true,\"closed\":false,\"archived\":false,\"has_summary\":false,\"archetype\":\"regular\",\"slug\":\"implementing-feedforward-with-ctre-s-fieldcentricfacingangle-request\",\"category_id\":30,\"word_count\":1955,\"deleted_at\":null,\"user_id\":63244,\"featured_link\":null,\"pinned_globally\":false,\"pinned_at\":null,\"pinned_until\":null,\"image_url\":null,\"slow_mode_seconds\":0,\"draft\":null,\"draft_key\":\"topic_475822\",\"draft_sequence\":null,\"unpinned\":null,\"pinned\":false,\"current_post_number\":1,\"highest_post_number\":14,\"deleted_by\":null,\"actions_summary\":[{\"id\":4,\"count\":0,\"hidden\":false,\"can_act\":false},{\"id\":8,\"count\":0,\"hidden\":false,\"can_act\":false},{\"id\":10,\"count\":0,\"hidden\":false,\"can_act\":false},{\"id\":7,\"count\":0,\"hidden\":false,\"can_act\":false}],\"chunk_size\":20,\"bookmarked\":false,\"topic_timer\":{\"id\":38028,\"execute_at\":\"2025-12-04T18:19:01.456Z\",\"duration_minutes\":525600,\"based_on_last_post\":true,\"status_type\":\"close\",\"category_id\":null},\"message_bus_last_id\":0,\"participant_count\":5,\"show_read_indicator\":false,\"thumbnails\":null,\"slow_mode_enabled_until\":null,\"valid_reactions\":[\"heart\",\"laughing\",\"point_up\",\"+1\",\"-1\",\"100\",\"open_mouth\",\"cry\",\"question\",\"thinking\",\"call_me_hand\",\"hugs\",\"angry\"],\"accepted_answer\":{\"post_number\":14,\"username\":\"bhall-ctre\",\"name\":null,\"excerpt\":\"If you are controlling the target direction with something like a joystick or vision, then you would only use the TargetRateFeedforward if you apply a motion profile to the target direction. We do not apply any motion profile OOTB in our FieldCentricFacingAngle request. If you want to apply a motion\\u0026hellip;\",\"accepter_name\":null},\"user_chosen_thumbnail_url\":null,\"sidecar_installed\":true,\"can_vote\":false,\"vote_count\":0,\"user_voted\":false,\"discourse_zendesk_plugin_zendesk_id\":null,\"discourse_zendesk_plugin_zendesk_url\":\"https://your-url.zendesk.com/agent/tickets/\",\"details\":{\"can_edit\":false,\"notification_level\":1,\"participants\":[{\"id\":63061,\"username\":\"The_big_Melon\",\"name\":\"Eilon nave huppert\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/the_big_melon/{size}/236259_2.png\",\"post_count\":5,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":63244,\"username\":\"Pickle_Face5\",\"name\":\"Caden R Dalley\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/pickle_face5/{size}/210767_2.png\",\"post_count\":5,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":62573,\"username\":\"KfirNeuman\",\"name\":\"\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/k/d07c76/{size}.png\",\"post_count\":2,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":38557,\"username\":\"Bmongar\",\"name\":\"Brad\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/bmongar/{size}/228654_2.png\",\"post_count\":1,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":48146,\"username\":\"bhall-ctre\",\"name\":\"Benjamin Hall\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/bhall-ctre/{size}/198180_2.png\",\"post_count\":1,\"primary_group_name\":\"CTRE\",\"flair_name\":\"CTRE\",\"flair_url\":\"/uploads/default/original/3X/1/b/1bd2b430e1bb6427d1c6504ff6abcd31de851a6d.png\",\"flair_color\":\"\",\"flair_bg_color\":\"\",\"flair_group_id\":57,\"trust_level\":2}],\"created_by\":{\"id\":63244,\"username\":\"Pickle_Face5\",\"name\":\"Caden R Dalley\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/pickle_face5/{size}/210767_2.png\"},\"last_poster\":{\"id\":48146,\"username\":\"bhall-ctre\",\"name\":\"Benjamin Hall\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/bhall-ctre/{size}/198180_2.png\"},\"links\":[{\"url\":\"https://v6.docs.ctr-electronics.com/en/stable/docs/tuner/tuner-swerve/index.html\",\"title\":\"Swerve Project Generator\",\"internal\":false,\"attachment\":false,\"reflection\":false,\"clicks\":10,\"user_id\":63061,\"domain\":\"v6.docs.ctr-electronics.com\",\"root_domain\":\"ctr-electronics.com\"},{\"url\":\"https://api.ctr-electronics.com/phoenix6/latest/cpp/classctre_1_1phoenix6_1_1swerve_1_1requests_1_1_field_centric_facing_angle.html#details\",\"title\":\"CTRE Phoenix 6 C++: ctre::phoenix6::swerve::requests::FieldCentricFacingAngle Class Reference\",\"internal\":false,\"attachment\":false,\"reflection\":false,\"clicks\":2,\"user_id\":63061,\"domain\":\"api.ctr-electronics.com\",\"root_domain\":\"ctr-electronics.com\"}]},\"bookmarks\":[]}"}
