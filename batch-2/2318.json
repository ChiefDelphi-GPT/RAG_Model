{"data":"{\"post_stream\":{\"posts\":[{\"id\":3372456,\"name\":\"joel truher\",\"username\":\"truher\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/truher/{size}/172222_2.png\",\"created_at\":\"2024-04-24T17:56:08.595Z\",\"cooked\":\"\\u003cp\\u003ehi everybody,\\u003c/p\\u003e\\n\\u003cp\\u003ethis season was pretty successful in terms of data-driven analysis, using  NT publishers, the WPLlib DataLogManager, and USB, and between-matches work using AdvantageScope.  We like it!\\u003c/p\\u003e\\n\\u003cp\\u003eOne of the things we noticed, though, was that it seems to load the Rio enough produce loop overruns.  We do a lot of logging, many hundreds of quantities, so \\u0026gt;10khz of log rows or (guess) \\u0026gt;100 KB/s writing?  We built a little filter to turn off the less-important logs (e.g. info/debug/trace), which is not bad, but sometimes you want a “trace” quantity from a comp match.\\u003c/p\\u003e\\n\\u003cp\\u003ethis summer i thought we could do some profiling to figure out what the issue is, but before we do that, i thought i’d ask here about log performance and NT performance.  is this level of log activity known to be an issue on the network or rio USB?  if file writing is known to be an issue, then we could use a network log-recorder instead of the rio, for example.  we definitely have \\u003ca href=\\\"https://www.chiefdelphi.com/t/logging-with-oblog-nt4-datalogmanager/442962/17\\\"\\u003ecode of our own\\u003c/a\\u003e to look into as well.\\u003c/p\\u003e\\n\\u003cp\\u003e\\u003ca class=\\\"mention\\\" href=\\\"/u/peter_johnson\\\"\\u003e@Peter_Johnson\\u003c/a\\u003e i think this is your area of expertise, wdyt?\\u003c/p\\u003e\",\"post_number\":1,\"post_type\":1,\"posts_count\":28,\"updated_at\":\"2024-04-24T17:56:08.595Z\",\"reply_count\":1,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":77,\"reads\":548,\"readers_count\":547,\"score\":544.6,\"yours\":false,\"topic_id\":464372,\"topic_slug\":\"logging-overhead\",\"display_username\":\"joel truher\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"link_counts\":[{\"url\":\"https://www.chiefdelphi.com/t/logging-with-oblog-nt4-datalogmanager/442962/17\",\"internal\":true,\"reflection\":false,\"title\":\"Logging with Oblog, NT4, DataLogManager\",\"clicks\":7}],\"read\":true,\"user_title\":null,\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":3}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":53190,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"\"},\"post_url\":\"/t/logging-overhead/464372/1\",\"custom_user_title\":null,\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":3}],\"current_user_reaction\":null,\"reaction_users_count\":3,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null,\"can_vote\":false},{\"id\":3372635,\"name\":\"Carlos Salazar\",\"username\":\"StarbuckBarista\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/starbuckbarista/{size}/186251_2.png\",\"created_at\":\"2024-04-24T20:05:15.629Z\",\"cooked\":\"\\u003cp\\u003eI’ve heard from a couple different people that they experienced less overrun issues on the Rio 2.0 in comparison to the Rio 1.0. Which of these are you using on your robot?\\u003c/p\\u003e\",\"post_number\":2,\"post_type\":1,\"posts_count\":28,\"updated_at\":\"2024-04-24T20:05:15.629Z\",\"reply_count\":0,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":466,\"readers_count\":465,\"score\":93.2,\"yours\":false,\"topic_id\":464372,\"topic_slug\":\"logging-overhead\",\"display_username\":\"Carlos Salazar\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":null,\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":57451,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"Programming \\u0026 Electrical Captain\"},\"post_url\":\"/t/logging-overhead/464372/2\",\"custom_user_title\":\"Programming \\u0026 Electrical Captain\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3372668,\"name\":\"joel truher\",\"username\":\"truher\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/truher/{size}/172222_2.png\",\"created_at\":\"2024-04-24T20:37:37.428Z\",\"cooked\":\"\\u003cp\\u003eWe use the 2.0 for comp robots.\\u003c/p\\u003e\\n\\u003cp\\u003eI’m not really asking about overruns in general, more asking about the main-thread latency effects of the USB writer and NT network code.  I had kind of imagined that the main thread would be almost completely unaffected, which means probably the issue is in our little glue class, but I thought I’d ask.\\u003c/p\\u003e\",\"post_number\":3,\"post_type\":1,\"posts_count\":28,\"updated_at\":\"2024-04-24T20:37:37.428Z\",\"reply_count\":0,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":1,\"reads\":441,\"readers_count\":440,\"score\":93.2,\"yours\":false,\"topic_id\":464372,\"topic_slug\":\"logging-overhead\",\"display_username\":\"joel truher\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":null,\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":53190,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"\"},\"post_url\":\"/t/logging-overhead/464372/3\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3372691,\"name\":\"Dkt01\",\"username\":\"Dkt01\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/dkt01/{size}/4603_2.png\",\"created_at\":\"2024-04-24T20:57:07.177Z\",\"cooked\":\"\\u003cp\\u003eWe had fairly limited WPILog telemetry logging, but what we did log was high-frequency.\\u003c/p\\u003e\\n\\u003cp\\u003eOn a RIO1, we logged odometry position estimate and swerve module states (velocity/angle) at 200Hz on a dedicated odometry thread.  Our swerve module setpoints (velocity/angle) were logged in the 50Hz default swerve drive command thread.  Our two LimeLight camera megatag2 pose estimates were logged on each new camera frame (~20Hz each in separate threads).  Beyond this we logged joystick inputs and the default network tables data.  We never noticed frequent loop time overruns.\\u003c/p\\u003e\\n\\u003cp\\u003eOur match logs were typically around 30MB spanning from power on while loading onto field to power off when retrieving the robot after a match.\\u003c/p\\u003e\",\"post_number\":4,\"post_type\":1,\"posts_count\":28,\"updated_at\":\"2024-04-24T20:57:07.177Z\",\"reply_count\":0,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":1,\"reads\":406,\"readers_count\":405,\"score\":86.2,\"yours\":false,\"topic_id\":464372,\"topic_slug\":\"logging-overhead\",\"display_username\":\"Dkt01\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":13396,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"1756 Argos: Programming Mentor\"},\"post_url\":\"/t/logging-overhead/464372/4\",\"custom_user_title\":\"1756 Argos: Programming Mentor\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3372701,\"name\":\"Peter Johnson\",\"username\":\"Peter_Johnson\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/peter_johnson/{size}/10417_2.png\",\"created_at\":\"2024-04-24T21:10:43.540Z\",\"cooked\":\"\\u003cp\\u003eNT is quite a bit more expensive than doing data logging directly (using the DataLog class).  I’ve started digging into profiling results to understand the major optimization opportunities for next year, but it will never be as fast as \\u003cem\\u003eonly\\u003c/em\\u003e data logging.  Data logging will always be faster (just about the fastest possible), because it has to do substantially less work.  Essentially the difference is that on the hot path, DataLog just grabs a lock, (maybe) allocates a buffer, and copies the logged data into the buffer.  NT loops over all subscribers, copies/enqueues the value to each one, notifies handles that a value is there, enqueues the update for communication over the network, etc… and if you’re using DataLogManager, \\u003cem\\u003ealso\\u003c/em\\u003e does the data log piece.\\u003c/p\\u003e\",\"post_number\":5,\"post_type\":1,\"posts_count\":28,\"updated_at\":\"2024-04-24T21:10:43.540Z\",\"reply_count\":1,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":8,\"reads\":361,\"readers_count\":360,\"score\":147.2,\"yours\":false,\"topic_id\":464372,\"topic_slug\":\"logging-overhead\",\"display_username\":\"Peter Johnson\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":2}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":13575,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"Volunteer WPILib Developer, CSA\"},\"post_url\":\"/t/logging-overhead/464372/5\",\"custom_user_title\":\"Volunteer WPILib Developer, CSA\",\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":2}],\"current_user_reaction\":null,\"reaction_users_count\":2,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3372933,\"name\":\"joel truher\",\"username\":\"truher\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/truher/{size}/172222_2.png\",\"created_at\":\"2024-04-25T01:18:01.927Z\",\"cooked\":\"\\u003cp\\u003eok that’s helpful, thank you.\\u003c/p\\u003e\\n\\u003cp\\u003eit sounds like, if no client is connected, then NT doesn’t do that much work, right?\\u003c/p\\u003e\\n\\u003cp\\u003ewhen glass is connected, does it subscribe to everything, whether you’re looking at it or not?\\u003c/p\\u003e\",\"post_number\":6,\"post_type\":1,\"posts_count\":28,\"updated_at\":\"2024-04-25T01:18:01.927Z\",\"reply_count\":1,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":320,\"readers_count\":319,\"score\":69.0,\"yours\":false,\"topic_id\":464372,\"topic_slug\":\"logging-overhead\",\"display_username\":\"joel truher\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":null,\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":53190,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"\"},\"post_url\":\"/t/logging-overhead/464372/6\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3372952,\"name\":\"Matthew Dowling \",\"username\":\"MattD06\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/m/c57346/{size}.png\",\"created_at\":\"2024-04-25T01:57:16.434Z\",\"cooked\":\"\\u003cp\\u003eThe way our team ended up doing it, was a combination of datalogger (to USB) and NT.\\u003cbr\\u003e\\nWe used both during practice but turned off our NT logging while connected to \\u003cspan class=\\\"abbreviation\\\"\\u003eFMS\\u003ctemplate class=\\\"tooltiptext\\\" data-text=\\\"Field Management System\\\"\\u003e\\u003c/template\\u003e\\u003c/span\\u003e. This didn’t eliminate loop overruns but significantly decreased them and removed some lag from our system while at comps. 1706’s logs were surprisingly small, or we were logging to much but ours averaged around 80 mb on data logs and 40mb for hoot logs. We also found that multithreading things that read NT significantly helped because they wouldn’t cause the main loop to slow down if it is waiting for data.\\u003c/p\\u003e\",\"post_number\":7,\"post_type\":1,\"posts_count\":28,\"updated_at\":\"2024-04-25T01:57:16.434Z\",\"reply_count\":1,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":291,\"readers_count\":290,\"score\":63.2,\"yours\":false,\"topic_id\":464372,\"topic_slug\":\"logging-overhead\",\"display_username\":\"Matthew Dowling \",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":null,\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":56595,\"hidden\":false,\"trust_level\":1,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"post_url\":\"/t/logging-overhead/464372/7\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3372958,\"name\":\"Peter Johnson\",\"username\":\"Peter_Johnson\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/peter_johnson/{size}/10417_2.png\",\"created_at\":\"2024-04-25T02:03:16.588Z\",\"cooked\":\"\\u003caside class=\\\"quote no-group\\\" data-username=\\\"truher\\\" data-post=\\\"6\\\" data-topic=\\\"464372\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg loading=\\\"lazy\\\" alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/user_avatar/www.chiefdelphi.com/truher/48/172222_2.png\\\" class=\\\"avatar\\\"\\u003e truher:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003eit sounds like, if no client is connected, then NT doesn’t do that much work, right?\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003cp\\u003eActually it doesn’t make all that much difference, at least not right now.  Some of the planned optimizations would make that more true.\\u003c/p\\u003e\\n\\u003caside class=\\\"quote no-group\\\" data-username=\\\"truher\\\" data-post=\\\"6\\\" data-topic=\\\"464372\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg loading=\\\"lazy\\\" alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/user_avatar/www.chiefdelphi.com/truher/48/172222_2.png\\\" class=\\\"avatar\\\"\\u003e truher:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003ewhen glass is connected, does it subscribe to everything, whether you’re looking at it or not?\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003cp\\u003eCurrently yes.\\u003c/p\\u003e\",\"post_number\":8,\"post_type\":1,\"posts_count\":28,\"updated_at\":\"2024-04-25T02:03:16.588Z\",\"reply_count\":1,\"reply_to_post_number\":6,\"quote_count\":1,\"incoming_link_count\":0,\"reads\":266,\"readers_count\":265,\"score\":58.2,\"yours\":false,\"topic_id\":464372,\"topic_slug\":\"logging-overhead\",\"display_username\":\"Peter Johnson\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":13575,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"Volunteer WPILib Developer, CSA\"},\"post_url\":\"/t/logging-overhead/464372/8\",\"custom_user_title\":\"Volunteer WPILib Developer, CSA\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3372982,\"name\":\"joel truher\",\"username\":\"truher\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/truher/{size}/172222_2.png\",\"created_at\":\"2024-04-25T02:37:36.566Z\",\"cooked\":\"\\u003cp\\u003eohhh.  hm.\\u003c/p\\u003e\\n\\u003cp\\u003ewhat would you recommend?\\u003c/p\\u003e\\n\\u003cp\\u003e(a) wait for your optimizations and then do some measurements\\u003c/p\\u003e\\n\\u003cp\\u003e(b) do something like what Matt does, logging to NT in dev and USB at comps\\u003c/p\\u003e\\n\\u003cp\\u003ewe really like the ability to see \\u003cem\\u003eeverything\\u003c/em\\u003e in glass for development, and we like to see \\u003cem\\u003eeverything\\u003c/em\\u003e in the USB log at comps.\\u003c/p\\u003e\",\"post_number\":9,\"post_type\":1,\"posts_count\":28,\"updated_at\":\"2024-04-25T02:37:36.566Z\",\"reply_count\":1,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":233,\"readers_count\":232,\"score\":51.6,\"yours\":false,\"topic_id\":464372,\"topic_slug\":\"logging-overhead\",\"display_username\":\"joel truher\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":null,\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":53190,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"\"},\"post_url\":\"/t/logging-overhead/464372/9\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3372985,\"name\":\"Peter Johnson\",\"username\":\"Peter_Johnson\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/peter_johnson/{size}/10417_2.png\",\"created_at\":\"2024-04-25T02:46:42.116Z\",\"cooked\":\"\\u003cp\\u003ewhynotboth.jpg\\u003c/p\\u003e\\n\\u003cp\\u003eSome of the sendable/telemetry API changes, as well as logging annotations, should make it easier to switch between NT and log-only next year as well.\\u003c/p\\u003e\",\"post_number\":10,\"post_type\":1,\"posts_count\":28,\"updated_at\":\"2024-04-25T02:46:42.116Z\",\"reply_count\":0,\"reply_to_post_number\":9,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":223,\"readers_count\":222,\"score\":59.6,\"yours\":false,\"topic_id\":464372,\"topic_slug\":\"logging-overhead\",\"display_username\":\"Peter Johnson\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"reply_to_user\":{\"id\":53190,\"username\":\"truher\",\"name\":\"joel truher\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/truher/{size}/172222_2.png\"},\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":1}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":13575,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"Volunteer WPILib Developer, CSA\"},\"post_url\":\"/t/logging-overhead/464372/10\",\"custom_user_title\":\"Volunteer WPILib Developer, CSA\",\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":1}],\"current_user_reaction\":null,\"reaction_users_count\":1,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3372989,\"name\":\"Shorya Malani\",\"username\":\"shoryamalani\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/s/8c91f0/{size}.png\",\"created_at\":\"2024-04-25T02:52:54.487Z\",\"cooked\":\"\\u003cp\\u003eShould we not connect to glass at a match then?\\u003c/p\\u003e\",\"post_number\":11,\"post_type\":1,\"posts_count\":28,\"updated_at\":\"2024-04-25T02:52:54.487Z\",\"reply_count\":1,\"reply_to_post_number\":8,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":218,\"readers_count\":217,\"score\":48.6,\"yours\":false,\"topic_id\":464372,\"topic_slug\":\"logging-overhead\",\"display_username\":\"Shorya Malani\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":null,\"reply_to_user\":{\"id\":13575,\"username\":\"Peter_Johnson\",\"name\":\"Peter Johnson\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/peter_johnson/{size}/10417_2.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":64046,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"post_url\":\"/t/logging-overhead/464372/11\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3373001,\"name\":\"Peter Johnson\",\"username\":\"Peter_Johnson\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/peter_johnson/{size}/10417_2.png\",\"created_at\":\"2024-04-25T03:17:02.681Z\",\"cooked\":\"\\u003cp\\u003eIt’s fine, just not as efficient as it could be.  Shuffleboard and SmartDashboard also subscribe to everything.\\u003c/p\\u003e\",\"post_number\":12,\"post_type\":1,\"posts_count\":28,\"updated_at\":\"2024-04-25T03:17:36.229Z\",\"reply_count\":0,\"reply_to_post_number\":11,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":210,\"readers_count\":209,\"score\":42.0,\"yours\":false,\"topic_id\":464372,\"topic_slug\":\"logging-overhead\",\"display_username\":\"Peter Johnson\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"reply_to_user\":{\"id\":64046,\"username\":\"shoryamalani\",\"name\":\"Shorya Malani\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/s/8c91f0/{size}.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":13575,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"Volunteer WPILib Developer, CSA\"},\"post_url\":\"/t/logging-overhead/464372/12\",\"custom_user_title\":\"Volunteer WPILib Developer, CSA\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3373012,\"name\":\"joel truher\",\"username\":\"truher\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/truher/{size}/172222_2.png\",\"created_at\":\"2024-04-25T03:42:11.555Z\",\"cooked\":\"\\u003cp\\u003e\\u003ca class=\\\"mention\\\" href=\\\"/u/mattd06\\\"\\u003e@MattD06\\u003c/a\\u003e woah you completely rolled your own, if i’m reading this right.  does this work with AdvantageScope?\\u003c/p\\u003e\\n\\u003caside class=\\\"onebox githubblob\\\" data-onebox-src=\\\"https://github.com/frc-862/lightning/blob/1439bfdc66a12d47fd50c17b8fcac01cf2a6d02d/src/main/java/com/lightningrobotics/common/logging/DataLogger.java\\\"\\u003e\\n  \\u003cheader class=\\\"source\\\"\\u003e\\n\\n      \\u003ca href=\\\"https://github.com/frc-862/lightning/blob/1439bfdc66a12d47fd50c17b8fcac01cf2a6d02d/src/main/java/com/lightningrobotics/common/logging/DataLogger.java\\\" target=\\\"_blank\\\" rel=\\\"noopener nofollow ugc\\\"\\u003egithub.com\\u003c/a\\u003e\\n  \\u003c/header\\u003e\\n\\n  \\u003carticle class=\\\"onebox-body\\\"\\u003e\\n    \\u003ch4\\u003e\\u003ca href=\\\"https://github.com/frc-862/lightning/blob/1439bfdc66a12d47fd50c17b8fcac01cf2a6d02d/src/main/java/com/lightningrobotics/common/logging/DataLogger.java\\\" target=\\\"_blank\\\" rel=\\\"noopener nofollow ugc\\\"\\u003efrc-862/lightning/blob/1439bfdc66a12d47fd50c17b8fcac01cf2a6d02d/src/main/java/com/lightningrobotics/common/logging/DataLogger.java\\u003c/a\\u003e\\u003c/h4\\u003e\\n\\n\\n      \\u003cpre\\u003e\\u003ccode class=\\\"lang-java\\\"\\u003epackage com.lightningrobotics.common.logging;\\n\\nimport java.io.File;\\nimport java.util.ArrayList;\\nimport java.util.Objects;\\nimport java.util.function.DoubleSupplier;\\nimport java.util.function.Supplier;\\nimport java.util.stream.Collectors;\\n\\nimport edu.wpi.first.wpilibj.DriverStation;\\nimport edu.wpi.first.wpilibj.Timer;\\nimport com.lightningrobotics.common.util.Loop;\\n\\npublic class DataLogger implements Loop {\\n    private static final int max_lines = 15000;\\n    private static DataLogger logger;\\n    private static String baseFName = \\\"robot\\\";\\n\\n    private LogWriter writer;\\n    private ArrayList\\u0026lt;String\\u0026gt; fieldNames = new ArrayList\\u0026lt;\\u0026gt;();\\n\\u003c/code\\u003e\\u003c/pre\\u003e\\n\\n\\n\\n  This file has been truncated. \\u003ca href=\\\"https://github.com/frc-862/lightning/blob/1439bfdc66a12d47fd50c17b8fcac01cf2a6d02d/src/main/java/com/lightningrobotics/common/logging/DataLogger.java\\\" target=\\\"_blank\\\" rel=\\\"noopener nofollow ugc\\\"\\u003eshow original\\u003c/a\\u003e\\n\\n  \\u003c/article\\u003e\\n\\n  \\u003cdiv class=\\\"onebox-metadata\\\"\\u003e\\n    \\n    \\n  \\u003c/div\\u003e\\n\\n  \\u003cdiv style=\\\"clear: both\\\"\\u003e\\u003c/div\\u003e\\n\\u003c/aside\\u003e\\n\",\"post_number\":13,\"post_type\":1,\"posts_count\":28,\"updated_at\":\"2024-04-25T03:42:11.555Z\",\"reply_count\":1,\"reply_to_post_number\":7,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":213,\"readers_count\":212,\"score\":47.6,\"yours\":false,\"topic_id\":464372,\"topic_slug\":\"logging-overhead\",\"display_username\":\"joel truher\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"link_counts\":[{\"url\":\"https://github.com/frc-862/lightning/blob/1439bfdc66a12d47fd50c17b8fcac01cf2a6d02d/src/main/java/com/lightningrobotics/common/logging/DataLogger.java\",\"internal\":false,\"reflection\":false,\"title\":\"lightning/src/main/java/com/lightningrobotics/common/logging/DataLogger.java at 1439bfdc66a12d47fd50c17b8fcac01cf2a6d02d · frc-862/lightning · GitHub\",\"clicks\":9}],\"read\":true,\"user_title\":null,\"reply_to_user\":{\"id\":56595,\"username\":\"MattD06\",\"name\":\"Matthew Dowling \",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/m/c57346/{size}.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":53190,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"\"},\"post_url\":\"/t/logging-overhead/464372/13\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3373120,\"name\":\"Matthew Dowling \",\"username\":\"MattD06\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/m/c57346/{size}.png\",\"created_at\":\"2024-04-25T11:20:49.721Z\",\"cooked\":\"\\u003cp\\u003eThat function did work with advantage scope I believe. But we didn’t use that repo as our base code this year, we used \\u003ca href=\\\"https://github.com/frc-862/thunder\\\" class=\\\"inline-onebox\\\" rel=\\\"noopener nofollow ugc\\\"\\u003eGitHub - frc-862/thunder: Lightning utilities and libraries.\\u003c/a\\u003e we ran with the stock datalogger but add some layers to shuffleboard.\\u003c/p\\u003e\",\"post_number\":14,\"post_type\":1,\"posts_count\":28,\"updated_at\":\"2024-04-25T11:20:49.721Z\",\"reply_count\":0,\"reply_to_post_number\":13,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":192,\"readers_count\":191,\"score\":53.4,\"yours\":false,\"topic_id\":464372,\"topic_slug\":\"logging-overhead\",\"display_username\":\"Matthew Dowling \",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"link_counts\":[{\"url\":\"https://github.com/frc-862/thunder\",\"internal\":false,\"reflection\":false,\"title\":\"GitHub - frc-862/thunder: Lightning utilities and libraries.\",\"clicks\":0}],\"read\":true,\"user_title\":null,\"reply_to_user\":{\"id\":53190,\"username\":\"truher\",\"name\":\"joel truher\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/truher/{size}/172222_2.png\"},\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":1}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":56595,\"hidden\":false,\"trust_level\":1,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"post_url\":\"/t/logging-overhead/464372/14\",\"custom_user_title\":null,\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":1}],\"current_user_reaction\":null,\"reaction_users_count\":1,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3373285,\"name\":\"Jonah Snider\",\"username\":\"jonahsnider\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/jonahsnider/{size}/203397_2.png\",\"created_at\":\"2024-04-25T14:48:21.156Z\",\"cooked\":\"\\u003caside class=\\\"quote no-group\\\" data-username=\\\"truher\\\" data-post=\\\"1\\\" data-topic=\\\"464372\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg loading=\\\"lazy\\\" alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/user_avatar/www.chiefdelphi.com/truher/48/172222_2.png\\\" class=\\\"avatar\\\"\\u003e truher:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003eOne of the things we noticed, though, was that it seems to load the Rio enough produce loop overruns. We do a lot of logging, many hundreds of quantities, so \\u0026gt;10khz of log rows or (guess) \\u0026gt;100 KB/s writing? We built a little filter to turn off the less-important logs\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003cp\\u003eThis season we switched from AdvantageKit to DataLogManager, and after noticing more loop overruns, we also ended up needing to prune a bunch of logs to improve performance.\\u003c/p\\u003e\\n\\u003cp\\u003eWe’re really happy with the switchover, but it’d be great if DataLogManager had no problems keeping up with the amount of logging AdvantageKit allowed.\\u003c/p\\u003e\",\"post_number\":15,\"post_type\":1,\"posts_count\":28,\"updated_at\":\"2024-04-25T14:48:21.156Z\",\"reply_count\":1,\"reply_to_post_number\":null,\"quote_count\":1,\"incoming_link_count\":0,\"reads\":183,\"readers_count\":182,\"score\":56.6,\"yours\":false,\"topic_id\":464372,\"topic_slug\":\"logging-overhead\",\"display_username\":\"Jonah Snider\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":null,\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":1}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":50609,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"581 software mentor\"},\"post_url\":\"/t/logging-overhead/464372/15\",\"custom_user_title\":\"581 software mentor\",\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":1}],\"current_user_reaction\":null,\"reaction_users_count\":1,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3373302,\"name\":\"Peter Johnson\",\"username\":\"Peter_Johnson\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/peter_johnson/{size}/10417_2.png\",\"created_at\":\"2024-04-25T15:03:11.039Z\",\"cooked\":\"\\u003caside class=\\\"quote no-group\\\" data-username=\\\"jonahsnider\\\" data-post=\\\"15\\\" data-topic=\\\"464372\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg loading=\\\"lazy\\\" alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/user_avatar/www.chiefdelphi.com/jonahsnider/48/203397_2.png\\\" class=\\\"avatar\\\"\\u003e jonahsnider:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003eWe’re really happy with the switchover, but it’d be great if DataLogManager had no problems keeping up with the amount of logging AdvantageKit allowed.\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003cp\\u003eBoth use the exact same logging implementation (DataLog).  My guess is that when you say you’re using DataLogManager, you’re using NT logging mechanisms (SmartDashboard.put or similar), versus the raw DataLog calls?  As I stated previously, NT is definitely slower than raw DataLog.  There’s two things I’m looking at to help with this for next year:\\u003c/p\\u003e\\n\\u003cul\\u003e\\n\\u003cli\\u003eOptimize the NT path\\u003c/li\\u003e\\n\\u003cli\\u003eUpdate Sendable and other classes to allow for easy swapping between NT and DataLog-only backends\\u003c/li\\u003e\\n\\u003c/ul\\u003e\",\"post_number\":16,\"post_type\":1,\"posts_count\":28,\"updated_at\":\"2024-04-25T15:03:11.039Z\",\"reply_count\":1,\"reply_to_post_number\":15,\"quote_count\":1,\"incoming_link_count\":5,\"reads\":170,\"readers_count\":169,\"score\":64.0,\"yours\":false,\"topic_id\":464372,\"topic_slug\":\"logging-overhead\",\"display_username\":\"Peter Johnson\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":13575,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"Volunteer WPILib Developer, CSA\"},\"post_url\":\"/t/logging-overhead/464372/16\",\"custom_user_title\":\"Volunteer WPILib Developer, CSA\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3373319,\"name\":\"Jonah Snider\",\"username\":\"jonahsnider\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/jonahsnider/{size}/203397_2.png\",\"created_at\":\"2024-04-25T15:21:50.150Z\",\"cooked\":\"\\u003cp\\u003eWe are using the raw DataLog calls, and having NT publishing turned on/off in DataLogManager did not seem to have much of an effect for us.\\u003c/p\\u003e\",\"post_number\":17,\"post_type\":1,\"posts_count\":28,\"updated_at\":\"2024-04-25T15:21:50.150Z\",\"reply_count\":1,\"reply_to_post_number\":16,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":158,\"readers_count\":157,\"score\":36.6,\"yours\":false,\"topic_id\":464372,\"topic_slug\":\"logging-overhead\",\"display_username\":\"Jonah Snider\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":null,\"reply_to_user\":{\"id\":13575,\"username\":\"Peter_Johnson\",\"name\":\"Peter Johnson\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/peter_johnson/{size}/10417_2.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":50609,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"581 software mentor\"},\"post_url\":\"/t/logging-overhead/464372/17\",\"custom_user_title\":\"581 software mentor\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3373320,\"name\":\"Peter Johnson\",\"username\":\"Peter_Johnson\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/peter_johnson/{size}/10417_2.png\",\"created_at\":\"2024-04-25T15:24:46.571Z\",\"cooked\":\"\\u003cp\\u003eAdvantageKit calls DataLog functions to log data, so I can’t see how it would be any faster than calling those functions yourself.  The only thing I can think of is that AdvantageKit may be avoiding timestamp-getting overhead by getting the timestamp once and passing the same timestamp value to all of the DataLog set calls?  (It’s an optional second parameter, if you don’t pass a value, DataLog has to go get the timestamp itself, which takes a bit of time… it’s tiny but it might add up with a sufficient number of calls).\\u003c/p\\u003e\",\"post_number\":18,\"post_type\":1,\"posts_count\":28,\"updated_at\":\"2024-04-25T15:24:46.571Z\",\"reply_count\":1,\"reply_to_post_number\":17,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":164,\"readers_count\":163,\"score\":37.8,\"yours\":false,\"topic_id\":464372,\"topic_slug\":\"logging-overhead\",\"display_username\":\"Peter Johnson\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"reply_to_user\":{\"id\":50609,\"username\":\"jonahsnider\",\"name\":\"Jonah Snider\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/jonahsnider/{size}/203397_2.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":13575,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"Volunteer WPILib Developer, CSA\"},\"post_url\":\"/t/logging-overhead/464372/18\",\"custom_user_title\":\"Volunteer WPILib Developer, CSA\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3373339,\"name\":\"Jonah Snider\",\"username\":\"jonahsnider\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/jonahsnider/{size}/203397_2.png\",\"created_at\":\"2024-04-25T15:38:14.530Z\",\"cooked\":\"\\u003cp\\u003eHmm, it’s totally possible that we misdiagnosed the cause of our increased loop overruns. We did not do actual benchmarks between AdvantageKit \\u0026amp; DataLogManager during the switchover, so I can’t say for sure whether that was the specific cause.\\u003c/p\\u003e\\n\\u003cp\\u003eOne other change we noticed is that the log files from AdvantageKit were \\u003cem\\u003emuch\\u003c/em\\u003e smaller in size compared to after switching to DataLogManager. The log files now are so big that it’s no longer feasible for us to use AdvantageScope’s log download feature to \\u003ccode\\u003escp\\u003c/code\\u003e them to a laptop. Could this possibly be related to the log timestamp behavior you mentioned? Or is something else happening here?\\u003c/p\\u003e\",\"post_number\":19,\"post_type\":1,\"posts_count\":28,\"updated_at\":\"2024-04-25T15:38:14.530Z\",\"reply_count\":1,\"reply_to_post_number\":18,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":166,\"readers_count\":165,\"score\":38.2,\"yours\":false,\"topic_id\":464372,\"topic_slug\":\"logging-overhead\",\"display_username\":\"Jonah Snider\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":null,\"reply_to_user\":{\"id\":13575,\"username\":\"Peter_Johnson\",\"name\":\"Peter Johnson\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/peter_johnson/{size}/10417_2.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":50609,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"581 software mentor\"},\"post_url\":\"/t/logging-overhead/464372/19\",\"custom_user_title\":\"581 software mentor\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3373359,\"name\":\"Peter Johnson\",\"username\":\"Peter_Johnson\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/peter_johnson/{size}/10417_2.png\",\"created_at\":\"2024-04-25T16:02:10.854Z\",\"cooked\":\"\\u003caside class=\\\"quote no-group\\\" data-username=\\\"jonahsnider\\\" data-post=\\\"19\\\" data-topic=\\\"464372\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg loading=\\\"lazy\\\" alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/user_avatar/www.chiefdelphi.com/jonahsnider/48/203397_2.png\\\" class=\\\"avatar\\\"\\u003e jonahsnider:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003eOr is something else happening here?\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003cp\\u003eRaw DataLog calls do \\u003cem\\u003enot\\u003c/em\\u003e do change detection.  Every time you call DataLog.appendX(), a value is written to the file, even if the value did not change from the last time you called appendX().  Not doing this check means faster operation at the time of the call, but more data being written to the file.  I’m not sure, but AdvantageKit may do this change checking, which would explain why the files are a lot smaller.\\u003c/p\\u003e\\n\\u003cp\\u003eI’m working on adding entry points for DataLog that add this change detection so it’s available to all DataLog users.\\u003c/p\\u003e\",\"post_number\":20,\"post_type\":1,\"posts_count\":28,\"updated_at\":\"2024-04-25T16:02:10.854Z\",\"reply_count\":1,\"reply_to_post_number\":19,\"quote_count\":1,\"incoming_link_count\":1,\"reads\":156,\"readers_count\":155,\"score\":41.2,\"yours\":false,\"topic_id\":464372,\"topic_slug\":\"logging-overhead\",\"display_username\":\"Peter Johnson\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":1}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":13575,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"Volunteer WPILib Developer, CSA\"},\"post_url\":\"/t/logging-overhead/464372/20\",\"custom_user_title\":\"Volunteer WPILib Developer, CSA\",\"reactions\":[{\"id\":\"100\",\"type\":\"emoji\",\"count\":1}],\"current_user_reaction\":null,\"reaction_users_count\":1,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null}],\"stream\":[3372456,3372635,3372668,3372691,3372701,3372933,3372952,3372958,3372982,3372985,3372989,3373001,3373012,3373120,3373285,3373302,3373319,3373320,3373339,3373359,3373514,3373535,3373549,3373561,3403223,3403239,3404766,3672696]},\"timeline_lookup\":[[1,535],[15,534],[25,470],[27,466],[28,101]],\"tags\":[],\"tags_descriptions\":{},\"fancy_title\":\"Logging overhead\",\"id\":464372,\"title\":\"Logging overhead\",\"posts_count\":28,\"created_at\":\"2024-04-24T17:56:08.523Z\",\"views\":1390,\"reply_count\":16,\"like_count\":14,\"last_posted_at\":\"2025-07-02T17:28:08.100Z\",\"visible\":true,\"closed\":true,\"archived\":false,\"has_summary\":false,\"archetype\":\"regular\",\"slug\":\"logging-overhead\",\"category_id\":30,\"word_count\":2308,\"deleted_at\":null,\"user_id\":53190,\"featured_link\":null,\"pinned_globally\":false,\"pinned_at\":null,\"pinned_until\":null,\"image_url\":null,\"slow_mode_seconds\":0,\"draft\":null,\"draft_key\":\"topic_464372\",\"draft_sequence\":null,\"unpinned\":null,\"pinned\":false,\"current_post_number\":1,\"highest_post_number\":28,\"deleted_by\":null,\"actions_summary\":[{\"id\":4,\"count\":0,\"hidden\":false,\"can_act\":false},{\"id\":8,\"count\":0,\"hidden\":false,\"can_act\":false},{\"id\":10,\"count\":0,\"hidden\":false,\"can_act\":false},{\"id\":7,\"count\":0,\"hidden\":false,\"can_act\":false}],\"chunk_size\":20,\"bookmarked\":false,\"topic_timer\":null,\"message_bus_last_id\":0,\"participant_count\":9,\"show_read_indicator\":false,\"thumbnails\":null,\"slow_mode_enabled_until\":null,\"valid_reactions\":[\"heart\",\"laughing\",\"point_up\",\"+1\",\"-1\",\"100\",\"open_mouth\",\"cry\",\"question\",\"thinking\",\"call_me_hand\",\"hugs\",\"angry\"],\"user_chosen_thumbnail_url\":null,\"sidecar_installed\":true,\"can_vote\":false,\"vote_count\":0,\"user_voted\":false,\"discourse_zendesk_plugin_zendesk_id\":null,\"discourse_zendesk_plugin_zendesk_url\":\"https://your-url.zendesk.com/agent/tickets/\",\"details\":{\"can_edit\":false,\"notification_level\":1,\"participants\":[{\"id\":13575,\"username\":\"Peter_Johnson\",\"name\":\"Peter Johnson\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/peter_johnson/{size}/10417_2.png\",\"post_count\":9,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":53190,\"username\":\"truher\",\"name\":\"joel truher\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/truher/{size}/172222_2.png\",\"post_count\":7,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":50609,\"username\":\"jonahsnider\",\"name\":\"Jonah Snider\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/jonahsnider/{size}/203397_2.png\",\"post_count\":3,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":9953,\"username\":\"kylelanman\",\"name\":\"kylelanman\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/kylelanman/{size}/3427_2.png\",\"post_count\":2,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":56595,\"username\":\"MattD06\",\"name\":\"Matthew Dowling \",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/m/c57346/{size}.png\",\"post_count\":2,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":1},{\"id\":13396,\"username\":\"Dkt01\",\"name\":\"Dkt01\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/dkt01/{size}/4603_2.png\",\"post_count\":1,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":64046,\"username\":\"shoryamalani\",\"name\":\"Shorya Malani\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/s/8c91f0/{size}.png\",\"post_count\":1,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":57451,\"username\":\"StarbuckBarista\",\"name\":\"Carlos Salazar\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/starbuckbarista/{size}/186251_2.png\",\"post_count\":1,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":44471,\"username\":\"jonahb55\",\"name\":\"Jonah Bonner\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/jonahb55/{size}/194474_2.png\",\"post_count\":1,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2}],\"created_by\":{\"id\":53190,\"username\":\"truher\",\"name\":\"joel truher\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/truher/{size}/172222_2.png\"},\"last_poster\":{\"id\":-1,\"username\":\"system\",\"name\":\"system\",\"avatar_template\":\"/uploads/default/original/4X/9/3/2/93234578e69f55873c63fc00fe2d0d85f23bce55.png\"},\"links\":[{\"url\":\"https://github.com/frc-862/lightning/blob/1439bfdc66a12d47fd50c17b8fcac01cf2a6d02d/src/main/java/com/lightningrobotics/common/logging/DataLogger.java\",\"title\":\"lightning/src/main/java/com/lightningrobotics/common/logging/DataLogger.java at 1439bfdc66a12d47fd50c17b8fcac01cf2a6d02d · frc-862/lightning · GitHub\",\"internal\":false,\"attachment\":false,\"reflection\":false,\"clicks\":9,\"user_id\":53190,\"domain\":\"github.com\",\"root_domain\":\"github.com\"},{\"url\":\"https://www.chiefdelphi.com/t/logging-with-oblog-nt4-datalogmanager/442962/17\",\"title\":\"Logging with Oblog, NT4, DataLogManager\",\"internal\":true,\"attachment\":false,\"reflection\":false,\"clicks\":7,\"user_id\":53190,\"domain\":\"www.chiefdelphi.com\",\"root_domain\":\"chiefdelphi.com\"},{\"url\":\"https://docs.wpilib.org/en/stable/docs/software/telemetry/datalog.html#\",\"title\":\"On-Robot Telemetry Recording Into Data Logs — FIRST Robotics Competition documentation\",\"internal\":false,\"attachment\":false,\"reflection\":false,\"clicks\":2,\"user_id\":9953,\"domain\":\"docs.wpilib.org\",\"root_domain\":\"wpilib.org\"},{\"url\":\"https://github.com/wpilibsuite/allwpilib/blob/main/glass/src/libnt/native/cpp/NetworkTables.cpp#L89-L91\",\"title\":\"allwpilib/glass/src/libnt/native/cpp/NetworkTables.cpp at main · wpilibsuite/allwpilib · GitHub\",\"internal\":false,\"attachment\":false,\"reflection\":false,\"clicks\":1,\"user_id\":13575,\"domain\":\"github.com\",\"root_domain\":\"github.com\"}]},\"bookmarks\":[]}"}
