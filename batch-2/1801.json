{"data":"{\"post_stream\":{\"posts\":[{\"id\":3398848,\"name\":\"Emil\",\"username\":\"GronkBaby\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/g/ba8739/{size}.png\",\"created_at\":\"2024-06-14T15:54:33.162Z\",\"cooked\":\"\\u003cp\\u003eI’ve been trying to implement a filter to fuse odometry with vision for our swerve. I understand that SwerveDrivePoseEstimator exists, but I am opting for something more custom as a fun project and so that I have more flexibility. I am unsure, however, what the prediction (process model) should look like. A mentor told me that it should be the odometry, but isn’t that a measurement? Let’s say we use the odometry as the process model. Then if we were to implement a UKF, all sigma points would be offset by the same odometry twist - and the weighted average would be the same as the previous pose + the odometry twist. Similarly, the limelight measurements are already in state space, so the measurement function is also linear. Isn’t this just a linear model? Couldn’t we just implement a linear Kalman Filter with some control input for the odometry.\\u003c/p\\u003e\\n\\u003cp\\u003eFrom what I can see, Mechanical Advantage uses some version of a linear kalman filter, but Citrus Circuits uses an Extended kalman filter.\\u003c/p\\u003e\",\"post_number\":1,\"post_type\":1,\"posts_count\":20,\"updated_at\":\"2024-06-14T15:54:33.162Z\",\"reply_count\":0,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":327,\"reads\":709,\"readers_count\":708,\"score\":1771.8,\"yours\":false,\"topic_id\":467637,\"topic_slug\":\"kalman-filters-for-swerve\",\"display_username\":\"Emil\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":64351,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"\"},\"post_url\":\"/t/kalman-filters-for-swerve/467637/1\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null,\"can_vote\":false},{\"id\":3398863,\"name\":\"Tyler Veness\",\"username\":\"calcmogul\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/calcmogul/{size}/128045_2.png\",\"created_at\":\"2024-06-14T16:50:18.023Z\",\"cooked\":\"\\u003cp\\u003eThe more accurate way to model this is with factor graphs, but it’s more computationally intensive and requires a coprocessor: \\u003ca href=\\\"https://github.com/mcm001/gtsam-playground/\\\" class=\\\"inline-onebox\\\" rel=\\\"noopener nofollow ugc\\\"\\u003eGitHub - mcm001/gtsam-playground\\u003c/a\\u003e. This program consumes AprilTag corners and a camera model, and produces robot poses. The main benefits are:\\u003c/p\\u003e\\n\\u003col\\u003e\\n\\u003cli\\u003eit more accurately represents the true probability distribution via tag corner pixel noise propagating through a camera model, so you no longer have to manually fudge the measurement covariance matrices based on distance\\u003c/li\\u003e\\n\\u003cli\\u003ebecause it finds the maximum likelihood trajectory over time (kinda like \\u003ca href=\\\"https://en.wikipedia.org/wiki/Structure_from_motion\\\" rel=\\\"noopener nofollow ugc\\\"\\u003estructure from motion\\u003c/a\\u003e), tag pose ambiguity is avoided\\u003c/li\\u003e\\n\\u003c/ol\\u003e\\n\\u003cp\\u003eA simpler/cheaper way to do this would probably be to use the same odometry, tag corners, and camera model in a \\u003ca href=\\\"https://github.wpilib.org/allwpilib/docs/release/java/edu/wpi/first/math/estimator/UnscentedKalmanFilter.html\\\" rel=\\\"noopener nofollow ugc\\\"\\u003eUKF\\u003c/a\\u003e. The odometry is the model, the camera corners are the measurements, and the camera model is the nonlinear measurement model h(x, u). The main problem is pose ambiguity comes back and has to be handled, and a UKF isn’t computationally cheap either (tho tbf, there’s a lot of object allocation optimization we could do, short of just wrapping C++'s whole UKF class in a JNI).\\u003c/p\\u003e\",\"post_number\":2,\"post_type\":1,\"posts_count\":20,\"updated_at\":\"2024-06-14T18:09:42.807Z\",\"reply_count\":1,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":23,\"reads\":656,\"readers_count\":655,\"score\":311.2,\"yours\":false,\"topic_id\":467637,\"topic_slug\":\"kalman-filters-for-swerve\",\"display_username\":\"Tyler Veness\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":5,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"link_counts\":[{\"url\":\"https://github.com/mcm001/gtsam-playground/\",\"internal\":false,\"reflection\":false,\"title\":\"GitHub - mcm001/gtsam-playground\",\"clicks\":76},{\"url\":\"https://github.wpilib.org/allwpilib/docs/release/java/edu/wpi/first/math/estimator/UnscentedKalmanFilter.html\",\"internal\":false,\"reflection\":false,\"title\":\"UnscentedKalmanFilter (WPILib API 2024.3.2)\",\"clicks\":43},{\"url\":\"https://en.wikipedia.org/wiki/Structure_from_motion\",\"internal\":false,\"reflection\":false,\"title\":\"Structure from motion - Wikipedia\",\"clicks\":11}],\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":4}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":16846,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"WPILib controls | Choreo optimizer backend\"},\"post_url\":\"/t/kalman-filters-for-swerve/467637/2\",\"custom_user_title\":\"WPILib controls | Choreo optimizer backend\",\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":4}],\"current_user_reaction\":null,\"reaction_users_count\":4,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3398872,\"name\":\"Emil\",\"username\":\"GronkBaby\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/g/ba8739/{size}.png\",\"created_at\":\"2024-06-14T17:29:05.737Z\",\"cooked\":\"\\u003cp\\u003eI’ve only experimented with the out of the box Limelight for localization. There the measurement function would just return the predicted pose, right?\\u003c/p\\u003e\\n\\u003cp\\u003eFor using OpenCV libraries and analyzing tag corners, since tag ambiguity is different depending on orientation, would the measurement noise matrix be different every time (how do you account for pose ambiguity)?\\u003c/p\\u003e\\n\\u003cp\\u003eAlso, if you detect collisions, would you just increase the elements of the covariance matrix  of the process model\\u003c/p\\u003e\\n\\u003cp\\u003eOn a side note , doesn’t pose ambiguity mean that the tag can be interpreted in two different orientations leading to 2 poses? In that case, can’t you eliminate that by choosing the pose which is closest to your current pose?\\u003c/p\\u003e\\n\\u003cp\\u003eSorry for all the questions - I have nobody else to ask \\u003cimg src=\\\"https://www.chiefdelphi.com/images/emoji/google/slight_smile.png?v=12\\\" title=\\\":slight_smile:\\\" class=\\\"emoji\\\" alt=\\\":slight_smile:\\\" loading=\\\"lazy\\\" width=\\\"20\\\" height=\\\"20\\\"\\u003e\\u003c/p\\u003e\\n\\u003cp\\u003eEdit: Is there any noticeable difference in performance between factor graphs and a UKF?\\u003c/p\\u003e\",\"post_number\":3,\"post_type\":1,\"posts_count\":20,\"updated_at\":\"2024-06-14T17:30:27.688Z\",\"reply_count\":1,\"reply_to_post_number\":2,\"quote_count\":0,\"incoming_link_count\":6,\"reads\":529,\"readers_count\":528,\"score\":140.8,\"yours\":false,\"topic_id\":467637,\"topic_slug\":\"kalman-filters-for-swerve\",\"display_username\":\"Emil\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"reply_to_user\":{\"id\":16846,\"username\":\"calcmogul\",\"name\":\"Tyler Veness\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/calcmogul/{size}/128045_2.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":64351,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"\"},\"post_url\":\"/t/kalman-filters-for-swerve/467637/3\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3398876,\"name\":\"Tyler Veness\",\"username\":\"calcmogul\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/calcmogul/{size}/128045_2.png\",\"created_at\":\"2024-06-14T17:32:40.063Z\",\"cooked\":\"\\u003caside class=\\\"quote no-group\\\" data-username=\\\"GronkBaby\\\" data-post=\\\"3\\\" data-topic=\\\"467637\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg loading=\\\"lazy\\\" alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/letter_avatar_proxy/v4/letter/g/ba8739/48.png\\\" class=\\\"avatar\\\"\\u003e GronkBaby:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003eThere the measurement function would just return the predicted pose, right?\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003cp\\u003eThat’s how the WPILib pose estimator works at least. The problem with that is the true uncertainty isn’t gaussian on pose; it’s gaussian on tag corner pixels. The measurement model I suggested in my previous post would include pose in the state x and return corner pixel locations.\\u003c/p\\u003e\\n\\u003caside class=\\\"quote no-group\\\" data-username=\\\"GronkBaby\\\" data-post=\\\"3\\\" data-topic=\\\"467637\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg loading=\\\"lazy\\\" alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/letter_avatar_proxy/v4/letter/g/ba8739/48.png\\\" class=\\\"avatar\\\"\\u003e GronkBaby:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003ehow do you account for pose ambiguity\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003cp\\u003eYou basically just have to be aggressive about rejecting pose measurements that don’t make physical sense based on where you just were.\\u003c/p\\u003e\\n\\u003caside class=\\\"quote no-group\\\" data-username=\\\"GronkBaby\\\" data-post=\\\"3\\\" data-topic=\\\"467637\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg loading=\\\"lazy\\\" alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/letter_avatar_proxy/v4/letter/g/ba8739/48.png\\\" class=\\\"avatar\\\"\\u003e GronkBaby:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003eAlso, if you detect collisions, would you just increase the elements of the covariance matrix of the process model\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003cp\\u003eOr throw out the pose estimate entirely depending on how bad the drivetrain slipped, yea.\\u003c/p\\u003e\\n\\u003caside class=\\\"quote no-group\\\" data-username=\\\"GronkBaby\\\" data-post=\\\"3\\\" data-topic=\\\"467637\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg loading=\\\"lazy\\\" alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/letter_avatar_proxy/v4/letter/g/ba8739/48.png\\\" class=\\\"avatar\\\"\\u003e GronkBaby:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003eOn a side note , doesn’t pose ambiguity mean that the tag can be interpreted in two different orientations leading to 2 poses? In that case, can’t you eliminate that by choosing the pose which is closest to your current pose?\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003cp\\u003eThere’s several ways to resolve it, and none are perfect. \\u003ca href=\\\"https://github.com/PhotonVision/photonvision/blob/master/photon-lib/src/main/java/org/photonvision/PhotonPoseEstimator.java#L60-L87\\\" rel=\\\"noopener nofollow ugc\\\"\\u003ePhotonLib\\u003c/a\\u003e offers a few different strategies if you want inspiration.\\u003c/p\\u003e\\n\\u003caside class=\\\"quote no-group\\\" data-username=\\\"GronkBaby\\\" data-post=\\\"3\\\" data-topic=\\\"467637\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg loading=\\\"lazy\\\" alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/letter_avatar_proxy/v4/letter/g/ba8739/48.png\\\" class=\\\"avatar\\\"\\u003e GronkBaby:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003eIs there any noticeable difference in performance between factor graphs and a UKF?\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003cp\\u003eLike I said in my previous post, a UKF is cheaper than factor graphs, but still expensive on a roboRIO.\\u003c/p\\u003e\",\"post_number\":4,\"post_type\":1,\"posts_count\":20,\"updated_at\":\"2024-06-14T17:38:10.598Z\",\"reply_count\":3,\"reply_to_post_number\":3,\"quote_count\":1,\"incoming_link_count\":2,\"reads\":475,\"readers_count\":474,\"score\":135.0,\"yours\":false,\"topic_id\":467637,\"topic_slug\":\"kalman-filters-for-swerve\",\"display_username\":\"Tyler Veness\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":2,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"link_counts\":[{\"url\":\"https://github.com/PhotonVision/photonvision/blob/master/photon-lib/src/main/java/org/photonvision/PhotonPoseEstimator.java#L60-L87\",\"internal\":false,\"reflection\":false,\"title\":\"photonvision/photon-lib/src/main/java/org/photonvision/PhotonPoseEstimator.java at master · PhotonVision/photonvision · GitHub\",\"clicks\":10}],\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":1}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":16846,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"WPILib controls | Choreo optimizer backend\"},\"post_url\":\"/t/kalman-filters-for-swerve/467637/4\",\"custom_user_title\":\"WPILib controls | Choreo optimizer backend\",\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":1}],\"current_user_reaction\":null,\"reaction_users_count\":1,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3398878,\"name\":\"Emil\",\"username\":\"GronkBaby\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/g/ba8739/{size}.png\",\"created_at\":\"2024-06-14T17:42:17.031Z\",\"cooked\":\"\\u003cp\\u003eIf I had to use a coprocessor - wouldn’t the added latency make the pose estimate always lag, so that we have an estimate of where the robot was, say 80 ms ago?\\u003c/p\\u003e\\n\\u003cp\\u003eAlthough I’m pretty sure if I’m using Krakens or Talons, using a CANivore the encoder measurements can go directly to a coprocessor without having to go through the Rio……\\u003c/p\\u003e\\n\\u003cp\\u003eThanks a lot for the help! Your state space control book rocks by the way.\\u003c/p\\u003e\",\"post_number\":5,\"post_type\":1,\"posts_count\":20,\"updated_at\":\"2024-06-14T17:42:17.031Z\",\"reply_count\":1,\"reply_to_post_number\":4,\"quote_count\":0,\"incoming_link_count\":3,\"reads\":390,\"readers_count\":389,\"score\":113.0,\"yours\":false,\"topic_id\":467637,\"topic_slug\":\"kalman-filters-for-swerve\",\"display_username\":\"Emil\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"reply_to_user\":{\"id\":16846,\"username\":\"calcmogul\",\"name\":\"Tyler Veness\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/calcmogul/{size}/128045_2.png\"},\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":1}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":64351,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"\"},\"post_url\":\"/t/kalman-filters-for-swerve/467637/5\",\"custom_user_title\":null,\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":1}],\"current_user_reaction\":null,\"reaction_users_count\":1,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3398886,\"name\":\"Drew Williams\",\"username\":\"jreneew2\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/jreneew2/{size}/135239_2.png\",\"created_at\":\"2024-06-14T18:02:20.402Z\",\"cooked\":\"\\u003cp\\u003eIf you sync your coprocessors clock with the rio’s fpga, you can call AddVisionMeasurement() with the synced timestamp and it will apply the pose correctly, even if it is “back in time”.\\u003c/p\\u003e\\n\\u003cp\\u003eSee the comment here:\\u003c/p\\u003e\\u003caside class=\\\"onebox githubblob\\\" data-onebox-src=\\\"https://github.com/wpilibsuite/allwpilib/blob/bb8480c6906cc8ed7617b3de51198e87a8163ca7/wpimath/src/main/native/include/frc/estimator/PoseEstimator.h#L123\\\"\\u003e\\n  \\u003cheader class=\\\"source\\\"\\u003e\\n\\n      \\u003ca href=\\\"https://github.com/wpilibsuite/allwpilib/blob/bb8480c6906cc8ed7617b3de51198e87a8163ca7/wpimath/src/main/native/include/frc/estimator/PoseEstimator.h#L123\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\\u003egithub.com\\u003c/a\\u003e\\n  \\u003c/header\\u003e\\n\\n  \\u003carticle class=\\\"onebox-body\\\"\\u003e\\n    \\u003ch4\\u003e\\u003ca href=\\\"https://github.com/wpilibsuite/allwpilib/blob/bb8480c6906cc8ed7617b3de51198e87a8163ca7/wpimath/src/main/native/include/frc/estimator/PoseEstimator.h#L123\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\\u003ewpilibsuite/allwpilib/blob/bb8480c6906cc8ed7617b3de51198e87a8163ca7/wpimath/src/main/native/include/frc/estimator/PoseEstimator.h#L123\\u003c/a\\u003e\\u003c/h4\\u003e\\n\\n\\n\\n    \\u003cpre class=\\\"onebox\\\"\\u003e\\u003ccode class=\\\"lang-h\\\"\\u003e\\n      \\u003col class=\\\"start lines\\\" start=\\\"113\\\" style=\\\"counter-reset: li-counter 112 ;\\\"\\u003e\\n          \\u003cli\\u003e *\\u003c/li\\u003e\\n          \\u003cli\\u003e * @param visionRobotPose The pose of the robot as measured by the vision\\u003c/li\\u003e\\n          \\u003cli\\u003e *     camera.\\u003c/li\\u003e\\n          \\u003cli\\u003e * @param timestamp The timestamp of the vision measurement in seconds. Note\\u003c/li\\u003e\\n          \\u003cli\\u003e *     that if you don't use your own time source by calling UpdateWithTime(),\\u003c/li\\u003e\\n          \\u003cli\\u003e *     then you must use a timestamp with an epoch since FPGA startup (i.e.,\\u003c/li\\u003e\\n          \\u003cli\\u003e *     the epoch of this timestamp is the same epoch as\\u003c/li\\u003e\\n          \\u003cli\\u003e *     frc::Timer::GetFPGATimestamp(). This means that you should use\\u003c/li\\u003e\\n          \\u003cli\\u003e *     frc::Timer::GetFPGATimestamp() as your time source in this case.\\u003c/li\\u003e\\n          \\u003cli\\u003e */\\u003c/li\\u003e\\n          \\u003cli class=\\\"selected\\\"\\u003evoid AddVisionMeasurement(const Pose2d\\u0026amp; visionRobotPose,\\u003c/li\\u003e\\n          \\u003cli\\u003e                          units::second_t timestamp);\\u003c/li\\u003e\\n          \\u003cli\\u003e\\u003c/li\\u003e\\n          \\u003cli\\u003e/**\\u003c/li\\u003e\\n          \\u003cli\\u003e * Adds a vision measurement to the Kalman Filter. This will correct\\u003c/li\\u003e\\n          \\u003cli\\u003e * the odometry pose estimate while still accounting for measurement noise.\\u003c/li\\u003e\\n          \\u003cli\\u003e *\\u003c/li\\u003e\\n          \\u003cli\\u003e * This method can be called as infrequently as you want, as long as you are\\u003c/li\\u003e\\n          \\u003cli\\u003e * calling Update() every loop.\\u003c/li\\u003e\\n          \\u003cli\\u003e *\\u003c/li\\u003e\\n          \\u003cli\\u003e * To promote stability of the pose estimate and make it robust to bad vision\\u003c/li\\u003e\\n      \\u003c/ol\\u003e\\n    \\u003c/code\\u003e\\u003c/pre\\u003e\\n\\n\\n\\n  \\u003c/article\\u003e\\n\\n  \\u003cdiv class=\\\"onebox-metadata\\\"\\u003e\\n    \\n    \\n  \\u003c/div\\u003e\\n\\n  \\u003cdiv style=\\\"clear: both\\\"\\u003e\\u003c/div\\u003e\\n\\u003c/aside\\u003e\\n\",\"post_number\":6,\"post_type\":1,\"posts_count\":20,\"updated_at\":\"2024-06-14T18:02:20.402Z\",\"reply_count\":1,\"reply_to_post_number\":5,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":395,\"readers_count\":394,\"score\":84.0,\"yours\":false,\"topic_id\":467637,\"topic_slug\":\"kalman-filters-for-swerve\",\"display_username\":\"Drew Williams\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"link_counts\":[{\"url\":\"https://github.com/wpilibsuite/allwpilib/blob/bb8480c6906cc8ed7617b3de51198e87a8163ca7/wpimath/src/main/native/include/frc/estimator/PoseEstimator.h#L123\",\"internal\":false,\"reflection\":false,\"title\":\"allwpilib/wpimath/src/main/native/include/frc/estimator/PoseEstimator.h at bb8480c6906cc8ed7617b3de51198e87a8163ca7 · wpilibsuite/allwpilib · GitHub\",\"clicks\":4}],\"read\":true,\"user_title\":\"\",\"reply_to_user\":{\"id\":64351,\"username\":\"GronkBaby\",\"name\":\"Emil\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/g/ba8739/{size}.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":21777,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\" I moved to California just for districts\"},\"post_url\":\"/t/kalman-filters-for-swerve/467637/6\",\"custom_user_title\":\" I moved to California just for districts\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3398938,\"name\":\"Emil\",\"username\":\"GronkBaby\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/g/ba8739/{size}.png\",\"created_at\":\"2024-06-14T20:55:19.907Z\",\"cooked\":\"\\u003cp\\u003eI understand that. But I’m saying that it takes time for a measurement to go from the Rio to the coprocessor and then the result to go back to the Rio through NT. So it “lags behind”.\\u003c/p\\u003e\",\"post_number\":7,\"post_type\":1,\"posts_count\":20,\"updated_at\":\"2024-06-14T20:55:19.907Z\",\"reply_count\":1,\"reply_to_post_number\":6,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":351,\"readers_count\":350,\"score\":75.2,\"yours\":false,\"topic_id\":467637,\"topic_slug\":\"kalman-filters-for-swerve\",\"display_username\":\"Emil\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"reply_to_user\":{\"id\":21777,\"username\":\"jreneew2\",\"name\":\"Drew Williams\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/jreneew2/{size}/135239_2.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":64351,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"\"},\"post_url\":\"/t/kalman-filters-for-swerve/467637/7\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3398944,\"name\":\"Jared Russell\",\"username\":\"Jared_Russell\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/jared_russell/{size}/399_2.png\",\"created_at\":\"2024-06-14T21:08:58.624Z\",\"cooked\":\"\\u003caside class=\\\"quote no-group\\\" data-username=\\\"calcmogul\\\" data-post=\\\"4\\\" data-topic=\\\"467637\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg loading=\\\"lazy\\\" alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/user_avatar/www.chiefdelphi.com/calcmogul/48/128045_2.png\\\" class=\\\"avatar\\\"\\u003e calcmogul:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003eThe problem with that is the true uncertainty isn’t gaussian on pose; it’s gaussian on tag corner pixels.\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003cp\\u003eOnly if you’re using SolvePnP or similar methods. If you’re using a more pinhole-type model based just on the center of the tag, the error in pixel space is easy to project into relative yaw and azimuth\\u003c/p\\u003e\",\"post_number\":8,\"post_type\":1,\"posts_count\":20,\"updated_at\":\"2024-06-14T21:08:58.624Z\",\"reply_count\":1,\"reply_to_post_number\":4,\"quote_count\":1,\"incoming_link_count\":24,\"reads\":341,\"readers_count\":340,\"score\":223.2,\"yours\":false,\"topic_id\":467637,\"topic_slug\":\"kalman-filters-for-swerve\",\"display_username\":\"Jared Russell\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":2}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":1267,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"Oh so close\"},\"post_url\":\"/t/kalman-filters-for-swerve/467637/8\",\"custom_user_title\":\"Oh so close\",\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":2}],\"current_user_reaction\":null,\"reaction_users_count\":2,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3398948,\"name\":\"Eric Ward\",\"username\":\"bathtubed\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/bathtubed/{size}/220364_2.png\",\"created_at\":\"2024-06-14T21:26:34.627Z\",\"cooked\":\"\\u003cp\\u003eAs long as you’re tracking odometry over time (which WPILib’s odometry does), it doesn’t actually matter that your pose estimates are lagging behind.\\u003c/p\\u003e\\n\\u003cp\\u003eThe big idea here is that you’re not trying to estimate the current pose of the robot, but instead you’re estimating the \\u003cstrong\\u003eerror in your odometry from the true pose\\u003c/strong\\u003e. This error accumulates over time, but doesn’t have very large jumps, so an 80ms old estimate over your odometry error can be added to your up-to-date raw odometry pose to determine a real-time best estimate of your current position.\\u003c/p\\u003e\",\"post_number\":9,\"post_type\":1,\"posts_count\":20,\"updated_at\":\"2024-06-14T21:26:34.627Z\",\"reply_count\":0,\"reply_to_post_number\":7,\"quote_count\":0,\"incoming_link_count\":1,\"reads\":326,\"readers_count\":325,\"score\":70.2,\"yours\":false,\"topic_id\":467637,\"topic_slug\":\"kalman-filters-for-swerve\",\"display_username\":\"Eric Ward\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"reply_to_user\":{\"id\":64351,\"username\":\"GronkBaby\",\"name\":\"Emil\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/g/ba8739/{size}.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":35208,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"3637 Mentor\"},\"post_url\":\"/t/kalman-filters-for-swerve/467637/9\",\"custom_user_title\":\"3637 Mentor\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3398955,\"name\":\"Emil\",\"username\":\"GronkBaby\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/g/ba8739/{size}.png\",\"created_at\":\"2024-06-14T22:11:39.060Z\",\"cooked\":\"\\u003cp\\u003eFrom my original post - what is the issue with just using a linear kalman filter (please see my reasoning first)?\\u003c/p\\u003e\",\"post_number\":10,\"post_type\":1,\"posts_count\":20,\"updated_at\":\"2024-06-14T22:11:39.060Z\",\"reply_count\":1,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":307,\"readers_count\":306,\"score\":66.4,\"yours\":false,\"topic_id\":467637,\"topic_slug\":\"kalman-filters-for-swerve\",\"display_username\":\"Emil\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":64351,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"\"},\"post_url\":\"/t/kalman-filters-for-swerve/467637/10\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3398962,\"name\":\"Eric Ward\",\"username\":\"bathtubed\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/bathtubed/{size}/220364_2.png\",\"created_at\":\"2024-06-14T22:45:39.321Z\",\"cooked\":\"\\u003cp\\u003eDoes the limelight provide an accurate uncertainty covariance matrix on the poses it generates? Because fundamentally when estimating a pose from an apriltag, the uncertainty in each axis is heavily dependent on your position, and they’re correlated with each other, which is why you need all 6 values of the covariance matrix, not just the independent variance of each state variable.\\u003c/p\\u003e\\n\\u003cp\\u003eIf limelight provides this, then yeah you could try a standard linear kalman filter as you describe. You’re correct in that odometry is a linear process.\\u003c/p\\u003e\\n\\u003cp\\u003eHowever, the key thing you need here is that the process noise is NOT constant, and once again, there are large correlations between each variable. You’ll need to calculate a Q matrix as a function of the odometry at each update step.\\u003c/p\\u003e\\n\\u003cp\\u003eYou’ll want to model the fact that a slight error in your heading when driving over a long distance results in a large error in your position. You also need to model that this noise scales more with distance traveled, not time. So uncertainty shouldn’t grow at all while at rest, and it should grow more quickly when traveling faster.\\u003c/p\\u003e\",\"post_number\":11,\"post_type\":1,\"posts_count\":20,\"updated_at\":\"2024-06-14T22:45:39.321Z\",\"reply_count\":0,\"reply_to_post_number\":10,\"quote_count\":0,\"incoming_link_count\":1,\"reads\":309,\"readers_count\":308,\"score\":81.8,\"yours\":false,\"topic_id\":467637,\"topic_slug\":\"kalman-filters-for-swerve\",\"display_username\":\"Eric Ward\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"reply_to_user\":{\"id\":64351,\"username\":\"GronkBaby\",\"name\":\"Emil\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/g/ba8739/{size}.png\"},\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":1}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":35208,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"3637 Mentor\"},\"post_url\":\"/t/kalman-filters-for-swerve/467637/11\",\"custom_user_title\":\"3637 Mentor\",\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":1}],\"current_user_reaction\":null,\"reaction_users_count\":1,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3398970,\"name\":\"Tyler Veness\",\"username\":\"calcmogul\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/calcmogul/{size}/128045_2.png\",\"created_at\":\"2024-06-14T23:23:22.075Z\",\"cooked\":\"\\u003cp\\u003eFair, though at that point, you don’t need the pose estimator class, cuz you aren’t using the pose. I was mainly trying to point out that the model in the pose estimator’s Kalman filter is very wrong.\\u003c/p\\u003e\",\"post_number\":12,\"post_type\":1,\"posts_count\":20,\"updated_at\":\"2024-06-14T23:25:49.291Z\",\"reply_count\":1,\"reply_to_post_number\":8,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":281,\"readers_count\":280,\"score\":91.2,\"yours\":false,\"topic_id\":467637,\"topic_slug\":\"kalman-filters-for-swerve\",\"display_username\":\"Tyler Veness\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"reply_to_user\":{\"id\":1267,\"username\":\"Jared_Russell\",\"name\":\"Jared Russell\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/jared_russell/{size}/399_2.png\"},\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":4}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":16846,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"WPILib controls | Choreo optimizer backend\"},\"post_url\":\"/t/kalman-filters-for-swerve/467637/12\",\"custom_user_title\":\"WPILib controls | Choreo optimizer backend\",\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":2},{\"id\":\"100\",\"type\":\"emoji\",\"count\":1},{\"id\":\"point_up\",\"type\":\"emoji\",\"count\":1}],\"current_user_reaction\":null,\"reaction_users_count\":4,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3399079,\"name\":\"Emil\",\"username\":\"GronkBaby\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/g/ba8739/{size}.png\",\"created_at\":\"2024-06-15T15:29:23.217Z\",\"cooked\":\"\\u003cp\\u003eFrom my understanding, the locations of the of the 3d corners of the tag when projected onto the camera space are the measurements. In that case, for a UKF, how would the measurement function to go from state to measurement work? I know that you said that it should use the camera model, but I was hoping you could elaborate a little bit. Aren’t there are infinite number of 4 tag-corner locations that could correspond to a pose? What would  the residual even look like?\\u003c/p\\u003e\",\"post_number\":13,\"post_type\":1,\"posts_count\":20,\"updated_at\":\"2024-06-15T15:38:24.274Z\",\"reply_count\":0,\"reply_to_post_number\":12,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":271,\"readers_count\":270,\"score\":54.2,\"yours\":false,\"topic_id\":467637,\"topic_slug\":\"kalman-filters-for-swerve\",\"display_username\":\"Emil\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":2,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"reply_to_user\":{\"id\":16846,\"username\":\"calcmogul\",\"name\":\"Tyler Veness\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/calcmogul/{size}/128045_2.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":64351,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"\"},\"post_url\":\"/t/kalman-filters-for-swerve/467637/13\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3417536,\"name\":\"Eric Lehman\",\"username\":\"elehman\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/elehman/{size}/223914_2.png\",\"created_at\":\"2024-08-23T05:47:05.854Z\",\"cooked\":\"\\u003cblockquote\\u003e\\n\\u003cp\\u003eThe problem with that is the true uncertainty isn’t gaussian on pose; it’s gaussian on tag corner pixels.\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003cp\\u003eI’ve often seen the assertion that Kalman filtering assumes Gaussian error.  But I wonder if that’s really true?  I haven’t studied derivations closely enough to know.  But here is a link to an interview with Jeffrey Ullman, who created the unscented Kalman filter, among other things:\\u003c/p\\u003e\\n\\u003caside class=\\\"onebox allowlistedgeneric\\\" data-onebox-src=\\\"https://ethw.org/First-Hand:The_Unscented_Transform\\\"\\u003e\\n  \\u003cheader class=\\\"source\\\"\\u003e\\n      \\u003cimg src=\\\"https://ethw.org/favicon.ico\\\" class=\\\"site-icon\\\" width=\\\"16\\\" height=\\\"16\\\"\\u003e\\n\\n      \\u003ca href=\\\"https://ethw.org/First-Hand:The_Unscented_Transform\\\" target=\\\"_blank\\\" rel=\\\"noopener nofollow ugc\\\" title=\\\"03:16PM - 01 April 2021\\\"\\u003eETHW – 1 Apr 21\\u003c/a\\u003e\\n  \\u003c/header\\u003e\\n\\n  \\u003carticle class=\\\"onebox-body\\\"\\u003e\\n    \\u003cdiv class=\\\"aspect-image\\\" style=\\\"--aspect-ratio:396/112;\\\"\\u003e\\u003cimg src=\\\"https://ethw.org/w/logo.png\\\" class=\\\"thumbnail\\\" width=\\\"396\\\" height=\\\"112\\\"\\u003e\\u003c/div\\u003e\\n\\n\\u003ch3\\u003e\\u003ca href=\\\"https://ethw.org/First-Hand:The_Unscented_Transform\\\" target=\\\"_blank\\\" rel=\\\"noopener nofollow ugc\\\"\\u003eFirst-Hand:The Unscented Transform\\u003c/a\\u003e\\u003c/h3\\u003e\\n\\n\\n\\n  \\u003c/article\\u003e\\n\\n  \\u003cdiv class=\\\"onebox-metadata\\\"\\u003e\\n    \\n    \\n  \\u003c/div\\u003e\\n\\n  \\u003cdiv style=\\\"clear: both\\\"\\u003e\\u003c/div\\u003e\\n\\u003c/aside\\u003e\\n\\n\\u003cp\\u003eHere is the statement by Ullman that struck me:\\u003c/p\\u003e\\n\\u003cp\\u003e\\u003cem\\u003eHe further showed that his algorithm is the best possible if the error in the mean is Gaussian-distributed and the covariance matrix is equal to the second central moment (i.e., the covariance) of that Gaussian distribution. In fact, that’s why that matrix is almost universally referred to as a “covariance matrix,” even though the Kalman filter doesn’t require an assumption of Gaussianity or even that the covariance matrix exactly represents the second central moment of some other underlying probability distribution. Unfortunately, many later authors chose to impose a strict Bayesian interpretation on the Kalman filter which does make these additional assumptions, and this has resulted in a continuing misconception that the Kalman filter requires Gaussianity assumptions for theoretical rigor.\\u003c/em\\u003e\\u003c/p\\u003e\\n\\u003cp\\u003eAs an aside, the interview also explains the true origin of the name “unscented Kalman filter”:\\u003c/p\\u003e\\n\\u003cp\\u003e\\u003cem\\u003eOne evening everyone else in the lab was at the Royal Opera House, and as I was working I noticed someone’s deodorant on a desk. The word “unscented” caught my eye as the perfect technical term.\\u003c/em\\u003e\\u003c/p\\u003e\",\"post_number\":14,\"post_type\":1,\"posts_count\":20,\"updated_at\":\"2024-08-23T05:48:36.306Z\",\"reply_count\":1,\"reply_to_post_number\":4,\"quote_count\":0,\"incoming_link_count\":3,\"reads\":259,\"readers_count\":258,\"score\":71.8,\"yours\":false,\"topic_id\":467637,\"topic_slug\":\"kalman-filters-for-swerve\",\"display_username\":\"Eric Lehman\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"link_counts\":[{\"url\":\"https://ethw.org/First-Hand:The_Unscented_Transform\",\"internal\":false,\"reflection\":false,\"title\":\"First-Hand:The Unscented Transform - Engineering and Technology History Wiki\",\"clicks\":6}],\"read\":true,\"user_title\":null,\"reply_to_user\":{\"id\":16846,\"username\":\"calcmogul\",\"name\":\"Tyler Veness\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/calcmogul/{size}/128045_2.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":65933,\"hidden\":false,\"trust_level\":1,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"post_url\":\"/t/kalman-filters-for-swerve/467637/14\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3417540,\"name\":\"Tyler Veness\",\"username\":\"calcmogul\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/calcmogul/{size}/128045_2.png\",\"created_at\":\"2024-08-23T06:19:27.749Z\",\"cooked\":\"\\u003caside class=\\\"quote no-group\\\" data-username=\\\"elehman\\\" data-post=\\\"14\\\" data-topic=\\\"467637\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg loading=\\\"lazy\\\" alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/user_avatar/www.chiefdelphi.com/elehman/48/223914_2.png\\\" class=\\\"avatar\\\"\\u003e elehman:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003eI’ve often seen the assertion that Kalman filtering assumes Gaussian error. But I wonder if that’s really true?\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003cp\\u003eThe Kalman filter doesn’t require that for stability, but it’s a necessary condition for global optimality. Filter performance with colored noise sources can be improved by including a noise model so the noise is whitened (the noise type can be determined from the power spectral density of the measurement residual \\u003cspan class=\\\"math\\\"\\u003ey - \\\\hat{y}\\u003c/span\\u003e).\\u003c/p\\u003e\",\"post_number\":15,\"post_type\":1,\"posts_count\":20,\"updated_at\":\"2024-08-23T06:20:05.631Z\",\"reply_count\":1,\"reply_to_post_number\":14,\"quote_count\":1,\"incoming_link_count\":0,\"reads\":243,\"readers_count\":242,\"score\":83.6,\"yours\":false,\"topic_id\":467637,\"topic_slug\":\"kalman-filters-for-swerve\",\"display_username\":\"Tyler Veness\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":2}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":16846,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"WPILib controls | Choreo optimizer backend\"},\"post_url\":\"/t/kalman-filters-for-swerve/467637/15\",\"custom_user_title\":\"WPILib controls | Choreo optimizer backend\",\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":2}],\"current_user_reaction\":null,\"reaction_users_count\":2,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3435526,\"name\":\"Emil\",\"username\":\"GronkBaby\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/g/ba8739/{size}.png\",\"created_at\":\"2024-10-16T12:31:28.799Z\",\"cooked\":\"\\u003cp\\u003eWhat would the covariance between x and y for odometry (the prediction phase) look like (be a function of)?\\u003c/p\\u003e\",\"post_number\":16,\"post_type\":1,\"posts_count\":20,\"updated_at\":\"2024-10-16T12:31:28.799Z\",\"reply_count\":1,\"reply_to_post_number\":15,\"quote_count\":0,\"incoming_link_count\":1,\"reads\":211,\"readers_count\":210,\"score\":52.2,\"yours\":false,\"topic_id\":467637,\"topic_slug\":\"kalman-filters-for-swerve\",\"display_username\":\"Emil\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"reply_to_user\":{\"id\":16846,\"username\":\"calcmogul\",\"name\":\"Tyler Veness\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/calcmogul/{size}/128045_2.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":64351,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"\"},\"post_url\":\"/t/kalman-filters-for-swerve/467637/16\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3435561,\"name\":\"Tyler Veness\",\"username\":\"calcmogul\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/calcmogul/{size}/128045_2.png\",\"created_at\":\"2024-10-16T15:25:13.827Z\",\"cooked\":\"\\u003cp\\u003eDepends on which covariance you mean: there’s error covariance, process noise covariance, and measurement noise covariance.\\u003c/p\\u003e\\n\\u003cp\\u003eThe error covariance is just whatever the filter converges on. I don’t know what the process noise covariance would be; it depends on the model inaccuracies with respect to your real system. The measurement noise covariance is a function of the corner pixel noise fed through the camera projection matrix and camera-to-robot transform.\\u003c/p\\u003e\",\"post_number\":17,\"post_type\":1,\"posts_count\":20,\"updated_at\":\"2024-10-16T15:26:10.797Z\",\"reply_count\":0,\"reply_to_post_number\":16,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":191,\"readers_count\":190,\"score\":38.2,\"yours\":false,\"topic_id\":467637,\"topic_slug\":\"kalman-filters-for-swerve\",\"display_username\":\"Tyler Veness\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"reply_to_user\":{\"id\":64351,\"username\":\"GronkBaby\",\"name\":\"Emil\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/g/ba8739/{size}.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":16846,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"WPILib controls | Choreo optimizer backend\"},\"post_url\":\"/t/kalman-filters-for-swerve/467637/17\",\"custom_user_title\":\"WPILib controls | Choreo optimizer backend\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3435911,\"name\":\"Geoffrey\",\"username\":\"Geoffrey8814\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/geoffrey8814/{size}/262430_2.png\",\"created_at\":\"2024-10-17T09:17:51.545Z\",\"cooked\":\"\\u003cp\\u003eI believe the swerve pose estimator functions similarly to a weighted sum. The weight for odometry should be adjusted because you need to account for processing noise in odometry data. The key difference between a standard Kalman filter and an extended Kalman filter is that the latter can handle some non-linearity; however, it does this by approximating the non-linear components using a linear approach.\\u003c/p\\u003e\\n\\u003cp\\u003eThere are other types of filters that can manage non-linear data, but a significant limitation of Kalman filters is their constraint to process data with a Gaussian distribution. When dealing with non-Gaussian data—such as the ambiguity found in AprilTag poses—a particle filter can be utilized, though it requires substantial computational power. For instance, team 604 is using their PC to run the particle filter.\\u003c/p\\u003e\",\"post_number\":18,\"post_type\":1,\"posts_count\":20,\"updated_at\":\"2024-10-17T09:17:51.545Z\",\"reply_count\":1,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":160,\"readers_count\":159,\"score\":37.0,\"yours\":false,\"topic_id\":467637,\"topic_slug\":\"kalman-filters-for-swerve\",\"display_username\":\"Geoffrey\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":60663,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"\"},\"post_url\":\"/t/kalman-filters-for-swerve/467637/18\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3436056,\"name\":\"Tyler Veness\",\"username\":\"calcmogul\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/calcmogul/{size}/128045_2.png\",\"created_at\":\"2024-10-17T16:31:13.688Z\",\"cooked\":\"\\u003caside class=\\\"quote no-group\\\" data-username=\\\"Geoffrey8814\\\" data-post=\\\"18\\\" data-topic=\\\"467637\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg loading=\\\"lazy\\\" alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/user_avatar/www.chiefdelphi.com/geoffrey8814/48/262430_2.png\\\" class=\\\"avatar\\\"\\u003e Geoffrey8814:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003ea significant limitation of Kalman filters is their constraint to process data with a Gaussian distribution\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003cp\\u003eThat’s only the case for continuous Kalman filters (which no one uses, because they don’t implement Kalman filters with analog circuits). Discrete Kalman filters have no such limitation. It’s just popular to assume a normal distribution because the combination of many random processes converges to a normal distribution (see \\u003ca href=\\\"https://en.wikipedia.org/wiki/Central_limit_theorem\\\" rel=\\\"noopener nofollow ugc\\\"\\u003ecentral limit theorem\\u003c/a\\u003e).\\u003c/p\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003eOptimality of Kalman filtering assumes that errors have a \\u003ca href=\\\"https://en.wikipedia.org/wiki/Normal_distribution\\\" rel=\\\"noopener nofollow ugc\\\"\\u003enormal (Gaussian)\\u003c/a\\u003e distribution. In the words of \\u003ca href=\\\"https://en.wikipedia.org/wiki/Rudolf_E._K%C3%A1lm%C3%A1n\\\" rel=\\\"noopener nofollow ugc\\\"\\u003eRudolf E. Kálmán\\u003c/a\\u003e: “The following assumptions are made about random processes: Physical random phenomena may be thought of as due to primary random sources exciting dynamic systems. The primary sources are assumed to be independent gaussian random processes with zero mean; the dynamic systems will be linear.”\\u003ca href=\\\"https://en.wikipedia.org/wiki/Kalman_filter#cite_note-14\\\" rel=\\\"noopener nofollow ugc\\\"\\u003e[14]\\u003c/a\\u003e \\u003cstrong\\u003eRegardless of Gaussianity, however, if the process and measurement covariances are known, then the Kalman filter is the best possible \\u003cem\\u003e\\u003ca href=\\\"https://en.wikipedia.org/wiki/Linearity\\\" rel=\\\"noopener nofollow ugc\\\"\\u003elinear\\u003c/a\\u003e\\u003c/em\\u003e estimator in the \\u003ca href=\\\"https://en.wikipedia.org/wiki/Minimum_mean_square_error\\\" rel=\\\"noopener nofollow ugc\\\"\\u003eminimum mean-square-error sense\\u003c/a\\u003e,\\u003ca href=\\\"https://en.wikipedia.org/wiki/Kalman_filter#cite_note-15\\\" rel=\\\"noopener nofollow ugc\\\"\\u003e[15]\\u003c/a\\u003e although there may be better nonlinear estimators. It is a common misconception (perpetuated in the literature) that the Kalman filter cannot be rigorously applied unless all noise processes are assumed to be Gaussian.\\u003ca href=\\\"https://en.wikipedia.org/wiki/Kalman_filter#cite_note-16\\\" rel=\\\"noopener nofollow ugc\\\"\\u003e[16]\\u003c/a\\u003e\\u003c/strong\\u003e\\u003c/p\\u003e\\n\\u003cp\\u003e- \\u003ca href=\\\"https://en.wikipedia.org/wiki/Kalman_filter\\\" class=\\\"inline-onebox\\\" rel=\\\"noopener nofollow ugc\\\"\\u003eKalman filter - Wikipedia\\u003c/a\\u003e\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003cp\\u003eCitation 16 has a relevant paper: \\u003ca href=\\\"https://jci.uniautonoma.edu.co/2022/2022-1_2.pdf\\\" rel=\\\"noopener nofollow ugc\\\"\\u003ehttps://jci.uniautonoma.edu.co/2022/2022-1_2.pdf\\u003c/a\\u003e\\u003c/p\\u003e\",\"post_number\":19,\"post_type\":1,\"posts_count\":20,\"updated_at\":\"2024-10-17T16:33:35.025Z\",\"reply_count\":0,\"reply_to_post_number\":18,\"quote_count\":1,\"incoming_link_count\":1,\"reads\":139,\"readers_count\":138,\"score\":77.8,\"yours\":false,\"topic_id\":467637,\"topic_slug\":\"kalman-filters-for-swerve\",\"display_username\":\"Tyler Veness\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"link_counts\":[{\"url\":\"https://en.wikipedia.org/wiki/Central_limit_theorem\",\"internal\":false,\"reflection\":false,\"title\":\"Central limit theorem - Wikipedia\",\"clicks\":3},{\"url\":\"https://jci.uniautonoma.edu.co/2022/2022-1_2.pdf\",\"internal\":false,\"reflection\":false,\"clicks\":2},{\"url\":\"https://en.wikipedia.org/wiki/Rudolf_E._K%C3%A1lm%C3%A1n\",\"internal\":false,\"reflection\":false,\"title\":\"Rudolf E. Kálmán - Wikipedia\",\"clicks\":1},{\"url\":\"https://en.wikipedia.org/wiki/Kalman_filter#cite_note-14\",\"internal\":false,\"reflection\":false,\"title\":\"Kalman filter - Wikipedia\",\"clicks\":0},{\"url\":\"https://en.wikipedia.org/wiki/Linearity\",\"internal\":false,\"reflection\":false,\"title\":\"Linearity - Wikipedia\",\"clicks\":0},{\"url\":\"https://en.wikipedia.org/wiki/Minimum_mean_square_error\",\"internal\":false,\"reflection\":false,\"title\":\"Minimum mean square error - Wikipedia\",\"clicks\":0},{\"url\":\"https://en.wikipedia.org/wiki/Kalman_filter#cite_note-15\",\"internal\":false,\"reflection\":false,\"title\":\"Kalman filter - Wikipedia\",\"clicks\":0},{\"url\":\"https://en.wikipedia.org/wiki/Kalman_filter#cite_note-16\",\"internal\":false,\"reflection\":false,\"title\":\"Kalman filter - Wikipedia\",\"clicks\":0},{\"url\":\"https://en.wikipedia.org/wiki/Kalman_filter\",\"internal\":false,\"reflection\":false,\"title\":\"Kalman filter - Wikipedia\",\"clicks\":0},{\"url\":\"https://en.wikipedia.org/wiki/Normal_distribution\",\"internal\":false,\"reflection\":false,\"title\":\"Normal distribution - Wikipedia\",\"clicks\":0}],\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":3}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":16846,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"WPILib controls | Choreo optimizer backend\"},\"post_url\":\"/t/kalman-filters-for-swerve/467637/19\",\"custom_user_title\":\"WPILib controls | Choreo optimizer backend\",\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":3}],\"current_user_reaction\":null,\"reaction_users_count\":3,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3436551,\"name\":\"Mahi Madhan Kumar\",\"username\":\"Stormbreaker\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/stormbreaker/{size}/268248_2.png\",\"created_at\":\"2024-10-18T18:05:37.370Z\",\"cooked\":\"\\u003cp\\u003eIt’s awesome that you’re diving into fusing odometry and vision for your swerve! From your description, it sounds like you’re wrestling with how to properly structure the process model for this fusion. I totally get your confusion—odometry feels like a measurement, but some folks might suggest using it as a process model.\\u003c/p\\u003e\\n\\u003cp\\u003eThe way I see it, the \\u003cstrong\\u003eprocess model\\u003c/strong\\u003e is your robot’s “best guess” of how its position will evolve without measurements. For a swerve drive, this could be something based on wheel speeds and robot acceleration, or even a model of the drivetrain itself, rather than directly using odometry. Odometry tells you where you think you are right now based on wheel encoder data and a gyro, but it’s subject to errors like wheel slip. So if you use odometry as your process model in a UKF, you might just end up compounding the same errors rather than fixing them. This is why odometry is more of a measurement—it’s useful for correcting, not predicting.\\u003c/p\\u003e\\n\\u003cp\\u003eWhat you’re describing with the sigma points in a UKF being offset by the same odometry twist makes sense if the model is too simplified. You want your process model to incorporate the physics of how your robot moves, like velocity and acceleration over time, instead of just relying on odometry. Then, when the Kalman filter or UKF updates, you use odometry as a correction. This way, you avoid over-relying on any one sensor.\\u003c/p\\u003e\\n\\u003cp\\u003eRegarding the Limelight: yes, since it’s already giving you measurements in state space, your measurement function can be linear. This could mean that you don’t need the full complexity of a UKF, and a simple linear Kalman filter might work fine. It seems like teams like Mechanical Advantage lean toward a linear Kalman filter approach for this reason—if most of your measurements and dynamics are linear, it’s simpler and more efficient than going with a full UKF.\\u003c/p\\u003e\\n\\u003cp\\u003eCitrus Circuits might use an EKF because their system might have some non-linear relationships (like field-relative positioning or other non-linear transforms), which the EKF can handle better than a standard Kalman filter. So it’s about what’s most suited to your robot’s setup and what level of complexity you need.\\u003c/p\\u003e\\n\\u003cp\\u003eIf you’re trying to build something more custom, you could start with a linear Kalman filter where odometry is your control input and vision is the correcting measurement. It’s a great project, and you can always switch to more complex filters as you get more comfortable. Plus, there’s a ton of great resources out there like the WPILib documentation on swerve drive kinematics that can help guide your setup.\\u003c/p\\u003e\",\"post_number\":20,\"post_type\":1,\"posts_count\":20,\"updated_at\":\"2024-10-18T18:05:37.370Z\",\"reply_count\":0,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":8,\"reads\":101,\"readers_count\":100,\"score\":60.2,\"yours\":false,\"topic_id\":467637,\"topic_slug\":\"kalman-filters-for-swerve\",\"display_username\":\"Mahi Madhan Kumar\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":null,\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":68487,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"2025 FIRST Dean's List Award Winner\"},\"post_url\":\"/t/kalman-filters-for-swerve/467637/20\",\"custom_user_title\":\"2025 FIRST Dean's List Award Winner\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null}],\"stream\":[3398848,3398863,3398872,3398876,3398878,3398886,3398938,3398944,3398948,3398955,3398962,3398970,3399079,3417536,3417540,3435526,3435561,3435911,3436056,3436551]},\"timeline_lookup\":[[1,484],[13,483],[14,415],[16,360],[19,359],[20,358]],\"suggested_topics\":[{\"fancy_title\":\"Experimental Subsystem health checker mlp\",\"id\":473908,\"title\":\"Experimental Subsystem health checker mlp\",\"slug\":\"experimental-subsystem-health-checker-mlp\",\"posts_count\":3,\"reply_count\":0,\"highest_post_number\":3,\"image_url\":\"https://www.chiefdelphi.com/uploads/default/original/3X/5/3/5388a8c3130f8d147fc0c843e8674f31acf77759.png\",\"created_at\":\"2024-10-28T17:43:36.223Z\",\"last_posted_at\":\"2024-10-28T18:38:28.354Z\",\"bumped\":true,\"bumped_at\":\"2024-10-28T18:38:28.354Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"The goal here is to have a predictive model to check the “health” of subsystems by analyzing logs. this will potentially help with checking for mechanical problems more efficiently. using pytorch I t…\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[],\"tags_descriptions\":{},\"like_count\":3,\"views\":161,\"category_id\":30,\"featured_link\":null,\"has_accepted_answer\":false,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3440790,\"topic_post_liked\":false,\"topic_post_like_count\":1,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":false,\"topic_post_is_current_users\":null,\"topic_post_number\":1,\"topic_post_user\":{\"id\":61206,\"username\":\"NoamAmar\",\"name\":\"Noam Amar\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/n/43a26b/{size}.png\"},\"posters\":[{\"extras\":null,\"description\":\"Original Poster\",\"user\":{\"id\":61206,\"username\":\"NoamAmar\",\"name\":\"Noam Amar\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/n/43a26b/{size}.png\",\"trust_level\":1}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":9105,\"username\":\"Fletch1373\",\"name\":\"Fletch\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/fletch1373/{size}/220073_2.png\",\"trust_level\":2}},{\"extras\":\"latest\",\"description\":\"Most Recent Poster\",\"user\":{\"id\":4297,\"username\":\"Andrew_Schreiber\",\"name\":\"Andrew Schreiber\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/andrew_schreiber/{size}/209563_2.png\",\"trust_level\":2}}]},{\"fancy_title\":\"CTRE Swerve Drive Generator Problem\",\"id\":480933,\"title\":\"CTRE Swerve Drive Generator Problem\",\"slug\":\"ctre-swerve-drive-generator-problem\",\"posts_count\":6,\"reply_count\":4,\"highest_post_number\":6,\"image_url\":\"https://www.chiefdelphi.com/uploads/default/optimized/3X/1/0/1024059714ebed7f7ca2952e222defbfcd280617_2_1024x771.jpeg\",\"created_at\":\"2025-01-11T16:48:40.067Z\",\"last_posted_at\":\"2025-01-11T18:17:38.830Z\",\"bumped\":true,\"bumped_at\":\"2025-01-11T18:18:06.618Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"You are using a 2024 roborio image. You need to image your roborio for 2025\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[\"swerve\",\"ctre\",\"generator\"],\"tags_descriptions\":{},\"like_count\":4,\"views\":217,\"category_id\":30,\"featured_link\":null,\"has_accepted_answer\":true,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3479250,\"topic_post_liked\":false,\"topic_post_like_count\":3,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":false,\"topic_post_is_current_users\":null,\"topic_post_number\":2,\"topic_post_user\":{\"id\":61981,\"username\":\"daltzsmith\",\"name\":\"Dalton\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/daltzsmith/{size}/206287_2.png\"},\"posters\":[{\"extras\":null,\"description\":\"Original Poster\",\"user\":{\"id\":38557,\"username\":\"Bmongar\",\"name\":\"Brad\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/bmongar/{size}/228654_2.png\",\"trust_level\":2}},{\"extras\":null,\"description\":\"Frequent Poster, Accepted Answer\",\"user\":{\"id\":61981,\"username\":\"daltzsmith\",\"name\":\"Dalton\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/daltzsmith/{size}/206287_2.png\",\"primary_group_name\":\"CTRE\",\"flair_name\":\"CTRE\",\"flair_url\":\"/uploads/default/original/3X/1/b/1bd2b430e1bb6427d1c6504ff6abcd31de851a6d.png\",\"flair_group_id\":57,\"trust_level\":2}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":60569,\"username\":\"1GN\",\"name\":\"Hitansh\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/1/94ad74/{size}.png\",\"trust_level\":2}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":18342,\"username\":\"jdaming\",\"name\":\"Jason Daming\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/jdaming/{size}/137720_2.png\",\"trust_level\":2}},{\"extras\":\"latest\",\"description\":\"Most Recent Poster\",\"user\":{\"id\":63615,\"username\":\"JaySlinky\",\"name\":\"J.s\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/j/aca169/{size}.png\",\"trust_level\":1}}]},{\"fancy_title\":\"Is it possible to create robot-centric paths with PathPlanner?\",\"id\":481261,\"title\":\"Is it possible to create robot-centric paths with PathPlanner?\",\"slug\":\"is-it-possible-to-create-robot-centric-paths-with-pathplanner\",\"posts_count\":4,\"reply_count\":1,\"highest_post_number\":4,\"image_url\":null,\"created_at\":\"2025-01-12T20:52:17.097Z\",\"last_posted_at\":\"2025-01-14T15:11:49.511Z\",\"bumped\":true,\"bumped_at\":\"2025-01-14T15:11:49.511Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"I’m looking to create a way to switch which face of the reef the robot is located at completely autonomously, but I don’t want to make 12-18 separate paths. Is there a way to create a robot-centric pa…\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[\"question\"],\"tags_descriptions\":{},\"like_count\":0,\"views\":257,\"category_id\":30,\"featured_link\":null,\"has_accepted_answer\":false,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3480302,\"topic_post_liked\":false,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":false,\"topic_post_is_current_users\":null,\"topic_post_number\":1,\"topic_post_user\":{\"id\":61051,\"username\":\"centiwati\",\"name\":\"Elliott Goldberg\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/c/45deac/{size}.png\"},\"posters\":[{\"extras\":null,\"description\":\"Original Poster\",\"user\":{\"id\":61051,\"username\":\"centiwati\",\"name\":\"Elliott Goldberg\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/c/45deac/{size}.png\",\"trust_level\":1}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":70335,\"username\":\"AegisNova\",\"name\":\"Josh\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/aegisnova/{size}/265035_2.png\",\"trust_level\":2}},{\"extras\":\"latest\",\"description\":\"Most Recent Poster\",\"user\":{\"id\":57833,\"username\":\"hjmcphail76\",\"name\":\"Harrison\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/hjmcphail76/{size}/234713_2.png\",\"trust_level\":2}}]},{\"fancy_title\":\"Setting up new limelight on a new robot\",\"id\":479177,\"title\":\"Setting up new limelight on a new robot\",\"slug\":\"setting-up-new-limelight-on-a-new-robot\",\"posts_count\":2,\"reply_count\":0,\"highest_post_number\":2,\"image_url\":null,\"created_at\":\"2025-01-05T22:46:04.992Z\",\"last_posted_at\":\"2025-01-06T15:38:42.490Z\",\"bumped\":true,\"bumped_at\":\"2025-01-06T15:38:42.490Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"Hi, When setting up new limelight on new robot for apriltag tracking (3d) - what is your process? best practices? Do you always do ChArUco calibration? How to perfectly set the position offsets? R…\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[\"limelight\",\"vision\"],\"tags_descriptions\":{},\"like_count\":1,\"views\":133,\"category_id\":30,\"featured_link\":null,\"has_accepted_answer\":false,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3471552,\"topic_post_liked\":false,\"topic_post_like_count\":1,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":false,\"topic_post_is_current_users\":null,\"topic_post_number\":1,\"topic_post_user\":{\"id\":70379,\"username\":\"theoneandonly\",\"name\":\"theoneandonly\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/t/3bc359/{size}.png\"},\"posters\":[{\"extras\":null,\"description\":\"Original Poster\",\"user\":{\"id\":70379,\"username\":\"theoneandonly\",\"name\":\"theoneandonly\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/t/3bc359/{size}.png\",\"trust_level\":0}},{\"extras\":\"latest\",\"description\":\"Most Recent Poster\",\"user\":{\"id\":24594,\"username\":\"SLAB-Mr.Thomas\",\"name\":\"SLAB-Mr.Thomas\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/slab-mr.thomas/{size}/182153_2.png\",\"trust_level\":2}}]},{\"fancy_title\":\"Replacing ADIS16470 Gyro to Nav X PROGRAMMING in JAVA\",\"id\":484707,\"title\":\"Replacing ADIS16470 Gyro to Nav X PROGRAMMING in JAVA\",\"slug\":\"replacing-adis16470-gyro-to-nav-x-programming-in-java\",\"posts_count\":2,\"reply_count\":0,\"highest_post_number\":2,\"image_url\":null,\"created_at\":\"2025-02-01T22:06:41.429Z\",\"last_posted_at\":\"2025-02-02T01:54:27.286Z\",\"bumped\":true,\"bumped_at\":\"2025-02-02T01:54:27.286Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"Hey so I am trying to change our code because the drive station has an error saying “ADIS16470 not found” and we are using a NAV X2. So I tried replacing all the “ADIS16470_IMU” to “AHRS” and vscode s…\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[\"java\",\"programming\"],\"tags_descriptions\":{},\"like_count\":1,\"views\":68,\"category_id\":30,\"featured_link\":null,\"has_accepted_answer\":false,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3499353,\"topic_post_liked\":false,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":false,\"topic_post_is_current_users\":null,\"topic_post_number\":1,\"topic_post_user\":{\"id\":71881,\"username\":\"jcolon311\",\"name\":\"Josh\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/j/848f3c/{size}.png\"},\"posters\":[{\"extras\":null,\"description\":\"Original Poster\",\"user\":{\"id\":71881,\"username\":\"jcolon311\",\"name\":\"Josh\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/j/848f3c/{size}.png\",\"trust_level\":1}},{\"extras\":\"latest\",\"description\":\"Most Recent Poster\",\"user\":{\"id\":65,\"username\":\"Joe_Ross\",\"name\":\"Joe Ross\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/joe_ross/{size}/37_2.png\",\"moderator\":true,\"trust_level\":4}}]}],\"tags\":[],\"tags_descriptions\":{},\"fancy_title\":\"Kalman Filters for Swerve\",\"id\":467637,\"title\":\"Kalman Filters for Swerve\",\"posts_count\":20,\"created_at\":\"2024-06-14T15:54:33.103Z\",\"views\":2068,\"reply_count\":15,\"like_count\":18,\"last_posted_at\":\"2024-10-18T18:05:37.370Z\",\"visible\":true,\"closed\":false,\"archived\":false,\"has_summary\":false,\"archetype\":\"regular\",\"slug\":\"kalman-filters-for-swerve\",\"category_id\":30,\"word_count\":2795,\"deleted_at\":null,\"user_id\":64351,\"featured_link\":null,\"pinned_globally\":false,\"pinned_at\":null,\"pinned_until\":null,\"image_url\":null,\"slow_mode_seconds\":0,\"draft\":null,\"draft_key\":\"topic_467637\",\"draft_sequence\":null,\"unpinned\":null,\"pinned\":false,\"current_post_number\":1,\"highest_post_number\":20,\"deleted_by\":null,\"actions_summary\":[{\"id\":4,\"count\":0,\"hidden\":false,\"can_act\":false},{\"id\":8,\"count\":0,\"hidden\":false,\"can_act\":false},{\"id\":10,\"count\":0,\"hidden\":false,\"can_act\":false},{\"id\":7,\"count\":0,\"hidden\":false,\"can_act\":false}],\"chunk_size\":20,\"bookmarked\":false,\"topic_timer\":{\"id\":36010,\"execute_at\":\"2025-10-18T18:05:37.370Z\",\"duration_minutes\":525600,\"based_on_last_post\":true,\"status_type\":\"close\",\"category_id\":null},\"message_bus_last_id\":0,\"participant_count\":8,\"show_read_indicator\":false,\"thumbnails\":null,\"slow_mode_enabled_until\":null,\"valid_reactions\":[\"heart\",\"laughing\",\"point_up\",\"+1\",\"-1\",\"100\",\"open_mouth\",\"cry\",\"question\",\"thinking\",\"call_me_hand\",\"hugs\",\"angry\"],\"user_chosen_thumbnail_url\":null,\"sidecar_installed\":true,\"can_vote\":false,\"vote_count\":0,\"user_voted\":false,\"discourse_zendesk_plugin_zendesk_id\":null,\"discourse_zendesk_plugin_zendesk_url\":\"https://your-url.zendesk.com/agent/tickets/\",\"details\":{\"can_edit\":false,\"notification_level\":1,\"participants\":[{\"id\":64351,\"username\":\"GronkBaby\",\"name\":\"Emil\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/g/ba8739/{size}.png\",\"post_count\":7,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":16846,\"username\":\"calcmogul\",\"name\":\"Tyler Veness\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/calcmogul/{size}/128045_2.png\",\"post_count\":6,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":35208,\"username\":\"bathtubed\",\"name\":\"Eric Ward\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/bathtubed/{size}/220364_2.png\",\"post_count\":2,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":65933,\"username\":\"elehman\",\"name\":\"Eric Lehman\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/elehman/{size}/223914_2.png\",\"post_count\":1,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":1},{\"id\":1267,\"username\":\"Jared_Russell\",\"name\":\"Jared Russell\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/jared_russell/{size}/399_2.png\",\"post_count\":1,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":68487,\"username\":\"Stormbreaker\",\"name\":\"Mahi Madhan Kumar\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/stormbreaker/{size}/268248_2.png\",\"post_count\":1,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":21777,\"username\":\"jreneew2\",\"name\":\"Drew Williams\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/jreneew2/{size}/135239_2.png\",\"post_count\":1,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":60663,\"username\":\"Geoffrey8814\",\"name\":\"Geoffrey\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/geoffrey8814/{size}/262430_2.png\",\"post_count\":1,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2}],\"created_by\":{\"id\":64351,\"username\":\"GronkBaby\",\"name\":\"Emil\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/g/ba8739/{size}.png\"},\"last_poster\":{\"id\":68487,\"username\":\"Stormbreaker\",\"name\":\"Mahi Madhan Kumar\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/stormbreaker/{size}/268248_2.png\"},\"links\":[{\"url\":\"https://github.com/mcm001/gtsam-playground/\",\"title\":\"GitHub - mcm001/gtsam-playground\",\"internal\":false,\"attachment\":false,\"reflection\":false,\"clicks\":76,\"user_id\":16846,\"domain\":\"github.com\",\"root_domain\":\"github.com\"},{\"url\":\"https://github.wpilib.org/allwpilib/docs/release/java/edu/wpi/first/math/estimator/UnscentedKalmanFilter.html\",\"title\":\"UnscentedKalmanFilter (WPILib API 2024.3.2)\",\"internal\":false,\"attachment\":false,\"reflection\":false,\"clicks\":43,\"user_id\":16846,\"domain\":\"github.wpilib.org\",\"root_domain\":\"wpilib.org\"},{\"url\":\"https://en.wikipedia.org/wiki/Structure_from_motion\",\"title\":\"Structure from motion - Wikipedia\",\"internal\":false,\"attachment\":false,\"reflection\":false,\"clicks\":11,\"user_id\":16846,\"domain\":\"en.wikipedia.org\",\"root_domain\":\"wikipedia.org\"},{\"url\":\"https://github.com/PhotonVision/photonvision/blob/master/photon-lib/src/main/java/org/photonvision/PhotonPoseEstimator.java#L60-L87\",\"title\":\"photonvision/photon-lib/src/main/java/org/photonvision/PhotonPoseEstimator.java at master · PhotonVision/photonvision · GitHub\",\"internal\":false,\"attachment\":false,\"reflection\":false,\"clicks\":10,\"user_id\":16846,\"domain\":\"github.com\",\"root_domain\":\"github.com\"},{\"url\":\"https://ethw.org/First-Hand:The_Unscented_Transform\",\"title\":\"First-Hand:The Unscented Transform - Engineering and Technology History Wiki\",\"internal\":false,\"attachment\":false,\"reflection\":false,\"clicks\":6,\"user_id\":65933,\"domain\":\"ethw.org\",\"root_domain\":\"ethw.org\"},{\"url\":\"https://github.com/wpilibsuite/allwpilib/blob/bb8480c6906cc8ed7617b3de51198e87a8163ca7/wpimath/src/main/native/include/frc/estimator/PoseEstimator.h#L123\",\"title\":\"allwpilib/wpimath/src/main/native/include/frc/estimator/PoseEstimator.h at bb8480c6906cc8ed7617b3de51198e87a8163ca7 · wpilibsuite/allwpilib · GitHub\",\"internal\":false,\"attachment\":false,\"reflection\":false,\"clicks\":4,\"user_id\":21777,\"domain\":\"github.com\",\"root_domain\":\"github.com\"},{\"url\":\"https://en.wikipedia.org/wiki/Central_limit_theorem\",\"title\":\"Central limit theorem - Wikipedia\",\"internal\":false,\"attachment\":false,\"reflection\":false,\"clicks\":3,\"user_id\":16846,\"domain\":\"en.wikipedia.org\",\"root_domain\":\"wikipedia.org\"},{\"url\":\"https://jci.uniautonoma.edu.co/2022/2022-1_2.pdf\",\"title\":null,\"internal\":false,\"attachment\":false,\"reflection\":false,\"clicks\":2,\"user_id\":16846,\"domain\":\"jci.uniautonoma.edu.co\",\"root_domain\":\"uniautonoma.edu.co\"},{\"url\":\"https://en.wikipedia.org/wiki/Rudolf_E._K%C3%A1lm%C3%A1n\",\"title\":\"Rudolf E. Kálmán - Wikipedia\",\"internal\":false,\"attachment\":false,\"reflection\":false,\"clicks\":1,\"user_id\":16846,\"domain\":\"en.wikipedia.org\",\"root_domain\":\"wikipedia.org\"}]},\"bookmarks\":[]}"}
