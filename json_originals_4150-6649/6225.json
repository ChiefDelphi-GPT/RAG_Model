{"data":"{\"post_stream\":{\"posts\":[{\"id\":3413430,\"name\":\"Seth David Bragdon\",\"username\":\"Seth-Gearcats6500\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/s/b9bd4f/{size}.png\",\"created_at\":\"2024-08-05T19:00:40.518Z\",\"cooked\":\"\\u003cp\\u003eDuring the 2024 \\u003cspan class=\\\"abbreviation\\\"\\u003eFRC\\u003ctemplate class=\\\"tooltiptext\\\" data-text=\\\"FIRST Robotics Competition\\\"\\u003e\\u003c/template\\u003e\\u003c/span\\u003e competition season, our team encountered an issue with our robot during the state competition. Sometimes, it would stop listening to the driver’s input and drive in random directions. There was no perceivable pattern to the driving, it seemed entirely random. Our driver’s said that sometimes during the early stages of the issue, they were able to partially control the robot. Only the drive train was effected. The issue only occurred while the robot was using vision in the teleoperated period, but didn’t always occur while it was using vision. We removed the code that linked a button to using vision, and the issue didn’t occur.\\u003c/p\\u003e\\n\\u003cp\\u003eThe strangest thing about this issue, was that we encountered it before the competition, so reverted back to the branch in our code that had never had this issue before, but the issue kept occurring at the same frequency. Thusly, it is likely that the issue could be electrical.\\u003c/p\\u003e\\n\\u003cp\\u003eWe are using an Orange Pi 5 and a global shutter camera for vision. We replaced the driver station and controllers, but the issue is still occurring. We have never been able to recreate the issue on purpose, but can easily recreate the issue when we don’t want to.\\u003c/p\\u003e\\n\\u003cp\\u003eHere is the vision code we use:\\u003c/p\\u003e\\n\\u003cp\\u003e\\u003cstrong\\u003eVision:\\u003c/strong\\u003e\\u003c/p\\u003e\\n\\u003cp\\u003e/*\\u003c/p\\u003e\\n\\u003cul\\u003e\\n\\u003cli\\u003eMIT License\\u003c/li\\u003e\\n\\u003cli\\u003e\\u003c/li\\u003e\\n\\u003cli\\u003eCopyright (c) PhotonVision\\u003c/li\\u003e\\n\\u003cli\\u003e\\u003c/li\\u003e\\n\\u003cli\\u003ePermission is hereby granted, free of charge, to any person obtaining a copy\\u003c/li\\u003e\\n\\u003cli\\u003eof this software and associated documentation files (the “Software”), to deal\\u003c/li\\u003e\\n\\u003cli\\u003ein the Software without restriction, including without limitation the rights\\u003c/li\\u003e\\n\\u003cli\\u003eto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\\u003c/li\\u003e\\n\\u003cli\\u003ecopies of the Software, and to permit persons to whom the Software is\\u003c/li\\u003e\\n\\u003cli\\u003efurnished to do so, subject to the following conditions:\\u003c/li\\u003e\\n\\u003cli\\u003e\\u003c/li\\u003e\\n\\u003cli\\u003eThe above copyright notice and this permission notice shall be included in all\\u003c/li\\u003e\\n\\u003cli\\u003ecopies or substantial portions of the Software.\\u003c/li\\u003e\\n\\u003cli\\u003e\\u003c/li\\u003e\\n\\u003cli\\u003eTHE SOFTWARE IS PROVIDED “AS IS”, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\\u003c/li\\u003e\\n\\u003cli\\u003eIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\\u003c/li\\u003e\\n\\u003cli\\u003eFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\\u003c/li\\u003e\\n\\u003cli\\u003eAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\\u003c/li\\u003e\\n\\u003cli\\u003eLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\\u003c/li\\u003e\\n\\u003cli\\u003eOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\\u003c/li\\u003e\\n\\u003cli\\u003eSOFTWARE.\\u003cbr\\u003e\\n*/\\u003c/li\\u003e\\n\\u003c/ul\\u003e\\n\\u003cp\\u003epackage frc.robot;\\u003c/p\\u003e\\n\\u003cp\\u003eimport static frc.robot.Constants.VisionConstants.*;\\u003c/p\\u003e\\n\\u003cp\\u003eimport edu.wpi.first.math.Matrix;\\u003cbr\\u003e\\nimport edu.wpi.first.math.VecBuilder;\\u003cbr\\u003e\\nimport edu.wpi.first.math.geometry.Pose2d;\\u003cbr\\u003e\\nimport edu.wpi.first.math.geometry.Rotation2d;\\u003cbr\\u003e\\nimport edu.wpi.first.math.numbers.N1;\\u003cbr\\u003e\\nimport edu.wpi.first.math.numbers.N3;\\u003cbr\\u003e\\nimport edu.wpi.first.math.util.Units;\\u003cbr\\u003e\\nimport edu.wpi.first.wpilibj.smartdashboard.Field2d;\\u003cbr\\u003e\\nimport frc.robot.Constants.VisionConstants;\\u003cbr\\u003e\\nimport frc.robot.subsystems.DriveSubsystem;\\u003c/p\\u003e\\n\\u003cp\\u003eimport java.util.List;\\u003cbr\\u003e\\nimport java.util.Optional;\\u003cbr\\u003e\\nimport org.photonvision.EstimatedRobotPose;\\u003cbr\\u003e\\nimport org.photonvision.PhotonCamera;\\u003cbr\\u003e\\nimport org.photonvision.PhotonPoseEstimator;\\u003cbr\\u003e\\nimport org.photonvision.PhotonPoseEstimator.PoseStrategy;\\u003cbr\\u003e\\nimport org.photonvision.PhotonUtils;\\u003cbr\\u003e\\nimport org.photonvision.simulation.PhotonCameraSim;\\u003cbr\\u003e\\nimport org.photonvision.simulation.SimCameraProperties;\\u003cbr\\u003e\\nimport org.photonvision.simulation.VisionSystemSim;\\u003cbr\\u003e\\nimport org.photonvision.targeting.PhotonPipelineResult;\\u003cbr\\u003e\\nimport org.photonvision.targeting.PhotonTrackedTarget;\\u003c/p\\u003e\\n\\u003cp\\u003epublic class Vision {\\u003cbr\\u003e\\nprivate final PhotonCamera m_camera;\\u003cbr\\u003e\\n// private final PhotonCamera cameraNote;\\u003cbr\\u003e\\nprivate final PhotonPoseEstimator photonEstimator;\\u003cbr\\u003e\\nprivate double lastEstTimestamp = 0;\\u003c/p\\u003e\\n\\u003cpre\\u003e\\u003ccode\\u003e// Simulation\\nprivate PhotonCameraSim cameraSim;\\nprivate VisionSystemSim visionSim;\\n\\npublic Vision(PhotonCamera camera) {\\n    m_camera = camera;\\n\\n    photonEstimator = new PhotonPoseEstimator(\\n            kTagLayout, PoseStrategy.MULTI_TAG_PNP_ON_COPROCESSOR, m_camera, kRobotToCam);\\n    photonEstimator.setMultiTagFallbackStrategy(PoseStrategy.LOWEST_AMBIGUITY);\\n\\n    // ----- Simulation\\n    if (Robot.isSimulation()) {\\n        // Create the vision system simulation which handles cameras and targets on the\\n        // field.\\n        visionSim = new VisionSystemSim(\\\"main\\\");\\n        // Add all the AprilTags inside the tag layout as visible targets to this\\n        // simulated field.\\n        visionSim.addAprilTags(kTagLayout);\\n        // Create simulated camera properties. These can be set to mimic your actual\\n        // camera.\\n        var cameraProp = new SimCameraProperties();\\n        cameraProp.setCalibration(960, 720, Rotation2d.fromDegrees(90));\\n        cameraProp.setCalibError(0.35, 0.10);\\n        cameraProp.setFPS(15);\\n        cameraProp.setAvgLatencyMs(50);\\n        cameraProp.setLatencyStdDevMs(15);\\n        // Create a PhotonCameraSim which will update the linked PhotonCamera's values\\n        // with visible\\n        // targets.\\n        cameraSim = new PhotonCameraSim(m_camera, cameraProp);\\n        // Add the simulated camera to view the targets on this simulated field.\\n        visionSim.addCamera(cameraSim, kRobotToCam);\\n\\n        cameraSim.enableDrawWireframe(true);\\n    }\\n}\\n\\npublic PhotonPipelineResult getLatestResult() {\\n    return m_camera.getLatestResult();\\n}\\n\\npublic PhotonPipelineResult getLatestCameraResult() {\\n    return m_camera.getLatestResult();\\n}\\n\\n/**\\n * The latest estimated robot pose on the field from vision data. This may be\\n * empty. This should\\n * only be called once per loop.\\n *\\n * @return An {@link EstimatedRobotPose} with an estimated pose, estimate\\n *         timestamp, and targets\\n *         used for estimation.\\n */\\npublic Optional\\u0026lt;EstimatedRobotPose\\u0026gt; getEstimatedGlobalPose() {\\n    var visionEst = photonEstimator.update();\\n    double latestTimestamp = m_camera.getLatestResult().getTimestampSeconds();\\n    boolean newResult = Math.abs(latestTimestamp - lastEstTimestamp) \\u0026gt; 1e-5;\\n    if (Robot.isSimulation()) {\\n        visionEst.ifPresentOrElse(\\n                est -\\u0026gt; getSimDebugField()\\n                        .getObject(\\\"VisionEstimation\\\")\\n                        .setPose(est.estimatedPose.toPose2d()),\\n                () -\\u0026gt; {\\n                    if (newResult)\\n                        getSimDebugField().getObject(\\\"VisionEstimation\\\").setPoses();\\n                });\\n    }\\n    if (newResult)\\n        lastEstTimestamp = latestTimestamp;\\n    return visionEst;\\n}\\n\\n/**\\n * The standard deviations of the estimated pose from\\n * {@link #getEstimatedGlobalPose()}, for use\\n * with {@link edu.wpi.first.math.estimator.SwerveDrivePoseEstimator\\n * SwerveDrivePoseEstimator}.\\n * This should only be used when there are targets visible.\\n *\\n * @param estimatedPose The estimated pose to guess standard deviations for.\\n */\\npublic Matrix\\u0026lt;N3, N1\\u0026gt; getEstimationStdDevs(Pose2d estimatedPose) {\\n    var estStdDevs = kSingleTagStdDevs;\\n    var targets = getLatestResult().getTargets();\\n    int numTags = 0;\\n    double avgDist = 0;\\n    for (var tgt : targets) {\\n        var tagPose = photonEstimator.getFieldTags().getTagPose(tgt.getFiducialId());\\n        if (tagPose.isEmpty())\\n            continue;\\n        numTags++;\\n        avgDist += tagPose.get().toPose2d().getTranslation().getDistance(estimatedPose.getTranslation());\\n    }\\n    if (numTags == 0)\\n        return estStdDevs;\\n    avgDist /= numTags;\\n    // Decrease std devs if multiple targets are visible\\n    if (numTags \\u0026gt; 1)\\n        estStdDevs = kMultiTagStdDevs;\\n    // Increase std devs based on (average) distance\\n    if (numTags == 1 \\u0026amp;\\u0026amp; avgDist \\u0026gt; 4)\\n        estStdDevs = VecBuilder.fill(Double.MAX_VALUE, Double.MAX_VALUE, Double.MAX_VALUE);\\n    else\\n        estStdDevs = estStdDevs.times(1 + (avgDist * avgDist / 30));\\n\\n    return estStdDevs;\\n}\\n\\n// ----- Simulation\\n\\npublic void simulationPeriodic(Pose2d robotSimPose) {\\n    visionSim.update(robotSimPose);\\n}\\n\\n/** Reset pose history of the robot in the vision system simulation. */\\npublic void resetSimPose(Pose2d pose) {\\n    if (Robot.isSimulation())\\n        visionSim.resetRobotPose(pose);\\n}\\n\\n/** A Field2d for visualizing our robot and objects on the field. */\\npublic Field2d getSimDebugField() {\\n    if (!Robot.isSimulation())\\n        return null;\\n    return visionSim.getDebugField();\\n}\\n\\npublic double getChosenTargetRotation(int targetID) {\\n    var result = getLatestCameraResult();\\n    // Get a list of all of the targets that have been detected.\\n    List\\u0026lt;PhotonTrackedTarget\\u0026gt; targets = result.getTargets();\\n    double rotation = 0;\\n\\n    // For each target we have check if it matches the id you want.\\n    for (PhotonTrackedTarget target : targets) {\\n        if (result.hasTargets()) {\\n            if (target.getFiducialId() == targetID) {\\n                // Use the value of target to find our rotation using the getYaw command\\n                return target.getYaw();\\n            }\\n        } else {\\n            rotation = 0;\\n        }\\n    }\\n\\n    return rotation;\\n}\\n\\npublic double getChosenTargetRange(int targetID) {\\n    var result = getLatestCameraResult();\\n    List\\u0026lt;PhotonTrackedTarget\\u0026gt; targets = result.getTargets();\\n    double range = 0;\\n    if (result.hasTargets()) {\\n        for (PhotonTrackedTarget target : targets) {\\n            if (target.getFiducialId() == targetID) {\\n                range = PhotonUtils.calculateDistanceToTargetMeters(\\n                        CAMERA_HEIGHT_METERS, // Previously declarde\\n                        TARGET_HEIGHT_METERS,\\n                        CAMERA_PITCH_RADIANS,\\n                        Units.degreesToRadians(target.getPitch()));\\n                return range;\\n            }\\n        }\\n    }\\n    return 0;\\n}\\n\\npublic double getRange() {\\n    var result = getLatestResult();\\n    double range;\\n    if (result.hasTargets()) {\\n        // First calculate range\\n        range = PhotonUtils.calculateDistanceToTargetMeters(\\n                CAMERA_HEIGHT_METERS, // Previously declarde\\n                TARGET_HEIGHT_METERS,\\n                CAMERA_PITCH_RADIANS,\\n                Units.degreesToRadians(result.getBestTarget().getPitch()));\\n        return range;\\n\\n    } else {\\n        // If we have no targets, stay still.\\n        return 0;\\n        // When this is implemented - DO NOTHING IF RANGE IS 0\\n    }\\n}\\n\\npublic double getYaw() {\\n    var result = getLatestCameraResult();\\n    double yaw = 0.0;\\n    if (result.hasTargets()) {\\n        // Calculate angular turn power\\n        // Remove -1.0 because it was inverting results.\\n        yaw = result.getBestTarget().getYaw();\\n    }\\n    return yaw;\\n}\\n\\npublic double getPitch() {\\n    var result = getLatestCameraResult();\\n    double pitch = 0.0;\\n    if (result.hasTargets()) {\\n        // Calculate angular turn power\\n        // Remove -1.0 because it was inverting results.\\n        pitch = result.getBestTarget().getPitch();\\n    }\\n\\n    return pitch;\\n}\\n\\u003c/code\\u003e\\u003c/pre\\u003e\\n\\u003cp\\u003e}\\u003c/p\\u003e\\n\\u003cp\\u003e\\u003cstrong\\u003eNote Detection Subsystem:\\u003c/strong\\u003e\\u003c/p\\u003e\\n\\u003cp\\u003e// Copyright (c) \\u003cspan class=\\\"abbreviation\\\"\\u003eFIRST\\u003ctemplate class=\\\"tooltiptext\\\" data-text=\\\"For Inspiration and Recognition of Science and Technology\\\"\\u003e\\u003c/template\\u003e\\u003c/span\\u003e and other WPILib contributors.\\u003cbr\\u003e\\n// Open Source Software; you can modify and/or share it under the terms of\\u003cbr\\u003e\\n// the WPILib BSD license file in the root directory of this project.\\u003c/p\\u003e\\n\\u003cp\\u003e// Copyright (c) \\u003cspan class=\\\"abbreviation\\\"\\u003eFIRST\\u003ctemplate class=\\\"tooltiptext\\\" data-text=\\\"For Inspiration and Recognition of Science and Technology\\\"\\u003e\\u003c/template\\u003e\\u003c/span\\u003e and other WPILib contributors.\\u003cbr\\u003e\\n// Open Source Software; you can modify and/or share it under the terms of\\u003cbr\\u003e\\n// the WPILib BSD license file in the root directory of this project.\\u003c/p\\u003e\\n\\u003cp\\u003epackage frc.robot.subsystems;\\u003c/p\\u003e\\n\\u003cp\\u003eimport static frc.robot.Constants.VisionConstants.kCameraNameNote;\\u003c/p\\u003e\\n\\u003cp\\u003eimport org.photonvision.PhotonUtils;\\u003c/p\\u003e\\n\\u003cp\\u003eimport edu.wpi.first.math.controller.PIDController;\\u003cbr\\u003e\\nimport edu.wpi.first.math.util.Units;\\u003cbr\\u003e\\nimport edu.wpi.first.wpilibj.smartdashboard.SmartDashboard;\\u003cbr\\u003e\\nimport edu.wpi.first.wpilibj2.command.SubsystemBase;\\u003cbr\\u003e\\nimport frc.robot.Constants;\\u003cbr\\u003e\\nimport frc.robot.Vision;\\u003c/p\\u003e\\n\\u003cp\\u003epublic class NoteFinder extends SubsystemBase {\\u003cbr\\u003e\\nfinal double CAMERA_HEIGHT_METERS = Units.inchesToMeters(12);\\u003cbr\\u003e\\nfinal double TARGET_HEIGHT_METERS = Units.feetToMeters(0);\\u003cbr\\u003e\\n// Angle between horizontal and the camera.\\u003cbr\\u003e\\nfinal double CAMERA_PITCH_RADIANS = Units.degreesToRadians(0);\\u003c/p\\u003e\\n\\u003cpre\\u003e\\u003ccode\\u003e// How far from the target we want to be\\nfinal double GOAL_RANGE_METERS = Units.feetToMeters(0);\\n\\n// Change this to match the name of your camera\\n// CHANGED CAMERA NAME TO A CONSTANT\\n\\n//static PhotonCamera camera = new PhotonCamera(\\\"Microsoft_LifeCam_HD-3000\\\");\\n\\n//static PhotonCamera camera = new PhotonCamera(Constants.kCamName);\\n\\n// PID constants should be tuned per robot\\nfinal double LINEAR_P = 0.1;\\nfinal double LINEAR_D = 0.0;\\nPIDController forwardController = new PIDController(LINEAR_P, 0, LINEAR_D);\\nfinal double ANGULAR_P = 0.05;\\nfinal double ANGULAR_D = 0.0;\\nPIDController turnController = new PIDController(ANGULAR_P, 0, ANGULAR_D);\\n\\nDriveSubsystem m_drive;\\nVision m_vision;\\n\\u003c/code\\u003e\\u003c/pre\\u003e\\n\\u003cp\\u003epublic double getRotation()\\u003cbr\\u003e\\n{\\u003cbr\\u003e\\nvar result = m_vision.getLatestResult();\\u003cbr\\u003e\\ndouble rotation;\\u003cbr\\u003e\\nif (result.hasTargets())\\u003cbr\\u003e\\n{\\u003cbr\\u003e\\n// Calculate angular turn power\\u003cbr\\u003e\\n// Remove -1.0 because it was inverting results.\\u003cbr\\u003e\\nrotation = -turnController.calculate(result.getBestTarget().getYaw(), 0) * Constants.kRangeSpeedOffset;\\u003c/p\\u003e\\n\\u003cp\\u003e} else {\\u003cbr\\u003e\\n// If we have no targets, stay still.\\u003cbr\\u003e\\nrotation = 0;\\u003cbr\\u003e\\n}\\u003cbr\\u003e\\nreturn rotation;\\u003cbr\\u003e\\n}\\u003c/p\\u003e\\n\\u003cp\\u003e// HEADER - METHOD TO FIND DISTANCE FROM TARGET\\u003cbr\\u003e\\npublic double getRange()\\u003cbr\\u003e\\n{\\u003cbr\\u003e\\nvar result = m_vision.getLatestResult();\\u003cbr\\u003e\\ndouble range;\\u003cbr\\u003e\\nif (result.hasTargets()) {\\u003cbr\\u003e\\n// First calculate range\\u003cbr\\u003e\\nrange =\\u003cbr\\u003e\\nPhotonUtils.calculateDistanceToTargetMeters(\\u003cbr\\u003e\\nCAMERA_HEIGHT_METERS, // Previously declarde\\u003cbr\\u003e\\nTARGET_HEIGHT_METERS,\\u003cbr\\u003e\\nCAMERA_PITCH_RADIANS,\\u003cbr\\u003e\\nUnits.degreesToRadians(result.getBestTarget().getPitch()));\\u003c/p\\u003e\\n\\u003cpre\\u003e\\u003ccode\\u003e            // THE FOLLOWING EQUATION CAN BE USED TO CALCULATE FORWARD SPEED\\n            // Use this range as the measurement we give to the PID controller.\\n            // -1.0 required to ensure positive PID controller effort _increases_ range\\n            double forwardSpeed = -DriveSubsystem.turnController.calculate(range, GOAL_RANGE_METERS);\\n            return forwardSpeed * Constants.kRangeSpeedOffset;\\n        } else {\\n            // If we have no targets, stay still.\\n            return 0;\\n            // When this is implemented - DO NOTHING IF RANGE IS 0\\n        }\\n\\u003c/code\\u003e\\u003c/pre\\u003e\\n\\u003cp\\u003e}\\u003c/p\\u003e\\n\\u003cp\\u003e// This is a method it get distance\\u003c/p\\u003e\\n\\u003cp\\u003epublic double getDistance()\\u003cbr\\u003e\\n{\\u003cbr\\u003e\\nvar result = m_vision.getLatestResult();\\u003cbr\\u003e\\ndouble range;\\u003cbr\\u003e\\nif (result.hasTargets()) {\\u003cbr\\u003e\\n// First calculate range\\u003cbr\\u003e\\nrange =\\u003cbr\\u003e\\nPhotonUtils.calculateDistanceToTargetMeters(\\u003cbr\\u003e\\nCAMERA_HEIGHT_METERS, // Previously declarde\\u003cbr\\u003e\\nTARGET_HEIGHT_METERS,\\u003cbr\\u003e\\nCAMERA_PITCH_RADIANS,\\u003cbr\\u003e\\nUnits.degreesToRadians(result.getBestTarget().getPitch()));\\u003c/p\\u003e\\n\\u003cpre\\u003e\\u003ccode\\u003e            // THE FOLLOWING EQUATION CAN BE USED TO CALCULATE FORWARD SPEED\\n            // Use this range as the measurement we give to the PID controller.\\n            // -1.0 required to ensure positive PID controller effort _increases_ range\\n        } else {\\n            // If we have no targets, stay still.\\n            return 0;\\n            // When this is implemented - DO NOTHING IF RANGE IS 0\\n        }\\n  return range;\\n\\u003c/code\\u003e\\u003c/pre\\u003e\\n\\u003cp\\u003e}\\u003c/p\\u003e\\n\\u003cp\\u003e/** Creates a new Navigation object when used. */\\u003cbr\\u003e\\npublic NoteFinder(Vision vision) {\\u003cbr\\u003e\\nm_vision = vision;\\u003c/p\\u003e\\n\\u003cp\\u003e}\\u003c/p\\u003e\\n\\u003cp\\u003e\\u003ca class=\\\"mention\\\" href=\\\"/u/override\\\"\\u003e@Override\\u003c/a\\u003e\\u003cbr\\u003e\\npublic void periodic() {\\u003cbr\\u003e\\n// This method will be called once per scheduler run\\u003cbr\\u003e\\nSmartDashboard.putNumber(“Sim-Robot (Vision) Speed”, getRange());\\u003cbr\\u003e\\nSmartDashboard.putNumber(“Sim-Robot (Vision) Rotation”, getRotation());\\u003cbr\\u003e\\n}\\u003c/p\\u003e\\n\\u003cp\\u003epublic void setDriveController(DriveSubsystem robotDrive) {\\u003cbr\\u003e\\nm_drive = robotDrive;\\u003cbr\\u003e\\n}\\u003c/p\\u003e\\n\\u003cp\\u003epublic int NearestNotePosition() {\\u003cbr\\u003e\\nreturn 1; // Placeholder for when vision is utilized in here to find a notes position\\u003cbr\\u003e\\n}\\u003cbr\\u003e\\n}\\u003c/p\\u003e\\n\\u003cp\\u003e\\u003cstrong\\u003eNote Detection Command:\\u003c/strong\\u003e\\u003c/p\\u003e\\n\\u003cp\\u003e// Copyright (c) \\u003cspan class=\\\"abbreviation\\\"\\u003eFIRST\\u003ctemplate class=\\\"tooltiptext\\\" data-text=\\\"For Inspiration and Recognition of Science and Technology\\\"\\u003e\\u003c/template\\u003e\\u003c/span\\u003e and other WPILib contributors.\\u003cbr\\u003e\\n// Open Source Software; you can modify and/or share it under the terms of\\u003cbr\\u003e\\n// the WPILib BSD license file in the root directory of this project.\\u003c/p\\u003e\\n\\u003cp\\u003epackage frc.robot.commands;\\u003c/p\\u003e\\n\\u003cp\\u003eimport edu.wpi.first.wpilibj2.command.Command;\\u003cbr\\u003e\\nimport frc.robot.Constants;\\u003cbr\\u003e\\nimport frc.robot.subsystems.DriveSubsystem;\\u003cbr\\u003e\\nimport frc.robot.subsystems.Intake;\\u003cbr\\u003e\\nimport frc.robot.subsystems.NoteFinder;\\u003c/p\\u003e\\n\\u003cp\\u003epublic class MoveToClosestNote extends Command {\\u003cbr\\u003e\\n/** Creates a new MoveToClosestNote. */\\u003cbr\\u003e\\nprivate final NoteFinder m_NoteFinder;\\u003cbr\\u003e\\nprivate final DriveSubsystem m_drive;\\u003cbr\\u003e\\nprivate final Intake m_IntakeSystem;\\u003c/p\\u003e\\n\\u003cp\\u003epublic MoveToClosestNote(NoteFinder finder, DriveSubsystem drive, Intake intake) {\\u003cbr\\u003e\\n// Use addRequirements() here to declare subsystem dependencies.\\u003cbr\\u003e\\nm_drive = drive;\\u003cbr\\u003e\\nm_NoteFinder = finder;\\u003cbr\\u003e\\nm_IntakeSystem = intake;\\u003cbr\\u003e\\n;\\u003cbr\\u003e\\n}\\u003c/p\\u003e\\n\\u003cp\\u003e// Called when the command is initially scheduled.\\u003cbr\\u003e\\n\\u003ca class=\\\"mention\\\" href=\\\"/u/override\\\"\\u003e@Override\\u003c/a\\u003e\\u003cbr\\u003e\\npublic void initialize() {\\u003cbr\\u003e\\n// This stops the command if note finder can’t find note; Seth is forcing me to write fancy.\\u003cbr\\u003e\\nif(m_NoteFinder.getRotation() == 0 \\u0026amp;\\u0026amp; m_NoteFinder.getRange() == 0) {\\u003cbr\\u003e\\nthis.cancel();\\u003cbr\\u003e\\n}\\u003cbr\\u003e\\n}\\u003c/p\\u003e\\n\\u003cp\\u003e// Called every time the scheduler runs while the command is scheduled.\\u003cbr\\u003e\\n\\u003ca class=\\\"mention\\\" href=\\\"/u/override\\\"\\u003e@Override\\u003c/a\\u003e\\u003cbr\\u003e\\npublic void execute() {\\u003cbr\\u003e\\ndouble rotation = m_NoteFinder.getRotation();\\u003cbr\\u003e\\ndouble speed = m_NoteFinder.getRange();\\u003c/p\\u003e\\n\\u003cpre\\u003e\\u003ccode\\u003eif(speed \\u0026gt; 4)\\n{\\n  speed = 4;\\n}\\nelse if (speed \\u0026lt; -4) {\\n  speed = -4;    \\n}\\nspeed = Math.abs(speed);\\nspeed += Constants.kDefaultNoteFinderSpeed;\\n\\n\\nif(Math.abs(rotation)  \\u0026gt; 0.05)\\n{\\n  m_drive.drive(speed, 0, -rotation, false);\\n}\\nelse if(speed != 0){\\n  m_drive.drive(speed, 0, -rotation, false);\\n  if(speed \\u0026lt; 2) {\\n    m_drive.drive(2, 0, -rotation, false);\\n  }\\n  \\n}\\nelse {\\n  m_drive.drive(Constants.kDefaultNoteFinderSpeed, 0, 0, false);\\n} \\n\\u003c/code\\u003e\\u003c/pre\\u003e\\n\\u003cp\\u003e}\\u003c/p\\u003e\\n\\u003cp\\u003epublic boolean isFinished() {\\u003cbr\\u003e\\nreturn m_IntakeSystem.NoteIsPresent();\\u003cbr\\u003e\\n}\\u003c/p\\u003e\\n\\u003cp\\u003e// Called once the command ends or is interrupted.\\u003cbr\\u003e\\n\\u003ca class=\\\"mention\\\" href=\\\"/u/override\\\"\\u003e@Override\\u003c/a\\u003e\\u003cbr\\u003e\\npublic void end(boolean interrupted) {}\\u003c/p\\u003e\\n\\u003cp\\u003e// Returns true when the command should end.\\u003cbr\\u003e\\n}\\u003c/p\\u003e\\n\\u003cp\\u003eFull code:\\u003c/p\\u003e\\u003caside class=\\\"onebox githubfolder\\\" data-onebox-src=\\\"https://github.com/6500gearcats/Crescendo2024/tree/Wake-Sunday-1\\\"\\u003e\\n  \\u003cheader class=\\\"source\\\"\\u003e\\n      \\u003cimg src=\\\"https://github.githubassets.com/favicons/favicon.svg\\\" class=\\\"site-icon\\\" width=\\\"32\\\" height=\\\"32\\\"\\u003e\\n\\n      \\u003ca href=\\\"https://github.com/6500gearcats/Crescendo2024/tree/Wake-Sunday-1\\\" target=\\\"_blank\\\" rel=\\\"noopener nofollow ugc\\\"\\u003egithub.com\\u003c/a\\u003e\\n  \\u003c/header\\u003e\\n\\n  \\u003carticle class=\\\"onebox-body\\\"\\u003e\\n    \\u003ch3\\u003e\\u003ca href=\\\"https://github.com/6500gearcats/Crescendo2024/tree/Wake-Sunday-1\\\" target=\\\"_blank\\\" rel=\\\"noopener nofollow ugc\\\"\\u003eGitHub - 6500gearcats/Crescendo2024 at Wake-Sunday-1\\u003c/a\\u003e\\u003c/h3\\u003e\\n\\n  \\u003cp\\u003e\\u003ca href=\\\"https://github.com/6500gearcats/Crescendo2024/tree/Wake-Sunday-1\\\" target=\\\"_blank\\\" rel=\\\"noopener nofollow ugc\\\"\\u003eWake-Sunday-1\\u003c/a\\u003e\\u003c/p\\u003e\\n\\n  \\u003cp\\u003e\\u003cspan class=\\\"label1\\\"\\u003eContribute to 6500gearcats/Crescendo2024 development by creating an account on GitHub.\\u003c/span\\u003e\\u003c/p\\u003e\\n\\n  \\u003c/article\\u003e\\n\\n  \\u003cdiv class=\\\"onebox-metadata\\\"\\u003e\\n    \\n    \\n  \\u003c/div\\u003e\\n\\n  \\u003cdiv style=\\\"clear: both\\\"\\u003e\\u003c/div\\u003e\\n\\u003c/aside\\u003e\\n\",\"post_number\":1,\"post_type\":1,\"posts_count\":23,\"updated_at\":\"2024-08-05T19:00:40.518Z\",\"reply_count\":0,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":53,\"reads\":484,\"readers_count\":483,\"score\":361.8,\"yours\":false,\"topic_id\":469552,\"topic_slug\":\"robot-loses-mind-drives-autonomously\",\"display_username\":\"Seth David Bragdon\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"link_counts\":[{\"url\":\"https://github.com/6500gearcats/Crescendo2024/tree/Wake-Sunday-1\",\"internal\":false,\"reflection\":false,\"title\":\"GitHub - 6500gearcats/Crescendo2024 at Wake-Sunday-1\",\"clicks\":11}],\"read\":true,\"user_title\":null,\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":67316,\"hidden\":false,\"trust_level\":1,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"Gearcats 6500 Programming Exec\"},\"post_url\":\"/t/robot-loses-mind-drives-autonomously/469552/1\",\"custom_user_title\":\"Gearcats 6500 Programming Exec\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null,\"can_vote\":false},{\"id\":3413436,\"name\":\"\",\"username\":\"Akash_Rastogi\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/akash_rastogi/{size}/169937_2.png\",\"created_at\":\"2024-08-05T19:24:40.841Z\",\"cooked\":\"\\u003cp\\u003eDo you have any driver station logs from an occurrence of this?\\u003c/p\\u003e\\n\\u003cp\\u003eDriver station logs are typically one of the best places to first look when it appears things could be related to packet loss, \\u003cspan class=\\\"abbreviation\\\"\\u003eCAN\\u003ctemplate class=\\\"tooltiptext\\\" data-text=\\\"Controller Area Network\\\"\\u003e\\u003c/template\\u003e\\u003c/span\\u003e issues, battery/power related etc.\\u003c/p\\u003e\\n\\u003cp\\u003eMore info here if you aren’t familiar - \\u003ca href=\\\"https://docs.wpilib.org/en/stable/docs/software/driverstation/driver-station-log-viewer.html\\\" class=\\\"inline-onebox\\\"\\u003eDriver Station Log File Viewer — FIRST Robotics Competition documentation\\u003c/a\\u003e\\u003c/p\\u003e\",\"post_number\":2,\"post_type\":1,\"posts_count\":23,\"updated_at\":\"2024-08-05T19:27:07.989Z\",\"reply_count\":0,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":3,\"reads\":317,\"readers_count\":316,\"score\":78.4,\"yours\":false,\"topic_id\":469552,\"topic_slug\":\"robot-loses-mind-drives-autonomously\",\"display_username\":\"\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"link_counts\":[{\"url\":\"https://docs.wpilib.org/en/stable/docs/software/driverstation/driver-station-log-viewer.html\",\"internal\":false,\"reflection\":false,\"title\":\"Driver Station Log File Viewer — FIRST Robotics Competition documentation\",\"clicks\":1}],\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":8002,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"177 \\u0026 429 | #TeamWCP| #TeamThrifty\"},\"post_url\":\"/t/robot-loses-mind-drives-autonomously/469552/2\",\"custom_user_title\":\"177 \\u0026 429 | #TeamWCP| #TeamThrifty\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3413443,\"name\":\"Seth David Bragdon\",\"username\":\"Seth-Gearcats6500\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/s/b9bd4f/{size}.png\",\"created_at\":\"2024-08-05T19:54:27.395Z\",\"cooked\":\"\\u003cp\\u003eWe have multiple full logs of instances when the issue occurred. Unfortunately, they are ridiculously clean. We can’t find anything wrong.\\u003c/p\\u003e\\n\\u003cp\\u003eThanks for the help though.\\u003c/p\\u003e\",\"post_number\":3,\"post_type\":1,\"posts_count\":23,\"updated_at\":\"2024-08-05T19:54:52.929Z\",\"reply_count\":0,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":316,\"readers_count\":315,\"score\":63.2,\"yours\":false,\"topic_id\":469552,\"topic_slug\":\"robot-loses-mind-drives-autonomously\",\"display_username\":\"Seth David Bragdon\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":null,\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":67316,\"hidden\":false,\"trust_level\":1,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"Gearcats 6500 Programming Exec\"},\"post_url\":\"/t/robot-loses-mind-drives-autonomously/469552/3\",\"custom_user_title\":\"Gearcats 6500 Programming Exec\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3413460,\"name\":\"Paul Rensing\",\"username\":\"prensing\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/prensing/{size}/65820_2.png\",\"created_at\":\"2024-08-05T20:53:09.742Z\",\"cooked\":\"\\u003cp\\u003eThe next step might be to turn on onboard logging (WPILib logger, or DogLog looks good). Make sure to log everything about the Drivetrain and the joysticks. Then try and capture a failure.\\u003c/p\\u003e\",\"post_number\":4,\"post_type\":1,\"posts_count\":23,\"updated_at\":\"2024-08-05T20:53:09.742Z\",\"reply_count\":0,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":2,\"reads\":299,\"readers_count\":298,\"score\":69.8,\"yours\":false,\"topic_id\":469552,\"topic_slug\":\"robot-loses-mind-drives-autonomously\",\"display_username\":\"Paul Rensing\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":25118,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"FRC 2877 LigerBots Mentor\"},\"post_url\":\"/t/robot-loses-mind-drives-autonomously/469552/4\",\"custom_user_title\":\"FRC 2877 LigerBots Mentor\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3413475,\"name\":null,\"username\":\"Jedi_4\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/j/f9ae1b/{size}.png\",\"created_at\":\"2024-08-05T21:32:57.108Z\",\"cooked\":\"\\u003cp\\u003eHow are you powering the OPI?\\u003c/p\\u003e\",\"post_number\":5,\"post_type\":1,\"posts_count\":23,\"updated_at\":\"2024-08-05T21:32:57.108Z\",\"reply_count\":1,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":278,\"readers_count\":277,\"score\":60.6,\"yours\":false,\"topic_id\":469552,\"topic_slug\":\"robot-loses-mind-drives-autonomously\",\"display_username\":null,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":null,\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":51913,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"\"},\"post_url\":\"/t/robot-loses-mind-drives-autonomously/469552/5\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3413568,\"name\":\"Seth David Bragdon\",\"username\":\"Seth-Gearcats6500\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/s/b9bd4f/{size}.png\",\"created_at\":\"2024-08-06T00:25:32.814Z\",\"cooked\":\"\\u003cp\\u003eIf you’re referring to the Orange Pi, we use a power bank to power it. We have tested unplugging it while the robot was using vision, but were unable to replicate the issue.\\u003c/p\\u003e\",\"post_number\":6,\"post_type\":1,\"posts_count\":23,\"updated_at\":\"2024-08-06T00:25:32.814Z\",\"reply_count\":0,\"reply_to_post_number\":5,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":252,\"readers_count\":251,\"score\":50.4,\"yours\":false,\"topic_id\":469552,\"topic_slug\":\"robot-loses-mind-drives-autonomously\",\"display_username\":\"Seth David Bragdon\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":null,\"reply_to_user\":{\"id\":51913,\"username\":\"Jedi_4\",\"name\":null,\"avatar_template\":\"/letter_avatar_proxy/v4/letter/j/f9ae1b/{size}.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":67316,\"hidden\":false,\"trust_level\":1,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"Gearcats 6500 Programming Exec\"},\"post_url\":\"/t/robot-loses-mind-drives-autonomously/469552/6\",\"custom_user_title\":\"Gearcats 6500 Programming Exec\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3413646,\"name\":\"Waz\",\"username\":\"Waz\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/w/7cd45c/{size}.png\",\"created_at\":\"2024-08-06T13:46:48.610Z\",\"cooked\":\"\\u003cp\\u003eI see one thing in your code that could cause the behavior you describe while this button binding is active:\\u003c/p\\u003e\\n\\u003cpre\\u003e\\u003ccode class=\\\"lang-auto\\\"\\u003e    new JoystickButton(m_gunnerController, Button.kRightBumper.value)\\n        .whileTrue(new GrabNote(m_NoteFinder, m_robotDrive, m_robotIntake)\\n        .andThen(new NoteInPlace(m_robotIntake))\\n        .andThen(new BackwardsIntake(m_robotIntake, m_robotShooter).withTimeout(.1))\\n        .andThen(new ControllerRumble(m_gunnerController).withTimeout(0.2)));\\n\\u003c/code\\u003e\\u003c/pre\\u003e\\n\\u003cp\\u003eThe movement is accomplished via MoveToClosestNote (part of GrabNote). In MoveToClosestNote.initialize(), you check for no target and cancel if there is no target. In MoveToClosestNote.execute(), you make no such check. So, if you initially have a target and then lose it for whatever reason (obstruction, another robot picks the note up, etc), the command continues to execute without a target.\\u003c/p\\u003e\\n\\u003cp\\u003eWhile continuing to execute, the code uses the 0 rotation and speed values you get back and it looks like the speed is adjusted at line 52 to 1 m/s and then again to 2 m/s at line 62. I think this would cause a straight line movement on the current robot relative heading of 2 m/s. Is this what you are seeing?\\u003c/p\\u003e\\n\\u003cp\\u003eI also noticed that MoveToClosestNote is not adding its requirements (it should). This could mean that the default drive command is continuing to run at the same time. This could explain the driver’s ability to partially control the robot.\\u003c/p\\u003e\\n\\u003cp\\u003eIf this is it, first add the requirements. Second, a simple fix would be to cancel if you lose the target. However, this could lead to unnecessary cancelation for an intermittent target loss. You may want to debounce the target loss case in execute (that is, only cancel after some number of consecutive no target readings). During the debounce period, you could use the last known good reading values. You would need to add MoveToClosestNote instance variables to track the debounce count and the last good vision values.\\u003c/p\\u003e\",\"post_number\":7,\"post_type\":1,\"posts_count\":23,\"updated_at\":\"2024-08-06T13:46:48.610Z\",\"reply_count\":1,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":2,\"reads\":242,\"readers_count\":241,\"score\":108.4,\"yours\":false,\"topic_id\":469552,\"topic_slug\":\"robot-loses-mind-drives-autonomously\",\"display_username\":\"Waz\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":3}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":20488,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"\"},\"post_url\":\"/t/robot-loses-mind-drives-autonomously/469552/7\",\"custom_user_title\":null,\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":3}],\"current_user_reaction\":null,\"reaction_users_count\":3,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3413657,\"name\":\"Seth David Bragdon\",\"username\":\"Seth-Gearcats6500\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/s/b9bd4f/{size}.png\",\"created_at\":\"2024-08-06T14:57:46.450Z\",\"cooked\":\"\\u003cp\\u003eThat bug was added intentionally because the robot’s camera would lose sight of the note when it got too close. Thusly, we programmed it so that the robot would keep going straight after it loses sight of the note, but would stop when the trigger was released. During a regional competition where we ran this code, it worked as intended.\\u003c/p\\u003e\\n\\u003cp\\u003eWhen the issue triggers, the robot never drives straight or in any sort recognizable pattern. The other issue is that the drivers cannot stop the robot by letting go of the trigger even though the command is run by the whileTrue() method.\\u003c/p\\u003e\\n\\u003cp\\u003eAs far as adding requirements, we did notice that and corrected it while testing, but the issue was not resolved. I don’t know why that fix isn’t present in that branch. We’ll fix that.\\u003c/p\\u003e\",\"post_number\":8,\"post_type\":1,\"posts_count\":23,\"updated_at\":\"2024-08-06T14:57:46.450Z\",\"reply_count\":2,\"reply_to_post_number\":7,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":191,\"readers_count\":190,\"score\":48.2,\"yours\":false,\"topic_id\":469552,\"topic_slug\":\"robot-loses-mind-drives-autonomously\",\"display_username\":\"Seth David Bragdon\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":null,\"reply_to_user\":{\"id\":20488,\"username\":\"Waz\",\"name\":\"Waz\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/w/7cd45c/{size}.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":67316,\"hidden\":false,\"trust_level\":1,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"Gearcats 6500 Programming Exec\"},\"post_url\":\"/t/robot-loses-mind-drives-autonomously/469552/8\",\"custom_user_title\":\"Gearcats 6500 Programming Exec\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3413675,\"name\":\"Waz\",\"username\":\"Waz\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/w/7cd45c/{size}.png\",\"created_at\":\"2024-08-06T16:13:27.886Z\",\"cooked\":\"\\u003cp\\u003eFirst, my thought about it driving straight could be a misreading. Also, that releasing a whileTrue binding not stopping it is very odd. How about putting a couple of log entries or simple prints in the code? One in execute that logs only if 0 comes back for the speed and a second in end(boolean) that simply verifies that you got there on the trigger release.\\u003c/p\\u003e\\n\\u003cp\\u003eNot getting to end(boolean) would point us in one direction and getting there but not stopping in another. If you do get to end(boolean), you may want to add a line of code in there to stop the drive.\\u003c/p\\u003e\\n\\u003cp\\u003eSecond, your line in MoveToClosestNote.initialize() to cancel itself will not do anything meaningful. The MoveToClosestNote command is a member of a command group. The scheduler only knows about the group, but not its member commands. The scheduler will ignore this cancel request and the MoveToClosestNote command will keep running even if no note is present at initialize(). When the command group ends, it should still call end(boolean) on members that have not already ended. This would make it easier to get into the mode of trying to move without a target, but does not explain how a whileTrue bound command would not stop on release.\\u003c/p\\u003e\",\"post_number\":9,\"post_type\":1,\"posts_count\":23,\"updated_at\":\"2024-08-06T16:13:27.886Z\",\"reply_count\":0,\"reply_to_post_number\":8,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":186,\"readers_count\":185,\"score\":37.2,\"yours\":false,\"topic_id\":469552,\"topic_slug\":\"robot-loses-mind-drives-autonomously\",\"display_username\":\"Waz\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"reply_to_user\":{\"id\":67316,\"username\":\"Seth-Gearcats6500\",\"name\":\"Seth David Bragdon\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/s/b9bd4f/{size}.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":20488,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"\"},\"post_url\":\"/t/robot-loses-mind-drives-autonomously/469552/9\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3413676,\"name\":\"Waz\",\"username\":\"Waz\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/w/7cd45c/{size}.png\",\"created_at\":\"2024-08-06T16:14:45.212Z\",\"cooked\":\"\\u003cp\\u003eAlso, can you point us to a match where this happened? I would like to take a look at the video.\\u003c/p\\u003e\",\"post_number\":10,\"post_type\":1,\"posts_count\":23,\"updated_at\":\"2024-08-06T16:14:45.212Z\",\"reply_count\":1,\"reply_to_post_number\":8,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":161,\"readers_count\":160,\"score\":37.2,\"yours\":false,\"topic_id\":469552,\"topic_slug\":\"robot-loses-mind-drives-autonomously\",\"display_username\":\"Waz\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"reply_to_user\":{\"id\":67316,\"username\":\"Seth-Gearcats6500\",\"name\":\"Seth David Bragdon\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/s/b9bd4f/{size}.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":20488,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"\"},\"post_url\":\"/t/robot-loses-mind-drives-autonomously/469552/10\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3413749,\"name\":\"Seth David Bragdon\",\"username\":\"Seth-Gearcats6500\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/s/b9bd4f/{size}.png\",\"created_at\":\"2024-08-06T18:33:21.147Z\",\"cooked\":\"\\u003cdiv class=\\\"youtube-onebox lazy-video-container\\\" data-video-id=\\\"Bz91EWJVjK0\\\" data-video-title=\\\"qm14 - 2024 FIRST North Carolina District State Championship\\\" data-video-start-time=\\\"109s\\\" data-provider-name=\\\"youtube\\\"\\u003e\\n  \\u003ca href=\\\"https://www.youtube.com/watch?v=Bz91EWJVjK0\\u0026amp;t=109s\\\" target=\\\"_blank\\\" class=\\\"video-thumbnail\\\" rel=\\\"noopener nofollow ugc\\\"\\u003e\\n    \\u003cimg class=\\\"youtube-thumbnail\\\" src=\\\"https://img.youtube.com/vi/Bz91EWJVjK0/maxresdefault.jpg\\\" title=\\\"qm14 - 2024 FIRST North Carolina District State Championship\\\" width=\\\"690\\\" height=\\\"388\\\"\\u003e\\n  \\u003c/a\\u003e\\n\\u003c/div\\u003e\\n\",\"post_number\":11,\"post_type\":1,\"posts_count\":23,\"updated_at\":\"2024-08-06T18:33:21.147Z\",\"reply_count\":1,\"reply_to_post_number\":10,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":168,\"readers_count\":167,\"score\":38.6,\"yours\":false,\"topic_id\":469552,\"topic_slug\":\"robot-loses-mind-drives-autonomously\",\"display_username\":\"Seth David Bragdon\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"link_counts\":[{\"url\":\"https://www.youtube.com/watch?v=Bz91EWJVjK0\",\"internal\":false,\"reflection\":false,\"clicks\":0},{\"url\":\"https://www.youtube.com/watch?v=Bz91EWJVjK0\\u0026t=109s\",\"internal\":false,\"reflection\":false,\"clicks\":0}],\"read\":true,\"user_title\":null,\"reply_to_user\":{\"id\":20488,\"username\":\"Waz\",\"name\":\"Waz\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/w/7cd45c/{size}.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":67316,\"hidden\":false,\"trust_level\":1,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"Gearcats 6500 Programming Exec\"},\"post_url\":\"/t/robot-loses-mind-drives-autonomously/469552/11\",\"custom_user_title\":\"Gearcats 6500 Programming Exec\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3413759,\"name\":\"David B\",\"username\":\"David_IsMe\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/david_isme/{size}/196853_2.png\",\"created_at\":\"2024-08-06T18:37:21.437Z\",\"cooked\":\"\\u003cp\\u003eYall aren’t too far away in Raleigh, if needed I would love to come by one day and see how I may be able to help. \\u003ca class=\\\"mention\\\" href=\\\"/u/seth-gearcats6500\\\"\\u003e@Seth-Gearcats6500\\u003c/a\\u003e\\u003c/p\\u003e\",\"post_number\":12,\"post_type\":1,\"posts_count\":23,\"updated_at\":\"2024-08-06T18:37:21.437Z\",\"reply_count\":0,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":2,\"reads\":162,\"readers_count\":161,\"score\":42.4,\"yours\":false,\"topic_id\":469552,\"topic_slug\":\"robot-loses-mind-drives-autonomously\",\"display_username\":\"David B\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":39555,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"David, Mentor FRC 6004/4795\"},\"post_url\":\"/t/robot-loses-mind-drives-autonomously/469552/12\",\"custom_user_title\":\"David, Mentor FRC 6004/4795\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3413774,\"name\":\"Waz\",\"username\":\"Waz\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/w/7cd45c/{size}.png\",\"created_at\":\"2024-08-06T19:27:24.309Z\",\"cooked\":\"\\u003cp\\u003eFirst, is that the issue with 1:17 left in the match? Second, is the turn with 1:10 left the partial control the driver mentioned, or is that more of the same issue? Third, do you not move anymore because the command in question has not terminated so that the drive default command is either not running (you had your requirements at that time), or is not responsive?\\u003c/p\\u003e\\n\\u003cp\\u003eFrom the state of the field (where notes were sitting), my guess is that it was not seeing a note at the time. Maybe it was momentarily confused that something else was a note over by the wall.\\u003c/p\\u003e\\n\\u003cp\\u003eAlso, as follow up to my last comment on the cancel in the initialize method not doing anything, I failed to offer a way to work around the issue. One way is when you decide there is no note to target (in initialize or execute), is to clear a haveTargetNote boolean to false, and that then causes isFinished to return true (or !haveTargetNote with the statement already there). Be sure to initialize haveTargetNote to properly in initialize to either true or false.\\u003c/p\\u003e\",\"post_number\":13,\"post_type\":1,\"posts_count\":23,\"updated_at\":\"2024-08-06T19:27:24.309Z\",\"reply_count\":1,\"reply_to_post_number\":11,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":158,\"readers_count\":157,\"score\":36.6,\"yours\":false,\"topic_id\":469552,\"topic_slug\":\"robot-loses-mind-drives-autonomously\",\"display_username\":\"Waz\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"reply_to_user\":{\"id\":67316,\"username\":\"Seth-Gearcats6500\",\"name\":\"Seth David Bragdon\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/s/b9bd4f/{size}.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":20488,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"\"},\"post_url\":\"/t/robot-loses-mind-drives-autonomously/469552/13\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3413828,\"name\":\"Craig Schardt\",\"username\":\"crschardt\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/c/58956e/{size}.png\",\"created_at\":\"2024-08-07T00:20:03.488Z\",\"cooked\":\"\\u003cp\\u003eAre you using the colored object pipeline or the object detection pipeline to detect the note?\\u003c/p\\u003e\",\"post_number\":14,\"post_type\":1,\"posts_count\":23,\"updated_at\":\"2024-08-07T00:20:03.488Z\",\"reply_count\":1,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":141,\"readers_count\":140,\"score\":33.2,\"yours\":false,\"topic_id\":469552,\"topic_slug\":\"robot-loses-mind-drives-autonomously\",\"display_username\":\"Craig Schardt\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":null,\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":55459,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"Mentor\"},\"post_url\":\"/t/robot-loses-mind-drives-autonomously/469552/14\",\"custom_user_title\":\"Mentor\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3413906,\"name\":\"Seth David Bragdon\",\"username\":\"Seth-Gearcats6500\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/s/b9bd4f/{size}.png\",\"created_at\":\"2024-08-07T12:30:38.429Z\",\"cooked\":\"\\u003cp\\u003eFirst, the issue does occur with about 1:17 left, second, the drivers had already lost all control by 1:17 during this match, third, the robot was emergency stopped and that was why it was sitting there. The drivers were unable to stop the issue despite releasing the note finding trigger.\\u003c/p\\u003e\\n\\u003cp\\u003eAs far as the robot not seeing a note or chasing a note that was not there, we tried two tests yesterday to check if that was the issue, but the robot operated as expected.\\u003c/p\\u003e\",\"post_number\":15,\"post_type\":1,\"posts_count\":23,\"updated_at\":\"2024-08-07T12:30:38.429Z\",\"reply_count\":1,\"reply_to_post_number\":13,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":131,\"readers_count\":130,\"score\":31.2,\"yours\":false,\"topic_id\":469552,\"topic_slug\":\"robot-loses-mind-drives-autonomously\",\"display_username\":\"Seth David Bragdon\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":null,\"reply_to_user\":{\"id\":20488,\"username\":\"Waz\",\"name\":\"Waz\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/w/7cd45c/{size}.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":67316,\"hidden\":false,\"trust_level\":1,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"Gearcats 6500 Programming Exec\"},\"post_url\":\"/t/robot-loses-mind-drives-autonomously/469552/15\",\"custom_user_title\":\"Gearcats 6500 Programming Exec\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3413907,\"name\":\"\",\"username\":\"LPryor\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/lpryor/{size}/220287_2.png\",\"created_at\":\"2024-08-07T12:37:59.369Z\",\"cooked\":\"\\u003cp\\u003eLooking at the code now but I wanted to mention that we had an issue like this. Our robot would randomly drive in a random direction and stop taking inputs. It took us a week to figure out the problem.\\u003c/p\\u003e\\n\\u003cp\\u003eIt was a cracked cancorder case on one of our swerve modules. It caused the sensor to randomly float above the magnet and returned stupid headings in the billion range.\\u003c/p\\u003e\\n\\u003cp\\u003eThe problem was the swerve code we were using at the time was using a loop to normalize that value between 0 and 360. It takes a while to normalize a few billion when you are counting 360 at a time. It was an effective infinite loop, and the motors would continue executing their last command.\\u003c/p\\u003e\\n\\u003cp\\u003eWe found the problem by profiling the code and logging any suspected values. First we fixed the normalization code to not use a loop, then we started looking at why we were getting bad values.\\u003c/p\\u003e\\n\\u003cp\\u003eSo my recommendations would be to look for any loops, verify parameters, and run a profiler on your code.\\u003c/p\\u003e\",\"post_number\":16,\"post_type\":1,\"posts_count\":23,\"updated_at\":\"2024-08-07T12:39:28.031Z\",\"reply_count\":1,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":135,\"readers_count\":134,\"score\":47.0,\"yours\":false,\"topic_id\":469552,\"topic_slug\":\"robot-loses-mind-drives-autonomously\",\"display_username\":\"\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":null,\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":1}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":55309,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"Mentor 8280, President Motor City Alliance\"},\"post_url\":\"/t/robot-loses-mind-drives-autonomously/469552/16\",\"custom_user_title\":\"Mentor 8280, President Motor City Alliance\",\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":1}],\"current_user_reaction\":null,\"reaction_users_count\":1,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3413924,\"name\":\"Waz\",\"username\":\"Waz\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/w/7cd45c/{size}.png\",\"created_at\":\"2024-08-07T14:45:13.003Z\",\"cooked\":\"\\u003cp\\u003eDo you still have the logs from this match?\\u003c/p\\u003e\\n\\u003cp\\u003eAlso, wrt…\\u003c/p\\u003e\\n\\u003caside class=\\\"quote no-group\\\" data-username=\\\"Seth-Gearcats6500\\\" data-post=\\\"15\\\" data-topic=\\\"469552\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg loading=\\\"lazy\\\" alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/letter_avatar_proxy/v4/letter/s/b9bd4f/48.png\\\" class=\\\"avatar\\\"\\u003e Seth-Gearcats6500:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003ethe drivers had already lost all control by 1:17\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003cp\\u003eWhen did they lose control (do you mean at 1:17 or sometime earlier) and what were they doing at that point in time?\\u003c/p\\u003e\",\"post_number\":17,\"post_type\":1,\"posts_count\":23,\"updated_at\":\"2024-08-07T14:45:13.003Z\",\"reply_count\":0,\"reply_to_post_number\":15,\"quote_count\":1,\"incoming_link_count\":0,\"reads\":116,\"readers_count\":115,\"score\":23.2,\"yours\":false,\"topic_id\":469552,\"topic_slug\":\"robot-loses-mind-drives-autonomously\",\"display_username\":\"Waz\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":20488,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"\"},\"post_url\":\"/t/robot-loses-mind-drives-autonomously/469552/17\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3413987,\"name\":\"Seth David Bragdon\",\"username\":\"Seth-Gearcats6500\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/s/b9bd4f/{size}.png\",\"created_at\":\"2024-08-07T19:01:24.962Z\",\"cooked\":\"\\u003cp\\u003eWe’re using the built in note detection pipeline that comes with Photonvision.\\u003c/p\\u003e\",\"post_number\":18,\"post_type\":1,\"posts_count\":23,\"updated_at\":\"2024-08-07T19:01:24.962Z\",\"reply_count\":0,\"reply_to_post_number\":14,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":110,\"readers_count\":109,\"score\":22.0,\"yours\":false,\"topic_id\":469552,\"topic_slug\":\"robot-loses-mind-drives-autonomously\",\"display_username\":\"Seth David Bragdon\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":null,\"reply_to_user\":{\"id\":55459,\"username\":\"crschardt\",\"name\":\"Craig Schardt\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/c/58956e/{size}.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":67316,\"hidden\":false,\"trust_level\":1,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"Gearcats 6500 Programming Exec\"},\"post_url\":\"/t/robot-loses-mind-drives-autonomously/469552/18\",\"custom_user_title\":\"Gearcats 6500 Programming Exec\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3414028,\"name\":\"Seth David Bragdon\",\"username\":\"Seth-Gearcats6500\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/s/b9bd4f/{size}.png\",\"created_at\":\"2024-08-07T22:09:34.414Z\",\"cooked\":\"\\u003cp\\u003eThe issue had seems very similar to ours. Just to clarify, did your robot always have weird driving problems, or would it just occur randomly?\\u003c/p\\u003e\",\"post_number\":19,\"post_type\":1,\"posts_count\":23,\"updated_at\":\"2024-08-07T22:09:34.414Z\",\"reply_count\":1,\"reply_to_post_number\":16,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":105,\"readers_count\":104,\"score\":26.0,\"yours\":false,\"topic_id\":469552,\"topic_slug\":\"robot-loses-mind-drives-autonomously\",\"display_username\":\"Seth David Bragdon\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":null,\"reply_to_user\":{\"id\":55309,\"username\":\"LPryor\",\"name\":\"\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/lpryor/{size}/220287_2.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":67316,\"hidden\":false,\"trust_level\":1,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"Gearcats 6500 Programming Exec\"},\"post_url\":\"/t/robot-loses-mind-drives-autonomously/469552/19\",\"custom_user_title\":\"Gearcats 6500 Programming Exec\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3414031,\"name\":\"\",\"username\":\"LPryor\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/lpryor/{size}/220287_2.png\",\"created_at\":\"2024-08-07T22:34:10.394Z\",\"cooked\":\"\\u003cp\\u003eCompletely random, but usually when driven quickly. Anything to jostle the can coder and have the sensor throw a bad value.\\u003c/p\\u003e\",\"post_number\":20,\"post_type\":1,\"posts_count\":23,\"updated_at\":\"2024-08-07T22:34:10.394Z\",\"reply_count\":0,\"reply_to_post_number\":19,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":102,\"readers_count\":101,\"score\":20.4,\"yours\":false,\"topic_id\":469552,\"topic_slug\":\"robot-loses-mind-drives-autonomously\",\"display_username\":\"\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":null,\"reply_to_user\":{\"id\":67316,\"username\":\"Seth-Gearcats6500\",\"name\":\"Seth David Bragdon\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/s/b9bd4f/{size}.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":55309,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"Mentor 8280, President Motor City Alliance\"},\"post_url\":\"/t/robot-loses-mind-drives-autonomously/469552/20\",\"custom_user_title\":\"Mentor 8280, President Motor City Alliance\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null}],\"stream\":[3413430,3413436,3413443,3413460,3413475,3413568,3413646,3413657,3413675,3413676,3413749,3413759,3413774,3413828,3413906,3413907,3413924,3413987,3414028,3414031,3420764,3420866,3731855]},\"timeline_lookup\":[[1,432],[7,431],[15,430],[21,402],[22,401],[23,36]],\"tags\":[\"robot\",\"programming\",\"electrical\"],\"tags_descriptions\":{},\"fancy_title\":\"Robot Loses Mind (Drives Autonomously)\",\"id\":469552,\"title\":\"Robot Loses Mind (Drives Autonomously)\",\"posts_count\":23,\"created_at\":\"2024-08-05T19:00:40.438Z\",\"views\":988,\"reply_count\":11,\"like_count\":4,\"last_posted_at\":\"2025-09-05T15:10:33.072Z\",\"visible\":true,\"closed\":true,\"archived\":false,\"has_summary\":false,\"archetype\":\"regular\",\"slug\":\"robot-loses-mind-drives-autonomously\",\"category_id\":9,\"word_count\":3598,\"deleted_at\":null,\"user_id\":67316,\"featured_link\":null,\"pinned_globally\":false,\"pinned_at\":null,\"pinned_until\":null,\"image_url\":null,\"slow_mode_seconds\":0,\"draft\":null,\"draft_key\":\"topic_469552\",\"draft_sequence\":null,\"unpinned\":null,\"pinned\":false,\"current_post_number\":1,\"highest_post_number\":23,\"deleted_by\":null,\"actions_summary\":[{\"id\":4,\"count\":0,\"hidden\":false,\"can_act\":false},{\"id\":8,\"count\":0,\"hidden\":false,\"can_act\":false},{\"id\":10,\"count\":0,\"hidden\":false,\"can_act\":false},{\"id\":7,\"count\":0,\"hidden\":false,\"can_act\":false}],\"chunk_size\":20,\"bookmarked\":false,\"topic_timer\":null,\"message_bus_last_id\":0,\"participant_count\":10,\"show_read_indicator\":false,\"thumbnails\":null,\"slow_mode_enabled_until\":null,\"valid_reactions\":[\"heart\",\"laughing\",\"point_up\",\"+1\",\"-1\",\"100\",\"open_mouth\",\"cry\",\"question\",\"thinking\",\"call_me_hand\",\"hugs\",\"angry\"],\"user_chosen_thumbnail_url\":null,\"sidecar_installed\":true,\"can_vote\":false,\"vote_count\":0,\"user_voted\":false,\"discourse_zendesk_plugin_zendesk_id\":null,\"discourse_zendesk_plugin_zendesk_url\":\"https://your-url.zendesk.com/agent/tickets/\",\"details\":{\"can_edit\":false,\"notification_level\":1,\"participants\":[{\"id\":67316,\"username\":\"Seth-Gearcats6500\",\"name\":\"Seth David Bragdon\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/s/b9bd4f/{size}.png\",\"post_count\":8,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":1},{\"id\":20488,\"username\":\"Waz\",\"name\":\"Waz\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/w/7cd45c/{size}.png\",\"post_count\":5,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":55309,\"username\":\"LPryor\",\"name\":\"\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/lpryor/{size}/220287_2.png\",\"post_count\":2,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":39555,\"username\":\"David_IsMe\",\"name\":\"David B\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/david_isme/{size}/196853_2.png\",\"post_count\":1,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":8002,\"username\":\"Akash_Rastogi\",\"name\":\"\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/akash_rastogi/{size}/169937_2.png\",\"post_count\":1,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":55459,\"username\":\"crschardt\",\"name\":\"Craig Schardt\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/c/58956e/{size}.png\",\"post_count\":1,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":59331,\"username\":\"VimalBuckley\",\"name\":\"\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/v/6bbea6/{size}.png\",\"post_count\":1,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":51913,\"username\":\"Jedi_4\",\"name\":null,\"avatar_template\":\"/letter_avatar_proxy/v4/letter/j/f9ae1b/{size}.png\",\"post_count\":1,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":25118,\"username\":\"prensing\",\"name\":\"Paul Rensing\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/prensing/{size}/65820_2.png\",\"post_count\":1,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":38743,\"username\":\"bovlb\",\"name\":\"Gavin Matthews\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/bovlb/{size}/167232_2.png\",\"post_count\":1,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2}],\"created_by\":{\"id\":67316,\"username\":\"Seth-Gearcats6500\",\"name\":\"Seth David Bragdon\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/s/b9bd4f/{size}.png\"},\"last_poster\":{\"id\":-1,\"username\":\"system\",\"name\":\"system\",\"avatar_template\":\"/uploads/default/original/4X/9/3/2/93234578e69f55873c63fc00fe2d0d85f23bce55.png\"},\"links\":[{\"url\":\"https://github.com/6500gearcats/Crescendo2024/tree/Wake-Sunday-1\",\"title\":\"GitHub - 6500gearcats/Crescendo2024 at Wake-Sunday-1\",\"internal\":false,\"attachment\":false,\"reflection\":false,\"clicks\":11,\"user_id\":67316,\"domain\":\"github.com\",\"root_domain\":\"github.com\"},{\"url\":\"https://docs.wpilib.org/en/stable/docs/software/driverstation/driver-station-log-viewer.html\",\"title\":\"Driver Station Log File Viewer — FIRST Robotics Competition documentation\",\"internal\":false,\"attachment\":false,\"reflection\":false,\"clicks\":1,\"user_id\":8002,\"domain\":\"docs.wpilib.org\",\"root_domain\":\"wpilib.org\"}]},\"bookmarks\":[]}"}
