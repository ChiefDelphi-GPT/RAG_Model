{"data":"{\"post_stream\":{\"posts\":[{\"id\":3418114,\"name\":\"Nicholas Armstrong\",\"username\":\"narmstro\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/n/5e9695/{size}.png\",\"created_at\":\"2024-08-26T12:47:13.610Z\",\"cooked\":\"\\u003cp\\u003eI know for position controlled devices the general wisdom is\\u003cbr\\u003e\\nfeedforward + feedback with a trapezoid (or exponential) motion profile.\\u003c/p\\u003e\\n\\u003cp\\u003eWith velocity based control the general wisdom is\\u003cbr\\u003e\\nfeedforward + fedback without a trapezoid profile\\u003cbr\\u003e\\nLooking at \\u003cspan class=\\\"abbreviation\\\"\\u003eCTRE\\u003ctemplate class=\\\"tooltiptext\\\" data-text=\\\"Cross The Road Electronics\\\"\\u003e\\u003c/template\\u003e\\u003c/span\\u003e’s documentation for Phoenix 6 I noticed that they allow for the possibility of a motion profile constraining Acceleration and Jerk.\\u003c/p\\u003e\\n\\u003cp\\u003eIs there a need for this in general?\\u003cbr\\u003e\\nIs it possible to do with sysId and WPILib\\u003c/p\\u003e\",\"post_number\":1,\"post_type\":1,\"posts_count\":32,\"updated_at\":\"2024-08-26T12:47:13.610Z\",\"reply_count\":0,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":145,\"reads\":309,\"readers_count\":308,\"score\":786.8,\"yours\":false,\"topic_id\":470276,\"topic_slug\":\"velocity-based-motion-profile\",\"display_username\":\"Nicholas Armstrong\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":null,\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":48345,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"\"},\"post_url\":\"/t/velocity-based-motion-profile/470276/1\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null,\"can_vote\":false},{\"id\":3418115,\"name\":\"Kyle Reeve\",\"username\":\"kreeve\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/kreeve/{size}/187015_2.png\",\"created_at\":\"2024-08-26T13:16:12.957Z\",\"cooked\":\"\\u003cp\\u003eUsing motion magic on velocity has roughly the same advantages as using it for position. You can use more aggressive \\u003cspan class=\\\"abbreviation\\\"\\u003ePID\\u003ctemplate class=\\\"tooltiptext\\\" data-text=\\\"Proportional Integral Derivative\\\"\\u003e\\u003c/template\\u003e\\u003c/span\\u003e gains, you don’t have to tune the same gains to both spin up from zero and make small speed adjustments\\u003c/p\\u003e\",\"post_number\":2,\"post_type\":1,\"posts_count\":32,\"updated_at\":\"2024-08-26T13:16:12.957Z\",\"reply_count\":1,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":2,\"reads\":291,\"readers_count\":290,\"score\":73.2,\"yours\":false,\"topic_id\":470276,\"topic_slug\":\"velocity-based-motion-profile\",\"display_username\":\"Kyle Reeve\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":10385,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"\"},\"post_url\":\"/t/velocity-based-motion-profile/470276/2\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3418116,\"name\":\"Chris Gerth\",\"username\":\"gerthworm\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/gerthworm/{size}/268658_2.png\",\"created_at\":\"2024-08-26T13:18:58.984Z\",\"cooked\":\"\\u003cp\\u003eThe general-general wisdom \\u003cimg src=\\\"https://www.chiefdelphi.com/images/emoji/google/slight_smile.png?v=12\\\" title=\\\":slight_smile:\\\" class=\\\"emoji\\\" alt=\\\":slight_smile:\\\" loading=\\\"lazy\\\" width=\\\"20\\\" height=\\\"20\\\"\\u003e - Pick a software/controls strategy which respects the physical limits of the mechanism.\\u003c/p\\u003e\\n\\u003cp\\u003eSpecifically for velocity/flywheel control, consider stepping your shooter wheel on from 0 to 1000RPM. For the moment you turn it on, the commanded acceleration is infinite, and you’ll have to spend time waiting for the system to catch up to that unreasonable command.\\u003c/p\\u003e\\n\\u003cp\\u003eBetter, use constant acceleration - you’ll ramp the velocity command from 0 to 1000RPM linearly, with a rate picked to be at or under the mechanism’s maximum acceleration.\\u003c/p\\u003e\\n\\u003cp\\u003eThis will still have some “unrealisticness”, since now the \\u003cem\\u003eacceleration\\u003c/em\\u003e steps from 0 to a max value at the start and end of the ramp. A further step is to ramp the acceleration, which gets into constant-jerk profile.\\u003c/p\\u003e\\n\\u003cp\\u003eHowever, with each step, you’re taking the level of “not realistic” down by orders of magnitude. For \\u003cspan class=\\\"abbreviation\\\"\\u003eFRC\\u003ctemplate class=\\\"tooltiptext\\\" data-text=\\\"FIRST Robotics Competition\\\"\\u003e\\u003c/template\\u003e\\u003c/span\\u003e motors and mechanisms, constant acceleration is \\u003cem\\u003eusually\\u003c/em\\u003e more than sufficient.\\u003c/p\\u003e\",\"post_number\":3,\"post_type\":1,\"posts_count\":32,\"updated_at\":\"2024-08-26T13:18:58.984Z\",\"reply_count\":2,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":1,\"reads\":271,\"readers_count\":270,\"score\":69.2,\"yours\":false,\"topic_id\":470276,\"topic_slug\":\"velocity-based-motion-profile\",\"display_username\":\"Chris Gerth\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":24617,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"\"},\"post_url\":\"/t/velocity-based-motion-profile/470276/3\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3418132,\"name\":\"Nicholas Armstrong\",\"username\":\"narmstro\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/n/5e9695/{size}.png\",\"created_at\":\"2024-08-26T14:27:51.967Z\",\"cooked\":\"\\u003cp\\u003eI’m assuming the WPILib equivalent for motion profiling would be to use a trapezoid profile with velocity as acceleration and acceleration as jerk for the constraints.\\u003c/p\\u003e\",\"post_number\":4,\"post_type\":1,\"posts_count\":32,\"updated_at\":\"2024-08-26T14:27:51.967Z\",\"reply_count\":0,\"reply_to_post_number\":2,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":209,\"readers_count\":208,\"score\":41.8,\"yours\":false,\"topic_id\":470276,\"topic_slug\":\"velocity-based-motion-profile\",\"display_username\":\"Nicholas Armstrong\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":null,\"reply_to_user\":{\"id\":10385,\"username\":\"kreeve\",\"name\":\"Kyle Reeve\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/kreeve/{size}/187015_2.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":48345,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"\"},\"post_url\":\"/t/velocity-based-motion-profile/470276/4\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3418194,\"name\":\"Nicholas Armstrong\",\"username\":\"narmstro\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/n/5e9695/{size}.png\",\"created_at\":\"2024-08-26T17:25:08.740Z\",\"cooked\":\"\\u003cp\\u003eTheoretically could the Simple DC Motor Balance Equation be extended to handle Jerk.  Like by introducing a kJ constant.\\u003c/p\\u003e\",\"post_number\":5,\"post_type\":1,\"posts_count\":32,\"updated_at\":\"2024-08-26T17:25:08.740Z\",\"reply_count\":3,\"reply_to_post_number\":3,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":184,\"readers_count\":183,\"score\":51.8,\"yours\":false,\"topic_id\":470276,\"topic_slug\":\"velocity-based-motion-profile\",\"display_username\":\"Nicholas Armstrong\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":null,\"reply_to_user\":{\"id\":24617,\"username\":\"gerthworm\",\"name\":\"Chris Gerth\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/gerthworm/{size}/268658_2.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":48345,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"\"},\"post_url\":\"/t/velocity-based-motion-profile/470276/5\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3418201,\"name\":\"Eli Barnett\",\"username\":\"Oblarg\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/oblarg/{size}/161674_2.png\",\"created_at\":\"2024-08-26T17:50:00.607Z\",\"cooked\":\"\\u003cp\\u003eThink hard about what would physically determine that constant, and you’ll realize why no one does this.\\u003c/p\\u003e\",\"post_number\":6,\"post_type\":1,\"posts_count\":32,\"updated_at\":\"2024-08-26T17:50:00.607Z\",\"reply_count\":2,\"reply_to_post_number\":5,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":174,\"readers_count\":173,\"score\":44.8,\"yours\":false,\"topic_id\":470276,\"topic_slug\":\"velocity-based-motion-profile\",\"display_username\":\"Eli Barnett\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"reply_to_user\":{\"id\":48345,\"username\":\"narmstro\",\"name\":\"Nicholas Armstrong\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/n/5e9695/{size}.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":12381,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"Robot apartments! invisible suburbs! skeleton treasuries!\"},\"post_url\":\"/t/velocity-based-motion-profile/470276/6\",\"custom_user_title\":\"Robot apartments! invisible suburbs! skeleton treasuries!\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3418208,\"name\":\"Nicholas Armstrong\",\"username\":\"narmstro\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/n/5e9695/{size}.png\",\"created_at\":\"2024-08-26T18:10:16.041Z\",\"cooked\":\"\\u003cp\\u003eYou would in a sense have to measure the Rate of Change of the current over time.\\u003c/p\\u003e\",\"post_number\":7,\"post_type\":1,\"posts_count\":32,\"updated_at\":\"2024-08-26T18:10:16.041Z\",\"reply_count\":1,\"reply_to_post_number\":6,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":165,\"readers_count\":164,\"score\":38.0,\"yours\":false,\"topic_id\":470276,\"topic_slug\":\"velocity-based-motion-profile\",\"display_username\":\"Nicholas Armstrong\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":null,\"reply_to_user\":{\"id\":12381,\"username\":\"Oblarg\",\"name\":\"Eli Barnett\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/oblarg/{size}/161674_2.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":48345,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"\"},\"post_url\":\"/t/velocity-based-motion-profile/470276/7\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3418233,\"name\":\"Chris Gerth\",\"username\":\"gerthworm\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/gerthworm/{size}/268658_2.png\",\"created_at\":\"2024-08-26T18:58:02.630Z\",\"cooked\":\"\\u003cp\\u003eYes and - more specifically - what physical property of a motor and flywheel \\u003cem\\u003eprevents\\u003c/em\\u003e current from changing instantaneously?\\u003c/p\\u003e\\n\\u003cp\\u003eAll models are wrong, some models are useful.\\u003c/p\\u003e\",\"post_number\":8,\"post_type\":1,\"posts_count\":32,\"updated_at\":\"2024-08-26T18:58:26.659Z\",\"reply_count\":2,\"reply_to_post_number\":7,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":154,\"readers_count\":153,\"score\":55.8,\"yours\":false,\"topic_id\":470276,\"topic_slug\":\"velocity-based-motion-profile\",\"display_username\":\"Chris Gerth\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"reply_to_user\":{\"id\":48345,\"username\":\"narmstro\",\"name\":\"Nicholas Armstrong\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/n/5e9695/{size}.png\"},\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":1}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":24617,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"\"},\"post_url\":\"/t/velocity-based-motion-profile/470276/8\",\"custom_user_title\":null,\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":1}],\"current_user_reaction\":null,\"reaction_users_count\":1,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3418239,\"name\":\"Nicholas Armstrong\",\"username\":\"narmstro\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/n/5e9695/{size}.png\",\"created_at\":\"2024-08-26T19:11:05.063Z\",\"cooked\":\"\\u003cp\\u003eI’m assuming the rotor.\\u003c/p\\u003e\",\"post_number\":9,\"post_type\":1,\"posts_count\":32,\"updated_at\":\"2024-08-26T19:11:05.063Z\",\"reply_count\":0,\"reply_to_post_number\":8,\"quote_count\":0,\"incoming_link_count\":2,\"reads\":148,\"readers_count\":147,\"score\":39.6,\"yours\":false,\"topic_id\":470276,\"topic_slug\":\"velocity-based-motion-profile\",\"display_username\":\"Nicholas Armstrong\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":null,\"reply_to_user\":{\"id\":24617,\"username\":\"gerthworm\",\"name\":\"Chris Gerth\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/gerthworm/{size}/268658_2.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":48345,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"\"},\"post_url\":\"/t/velocity-based-motion-profile/470276/9\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3418240,\"name\":\"Nicholas Armstrong\",\"username\":\"narmstro\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/n/5e9695/{size}.png\",\"created_at\":\"2024-08-26T19:12:24.575Z\",\"cooked\":\"\\u003cp\\u003eI might be a little dense at the moment.\\u003c/p\\u003e\",\"post_number\":10,\"post_type\":1,\"posts_count\":32,\"updated_at\":\"2024-08-26T19:12:24.575Z\",\"reply_count\":0,\"reply_to_post_number\":8,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":139,\"readers_count\":138,\"score\":27.8,\"yours\":false,\"topic_id\":470276,\"topic_slug\":\"velocity-based-motion-profile\",\"display_username\":\"Nicholas Armstrong\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":null,\"reply_to_user\":{\"id\":24617,\"username\":\"gerthworm\",\"name\":\"Chris Gerth\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/gerthworm/{size}/268658_2.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":48345,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"\"},\"post_url\":\"/t/velocity-based-motion-profile/470276/10\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3418242,\"name\":\"Chris Gerth\",\"username\":\"gerthworm\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/gerthworm/{size}/268658_2.png\",\"created_at\":\"2024-08-26T19:18:20.959Z\",\"cooked\":\"\\u003cp\\u003eI can hit up more later tonight with specifics, but I’ll keep hinting at my answer if you have time \\u003cimg src=\\\"https://www.chiefdelphi.com/images/emoji/google/slight_smile.png?v=12\\\" title=\\\":slight_smile:\\\" class=\\\"emoji\\\" alt=\\\":slight_smile:\\\" loading=\\\"lazy\\\" width=\\\"20\\\" height=\\\"20\\\"\\u003e\\u003c/p\\u003e\\n\\u003cp\\u003eDraw out the circuit model for the motor and the battery, and walk through each component. One of them will limit the time rate of change of current.\\u003c/p\\u003e\",\"post_number\":11,\"post_type\":1,\"posts_count\":32,\"updated_at\":\"2024-08-26T19:18:20.959Z\",\"reply_count\":1,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":143,\"readers_count\":142,\"score\":48.6,\"yours\":false,\"topic_id\":470276,\"topic_slug\":\"velocity-based-motion-profile\",\"display_username\":\"Chris Gerth\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":1}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":24617,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"\"},\"post_url\":\"/t/velocity-based-motion-profile/470276/11\",\"custom_user_title\":null,\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":1}],\"current_user_reaction\":null,\"reaction_users_count\":1,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3418280,\"name\":\"\",\"username\":\"Alex_Y\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/a/82dd89/{size}.png\",\"created_at\":\"2024-08-26T22:50:05.839Z\",\"cooked\":\"\\u003caside class=\\\"quote no-group\\\" data-username=\\\"gerthworm\\\" data-post=\\\"3\\\" data-topic=\\\"470276\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/user_avatar/www.chiefdelphi.com/gerthworm/48/268658_2.png\\\" class=\\\"avatar\\\"\\u003e gerthworm:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003eHowever, with each step, you’re taking the level of “not realistic” down by orders of magnitude. For \\u003cspan class=\\\"abbreviation\\\"\\u003eFRC\\u003ctemplate class=\\\"tooltiptext\\\" data-text=\\\"FIRST Robotics Competition\\\"\\u003e\\u003c/template\\u003e\\u003c/span\\u003e motors and mechanisms, constant acceleration is \\u003cem\\u003eusually\\u003c/em\\u003e more than sufficient.\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003cp\\u003eWith the fairly significant asterisks that you aren’t approaching the free-speed of the mechanism. As the motor approaches free speed, the maximum possible acceleration approaches zero which will cause difficulty following motion profiles at very high speeds, espeically if they are not generated or updated real-time.\\u003c/p\\u003e\\n\\u003cp\\u003eThere is one step further in which you can use motion profiles derived directly from the dynamic equations to generate a motion profile which will maximize the motor’s output given the constrains, but in practice, it takes a significant amount of time to implement for reduced benefits which is generally not worth it for \\u003cspan class=\\\"abbreviation\\\"\\u003eFRC\\u003ctemplate class=\\\"tooltiptext\\\" data-text=\\\"FIRST Robotics Competition\\\"\\u003e\\u003c/template\\u003e\\u003c/span\\u003e teams to implement.\\u003c/p\\u003e\\n\\u003caside class=\\\"quote no-group\\\" data-username=\\\"narmstro\\\" data-post=\\\"5\\\" data-topic=\\\"470276\\\" data-full=\\\"true\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/letter_avatar_proxy/v4/letter/n/5e9695/48.png\\\" class=\\\"avatar\\\"\\u003e narmstro:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003eTheoretically could the Simple DC Motor Balance Equation be extended to handle Jerk. Like by introducing a kJ constant.\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003cp\\u003eIn practice, jerk is caused by motor inductance which reacts extremely fast, in milliseconds which is faster than the \\u003cspan class=\\\"abbreviation\\\"\\u003eFRC\\u003ctemplate class=\\\"tooltiptext\\\" data-text=\\\"FIRST Robotics Competition\\\"\\u003e\\u003c/template\\u003e\\u003c/span\\u003e control system can respond to. Accounting for this also requires a second differentiator in your system which amplifies noise, which is extremely undesirable. Inductance effects are so small in practice that even if you could account for them (which you can’t), you’d gain almost no benefit for doing so.\\u003c/p\\u003e\",\"post_number\":12,\"post_type\":1,\"posts_count\":32,\"updated_at\":\"2024-08-26T22:50:05.839Z\",\"reply_count\":1,\"reply_to_post_number\":3,\"quote_count\":2,\"incoming_link_count\":0,\"reads\":138,\"readers_count\":137,\"score\":47.6,\"yours\":false,\"topic_id\":470276,\"topic_slug\":\"velocity-based-motion-profile\",\"display_username\":\"\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":null,\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":1}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":50219,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"\"},\"post_url\":\"/t/velocity-based-motion-profile/470276/12\",\"custom_user_title\":null,\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":1}],\"current_user_reaction\":null,\"reaction_users_count\":1,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3418288,\"name\":\"Tyler Veness\",\"username\":\"calcmogul\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/calcmogul/{size}/128045_2.png\",\"created_at\":\"2024-08-26T23:23:31.381Z\",\"cooked\":\"\\u003caside class=\\\"quote no-group\\\" data-username=\\\"Alex_Y\\\" data-post=\\\"12\\\" data-topic=\\\"470276\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg loading=\\\"lazy\\\" alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/letter_avatar_proxy/v4/letter/a/82dd89/48.png\\\" class=\\\"avatar\\\"\\u003e Alex_Y:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003eThere is one step further in which you can use motion profiles derived directly from the dynamic equations to generate a motion profile which will maximize the motor’s output given the constrains, but in practice, it takes a significant amount of time to implement for reduced benefits which is generally not worth it for \\u003cspan class=\\\"abbreviation\\\"\\u003eFRC\\u003ctemplate class=\\\"tooltiptext\\\" data-text=\\\"FIRST Robotics Competition\\\"\\u003e\\u003c/template\\u003e\\u003c/span\\u003e teams to implement.\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003cp\\u003eWPILib and \\u003cspan class=\\\"abbreviation\\\"\\u003eCTRE\\u003ctemplate class=\\\"tooltiptext\\\" data-text=\\\"Cross The Road Electronics\\\"\\u003e\\u003c/template\\u003e\\u003c/span\\u003e have implemented it. The model is \\u003cspan class=\\\"math\\\"\\u003e\\\\frac{dx}{dt} = Ax + Bu\\u003c/span\\u003e where \\u003cspan class=\\\"math\\\"\\u003eA = -k_v/k_a\\u003c/span\\u003e, \\u003cspan class=\\\"math\\\"\\u003eB = 1/k_a\\u003c/span\\u003e, \\u003cspan class=\\\"math\\\"\\u003ex = \\\\text{velocity}\\u003c/span\\u003e, and \\u003cspan class=\\\"math\\\"\\u003eu = \\\\text{voltage}\\u003c/span\\u003e.\\u003c/p\\u003e\\u003caside class=\\\"onebox allowlistedgeneric\\\" data-onebox-src=\\\"https://github.wpilib.org/allwpilib/docs/release/java/edu/wpi/first/math/trajectory/ExponentialProfile.html\\\"\\u003e\\n  \\u003cheader class=\\\"source\\\"\\u003e\\n\\n      \\u003ca href=\\\"https://github.wpilib.org/allwpilib/docs/release/java/edu/wpi/first/math/trajectory/ExponentialProfile.html\\\" target=\\\"_blank\\\" rel=\\\"noopener nofollow ugc\\\"\\u003egithub.wpilib.org\\u003c/a\\u003e\\n  \\u003c/header\\u003e\\n\\n  \\u003carticle class=\\\"onebox-body\\\"\\u003e\\n    \\n\\n\\u003ch3\\u003e\\u003ca href=\\\"https://github.wpilib.org/allwpilib/docs/release/java/edu/wpi/first/math/trajectory/ExponentialProfile.html\\\" target=\\\"_blank\\\" rel=\\\"noopener nofollow ugc\\\"\\u003eExponentialProfile (WPILib API 2024.3.2)\\u003c/a\\u003e\\u003c/h3\\u003e\\n\\n  \\u003cp\\u003edeclaration: package: edu.wpi.first.math.trajectory, class: ExponentialProfile\\u003c/p\\u003e\\n\\n\\n  \\u003c/article\\u003e\\n\\n  \\u003cdiv class=\\\"onebox-metadata\\\"\\u003e\\n    \\n    \\n  \\u003c/div\\u003e\\n\\n  \\u003cdiv style=\\\"clear: both\\\"\\u003e\\u003c/div\\u003e\\n\\u003c/aside\\u003e\\n\\u003caside class=\\\"onebox allowlistedgeneric\\\" data-onebox-src=\\\"https://api.ctr-electronics.com/phoenix6/release/java/com/ctre/phoenix6/controls/MotionMagicExpoVoltage.html\\\"\\u003e\\n  \\u003cheader class=\\\"source\\\"\\u003e\\n\\n      \\u003ca href=\\\"https://api.ctr-electronics.com/phoenix6/release/java/com/ctre/phoenix6/controls/MotionMagicExpoVoltage.html\\\" target=\\\"_blank\\\" rel=\\\"noopener nofollow ugc\\\"\\u003eapi.ctr-electronics.com\\u003c/a\\u003e\\n  \\u003c/header\\u003e\\n\\n  \\u003carticle class=\\\"onebox-body\\\"\\u003e\\n    \\n\\n\\u003ch3\\u003e\\u003ca href=\\\"https://api.ctr-electronics.com/phoenix6/release/java/com/ctre/phoenix6/controls/MotionMagicExpoVoltage.html\\\" target=\\\"_blank\\\" rel=\\\"noopener nofollow ugc\\\"\\u003eMotionMagicExpoVoltage (CTRE Phoenix 6 Java 24.3.0)\\u003c/a\\u003e\\u003c/h3\\u003e\\n\\n  \\u003cp\\u003edeclaration: package: com.ctre.phoenix6.controls, class: MotionMagicExpoVoltage\\u003c/p\\u003e\\n\\n\\n  \\u003c/article\\u003e\\n\\n  \\u003cdiv class=\\\"onebox-metadata\\\"\\u003e\\n    \\n    \\n  \\u003c/div\\u003e\\n\\n  \\u003cdiv style=\\\"clear: both\\\"\\u003e\\u003c/div\\u003e\\n\\u003c/aside\\u003e\\n\",\"post_number\":13,\"post_type\":1,\"posts_count\":32,\"updated_at\":\"2024-08-26T23:30:44.780Z\",\"reply_count\":3,\"reply_to_post_number\":12,\"quote_count\":1,\"incoming_link_count\":4,\"reads\":119,\"readers_count\":118,\"score\":58.8,\"yours\":false,\"topic_id\":470276,\"topic_slug\":\"velocity-based-motion-profile\",\"display_username\":\"Tyler Veness\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":2,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"link_counts\":[{\"url\":\"https://github.wpilib.org/allwpilib/docs/release/java/edu/wpi/first/math/trajectory/ExponentialProfile.html\",\"internal\":false,\"reflection\":false,\"title\":\"ExponentialProfile (WPILib API 2024.3.2)\",\"clicks\":8},{\"url\":\"https://api.ctr-electronics.com/phoenix6/release/java/com/ctre/phoenix6/controls/MotionMagicExpoVoltage.html\",\"internal\":false,\"reflection\":false,\"title\":\"MotionMagicExpoVoltage (CTRE Phoenix 6 Java 24.3.0)\",\"clicks\":3}],\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":16846,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"WPILib controls | Choreo optimizer backend\"},\"post_url\":\"/t/velocity-based-motion-profile/470276/13\",\"custom_user_title\":\"WPILib controls | Choreo optimizer backend\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3418291,\"name\":\"\",\"username\":\"Alex_Y\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/a/82dd89/{size}.png\",\"created_at\":\"2024-08-26T23:32:01.275Z\",\"cooked\":\"\\u003cp\\u003eThe exponential profile is much more limited compared to working in the differential equation form directly, which can account for other non-linearities such as dry friction, current limits, arms or anything with variable gravity gains or any system dynamics, which the differential equation form can depending on how its formulated.\\u003c/p\\u003e\",\"post_number\":14,\"post_type\":1,\"posts_count\":32,\"updated_at\":\"2024-08-26T23:32:01.275Z\",\"reply_count\":1,\"reply_to_post_number\":13,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":113,\"readers_count\":112,\"score\":27.6,\"yours\":false,\"topic_id\":470276,\"topic_slug\":\"velocity-based-motion-profile\",\"display_username\":\"\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":null,\"reply_to_user\":{\"id\":16846,\"username\":\"calcmogul\",\"name\":\"Tyler Veness\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/calcmogul/{size}/128045_2.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":50219,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"\"},\"post_url\":\"/t/velocity-based-motion-profile/470276/14\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3418294,\"name\":\"Nicholas Armstrong\",\"username\":\"narmstro\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/n/5e9695/{size}.png\",\"created_at\":\"2024-08-26T23:47:25.857Z\",\"cooked\":\"\\u003cp\\u003eSo I’m relatively convinced that you can use a trap profile with velocity control.  You would be constraining with acceleration and jerk and basically experimenting until you find values of each that would work hence the diminishing returns and why most teams and examples don’t bother with a profile for velocity control.   Just curious can you use an expo profiles with velocity control or would those be limited to position only in The current WPILib setup\\u003c/p\\u003e\",\"post_number\":15,\"post_type\":1,\"posts_count\":32,\"updated_at\":\"2024-08-26T23:47:25.857Z\",\"reply_count\":1,\"reply_to_post_number\":13,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":112,\"readers_count\":111,\"score\":27.4,\"yours\":false,\"topic_id\":470276,\"topic_slug\":\"velocity-based-motion-profile\",\"display_username\":\"Nicholas Armstrong\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":null,\"reply_to_user\":{\"id\":16846,\"username\":\"calcmogul\",\"name\":\"Tyler Veness\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/calcmogul/{size}/128045_2.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":48345,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"\"},\"post_url\":\"/t/velocity-based-motion-profile/470276/15\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3418297,\"name\":\"Nicholas Armstrong\",\"username\":\"narmstro\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/n/5e9695/{size}.png\",\"created_at\":\"2024-08-27T00:02:59.574Z\",\"cooked\":\"\\u003cp\\u003eOr am do I have this turned around in my head?\\u003c/p\\u003e\",\"post_number\":16,\"post_type\":1,\"posts_count\":32,\"updated_at\":\"2024-08-27T00:02:59.574Z\",\"reply_count\":0,\"reply_to_post_number\":13,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":118,\"readers_count\":117,\"score\":23.6,\"yours\":false,\"topic_id\":470276,\"topic_slug\":\"velocity-based-motion-profile\",\"display_username\":\"Nicholas Armstrong\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":null,\"reply_to_user\":{\"id\":16846,\"username\":\"calcmogul\",\"name\":\"Tyler Veness\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/calcmogul/{size}/128045_2.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":48345,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"\"},\"post_url\":\"/t/velocity-based-motion-profile/470276/16\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3418312,\"name\":\"Tyler Veness\",\"username\":\"calcmogul\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/calcmogul/{size}/128045_2.png\",\"created_at\":\"2024-08-27T01:11:26.231Z\",\"cooked\":\"\\u003caside class=\\\"quote no-group\\\" data-username=\\\"Alex_Y\\\" data-post=\\\"14\\\" data-topic=\\\"470276\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg loading=\\\"lazy\\\" alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/letter_avatar_proxy/v4/letter/a/82dd89/48.png\\\" class=\\\"avatar\\\"\\u003e Alex_Y:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003eThe exponential profile is much more limited compared to working in the differential equation form directly, which can account for other non-linearities such as dry friction, current limits, arms or anything with variable gravity gains or any system dynamics\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003cp\\u003eIt \\u003cem\\u003eis\\u003c/em\\u003e limiting, but \\u003cspan class=\\\"abbreviation\\\"\\u003eFRC\\u003ctemplate class=\\\"tooltiptext\\\" data-text=\\\"FIRST Robotics Competition\\\"\\u003e\\u003c/template\\u003e\\u003c/span\\u003e only hooks up motors to masses in a few ways: flywheels, elevators (vertical and horizontal), single-jointed arms (vertical and horizontal), and drivetrains. The motor dynamics are linear (and handled by the exponential profile), dry friction and current limits don’t affect the profile much at all in practice if you gear the mechanism right, and elevator gravity just reduces the max voltage bound by a constant (feedforward adds it to the control input to cancel out gravity).\\u003c/p\\u003e\\n\\u003cp\\u003eSingle-jointed arm gravity is trickier if the goal is time optimality throughout the whole range of motion, so I agree something extra is needed there. MPC is an option, though the downside is the amount of CPU time required:\\u003c/p\\u003e\\n\\u003cpre data-code-wrap=\\\"python\\\"\\u003e\\u003ccode class=\\\"lang-python\\\"\\u003e#!/usr/bin/env python3\\n\\n# Uses https://github.com/SleipnirGroup/Sleipnir/\\nfrom jormungandr.autodiff import VariableMatrix, cos\\nfrom jormungandr.optimization import OptimizationProblem\\nimport math\\nimport matplotlib.pyplot as plt\\nimport numpy as np\\n\\nT = 2\\ndt = 0.01\\nN = int(T / dt)\\n\\n# Model constants\\n# 12 V per (π/2 radians per 0.5 seconds)\\nk_v = 12.0 / ((math.pi / 2.0) / 0.5)\\nk_a = 0.5\\n\\ng = 9.8\\nL = 2.0\\n\\n\\ndef rk4(f, x, u, dt):\\n    \\\"\\\"\\\"\\n    Performs 4th order Runge-Kutta integration of dx/dt = f(x, u) for dt.\\n\\n    Parameter ``f``:\\n        The function to integrate. It must take two arguments x and u.\\n\\n    Parameter ``x``:\\n        The initial value of x.\\n\\n    Parameter ``u``:\\n        The value u held constant over the integration period.\\n\\n    Parameter ``dt``:\\n        The time over which to integrate.\\n    \\\"\\\"\\\"\\n    h = dt\\n\\n    k1 = f(x, u)\\n    k2 = f(x + h * 0.5 * k1, u)\\n    k3 = f(x + h * 0.5 * k2, u)\\n    k4 = f(x + h * k3, u)\\n\\n    return x + h / 6.0 * (k1 + 2.0 * k2 + 2.0 * k3 + k4)\\n\\n\\ndef dynamics(x, u):\\n    #   x = [θ, ω]ᵀ = [angle, angular velocity]ᵀ\\n    #   u = [voltage]ᵀ\\n    #\\n    # The torque on the arm is given by τ = F⋅r, where F is the force applied by\\n    # gravity and r the distance from pivot to center of mass. Recall from\\n    # dynamics that the sum of torques for a rigid body is τ = J⋅α, were τ is\\n    # torque on the arm, J is the mass-moment of inertia about the pivot axis,\\n    # and α is the angular acceleration in rad/s². Rearranging yields: α = F⋅r/J\\n    #\\n    # We substitute in F = m⋅g⋅cos(θ), where θ is the angle from horizontal:\\n    #\\n    #   α = (m⋅g⋅cos(θ))⋅r/J\\n    #\\n    # Multiply RHS by cos(θ) to account for the arm angle. Further, we know the\\n    # arm mass-moment of inertia J of our arm is given by J=1/3 mL², modeled as\\n    # a rod rotating about it's end, where L is the overall rod length. The mass\\n    # distribution is assumed to be uniform. Substitute r=L/2 to find:\\n    #\\n    #   α = (m⋅g⋅cos(θ))⋅r/(1/3 mL²)\\n    #   α = (m⋅g⋅cos(θ))⋅(L/2)/(1/3 mL²)\\n    #   α = 3/2⋅g⋅cos(θ)/L\\n    #\\n    # This acceleration is next added to the linear system dynamics ẋ=Ax+Bu\\n    #\\n    #   f(x, u) = Ax + Bu + [0  α]ᵀ\\n    #   f(x, u) = Ax + Bu + [0  −3/2⋅g⋅cos(θ)/L]ᵀ\\n    #\\n    #  .\\n    # [θ] = [                ω                 ]\\n    # [ω]   [−kᵥ/kₐ ω + 1/kₐ u − 3/2⋅g⋅cos(θ)/L]\\n    θ = x[0, 0]\\n    ω = x[1, 0]\\n    return VariableMatrix(\\n        [\\n            [ω],\\n            [-k_v / k_a * ω + 1.0 / k_a * u[0, 0] - 1.5 * g * cos(θ) / L],\\n        ]\\n    )\\n\\n\\n# Initial and final states\\nx_0 = np.array([[0.0], [0.0]])\\nr_f = np.array([[math.pi], [0.0]])\\n\\nproblem = OptimizationProblem()\\n\\n# 2x1 state vector with N + 1 timesteps (includes last state)\\nX = problem.decision_variable(2, N + 1)\\n\\n# 1x1 input vector with N timesteps (input at last state doesn't matter)\\nU = problem.decision_variable(1, N)\\n\\n# Dynamics constraint\\nfor k in range(N):\\n    problem.subject_to(X[:, k + 1] == rk4(dynamics, X[:, k], U[:, k], dt))\\n\\n# Initial state\\nproblem.subject_to(X[:, 0] == x_0)\\n\\n# Limit voltage\\nproblem.subject_to(-12 \\u0026lt;= U)\\nproblem.subject_to(U \\u0026lt;= 12)\\n\\n# Cost function\\nJ = 0.0\\nfor k in range(N + 1):\\n    # Penalize sum of squares angle error\\n    J += (r_f[0, 0] - X[0, k]) ** 2\\nfor k in range(N - 1):\\n    # Penalize change in voltage over time to reduce input chattering\\n    J += 1e-9 * ((U[0, k + 1] - U[0, k]) / dt) ** 2\\nproblem.minimize(J)\\n\\nproblem.solve(diagnostics=True)\\n\\nts = np.linspace(0, T, N + 1)\\n\\nplt.figure()\\nax = plt.gca()\\nax.set_title(\\\"Angle vs Time\\\")\\nax.set_xlabel(\\\"Time (s)\\\")\\nax.set_ylabel(\\\"Angle (rad)\\\")\\nax.plot(ts, X[0, :].value().T)\\n\\nplt.figure()\\nax = plt.gca()\\nax.set_title(\\\"Angular velocity vs Time\\\")\\nax.set_xlabel(\\\"Time (s)\\\")\\nax.set_ylabel(\\\"Angular velocity (rad/s)\\\")\\nplt.plot(ts, X[1, :].value().T)\\n\\nplt.figure()\\nax = plt.gca()\\nax.set_title(\\\"Voltage vs Time\\\")\\nax.set_xlabel(\\\"Time (s)\\\")\\nax.set_ylabel(\\\"Voltage (V)\\\")\\nplt.plot(ts[:-1], U.value().T)\\n\\nplt.show()\\n\\u003c/code\\u003e\\u003c/pre\\u003e\\n\\u003cp\\u003eSolver diagnostics:\\u003c/p\\u003e\\n\\u003cpre data-code-wrap=\\\"bash\\\"\\u003e\\u003ccode class=\\\"lang-bash\\\"\\u003e[tav@myriad python]$ ./single_jointed_arm_mpc.py \\nThe cost function is quadratic.\\nThe equality constraints are nonlinear.\\nThe inequality constraints are linear.\\n\\nNumber of decision variables: 602\\nNumber of equality constraints: 402\\nNumber of inequality constraints: 400\\n\\nError tolerance: 1e-08\\n\\niter   time (ms)      error          cost       infeasibility\\n=============================================================\\n   0       2.967   8.283900e+00   2.774858e+03   3.010425e+00\\n   1       2.956   5.695855e+00   1.603034e+03   7.758558e+00\\n   2       2.886   3.764500e+00   8.311582e+02   9.842311e+00\\n   3       3.165   2.426376e-01   5.678307e+02   3.030038e+00\\n   4       2.862   6.690453e-02   5.590189e+02   4.844520e-02\\n   5       2.708   3.925000e-02   5.560594e+02   6.830626e-03\\n   6       2.677   5.152591e-03   5.556606e+02   7.434953e-04\\n   7       2.787   4.531113e-03   5.553002e+02   3.181957e-04\\n   8       2.767   3.999824e-04   5.552808e+02   4.742002e-05\\n   9       2.752   8.528682e-04   5.552624e+02   1.425035e-05\\n  10       3.009   4.420123e-04   5.552593e+02   1.825874e-06\\n  11       3.359   8.630707e-06   5.552591e+02   1.112538e-07\\n  12       8.766   2.220707e-06   5.552589e+02   1.630995e-08\\n  13       2.880   9.860224e-07   5.552589e+02   1.492666e-09\\n  14       2.706   1.305631e-07   5.552589e+02   2.625046e-10\\n  15       2.806   2.728217e-08   5.552589e+02   5.185460e-11\\n  16       2.854   3.776894e-09   5.552589e+02   6.536133e-12\\n\\nSolve time: 64.550 ms\\n  ↳ 8.473 ms (solver setup)\\n  ↳ 56.077 ms (17 solver iterations; 3.298 ms average)\\n\\nautodiff   setup (ms)   avg solve (ms)   solves\\n===============================================\\n ∇f(x)          0.056            0.033       18\\n ∇²ₓₓL          1.841            0.763       18\\n ∂cₑ/∂x         0.864            0.328       18\\n ∂cᵢ/∂x         0.101            0.000        0\\n\\nExit condition: solved to desired tolerance\\n\\u003c/code\\u003e\\u003c/pre\\u003e\\n\\u003cp\\u003ePlots:\\u003cbr\\u003e\\n\\u003cdiv class=\\\"lightbox-wrapper\\\"\\u003e\\u003ca class=\\\"lightbox\\\" href=\\\"https://www.chiefdelphi.com/uploads/default/original/3X/2/2/221839b35b952ecc5f367633f6fa6d167c69aafe.png\\\" data-download-href=\\\"https://www.chiefdelphi.com/uploads/default/221839b35b952ecc5f367633f6fa6d167c69aafe\\\" title=\\\"Screenshot_20240826_180944\\\"\\u003e\\u003cimg src=\\\"https://www.chiefdelphi.com/uploads/default/optimized/3X/2/2/221839b35b952ecc5f367633f6fa6d167c69aafe_2_690x198.png\\\" alt=\\\"Screenshot_20240826_180944\\\" data-base62-sha1=\\\"4RC8tk0Y2HKhoYax8AmO15VY42y\\\" width=\\\"690\\\" height=\\\"198\\\" srcset=\\\"https://www.chiefdelphi.com/uploads/default/optimized/3X/2/2/221839b35b952ecc5f367633f6fa6d167c69aafe_2_690x198.png, https://www.chiefdelphi.com/uploads/default/optimized/3X/2/2/221839b35b952ecc5f367633f6fa6d167c69aafe_2_1035x297.png 1.5x, https://www.chiefdelphi.com/uploads/default/optimized/3X/2/2/221839b35b952ecc5f367633f6fa6d167c69aafe_2_1380x396.png 2x\\\" data-dominant-color=\\\"E3E4E5\\\"\\u003e\\u003cdiv class=\\\"meta\\\"\\u003e\\u003csvg class=\\\"fa d-icon d-icon-far-image svg-icon\\\" aria-hidden=\\\"true\\\"\\u003e\\u003cuse href=\\\"#far-image\\\"\\u003e\\u003c/use\\u003e\\u003c/svg\\u003e\\u003cspan class=\\\"filename\\\"\\u003eScreenshot_20240826_180944\\u003c/span\\u003e\\u003cspan class=\\\"informations\\\"\\u003e1928×556 57.7 KB\\u003c/span\\u003e\\u003csvg class=\\\"fa d-icon d-icon-discourse-expand svg-icon\\\" aria-hidden=\\\"true\\\"\\u003e\\u003cuse href=\\\"#discourse-expand\\\"\\u003e\\u003c/use\\u003e\\u003c/svg\\u003e\\u003c/div\\u003e\\u003c/a\\u003e\\u003c/div\\u003e\\u003c/p\\u003e\",\"post_number\":17,\"post_type\":1,\"posts_count\":32,\"updated_at\":\"2024-08-27T01:29:45.265Z\",\"reply_count\":1,\"reply_to_post_number\":14,\"quote_count\":1,\"incoming_link_count\":4,\"reads\":125,\"readers_count\":124,\"score\":65.0,\"yours\":false,\"topic_id\":470276,\"topic_slug\":\"velocity-based-motion-profile\",\"display_username\":\"Tyler Veness\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":3,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":1}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":16846,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"WPILib controls | Choreo optimizer backend\"},\"post_url\":\"/t/velocity-based-motion-profile/470276/17\",\"custom_user_title\":\"WPILib controls | Choreo optimizer backend\",\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":1}],\"current_user_reaction\":null,\"reaction_users_count\":1,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3418313,\"name\":\"Tyler Veness\",\"username\":\"calcmogul\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/calcmogul/{size}/128045_2.png\",\"created_at\":\"2024-08-27T01:15:00.196Z\",\"cooked\":\"\\u003caside class=\\\"quote no-group\\\" data-username=\\\"narmstro\\\" data-post=\\\"15\\\" data-topic=\\\"470276\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg loading=\\\"lazy\\\" alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/letter_avatar_proxy/v4/letter/n/5e9695/48.png\\\" class=\\\"avatar\\\"\\u003e narmstro:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003eSo I’m relatively convinced that you can use a trap profile with velocity control\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003cp\\u003eIf your profile doesn’t have a position goal, you can just use \\u003ca href=\\\"https://github.wpilib.org/allwpilib/docs/release/java/edu/wpi/first/math/filter/SlewRateLimiter.html\\\" class=\\\"inline-onebox\\\" rel=\\\"noopener nofollow ugc\\\"\\u003eSlewRateLimiter (WPILib API 2024.3.2)\\u003c/a\\u003e.\\u003c/p\\u003e\\n\\u003caside class=\\\"quote no-group\\\" data-username=\\\"narmstro\\\" data-post=\\\"15\\\" data-topic=\\\"470276\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg loading=\\\"lazy\\\" alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/letter_avatar_proxy/v4/letter/n/5e9695/48.png\\\" class=\\\"avatar\\\"\\u003e narmstro:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003eJust curious can you use an expo profiles with velocity control or would those be limited to position only in The current WPILib setup\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003cp\\u003eYou’d probably have to fake a position goal, even if you don’t use it.\\u003c/p\\u003e\",\"post_number\":18,\"post_type\":1,\"posts_count\":32,\"updated_at\":\"2024-08-27T01:30:51.442Z\",\"reply_count\":1,\"reply_to_post_number\":15,\"quote_count\":1,\"incoming_link_count\":1,\"reads\":110,\"readers_count\":109,\"score\":47.0,\"yours\":false,\"topic_id\":470276,\"topic_slug\":\"velocity-based-motion-profile\",\"display_username\":\"Tyler Veness\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":2,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"link_counts\":[{\"url\":\"https://github.wpilib.org/allwpilib/docs/release/java/edu/wpi/first/math/filter/SlewRateLimiter.html\",\"internal\":false,\"reflection\":false,\"title\":\"SlewRateLimiter (WPILib API 2024.3.2)\",\"clicks\":4}],\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":1}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":16846,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"WPILib controls | Choreo optimizer backend\"},\"post_url\":\"/t/velocity-based-motion-profile/470276/18\",\"custom_user_title\":\"WPILib controls | Choreo optimizer backend\",\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":1}],\"current_user_reaction\":null,\"reaction_users_count\":1,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3418319,\"name\":\"Nicholas Armstrong\",\"username\":\"narmstro\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/n/5e9695/{size}.png\",\"created_at\":\"2024-08-27T01:37:54.400Z\",\"cooked\":\"\\u003cp\\u003eOkay.  And If I recall correctly the SlewRateLimiter is the TrapProfile reduced by a degree of freedom?\\u003c/p\\u003e\",\"post_number\":19,\"post_type\":1,\"posts_count\":32,\"updated_at\":\"2024-08-27T01:37:54.400Z\",\"reply_count\":1,\"reply_to_post_number\":18,\"quote_count\":0,\"incoming_link_count\":1,\"reads\":102,\"readers_count\":101,\"score\":30.4,\"yours\":false,\"topic_id\":470276,\"topic_slug\":\"velocity-based-motion-profile\",\"display_username\":\"Nicholas Armstrong\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":null,\"reply_to_user\":{\"id\":16846,\"username\":\"calcmogul\",\"name\":\"Tyler Veness\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/calcmogul/{size}/128045_2.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":48345,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"\"},\"post_url\":\"/t/velocity-based-motion-profile/470276/19\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3418320,\"name\":\"Tyler Veness\",\"username\":\"calcmogul\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/calcmogul/{size}/128045_2.png\",\"created_at\":\"2024-08-27T01:40:05.751Z\",\"cooked\":\"\\u003cp\\u003eYep.\\u003c/p\\u003e\",\"post_number\":20,\"post_type\":1,\"posts_count\":32,\"updated_at\":\"2024-08-27T01:40:05.751Z\",\"reply_count\":0,\"reply_to_post_number\":19,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":103,\"readers_count\":102,\"score\":20.6,\"yours\":false,\"topic_id\":470276,\"topic_slug\":\"velocity-based-motion-profile\",\"display_username\":\"Tyler Veness\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"reply_to_user\":{\"id\":48345,\"username\":\"narmstro\",\"name\":\"Nicholas Armstrong\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/n/5e9695/{size}.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":16846,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"WPILib controls | Choreo optimizer backend\"},\"post_url\":\"/t/velocity-based-motion-profile/470276/20\",\"custom_user_title\":\"WPILib controls | Choreo optimizer backend\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null}],\"stream\":[3418114,3418115,3418116,3418132,3418194,3418201,3418208,3418233,3418239,3418240,3418242,3418280,3418288,3418291,3418294,3418297,3418312,3418313,3418319,3418320,3418350,3418351,3418357,3418376,3418380,3418396,3418409,3418420,3418427,3418434,3418498,3724559]},\"timeline_lookup\":[[1,411],[24,410],[32,45]],\"tags\":[],\"tags_descriptions\":{},\"fancy_title\":\"Velocity Based Motion Profile\",\"id\":470276,\"title\":\"Velocity Based Motion Profile\",\"posts_count\":32,\"created_at\":\"2024-08-26T12:47:13.556Z\",\"views\":728,\"reply_count\":26,\"like_count\":9,\"last_posted_at\":\"2025-08-27T17:50:41.146Z\",\"visible\":true,\"closed\":true,\"archived\":false,\"has_summary\":false,\"archetype\":\"regular\",\"slug\":\"velocity-based-motion-profile\",\"category_id\":30,\"word_count\":4090,\"deleted_at\":null,\"user_id\":48345,\"featured_link\":null,\"pinned_globally\":false,\"pinned_at\":null,\"pinned_until\":null,\"image_url\":null,\"slow_mode_seconds\":0,\"draft\":null,\"draft_key\":\"topic_470276\",\"draft_sequence\":null,\"unpinned\":null,\"pinned\":false,\"current_post_number\":1,\"highest_post_number\":32,\"deleted_by\":null,\"actions_summary\":[{\"id\":4,\"count\":0,\"hidden\":false,\"can_act\":false},{\"id\":8,\"count\":0,\"hidden\":false,\"can_act\":false},{\"id\":10,\"count\":0,\"hidden\":false,\"can_act\":false},{\"id\":7,\"count\":0,\"hidden\":false,\"can_act\":false}],\"chunk_size\":20,\"bookmarked\":false,\"topic_timer\":null,\"message_bus_last_id\":0,\"participant_count\":7,\"show_read_indicator\":false,\"thumbnails\":null,\"slow_mode_enabled_until\":null,\"valid_reactions\":[\"heart\",\"laughing\",\"point_up\",\"+1\",\"-1\",\"100\",\"open_mouth\",\"cry\",\"question\",\"thinking\",\"call_me_hand\",\"hugs\",\"angry\"],\"user_chosen_thumbnail_url\":null,\"sidecar_installed\":true,\"can_vote\":false,\"vote_count\":0,\"user_voted\":false,\"discourse_zendesk_plugin_zendesk_id\":null,\"discourse_zendesk_plugin_zendesk_url\":\"https://your-url.zendesk.com/agent/tickets/\",\"details\":{\"can_edit\":false,\"notification_level\":1,\"participants\":[{\"id\":48345,\"username\":\"narmstro\",\"name\":\"Nicholas Armstrong\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/n/5e9695/{size}.png\",\"post_count\":10,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":16846,\"username\":\"calcmogul\",\"name\":\"Tyler Veness\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/calcmogul/{size}/128045_2.png\",\"post_count\":7,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":24617,\"username\":\"gerthworm\",\"name\":\"Chris Gerth\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/gerthworm/{size}/268658_2.png\",\"post_count\":5,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":50219,\"username\":\"Alex_Y\",\"name\":\"\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/a/82dd89/{size}.png\",\"post_count\":5,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":12381,\"username\":\"Oblarg\",\"name\":\"Eli Barnett\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/oblarg/{size}/161674_2.png\",\"post_count\":2,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":53190,\"username\":\"truher\",\"name\":\"joel truher\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/truher/{size}/172222_2.png\",\"post_count\":1,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":10385,\"username\":\"kreeve\",\"name\":\"Kyle Reeve\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/kreeve/{size}/187015_2.png\",\"post_count\":1,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2}],\"created_by\":{\"id\":48345,\"username\":\"narmstro\",\"name\":\"Nicholas Armstrong\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/n/5e9695/{size}.png\"},\"last_poster\":{\"id\":-1,\"username\":\"system\",\"name\":\"system\",\"avatar_template\":\"/uploads/default/original/4X/9/3/2/93234578e69f55873c63fc00fe2d0d85f23bce55.png\"},\"links\":[{\"url\":\"https://github.wpilib.org/allwpilib/docs/release/java/edu/wpi/first/math/trajectory/ExponentialProfile.html\",\"title\":\"ExponentialProfile (WPILib API 2024.3.2)\",\"internal\":false,\"attachment\":false,\"reflection\":false,\"clicks\":8,\"user_id\":16846,\"domain\":\"github.wpilib.org\",\"root_domain\":\"wpilib.org\"},{\"url\":\"https://github.wpilib.org/allwpilib/docs/release/java/edu/wpi/first/math/filter/SlewRateLimiter.html\",\"title\":\"SlewRateLimiter (WPILib API 2024.3.2)\",\"internal\":false,\"attachment\":false,\"reflection\":false,\"clicks\":4,\"user_id\":16846,\"domain\":\"github.wpilib.org\",\"root_domain\":\"wpilib.org\"},{\"url\":\"https://api.ctr-electronics.com/phoenix6/release/java/com/ctre/phoenix6/controls/MotionMagicExpoVoltage.html\",\"title\":\"MotionMagicExpoVoltage (CTRE Phoenix 6 Java 24.3.0)\",\"internal\":false,\"attachment\":false,\"reflection\":false,\"clicks\":3,\"user_id\":16846,\"domain\":\"api.ctr-electronics.com\",\"root_domain\":\"ctr-electronics.com\"},{\"url\":\"https://github.com/wpilibsuite/allwpilib/blob/main/wpimath/src/main/java/edu/wpi/first/math/trajectory/ExponentialProfile.java\",\"title\":\"allwpilib/wpimath/src/main/java/edu/wpi/first/math/trajectory/ExponentialProfile.java at main · wpilibsuite/allwpilib · GitHub\",\"internal\":false,\"attachment\":false,\"reflection\":false,\"clicks\":3,\"user_id\":16846,\"domain\":\"github.com\",\"root_domain\":\"github.com\"},{\"url\":\"https://github.com/wpilibsuite/allwpilib/issues/5088\",\"title\":\"Filter design tool · Issue #5088 · wpilibsuite/allwpilib · GitHub\",\"internal\":false,\"attachment\":false,\"reflection\":false,\"clicks\":2,\"user_id\":16846,\"domain\":\"github.com\",\"root_domain\":\"github.com\"},{\"url\":\"https://file.tavsys.net/control/controls-engineering-in-frc.pdf\",\"title\":null,\"internal\":false,\"attachment\":false,\"reflection\":false,\"clicks\":1,\"user_id\":16846,\"domain\":\"file.tavsys.net\",\"root_domain\":\"tavsys.net\"},{\"url\":\"https://www.desmos.com/calculator/tishdejgyh\",\"title\":\"exponential profile study | Desmos\",\"internal\":false,\"attachment\":false,\"reflection\":false,\"clicks\":1,\"user_id\":16846,\"domain\":\"www.desmos.com\",\"root_domain\":\"desmos.com\"},{\"url\":\"https://www.klipper3d.org/Resonance_Compensation.html\",\"title\":\"Resonance Compensation - Klipper documentation\",\"internal\":false,\"attachment\":false,\"reflection\":false,\"clicks\":1,\"user_id\":16846,\"domain\":\"www.klipper3d.org\",\"root_domain\":\"klipper3d.org\"}]},\"bookmarks\":[]}"}
