{"data":"{\"post_stream\":{\"posts\":[{\"id\":3135241,\"name\":\"Josh Buker\",\"username\":\"CoolBudy1\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/c/b3f665/{size}.png\",\"created_at\":\"2023-01-28T02:22:18.477Z\",\"cooked\":\"\\u003cp\\u003eHello. We have decided to switch over from SDS swerve template to a WPIlib based program and have decided to start with the SwerveControllerCommand example as a base. With no prior knowledge on the subject, I have been looking for some documentation on it, but could only find the Swerve Kinematics and Odometry docs.\\u003c/p\\u003e\\n\\u003cp\\u003eIf there is any documents for WPI based swerve programs, a link would be greatly appreciated.\\u003c/p\\u003e\\n\\u003cp\\u003eIn the mean time, the stuff I’ve found (outside of trajectory following) that is acting as a wall right now are as follows.\\u003c/p\\u003e\\n\\u003cul\\u003e\\n\\u003cli\\u003e\\n\\u003cp\\u003eThe speed controllers used in this example are the Rev Sparks and the encoders are using an Int array for A and B channels. This is throwing me for a loop because I don’t quite understand how to safely swap this over to SparkMax’s and CANCoders in a CAN network. Only thing I can think of is using CANCoder objects for the steerencoders and then RelativeEncoders for the driveEncoders. Should work since we are using Neos for both drive and steer.\\u003c/p\\u003e\\n\\u003c/li\\u003e\\n\\u003cli\\u003e\\n\\u003cp\\u003eThe Gyro we are using is a Navx2, so I replaced the original gyro with the AHRS class using \\u003ccode\\u003eprivate final AHRS m_gyro = new AHRS(SPI.Port.kMXP, (byte) 200);\\u003c/code\\u003e. It doesn’t have any errors, but it seems too easy I suppose. Just want to confirm whether this method would work or if the WPI Gyro interface supports AHRS Navx natively.\\u003c/p\\u003e\\n\\u003c/li\\u003e\\n\\u003cli\\u003e\\n\\u003cp\\u003eIn SDS template, you are required to set all the wheels in line, get the absolute encoder values then save them as an offset. But I cannot find anything regarding offsets. I believe since \\u003ccode\\u003epublic void resetEncoders() {   m_driveEncoder.reset();   m_turningEncoder.reset(); }\\u003c/code\\u003e resets the encoders to zero, one would just need to align all the wheels then run this method? I would assume so, but just checking on the off chance there is something I missed regarding the issue.\\u003c/p\\u003e\\n\\u003c/li\\u003e\\n\\u003cli\\u003e\\n\\u003cp\\u003eAnother thing I have found so far is PID tuning. I understand that every robot will require different values, but from the limited experience I have with them, the values I’ve used are in the \\u003ccode\\u003e0.05\\u003c/code\\u003e range. Yet the stock P value is 1. Just wondering what a general baseline for the values would look like so we aren’t testing hundreds of values before we even get in the ballpark.\\u003c/p\\u003e\\n\\u003c/li\\u003e\\n\\u003cli\\u003e\\n\\u003cp\\u003eWhile I’m at it, might as well ask about the \\u003ccode\\u003edrive\\u003c/code\\u003e method. With SDS’s code, you would just do something like \\u003ccode\\u003edrive(new ChassisSpeed(0.4, 0.3, 0.0);\\u003c/code\\u003e but the way WPi’s drive command is setup, I am not quite sure how I would pass values into it for commands. Would I need to just use \\u003ccode\\u003edrive(0.4, 0.3, 0.0, false);\\u003c/code\\u003e instead?\\u003c/p\\u003e\\n\\u003c/li\\u003e\\n\\u003c/ul\\u003e\\n\\u003cp\\u003eThank you for your time in reading this. If you have any input regarding the questions, it would be greatly appreciated.\\u003c/p\\u003e\\n\\u003cp\\u003eThe current state of the code can be found \\u003ca href=\\\"https://github.com/JoshuaBuker/SwerveControllerCommand\\\" rel=\\\"noopener nofollow ugc\\\"\\u003ehere\\u003c/a\\u003e.\\u003c/p\\u003e\",\"post_number\":1,\"post_type\":1,\"posts_count\":7,\"updated_at\":\"2023-01-28T02:23:04.090Z\",\"reply_count\":0,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":234,\"reads\":112,\"readers_count\":111,\"score\":1192.4,\"yours\":false,\"topic_id\":424901,\"topic_slug\":\"understanding-wpi-swervecontrollercommand-example\",\"display_username\":\"Josh Buker\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"link_counts\":[{\"url\":\"https://github.com/JoshuaBuker/SwerveControllerCommand\",\"internal\":false,\"reflection\":false,\"title\":\"GitHub - JoshuaBuker/SwerveControllerCommand\",\"clicks\":8}],\"read\":true,\"user_title\":null,\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":50049,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"FRC 4692 | Programming Mentor\"},\"post_url\":\"/t/understanding-wpi-swervecontrollercommand-example/424901/1\",\"custom_user_title\":\"FRC 4692 | Programming Mentor\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null,\"can_vote\":false},{\"id\":3135264,\"name\":null,\"username\":\"phoenixPilot\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/p/97f17d/{size}.png\",\"created_at\":\"2023-01-28T03:03:31.764Z\",\"cooked\":\"\\u003cul\\u003e\\n\\u003cli\\u003e\\n\\u003cp\\u003eFor the motors/encoders:\\u003cbr\\u003e\\nYou can use CANSparkMax for the spark maxes and pass in the CAN ID instead of the PWM channel. If you’re planning to use CAN coders for module rotation, use CANcoder and pass in a CAN ID (in the same way as the sparkmax).\\u003cbr\\u003e\\nI’m not sure if this answers your question, so ask if you need.\\u003c/p\\u003e\\n\\u003c/li\\u003e\\n\\u003cli\\u003e\\n\\u003cp\\u003eThe gyro is even easier, you can just write \\\" AHRS gyro = new AHRS(); \\\" since the XMP port is the default. my team uses this with the navX v1, but I don’t think its changed with the v2. I’m not sure if AHRS supports everything the navX has, but I haven’t run into any limitations yet\\u003c/p\\u003e\\n\\u003c/li\\u003e\\n\\u003cli\\u003e\\n\\u003cp\\u003eIf you’re using CANcoders, I’m not 100% sure. The encoder’s absolute position depends on the physical orientation of the magnet relative to the encoder. I’m not sure if reset() affects the absolute position too, or just the relative one. If it just changes the relative position, then no bc the position would be lost if your robot turns off or restarts\\u003c/p\\u003e\\n\\u003c/li\\u003e\\n\\u003cli\\u003e\\n\\u003cp\\u003ePID constants are kinda hard to convert to units. For kP, at least, I think of it in terms of extra output per extra error. For example, if your PID loop takes an angle and outputs voltage, a kP of 1 means an extra volt is applied for each extra degree of error. PID constants need to be tuned experimentally, so its best to figure out a general appropriate value and go from there.\\u003cbr\\u003e\\nWPIlib’s SysID tool is really helpful for tuning loops.\\u003c/p\\u003e\\n\\u003c/li\\u003e\\n\\u003cli\\u003e\\n\\u003cp\\u003eFor the WPI lib command, I’m not sure\\u003c/p\\u003e\\n\\u003c/li\\u003e\\n\\u003c/ul\\u003e\",\"post_number\":2,\"post_type\":1,\"posts_count\":7,\"updated_at\":\"2023-01-28T03:03:31.764Z\",\"reply_count\":1,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":5,\"reads\":92,\"readers_count\":91,\"score\":48.4,\"yours\":false,\"topic_id\":424901,\"topic_slug\":\"understanding-wpi-swervecontrollercommand-example\",\"display_username\":null,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":null,\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":55127,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"post_url\":\"/t/understanding-wpi-swervecontrollercommand-example/424901/2\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3135279,\"name\":\"Josh Buker\",\"username\":\"CoolBudy1\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/c/b3f665/{size}.png\",\"created_at\":\"2023-01-28T03:31:25.047Z\",\"cooked\":\"\\u003cp\\u003eThank you for the reply.\\u003c/p\\u003e\\n\\u003cp\\u003eRegarding speed controllers, you did answer my question. Good to know I can swap those over no issue. And the encoders, same thing. Still gonna see if I can make the driveEncoder set to the Neo’s relative encoder but if the rest transfers over, it would be weird for it not to transfer as well.\\u003c/p\\u003e\\n\\u003cp\\u003eYou bring up a good point regarding the CANCoders being absolute encoders. After looking through the api, there is no zero method but I did find \\u003ccode\\u003econfigMagnetOffset()\\u003c/code\\u003e which I should be able to pass the current values into in order to zero it. I can have that in a separate command purely for setup purposes.\\u003c/p\\u003e\\n\\u003cp\\u003eGlad to hear the gyro is as easy as I had thought. So thank you for the confirmation on that.\\u003c/p\\u003e\\n\\u003cp\\u003eAs for the PID, I forgot I can just look at other public repos and see what kinda values people are using to have a good starting point for tuning to our robot. May make a flowchart or something similar to calculate what an appropriate number would be, but would have to learn exactly how the modules and drivetrain work for that to be feasible.\\u003c/p\\u003e\\n\\u003cp\\u003eOverall, thank you for the info, It definitely helped out for figuring a good course of action to get this code operational.\\u003c/p\\u003e\",\"post_number\":3,\"post_type\":1,\"posts_count\":7,\"updated_at\":\"2023-01-28T03:31:25.047Z\",\"reply_count\":0,\"reply_to_post_number\":2,\"quote_count\":0,\"incoming_link_count\":4,\"reads\":75,\"readers_count\":74,\"score\":35.0,\"yours\":false,\"topic_id\":424901,\"topic_slug\":\"understanding-wpi-swervecontrollercommand-example\",\"display_username\":\"Josh Buker\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":null,\"reply_to_user\":{\"id\":55127,\"username\":\"phoenixPilot\",\"name\":null,\"avatar_template\":\"/letter_avatar_proxy/v4/letter/p/97f17d/{size}.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":50049,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"FRC 4692 | Programming Mentor\"},\"post_url\":\"/t/understanding-wpi-swervecontrollercommand-example/424901/3\",\"custom_user_title\":\"FRC 4692 | Programming Mentor\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3135285,\"name\":\"\",\"username\":\"Hollisms\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/hollisms/{size}/110925_2.png\",\"created_at\":\"2023-01-28T03:46:35.642Z\",\"cooked\":\"\\u003cp\\u003eFor the CANcoders you may want to read this issue/discussion…\\u003c/p\\u003e\\n\\u003cp\\u003eMy summary!\\u003c/p\\u003e\\n\\u003cul\\u003e\\n\\u003cli\\u003ecopy the code for initializing the CANcoders…\\u003c/li\\u003e\\n\\u003cli\\u003eyes, you will need to save offsets\\u003c/li\\u003e\\n\\u003c/ul\\u003e\\n\\u003caside class=\\\"onebox githubissue\\\" data-onebox-src=\\\"https://github.com/Team364/BaseFalconSwerve/issues/8#issuecomment-1396190848\\\"\\u003e\\n  \\u003cheader class=\\\"source\\\"\\u003e\\n\\n      \\u003ca href=\\\"https://github.com/Team364/BaseFalconSwerve/issues/8#issuecomment-1396190848\\\" target=\\\"_blank\\\" rel=\\\"noopener nofollow ugc\\\"\\u003egithub.com/Team364/BaseFalconSwerve\\u003c/a\\u003e\\n  \\u003c/header\\u003e\\n\\n  \\u003carticle class=\\\"onebox-body\\\"\\u003e\\n    \\u003cdiv class=\\\"github-row\\\"\\u003e\\n  \\u003cdiv class=\\\"github-icon-container\\\" title=\\\"Issue\\\"\\u003e\\n\\t  \\u003csvg width=\\\"60\\\" height=\\\"60\\\" class=\\\"github-icon\\\" viewbox=\\\"0 0 14 16\\\" aria-hidden=\\\"true\\\"\\u003e\\u003cpath fill-rule=\\\"evenodd\\\" d=\\\"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z\\\"\\u003e\\u003c/path\\u003e\\u003c/svg\\u003e\\n  \\u003c/div\\u003e\\n\\n  \\u003cdiv class=\\\"github-info-container\\\"\\u003e\\n    \\u003ch4\\u003e\\n      \\u003ca href=\\\"https://github.com/Team364/BaseFalconSwerve/issues/8#issuecomment-1396190848\\\" target=\\\"_blank\\\" rel=\\\"noopener nofollow ugc\\\"\\u003eAfter restarting the Robot We need to re align the wheels at the start\\u003c/a\\u003e\\n    \\u003c/h4\\u003e\\n\\n    \\u003cdiv class=\\\"github-info\\\"\\u003e\\n      \\u003cdiv class=\\\"date\\\"\\u003e\\n        opened \\u003cspan class=\\\"discourse-local-date\\\" data-format=\\\"ll\\\" data-date=\\\"2023-01-10\\\" data-time=\\\"04:44:16\\\" data-timezone=\\\"UTC\\\"\\u003e04:44AM - 10 Jan 23 UTC\\u003c/span\\u003e\\n      \\u003c/div\\u003e\\n\\n\\n      \\u003cdiv class=\\\"user\\\"\\u003e\\n        \\u003ca href=\\\"https://github.com/varshil1999\\\" target=\\\"_blank\\\" rel=\\\"noopener nofollow ugc\\\"\\u003e\\n          \\u003cimg alt=\\\"varshil1999\\\" src=\\\"https://avatars.githubusercontent.com/u/85742153?v=4\\\" class=\\\"onebox-avatar-inline\\\" width=\\\"20\\\" height=\\\"20\\\"\\u003e\\n          varshil1999\\n        \\u003c/a\\u003e\\n      \\u003c/div\\u003e\\n    \\u003c/div\\u003e\\n\\n    \\u003cdiv class=\\\"labels\\\"\\u003e\\n    \\u003c/div\\u003e\\n  \\u003c/div\\u003e\\n\\u003c/div\\u003e\\n\\n  \\u003cdiv class=\\\"github-row\\\"\\u003e\\n    \\u003cp class=\\\"github-body-container\\\"\\u003eAfter Switching off the robot and restarting it the wheels don't realign to the \\u003cspan class=\\\"show-more-container\\\"\\u003e\\u003ca href=\\\"\\\" rel=\\\"noopener\\\" class=\\\"show-more\\\"\\u003e…\\u003c/a\\u003e\\u003c/span\\u003e\\u003cspan class=\\\"excerpt hidden\\\"\\u003ezero position we need to use a metal 1X1 pipe again to reset it and start  the robot Please Do  Help Us.\\u003c/span\\u003e\\u003c/p\\u003e\\n  \\u003c/div\\u003e\\n\\n  \\u003c/article\\u003e\\n\\n  \\u003cdiv class=\\\"onebox-metadata\\\"\\u003e\\n    \\n    \\n  \\u003c/div\\u003e\\n\\n  \\u003cdiv style=\\\"clear: both\\\"\\u003e\\u003c/div\\u003e\\n\\u003c/aside\\u003e\\n\",\"post_number\":4,\"post_type\":1,\"posts_count\":7,\"updated_at\":\"2023-01-28T03:46:35.642Z\",\"reply_count\":1,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":7,\"reads\":68,\"readers_count\":67,\"score\":53.6,\"yours\":false,\"topic_id\":424901,\"topic_slug\":\"understanding-wpi-swervecontrollercommand-example\",\"display_username\":\"\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"link_counts\":[{\"url\":\"https://github.com/Team364/BaseFalconSwerve/issues/8#issuecomment-1396190848\",\"internal\":false,\"reflection\":false,\"title\":\"After restarting the Robot We need to re align the wheels at the start · Issue #8 · Team364/BaseFalconSwerve · GitHub\",\"clicks\":9}],\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":36169,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"Software Mentor\"},\"post_url\":\"/t/understanding-wpi-swervecontrollercommand-example/424901/4\",\"custom_user_title\":\"Software Mentor\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3135289,\"name\":\"Josh Buker\",\"username\":\"CoolBudy1\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/c/b3f665/{size}.png\",\"created_at\":\"2023-01-28T04:06:22.225Z\",\"cooked\":\"\\u003cp\\u003eI will definitely look through that thread, thank you for the link.\\u003c/p\\u003e\\n\\u003cp\\u003eWhen you say copy the code for initalizing the CANcoders, are you refering to this?\\u003c/p\\u003e\\n\\u003cpre\\u003e\\u003ccode class=\\\"lang-auto\\\"\\u003e turningCanCoder = new WPI_CANCoder(cancoderAddress);\\n turningCanCoder.configFactoryDefault(100);\\n turningCanCoder.configAllSettings(CTREConfigs.swerveCanCoderConfig, 100);\\n turningCanCoder.configSensorDirection(cancoderReveresed, 100);\\n\\u003c/code\\u003e\\u003c/pre\\u003e\\n\\u003cp\\u003eAnd I would be able to use ctre’s CANCoder rather than WPI_CANCoder? Never seen a WPI based CANCoder before  (EDIT: After looking at the CANCoder api again, WPI_CANCoder is in there, but it inherits the original CANCoder? Only differences I can see is that it can be closed.)\\u003c/p\\u003e\\n\\u003cp\\u003eAnd for the Offsets, would the aforementioned configMagnetOffset() with the current getValues plugged into it work in doing that, or would I need to manually create constants and plug them in somewhere else?\\u003c/p\\u003e\",\"post_number\":5,\"post_type\":1,\"posts_count\":7,\"updated_at\":\"2023-01-28T04:12:53.704Z\",\"reply_count\":0,\"reply_to_post_number\":4,\"quote_count\":0,\"incoming_link_count\":2,\"reads\":61,\"readers_count\":60,\"score\":22.2,\"yours\":false,\"topic_id\":424901,\"topic_slug\":\"understanding-wpi-swervecontrollercommand-example\",\"display_username\":\"Josh Buker\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":2,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":null,\"reply_to_user\":{\"id\":36169,\"username\":\"Hollisms\",\"name\":\"\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/hollisms/{size}/110925_2.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":50049,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"FRC 4692 | Programming Mentor\"},\"post_url\":\"/t/understanding-wpi-swervecontrollercommand-example/424901/5\",\"custom_user_title\":\"FRC 4692 | Programming Mentor\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3135762,\"name\":\"Carl Hauser\",\"username\":\"chauser\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/c/a587f6/{size}.png\",\"created_at\":\"2023-01-29T03:42:17.234Z\",\"cooked\":\"\\u003cp\\u003eWe based our swerve code on the SwerveControllerCommand as well. A few things to watch out for:\\u003c/p\\u003e\\n\\u003col\\u003e\\n\\u003cli\\u003eTo conform to the reference frame conventions of WPILib (X+ forward, Y+ Left, theta+ counterclockwise) the joystick inputs all need to be negated. We found that by inverting other values deeper down in the code we made a drivable robot that would nevertheless do things backwards when we tried to do autonomous. Better to make the fix at the edge.\\u003c/li\\u003e\\n\\u003cli\\u003eAvoid resetting encoders and gyros. The problem here is that if the encoders are on the CAN bus there is latency between when the reset is issued and when it will be visible when you read them. The NavX gyro has similar latency for reset. Changes made to the way odometry is implemented for this year’s WPILib mean that you can just reset the pose represented by the odometry without changing the encoder and gyro values.\\u003c/li\\u003e\\n\\u003cli\\u003eWe used CANcoders (absolute) for our module turning encoders. It’s not clear in the example code that the turning encoders need to be absolute and properly aligned so that 0 corresponds to straight ahead. We had to add code to support a calibration step where we align the motors, determine an offset, and then subtract that offset from subsequent measurements. We hadn’t noticed the possibility of calibrating the CANcoders themselves to compensate for the offset – we will look into that.\\u003c/li\\u003e\\n\\u003cli\\u003eWe are currently working on getting the modules to turn sufficiently quickly: we haven’t yet fully understood the full implications of the constants chosen for the turning PID controller. If the modules are lackadaisical about turning to the correct direction you will start driving off in the wrong direction before they finish turning which is pretty undesirable.\\u003c/li\\u003e\\n\\u003c/ol\\u003e\",\"post_number\":6,\"post_type\":1,\"posts_count\":7,\"updated_at\":\"2023-01-29T03:42:17.234Z\",\"reply_count\":0,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":44,\"readers_count\":43,\"score\":8.8,\"yours\":false,\"topic_id\":424901,\"topic_slug\":\"understanding-wpi-swervecontrollercommand-example\",\"display_username\":\"Carl Hauser\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":36833,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"post_url\":\"/t/understanding-wpi-swervecontrollercommand-example/424901/6\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3296849,\"name\":\"system\",\"username\":\"system\",\"avatar_template\":\"/uploads/default/original/4X/9/3/2/93234578e69f55873c63fc00fe2d0d85f23bce55.png\",\"created_at\":\"2024-01-29T03:42:36.233Z\",\"cooked\":\"\\u003cp\\u003eThis topic was automatically closed 365 days after the last reply. New replies are no longer allowed.\\u003c/p\\u003e\",\"post_number\":7,\"post_type\":3,\"posts_count\":7,\"updated_at\":\"2024-01-29T03:42:36.233Z\",\"reply_count\":0,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":6,\"readers_count\":5,\"score\":1.2,\"yours\":false,\"topic_id\":424901,\"topic_slug\":\"understanding-wpi-swervecontrollercommand-example\",\"display_username\":\"system\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[],\"moderator\":true,\"admin\":true,\"staff\":true,\"user_id\":-1,\"hidden\":false,\"trust_level\":4,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"action_code\":\"autoclosed.enabled\",\"post_url\":\"/t/understanding-wpi-swervecontrollercommand-example/424901/7\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null}],\"stream\":[3135241,3135264,3135279,3135285,3135289,3135762,3296849]},\"timeline_lookup\":[[1,988],[6,987],[7,622]],\"suggested_topics\":[{\"fancy_title\":\"Help Running out of time Java Help\",\"id\":493982,\"title\":\"Help Running out of time Java Help\",\"slug\":\"help-running-out-of-time-java-help\",\"posts_count\":6,\"reply_count\":4,\"highest_post_number\":6,\"image_url\":null,\"created_at\":\"2025-03-03T15:07:24.299Z\",\"last_posted_at\":\"2025-03-03T17:40:07.241Z\",\"bumped\":true,\"bumped_at\":\"2025-03-03T17:40:07.241Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"Did you use the WPILib installer on that computer? Are you using VS Code or another IDE, or running gradle from the command line? If everything was installed properly, it should be using the WPILib J…\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[],\"tags_descriptions\":{},\"like_count\":0,\"views\":211,\"category_id\":75,\"featured_link\":null,\"has_accepted_answer\":true,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3546030,\"topic_post_liked\":false,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":false,\"topic_post_is_current_users\":null,\"topic_post_number\":5,\"topic_post_user\":{\"id\":65,\"username\":\"Joe_Ross\",\"name\":\"Joe Ross\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/joe_ross/{size}/37_2.png\"},\"posters\":[{\"extras\":\"latest\",\"description\":\"Original Poster, Most Recent Poster\",\"user\":{\"id\":24842,\"username\":\"Hale_Talons_554\",\"name\":\"Hale Talons 554\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/hale_talons_554/{size}/11589_2.png\",\"trust_level\":1}},{\"extras\":null,\"description\":\"Frequent Poster, Accepted Answer\",\"user\":{\"id\":65,\"username\":\"Joe_Ross\",\"name\":\"Joe Ross\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/joe_ross/{size}/37_2.png\",\"moderator\":true,\"trust_level\":4}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":28240,\"username\":\"icemannie\",\"name\":\"icemannie\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/i/bc79bd/{size}.png\",\"trust_level\":2}}]},{\"fancy_title\":\"Choreo distance issue\",\"id\":494578,\"title\":\"Choreo distance issue\",\"slug\":\"choreo-distance-issue\",\"posts_count\":2,\"reply_count\":0,\"highest_post_number\":2,\"image_url\":null,\"created_at\":\"2025-03-07T00:02:48.884Z\",\"last_posted_at\":\"2025-03-07T00:18:44.038Z\",\"bumped\":true,\"bumped_at\":\"2025-03-07T00:23:59.587Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"With choreo, my team made a path for our robot to drive forward 2 meters, and it is consistently undershooting, driving like 1.2 meters. We have set the gear ratio and wheel radius correctly. I’m not …\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[\"choreo\"],\"tags_descriptions\":{},\"like_count\":1,\"views\":68,\"category_id\":75,\"featured_link\":null,\"has_accepted_answer\":false,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3549994,\"topic_post_liked\":false,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":false,\"topic_post_is_current_users\":null,\"topic_post_number\":1,\"topic_post_user\":{\"id\":53032,\"username\":\"Traptricker\",\"name\":\"Jackson Elia\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/traptricker/{size}/215403_2.png\"},\"posters\":[{\"extras\":null,\"description\":\"Original Poster\",\"user\":{\"id\":53032,\"username\":\"Traptricker\",\"name\":\"Jackson Elia\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/traptricker/{size}/215403_2.png\",\"trust_level\":2}},{\"extras\":\"latest\",\"description\":\"Most Recent Poster\",\"user\":{\"id\":16846,\"username\":\"calcmogul\",\"name\":\"Tyler Veness\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/calcmogul/{size}/128045_2.png\",\"trust_level\":2}}]},{\"fancy_title\":\"How to Zero NEO Encoder 2025\",\"id\":485684,\"title\":\"How to Zero NEO Encoder 2025\",\"slug\":\"how-to-zero-neo-encoder-2025\",\"posts_count\":5,\"reply_count\":2,\"highest_post_number\":5,\"image_url\":null,\"created_at\":\"2025-02-08T16:52:00.024Z\",\"last_posted_at\":\"2025-02-08T18:03:11.531Z\",\"bumped\":true,\"bumped_at\":\"2025-02-08T18:03:11.531Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"Hi! Our team is still learning how to use Revlib 2025. We have a limit switch on the bottom of our elevator, and we want to use this to reset the internal encoder to 0 to improve accuracy. We couldn’t…\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[],\"tags_descriptions\":{},\"like_count\":1,\"views\":158,\"category_id\":75,\"featured_link\":null,\"has_accepted_answer\":false,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3505983,\"topic_post_liked\":false,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":true,\"topic_post_is_current_users\":null,\"topic_post_number\":1,\"topic_post_user\":{\"id\":51278,\"username\":\"JamerGamer789\",\"name\":\"James\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/j/e19b73/{size}.png\"},\"posters\":[{\"extras\":\"latest\",\"description\":\"Original Poster, Most Recent Poster\",\"user\":{\"id\":51278,\"username\":\"JamerGamer789\",\"name\":\"James\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/j/e19b73/{size}.png\",\"trust_level\":2}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":65,\"username\":\"Joe_Ross\",\"name\":\"Joe Ross\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/joe_ross/{size}/37_2.png\",\"moderator\":true,\"trust_level\":4}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":71158,\"username\":\"TMaurer4472\",\"name\":\"Troy Maurer\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/t/ce73a5/{size}.png\",\"trust_level\":1}}]},{\"fancy_title\":\"Elevator going crazy\",\"id\":492486,\"title\":\"Elevator going crazy\",\"slug\":\"elevator-going-crazy\",\"posts_count\":2,\"reply_count\":0,\"highest_post_number\":2,\"image_url\":null,\"created_at\":\"2025-02-20T21:37:47.965Z\",\"last_posted_at\":\"2025-02-21T14:17:26.508Z\",\"bumped\":true,\"bumped_at\":\"2025-02-21T14:17:26.508Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"Hi, whilst testing our elevator when i tried to set a position other than L2 the elevator moves up a little bit and then slams down. any reason why that might be? It works as it should be in sim. here…\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[],\"tags_descriptions\":{},\"like_count\":1,\"views\":225,\"category_id\":75,\"featured_link\":null,\"has_accepted_answer\":false,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3534736,\"topic_post_liked\":false,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":false,\"topic_post_is_current_users\":null,\"topic_post_number\":1,\"topic_post_user\":{\"id\":61536,\"username\":\"kuzeyatay\",\"name\":\"kuzey\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/k/59ef9b/{size}.png\"},\"posters\":[{\"extras\":null,\"description\":\"Original Poster\",\"user\":{\"id\":61536,\"username\":\"kuzeyatay\",\"name\":\"kuzey\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/k/59ef9b/{size}.png\",\"trust_level\":2}},{\"extras\":\"latest\",\"description\":\"Most Recent Poster\",\"user\":{\"id\":62698,\"username\":\"CakeDeer6\",\"name\":\"Ethan Grieshop\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/cakedeer6/{size}/264680_2.png\",\"trust_level\":2}}]},{\"fancy_title\":\"Help PathPlanner java with YAGSL\",\"id\":495081,\"title\":\"Help PathPlanner java with YAGSL\",\"slug\":\"help-pathplanner-java-with-yagsl\",\"posts_count\":3,\"reply_count\":0,\"highest_post_number\":3,\"image_url\":null,\"created_at\":\"2025-03-11T00:26:31.649Z\",\"last_posted_at\":\"2025-03-11T04:57:36.800Z\",\"bumped\":true,\"bumped_at\":\"2025-03-11T04:57:36.800Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"Hi, I’m from the programming team of team 6896.I’m not sure if you could help us with our issue.We’re having difficulty figuring out how to select a route from the ones we’ve created in PathPlanner di…\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[],\"tags_descriptions\":{},\"like_count\":0,\"views\":63,\"category_id\":75,\"featured_link\":null,\"has_accepted_answer\":false,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3553526,\"topic_post_liked\":false,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":false,\"topic_post_is_current_users\":null,\"topic_post_number\":1,\"topic_post_user\":{\"id\":74224,\"username\":\"LANC2\",\"name\":\"\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/l/49beb7/{size}.png\"},\"posters\":[{\"extras\":null,\"description\":\"Original Poster\",\"user\":{\"id\":74224,\"username\":\"LANC2\",\"name\":\"\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/l/49beb7/{size}.png\",\"trust_level\":1}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":9105,\"username\":\"Fletch1373\",\"name\":\"Fletch\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/fletch1373/{size}/220073_2.png\",\"trust_level\":2}},{\"extras\":\"latest\",\"description\":\"Most Recent Poster\",\"user\":{\"id\":31927,\"username\":\"MoonlitJolty\",\"name\":\"\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/moonlitjolty/{size}/12129_2.png\",\"trust_level\":2}}]}],\"tags\":[],\"tags_descriptions\":{},\"fancy_title\":\"Understanding WPI SwerveControllerCommand example\",\"id\":424901,\"title\":\"Understanding WPI SwerveControllerCommand example\",\"posts_count\":7,\"created_at\":\"2023-01-28T02:22:18.423Z\",\"views\":754,\"reply_count\":2,\"like_count\":0,\"last_posted_at\":\"2024-01-29T03:42:36.233Z\",\"visible\":true,\"closed\":true,\"archived\":false,\"has_summary\":false,\"archetype\":\"regular\",\"slug\":\"understanding-wpi-swervecontrollercommand-example\",\"category_id\":75,\"word_count\":1474,\"deleted_at\":null,\"user_id\":50049,\"featured_link\":null,\"pinned_globally\":false,\"pinned_at\":null,\"pinned_until\":null,\"image_url\":null,\"slow_mode_seconds\":0,\"draft\":null,\"draft_key\":\"topic_424901\",\"draft_sequence\":null,\"unpinned\":null,\"pinned\":false,\"current_post_number\":1,\"highest_post_number\":7,\"deleted_by\":null,\"actions_summary\":[{\"id\":4,\"count\":0,\"hidden\":false,\"can_act\":false},{\"id\":8,\"count\":0,\"hidden\":false,\"can_act\":false},{\"id\":10,\"count\":0,\"hidden\":false,\"can_act\":false},{\"id\":7,\"count\":0,\"hidden\":false,\"can_act\":false}],\"chunk_size\":20,\"bookmarked\":false,\"topic_timer\":null,\"message_bus_last_id\":0,\"participant_count\":4,\"show_read_indicator\":false,\"thumbnails\":null,\"slow_mode_enabled_until\":null,\"valid_reactions\":[\"heart\",\"laughing\",\"point_up\",\"+1\",\"-1\",\"100\",\"open_mouth\",\"cry\",\"question\",\"thinking\",\"call_me_hand\",\"hugs\",\"angry\"],\"user_chosen_thumbnail_url\":null,\"sidecar_installed\":true,\"can_vote\":false,\"vote_count\":0,\"user_voted\":false,\"discourse_zendesk_plugin_zendesk_id\":null,\"discourse_zendesk_plugin_zendesk_url\":\"https://your-url.zendesk.com/agent/tickets/\",\"details\":{\"can_edit\":false,\"notification_level\":1,\"participants\":[{\"id\":50049,\"username\":\"CoolBudy1\",\"name\":\"Josh Buker\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/c/b3f665/{size}.png\",\"post_count\":3,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":36169,\"username\":\"Hollisms\",\"name\":\"\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/hollisms/{size}/110925_2.png\",\"post_count\":1,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":36833,\"username\":\"chauser\",\"name\":\"Carl Hauser\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/c/a587f6/{size}.png\",\"post_count\":1,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":55127,\"username\":\"phoenixPilot\",\"name\":null,\"avatar_template\":\"/letter_avatar_proxy/v4/letter/p/97f17d/{size}.png\",\"post_count\":1,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2}],\"created_by\":{\"id\":50049,\"username\":\"CoolBudy1\",\"name\":\"Josh Buker\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/c/b3f665/{size}.png\"},\"last_poster\":{\"id\":-1,\"username\":\"system\",\"name\":\"system\",\"avatar_template\":\"/uploads/default/original/4X/9/3/2/93234578e69f55873c63fc00fe2d0d85f23bce55.png\"},\"links\":[{\"url\":\"https://github.com/Team364/BaseFalconSwerve/issues/8#issuecomment-1396190848\",\"title\":\"After restarting the Robot We need to re align the wheels at the start · Issue #8 · Team364/BaseFalconSwerve · GitHub\",\"internal\":false,\"attachment\":false,\"reflection\":false,\"clicks\":9,\"user_id\":36169,\"domain\":\"github.com\",\"root_domain\":\"github.com\"},{\"url\":\"https://github.com/JoshuaBuker/SwerveControllerCommand\",\"title\":\"GitHub - JoshuaBuker/SwerveControllerCommand\",\"internal\":false,\"attachment\":false,\"reflection\":false,\"clicks\":8,\"user_id\":50049,\"domain\":\"github.com\",\"root_domain\":\"github.com\"}]},\"bookmarks\":[]}"}
