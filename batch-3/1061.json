{"data":"{\"post_stream\":{\"posts\":[{\"id\":3322283,\"name\":\"Jainish Patel\",\"username\":\"JaiCodes\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/jaicodes/{size}/203987_2.png\",\"created_at\":\"2024-03-03T00:19:06.490Z\",\"cooked\":\"\\u003cp\\u003eHello \\u003cspan class=\\\"abbreviation\\\"\\u003eCD\\u003ctemplate class=\\\"tooltiptext\\\" data-text=\\\"Chief Delphi\\\"\\u003e\\u003c/template\\u003e\\u003c/span\\u003e. I’m facing this very odd problem. I’m using a combination of feedforward and profiledpid to control two TalonFXs to move a single-jointed arm. I’m using WPILib classes and not Motion Magic or the internal \\u003cspan class=\\\"abbreviation\\\"\\u003ePID\\u003ctemplate class=\\\"tooltiptext\\\" data-text=\\\"Proportional Integral Derivative\\\"\\u003e\\u003c/template\\u003e\\u003c/span\\u003e of the Falcon 500s. The motion profile is smooth but my arm stutters when reaching certain points. It looks like it pauses and tries to resume the profile’s trajectory.\\u003cbr\\u003e\\nHere a graph yellow being the setpoints of the motion profile and blue being the actual values. You can see at around 22.2 seconds and 24.2 seconds the jumps happening.\\u003cbr\\u003e\\n\\u003cdiv class=\\\"lightbox-wrapper\\\"\\u003e\\u003ca class=\\\"lightbox\\\" href=\\\"https://www.chiefdelphi.com/uploads/default/original/3X/8/c/8c25a9c2678ed62f2d3030c865cb5cf63effbdd9.png\\\" data-download-href=\\\"https://www.chiefdelphi.com/uploads/default/8c25a9c2678ed62f2d3030c865cb5cf63effbdd9\\\" title=\\\"image\\\"\\u003e\\u003cimg src=\\\"https://www.chiefdelphi.com/uploads/default/optimized/3X/8/c/8c25a9c2678ed62f2d3030c865cb5cf63effbdd9_2_690x361.png\\\" alt=\\\"image\\\" data-base62-sha1=\\\"jZNxoSFsPwBECVbIjc3cm0bJfwl\\\" width=\\\"690\\\" height=\\\"361\\\" srcset=\\\"https://www.chiefdelphi.com/uploads/default/optimized/3X/8/c/8c25a9c2678ed62f2d3030c865cb5cf63effbdd9_2_690x361.png, https://www.chiefdelphi.com/uploads/default/original/3X/8/c/8c25a9c2678ed62f2d3030c865cb5cf63effbdd9.png 1.5x, https://www.chiefdelphi.com/uploads/default/original/3X/8/c/8c25a9c2678ed62f2d3030c865cb5cf63effbdd9.png 2x\\\" data-dominant-color=\\\"242424\\\"\\u003e\\u003cdiv class=\\\"meta\\\"\\u003e\\u003csvg class=\\\"fa d-icon d-icon-far-image svg-icon\\\" aria-hidden=\\\"true\\\"\\u003e\\u003cuse href=\\\"#far-image\\\"\\u003e\\u003c/use\\u003e\\u003c/svg\\u003e\\u003cspan class=\\\"filename\\\"\\u003eimage\\u003c/span\\u003e\\u003cspan class=\\\"informations\\\"\\u003e719×377 45.8 KB\\u003c/span\\u003e\\u003csvg class=\\\"fa d-icon d-icon-discourse-expand svg-icon\\\" aria-hidden=\\\"true\\\"\\u003e\\u003cuse href=\\\"#discourse-expand\\\"\\u003e\\u003c/use\\u003e\\u003c/svg\\u003e\\u003c/div\\u003e\\u003c/a\\u003e\\u003c/div\\u003e\\u003c/p\\u003e\\n\\u003cp\\u003eHere’s a video, you can see the motor pausing and then resuming the trajectory:\\u003c/p\\u003e\\u003caside class=\\\"onebox googledrive\\\" data-onebox-src=\\\"https://drive.google.com/file/d/1V1CbQt4mwWHPlKoHshDAdsjcSyzXIZhZ/view?usp=sharing\\\"\\u003e\\n  \\u003cheader class=\\\"source\\\"\\u003e\\n\\n      \\u003ca href=\\\"https://drive.google.com/file/d/1V1CbQt4mwWHPlKoHshDAdsjcSyzXIZhZ/view?usp=sharing\\\" target=\\\"_blank\\\" rel=\\\"noopener nofollow ugc\\\"\\u003edrive.google.com\\u003c/a\\u003e\\n  \\u003c/header\\u003e\\n\\n  \\u003carticle class=\\\"onebox-body\\\"\\u003e\\n      \\u003ca href=\\\"https://drive.google.com/file/d/1V1CbQt4mwWHPlKoHshDAdsjcSyzXIZhZ/view?usp=sharing\\\" target=\\\"_blank\\\" rel=\\\"noopener nofollow ugc\\\"\\u003e\\u003cspan class=\\\"googledocs-onebox-logo g-drive-logo\\\"\\u003e\\u003c/span\\u003e\\u003c/a\\u003e\\n\\n\\n\\n\\u003ch3\\u003e\\u003ca href=\\\"https://drive.google.com/file/d/1V1CbQt4mwWHPlKoHshDAdsjcSyzXIZhZ/view?usp=sharing\\\" target=\\\"_blank\\\" rel=\\\"noopener nofollow ugc\\\"\\u003eIMG_5001.mov\\u003c/a\\u003e\\u003c/h3\\u003e\\n\\n\\u003cp\\u003eGoogle Drive file.\\u003c/p\\u003e\\n\\n  \\u003c/article\\u003e\\n\\n  \\u003cdiv class=\\\"onebox-metadata\\\"\\u003e\\n    \\n    \\n  \\u003c/div\\u003e\\n\\n  \\u003cdiv style=\\\"clear: both\\\"\\u003e\\u003c/div\\u003e\\n\\u003c/aside\\u003e\\n\\n\\u003cp\\u003eThe odd thing is the code worked perfectly fine before. We did face a major issue and had to take apart the whole arm and assemble it together but mechanically everything is identical. We also noticed the arm runs little bit slower than before (battery voltage were close both of the times). Another thing to note is that I only have a P value for the tilt due to the high gear ratio. Will adding a D stop the overshooting? Another thing to note is that we are facing high CPU usage on the rio 1. Around 80% to 90%.\\u003cbr\\u003e\\nThank you!\\u003c/p\\u003e\",\"post_number\":1,\"post_type\":1,\"posts_count\":12,\"updated_at\":\"2024-03-03T00:22:49.379Z\",\"reply_count\":0,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":150,\"reads\":203,\"readers_count\":202,\"score\":810.6,\"yours\":false,\"topic_id\":456994,\"topic_slug\":\"motion-profiling-causing-stuttering\",\"display_username\":\"Jainish Patel\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"link_counts\":[{\"url\":\"https://drive.google.com/file/d/1V1CbQt4mwWHPlKoHshDAdsjcSyzXIZhZ/view?usp=sharing\",\"internal\":false,\"reflection\":false,\"title\":\"IMG_5001.mov - Google Drive\",\"clicks\":15},{\"url\":\"https://www.chiefdelphi.com/uploads/default/original/3X/8/c/8c25a9c2678ed62f2d3030c865cb5cf63effbdd9.png\",\"internal\":true,\"reflection\":false,\"clicks\":0}],\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":2}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":54172,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"4065 NOP | Programming Lead\"},\"post_url\":\"/t/motion-profiling-causing-stuttering/456994/1\",\"custom_user_title\":\"4065 NOP | Programming Lead\",\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":2}],\"current_user_reaction\":null,\"reaction_users_count\":2,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true,\"can_vote\":false},{\"id\":3322589,\"name\":\"Jainish Patel\",\"username\":\"JaiCodes\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/jaicodes/{size}/203987_2.png\",\"created_at\":\"2024-03-03T16:20:03.811Z\",\"cooked\":\"\\u003cp\\u003eUpdate: the high-cpu usage seems to be the cause of this issue.\\u003cbr\\u003e\\nHere is a graph during the normal smooth operation:\\u003cbr\\u003e\\n\\u003cdiv class=\\\"lightbox-wrapper\\\"\\u003e\\u003ca class=\\\"lightbox\\\" href=\\\"https://www.chiefdelphi.com/uploads/default/original/3X/8/8/8820744c5686ce19c68968a5fb520e0a65505a4a.png\\\" data-download-href=\\\"https://www.chiefdelphi.com/uploads/default/8820744c5686ce19c68968a5fb520e0a65505a4a\\\" title=\\\"image\\\"\\u003e\\u003cimg src=\\\"https://www.chiefdelphi.com/uploads/default/optimized/3X/8/8/8820744c5686ce19c68968a5fb520e0a65505a4a_2_690x359.png\\\" alt=\\\"image\\\" data-base62-sha1=\\\"jqet4KbXQnRyqtpfuHuOInHEVV8\\\" width=\\\"690\\\" height=\\\"359\\\" srcset=\\\"https://www.chiefdelphi.com/uploads/default/optimized/3X/8/8/8820744c5686ce19c68968a5fb520e0a65505a4a_2_690x359.png, https://www.chiefdelphi.com/uploads/default/optimized/3X/8/8/8820744c5686ce19c68968a5fb520e0a65505a4a_2_1035x538.png 1.5x, https://www.chiefdelphi.com/uploads/default/optimized/3X/8/8/8820744c5686ce19c68968a5fb520e0a65505a4a_2_1380x718.png 2x\\\" data-dominant-color=\\\"42403B\\\"\\u003e\\u003cdiv class=\\\"meta\\\"\\u003e\\u003csvg class=\\\"fa d-icon d-icon-far-image svg-icon\\\" aria-hidden=\\\"true\\\"\\u003e\\u003cuse href=\\\"#far-image\\\"\\u003e\\u003c/use\\u003e\\u003c/svg\\u003e\\u003cspan class=\\\"filename\\\"\\u003eimage\\u003c/span\\u003e\\u003cspan class=\\\"informations\\\"\\u003e1920×1000 352 KB\\u003c/span\\u003e\\u003csvg class=\\\"fa d-icon d-icon-discourse-expand svg-icon\\\" aria-hidden=\\\"true\\\"\\u003e\\u003cuse href=\\\"#discourse-expand\\\"\\u003e\\u003c/use\\u003e\\u003c/svg\\u003e\\u003c/div\\u003e\\u003c/a\\u003e\\u003c/div\\u003e\\u003cbr\\u003e\\nHere it is during the stuttering:\\u003cbr\\u003e\\n\\u003cdiv class=\\\"lightbox-wrapper\\\"\\u003e\\u003ca class=\\\"lightbox\\\" href=\\\"https://www.chiefdelphi.com/uploads/default/original/3X/e/e/ee609e7a690c43c8f98f20af921a739d2e50d382.png\\\" data-download-href=\\\"https://www.chiefdelphi.com/uploads/default/ee609e7a690c43c8f98f20af921a739d2e50d382\\\" title=\\\"image\\\"\\u003e\\u003cimg src=\\\"https://www.chiefdelphi.com/uploads/default/optimized/3X/e/e/ee609e7a690c43c8f98f20af921a739d2e50d382_2_690x356.png\\\" alt=\\\"image\\\" data-base62-sha1=\\\"y0MDSZvP2ff03vX0Na7bsjGGqMa\\\" width=\\\"690\\\" height=\\\"356\\\" srcset=\\\"https://www.chiefdelphi.com/uploads/default/optimized/3X/e/e/ee609e7a690c43c8f98f20af921a739d2e50d382_2_690x356.png, https://www.chiefdelphi.com/uploads/default/optimized/3X/e/e/ee609e7a690c43c8f98f20af921a739d2e50d382_2_1035x534.png 1.5x, https://www.chiefdelphi.com/uploads/default/optimized/3X/e/e/ee609e7a690c43c8f98f20af921a739d2e50d382_2_1380x712.png 2x\\\" data-dominant-color=\\\"393835\\\"\\u003e\\u003cdiv class=\\\"meta\\\"\\u003e\\u003csvg class=\\\"fa d-icon d-icon-far-image svg-icon\\\" aria-hidden=\\\"true\\\"\\u003e\\u003cuse href=\\\"#far-image\\\"\\u003e\\u003c/use\\u003e\\u003c/svg\\u003e\\u003cspan class=\\\"filename\\\"\\u003eimage\\u003c/span\\u003e\\u003cspan class=\\\"informations\\\"\\u003e1920×992 340 KB\\u003c/span\\u003e\\u003csvg class=\\\"fa d-icon d-icon-discourse-expand svg-icon\\\" aria-hidden=\\\"true\\\"\\u003e\\u003cuse href=\\\"#discourse-expand\\\"\\u003e\\u003c/use\\u003e\\u003c/svg\\u003e\\u003c/div\\u003e\\u003c/a\\u003e\\u003c/div\\u003e\\u003cbr\\u003e\\nAny way to combat this? We have not changed anything code wise, the roboRIO seems to just have a higher cpu utilization now. Only difference is the firmware version of the TalonFX, it was on v2.0.0 and we upgraded it to v4.0.3. No improvements whatsoever, same behavior on both versions.\\u003c/p\\u003e\",\"post_number\":2,\"post_type\":1,\"posts_count\":12,\"updated_at\":\"2024-03-04T01:27:15.806Z\",\"reply_count\":1,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":3,\"reads\":165,\"readers_count\":164,\"score\":68.0,\"yours\":false,\"topic_id\":456994,\"topic_slug\":\"motion-profiling-causing-stuttering\",\"display_username\":\"Jainish Patel\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":3,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"link_counts\":[{\"url\":\"https://www.chiefdelphi.com/uploads/default/original/3X/e/e/ee609e7a690c43c8f98f20af921a739d2e50d382.png\",\"internal\":true,\"reflection\":false,\"clicks\":0},{\"url\":\"https://www.chiefdelphi.com/uploads/default/original/3X/8/8/8820744c5686ce19c68968a5fb520e0a65505a4a.png\",\"internal\":true,\"reflection\":false,\"clicks\":0}],\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":1}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":54172,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"4065 NOP | Programming Lead\"},\"post_url\":\"/t/motion-profiling-causing-stuttering/456994/2\",\"custom_user_title\":\"4065 NOP | Programming Lead\",\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":1}],\"current_user_reaction\":null,\"reaction_users_count\":1,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3322962,\"name\":\"Benjamin Hall\",\"username\":\"bhall-ctre\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/bhall-ctre/{size}/198180_2.png\",\"created_at\":\"2024-03-04T02:22:30.275Z\",\"cooked\":\"\\u003cp\\u003eYou’re likely seeing the effects of pauses due to Java garbage collection or other issues related to high CPU utilization. For all of the points of stuttering you mention, the profile itself appears to be paused for an extended period of time. If the pause is 100 ms, for example, the motor will follow the previous output of ProfiledPIDController for that 100 ms, but the profile is only updated according to a fixed time period (default 20 ms, your regular robot loop time). As a result, your motor “overshoots” the profile and needs to back up to recover, even though the issue is with the profile falling behind.\\u003c/p\\u003e\\n\\u003cp\\u003eThere are two ways to fix the issue. One is to use measured time deltas for the motion profile, which ProfiledPIDController does not support out of the box. The other, which we recommend to most teams, is to use Motion Magic®. This has the advantage of updating the profile more quickly than your main robot loop, the profile being unaffected by Java GC, and your feedforwards and \\u003cspan class=\\\"abbreviation\\\"\\u003ePID\\u003ctemplate class=\\\"tooltiptext\\\" data-text=\\\"Proportional Integral Derivative\\\"\\u003e\\u003c/template\\u003e\\u003c/span\\u003e updating at a much faster rate, improving the smoothness of the system.\\u003c/p\\u003e\\n\\u003cp\\u003ePhoenix 6 supports onboard kG, kS, kV, and kA feedforwards with Motion Magic®, and we have \\u003ca href=\\\"https://v6.docs.ctr-electronics.com/en/stable/docs/api-reference/device-specific/talonfx/motion-magic.html#using-motion-magic-in-api\\\" rel=\\\"noopener nofollow ugc\\\"\\u003edocumentation\\u003c/a\\u003e explaining how to set it up.  You can also get the current Motion Magic® setpoints using \\u003ccode\\u003egetClosedLoopReference()\\u003c/code\\u003e (position setpoint) and \\u003ccode\\u003egetClosedLoopReferenceSlope()\\u003c/code\\u003e (velocity setpoint) if you ever need to do additional feedforward calculations on the roboRIO.\\u003c/p\\u003e\",\"post_number\":3,\"post_type\":1,\"posts_count\":12,\"updated_at\":\"2024-03-04T02:24:05.144Z\",\"reply_count\":2,\"reply_to_post_number\":2,\"quote_count\":0,\"incoming_link_count\":8,\"reads\":145,\"readers_count\":144,\"score\":139.0,\"yours\":false,\"topic_id\":456994,\"topic_slug\":\"motion-profiling-causing-stuttering\",\"display_username\":\"Benjamin Hall\",\"primary_group_name\":\"CTRE\",\"flair_name\":\"CTRE\",\"flair_url\":\"/uploads/default/original/3X/1/b/1bd2b430e1bb6427d1c6504ff6abcd31de851a6d.png\",\"flair_bg_color\":\"\",\"flair_color\":\"\",\"flair_group_id\":57,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"link_counts\":[{\"url\":\"https://v6.docs.ctr-electronics.com/en/stable/docs/api-reference/device-specific/talonfx/motion-magic.html#using-motion-magic-in-api\",\"internal\":false,\"reflection\":false,\"title\":\"Motion Magic® Controls\",\"clicks\":15}],\"read\":true,\"user_title\":\"\",\"reply_to_user\":{\"id\":54172,\"username\":\"JaiCodes\",\"name\":\"Jainish Patel\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/jaicodes/{size}/203987_2.png\"},\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":4}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":48146,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"Software Engineering Intern at CTR Electronics\"},\"post_url\":\"/t/motion-profiling-causing-stuttering/456994/3\",\"custom_user_title\":\"Software Engineering Intern at CTR Electronics\",\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":4}],\"current_user_reaction\":null,\"reaction_users_count\":4,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3323039,\"name\":\"Jainish Patel\",\"username\":\"JaiCodes\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/jaicodes/{size}/203987_2.png\",\"created_at\":\"2024-03-04T03:57:53.309Z\",\"cooked\":\"\\u003cp\\u003eThe only reason that we decided not to use Motion Magic was because we wanted to log everything and see the graphs but I see that Phoenix 6 does have methods for the analyzation we want to do. One question that I have is that, will the values that I calculated for this subsystem translate over well for the Motion Magic? Will the kG, kS, kV, and kA that I found from SysID useful for the Motion Magic or do we have to do hand tuning? Do I also have to retune my \\u003cspan class=\\\"abbreviation\\\"\\u003ePID\\u003ctemplate class=\\\"tooltiptext\\\" data-text=\\\"Proportional Integral Derivative\\\"\\u003e\\u003c/template\\u003e\\u003c/span\\u003e if I decide to switch over? We are currently using rotations as the main unit.\\u003c/p\\u003e\",\"post_number\":4,\"post_type\":1,\"posts_count\":12,\"updated_at\":\"2024-03-04T03:59:31.903Z\",\"reply_count\":1,\"reply_to_post_number\":3,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":117,\"readers_count\":116,\"score\":28.4,\"yours\":false,\"topic_id\":456994,\"topic_slug\":\"motion-profiling-causing-stuttering\",\"display_username\":\"Jainish Patel\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"reply_to_user\":{\"id\":48146,\"username\":\"bhall-ctre\",\"name\":\"Benjamin Hall\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/bhall-ctre/{size}/198180_2.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":54172,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"4065 NOP | Programming Lead\"},\"post_url\":\"/t/motion-profiling-causing-stuttering/456994/4\",\"custom_user_title\":\"4065 NOP | Programming Lead\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3323058,\"name\":\"Benjamin Hall\",\"username\":\"bhall-ctre\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/bhall-ctre/{size}/198180_2.png\",\"created_at\":\"2024-03-04T04:19:31.037Z\",\"cooked\":\"\\u003cp\\u003eAs long as the units are the same, the same feedforward and \\u003cspan class=\\\"abbreviation\\\"\\u003ePID\\u003ctemplate class=\\\"tooltiptext\\\" data-text=\\\"Proportional Integral Derivative\\\"\\u003e\\u003c/template\\u003e\\u003c/span\\u003e values should work with Motion Magic®. If you were just using the Talon FX \\u003ccode\\u003egetPosition()\\u003c/code\\u003e for your measurement, for example, then the position and velocity units are already the same (rotations). However, if you were scaling the Talon FX position by a gear ratio in your robot code, you will want to set the Talon FX \\u003ccode\\u003eSensorToMechanismRatio\\u003c/code\\u003e config to that gear ratio, or otherwise scale down your gains (excluding kS and kG) by the gear ratio.\\u003c/p\\u003e\\n\\u003cp\\u003eYou will also want to make sure output units are the same. If you are currently passing the output of ProfiledPIDController to \\u003ccode\\u003esetVoltage()\\u003c/code\\u003e or a \\u003ccode\\u003eVoltageOut\\u003c/code\\u003e request, then you will want to use \\u003ccode\\u003eMotionMagicVoltage\\u003c/code\\u003e. On the other hand, if you are using \\u003ccode\\u003eset()\\u003c/code\\u003e or a \\u003ccode\\u003eDutyCycleOut\\u003c/code\\u003e request, you will want to use \\u003ccode\\u003eMotionMagicDutyCycle\\u003c/code\\u003e.\\u003c/p\\u003e\\n\\u003cp\\u003eWhile your current \\u003cspan class=\\\"abbreviation\\\"\\u003ePID\\u003ctemplate class=\\\"tooltiptext\\\" data-text=\\\"Proportional Integral Derivative\\\"\\u003e\\u003c/template\\u003e\\u003c/span\\u003e values will work, you can also more likely than not use stronger \\u003cspan class=\\\"abbreviation\\\"\\u003ePID\\u003ctemplate class=\\\"tooltiptext\\\" data-text=\\\"Proportional Integral Derivative\\\"\\u003e\\u003c/template\\u003e\\u003c/span\\u003e values with Motion Magic® because the onboard \\u003cspan class=\\\"abbreviation\\\"\\u003ePID\\u003ctemplate class=\\\"tooltiptext\\\" data-text=\\\"Proportional Integral Derivative\\\"\\u003e\\u003c/template\\u003e\\u003c/span\\u003e runs at 1 kHz. In SysId, you can set the “Controller Period (ms)” to 1 when using onboard \\u003cspan class=\\\"abbreviation\\\"\\u003ePID\\u003ctemplate class=\\\"tooltiptext\\\" data-text=\\\"Proportional Integral Derivative\\\"\\u003e\\u003c/template\\u003e\\u003c/span\\u003e.\\u003c/p\\u003e\\n\\u003cp\\u003eAdditionally, if you find that your feedforward and \\u003cspan class=\\\"abbreviation\\\"\\u003ePID\\u003ctemplate class=\\\"tooltiptext\\\" data-text=\\\"Proportional Integral Derivative\\\"\\u003e\\u003c/template\\u003e\\u003c/span\\u003e values do not work with Motion Magic®, we have an \\u003ca href=\\\"https://github.com/CrossTheRoadElec/Phoenix6-Examples/blob/main/java/PhoenixSysId/src/main/java/frc/robot/subsystems/FlywheelMechanism.java\\\" rel=\\\"noopener nofollow ugc\\\"\\u003eexample\\u003c/a\\u003e of using SysId with our SignalLogger. You can use Tuner X to \\u003ca href=\\\"https://v6.docs.ctr-electronics.com/en/stable/docs/tuner/tools/log-extractor.html\\\" rel=\\\"noopener nofollow ugc\\\"\\u003econvert the resulting hoot files to wpilog\\u003c/a\\u003e for use with SysId. You would select the Talon FX MotorVoltage, Position, and Velocity signals in SysId.\\u003c/p\\u003e\",\"post_number\":5,\"post_type\":1,\"posts_count\":12,\"updated_at\":\"2024-03-04T04:20:09.133Z\",\"reply_count\":0,\"reply_to_post_number\":4,\"quote_count\":0,\"incoming_link_count\":6,\"reads\":108,\"readers_count\":107,\"score\":111.6,\"yours\":false,\"topic_id\":456994,\"topic_slug\":\"motion-profiling-causing-stuttering\",\"display_username\":\"Benjamin Hall\",\"primary_group_name\":\"CTRE\",\"flair_name\":\"CTRE\",\"flair_url\":\"/uploads/default/original/3X/1/b/1bd2b430e1bb6427d1c6504ff6abcd31de851a6d.png\",\"flair_bg_color\":\"\",\"flair_color\":\"\",\"flair_group_id\":57,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"link_counts\":[{\"url\":\"https://v6.docs.ctr-electronics.com/en/stable/docs/tuner/tools/log-extractor.html\",\"internal\":false,\"reflection\":false,\"title\":\"Extracting Signal Logs\",\"clicks\":3},{\"url\":\"https://github.com/CrossTheRoadElec/Phoenix6-Examples/blob/main/java/PhoenixSysId/src/main/java/frc/robot/subsystems/FlywheelMechanism.java\",\"internal\":false,\"reflection\":false,\"title\":\"Phoenix6-Examples/java/PhoenixSysId/src/main/java/frc/robot/subsystems/FlywheelMechanism.java at main · CrossTheRoadElec/Phoenix6-Examples · GitHub\",\"clicks\":2}],\"read\":true,\"user_title\":\"\",\"reply_to_user\":{\"id\":54172,\"username\":\"JaiCodes\",\"name\":\"Jainish Patel\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/jaicodes/{size}/203987_2.png\"},\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":4}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":48146,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"Software Engineering Intern at CTR Electronics\"},\"post_url\":\"/t/motion-profiling-causing-stuttering/456994/5\",\"custom_user_title\":\"Software Engineering Intern at CTR Electronics\",\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":4}],\"current_user_reaction\":null,\"reaction_users_count\":4,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":true,\"topic_accepted_answer\":true},{\"id\":3324008,\"name\":\"Jainish Patel\",\"username\":\"JaiCodes\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/jaicodes/{size}/203987_2.png\",\"created_at\":\"2024-03-05T00:42:58.408Z\",\"cooked\":\"\\u003cp\\u003eWe switched over to Motion Magic and I gotta say, this thing is fast and accurate! When I use \\u003ccode\\u003egetClosedLoopReference()\\u003c/code\\u003e the value is always 14. It does not update the setpoint. The motion magic does follow the new setpoints but the method does not return it. I use it as a StatusSignal and do refresh it. Also is there any way to graph the profile of show individual set points to reach the final goal. This will help us in debug purposes.\\u003c/p\\u003e\",\"post_number\":6,\"post_type\":1,\"posts_count\":12,\"updated_at\":\"2024-03-05T00:42:58.408Z\",\"reply_count\":1,\"reply_to_post_number\":3,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":79,\"readers_count\":78,\"score\":20.8,\"yours\":false,\"topic_id\":456994,\"topic_slug\":\"motion-profiling-causing-stuttering\",\"display_username\":\"Jainish Patel\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"reply_to_user\":{\"id\":48146,\"username\":\"bhall-ctre\",\"name\":\"Benjamin Hall\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/bhall-ctre/{size}/198180_2.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":54172,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"4065 NOP | Programming Lead\"},\"post_url\":\"/t/motion-profiling-causing-stuttering/456994/6\",\"custom_user_title\":\"4065 NOP | Programming Lead\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3324103,\"name\":\"Benjamin Hall\",\"username\":\"bhall-ctre\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/bhall-ctre/{size}/198180_2.png\",\"created_at\":\"2024-03-05T02:21:54.108Z\",\"cooked\":\"\\u003caside class=\\\"quote no-group\\\" data-username=\\\"JaiCodes\\\" data-post=\\\"6\\\" data-topic=\\\"456994\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg loading=\\\"lazy\\\" alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/user_avatar/www.chiefdelphi.com/jaicodes/48/203987_2.png\\\" class=\\\"avatar\\\"\\u003e JaiCodes:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003eWhen I use \\u003ccode\\u003egetClosedLoopReference()\\u003c/code\\u003e the value is always 14. It does not update the setpoint.\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003cp\\u003eMake sure you’re setting the update frequency of that signal if you’re calling \\u003ccode\\u003eoptimizeBusUtilization()\\u003c/code\\u003e in your program. You’ll also want to make sure you’re on the 24.2.0 vendordep, there was an issue in the kickoff release where setting the update frequency of \\u003ccode\\u003eClosedLoop*\\u003c/code\\u003e StatusSignals did not work.\\u003c/p\\u003e\\n\\u003caside class=\\\"quote no-group\\\" data-username=\\\"JaiCodes\\\" data-post=\\\"6\\\" data-topic=\\\"456994\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg loading=\\\"lazy\\\" alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/user_avatar/www.chiefdelphi.com/jaicodes/48/203987_2.png\\\" class=\\\"avatar\\\"\\u003e JaiCodes:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003eAlso is there any way to graph the profile of show individual set points to reach the final goal. This will help us in debug purposes.\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003cp\\u003eYou can plot the ClosedLoopReference and ClosedLoopReferenceSlope parameters in Tuner X. If you’re Pro licensed (free users get a limited set of signals), you can also extract hoot logs from our SignalLogger to wpilog or mcap and plot the signals there.\\u003c/p\\u003e\",\"post_number\":7,\"post_type\":1,\"posts_count\":12,\"updated_at\":\"2024-03-05T02:21:54.108Z\",\"reply_count\":2,\"reply_to_post_number\":6,\"quote_count\":1,\"incoming_link_count\":0,\"reads\":75,\"readers_count\":74,\"score\":40.0,\"yours\":false,\"topic_id\":456994,\"topic_slug\":\"motion-profiling-causing-stuttering\",\"display_username\":\"Benjamin Hall\",\"primary_group_name\":\"CTRE\",\"flair_name\":\"CTRE\",\"flair_url\":\"/uploads/default/original/3X/1/b/1bd2b430e1bb6427d1c6504ff6abcd31de851a6d.png\",\"flair_bg_color\":\"\",\"flair_color\":\"\",\"flair_group_id\":57,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":1}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":48146,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"Software Engineering Intern at CTR Electronics\"},\"post_url\":\"/t/motion-profiling-causing-stuttering/456994/7\",\"custom_user_title\":\"Software Engineering Intern at CTR Electronics\",\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":1}],\"current_user_reaction\":null,\"reaction_users_count\":1,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3324474,\"name\":\"Jainish Patel\",\"username\":\"JaiCodes\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/jaicodes/{size}/203987_2.png\",\"created_at\":\"2024-03-05T15:54:34.235Z\",\"cooked\":\"\\u003cp\\u003eWe also have an elevator and the motion profile of that is also starting to stutter. The units for the feedforward and \\u003cspan class=\\\"abbreviation\\\"\\u003ePID\\u003ctemplate class=\\\"tooltiptext\\\" data-text=\\\"Proportional Integral Derivative\\\"\\u003e\\u003c/template\\u003e\\u003c/span\\u003e is meters. We switched over to Motion Magic and used the same feedforward gains. The minimum rotation unit is 0 and maximum is 33.69. When assigning a setpoint above 0, the Motion Magic doesn’t follow it but when assign the setpoint exactly at 0, it does follow it. What could be the problem? When thing to note is that we are using limit switches to zero out the encoders of the TalonFX and it’s directly plugged into the limit switch ports. I have turned off the \\u003ccode\\u003eForwardLimitEnable\\u003c/code\\u003e and \\u003ccode\\u003eReverseLimitsEnable\\u003c/code\\u003e to false. Do I need to refresh the \\u003ccode\\u003egetClosedLoopReference()\\u003c/code\\u003e StatusSignal just like the single-jointed arm?\\u003c/p\\u003e\",\"post_number\":8,\"post_type\":1,\"posts_count\":12,\"updated_at\":\"2024-03-05T16:03:27.820Z\",\"reply_count\":1,\"reply_to_post_number\":7,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":61,\"readers_count\":60,\"score\":17.2,\"yours\":false,\"topic_id\":456994,\"topic_slug\":\"motion-profiling-causing-stuttering\",\"display_username\":\"Jainish Patel\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":2,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"reply_to_user\":{\"id\":48146,\"username\":\"bhall-ctre\",\"name\":\"Benjamin Hall\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/bhall-ctre/{size}/198180_2.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":54172,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"4065 NOP | Programming Lead\"},\"post_url\":\"/t/motion-profiling-causing-stuttering/456994/8\",\"custom_user_title\":\"4065 NOP | Programming Lead\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3324487,\"name\":\"Jainish Patel\",\"username\":\"JaiCodes\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/jaicodes/{size}/203987_2.png\",\"created_at\":\"2024-03-05T16:04:03.776Z\",\"cooked\":\"\\u003caside class=\\\"quote no-group\\\" data-username=\\\"bhall-ctre\\\" data-post=\\\"7\\\" data-topic=\\\"456994\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg loading=\\\"lazy\\\" alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/user_avatar/www.chiefdelphi.com/bhall-ctre/48/198180_2.png\\\" class=\\\"avatar\\\"\\u003e bhall-ctre:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003eMake sure you’re setting the update frequency of that signal if you’re calling \\u003ccode\\u003eoptimizeBusUtilization()\\u003c/code\\u003e in your program. You’ll also want to make sure you’re on the 24.2.0 vendordep, there was an issue in the kickoff release where setting the update frequency of \\u003ccode\\u003eClosedLoop*\\u003c/code\\u003e StatusSignals did not work.\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003cp\\u003eI did set the update frequency and it still stays at 14.\\u003c/p\\u003e\",\"post_number\":9,\"post_type\":1,\"posts_count\":12,\"updated_at\":\"2024-03-05T16:04:03.776Z\",\"reply_count\":1,\"reply_to_post_number\":7,\"quote_count\":1,\"incoming_link_count\":0,\"reads\":53,\"readers_count\":52,\"score\":15.6,\"yours\":false,\"topic_id\":456994,\"topic_slug\":\"motion-profiling-causing-stuttering\",\"display_username\":\"Jainish Patel\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":54172,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"4065 NOP | Programming Lead\"},\"post_url\":\"/t/motion-profiling-causing-stuttering/456994/9\",\"custom_user_title\":\"4065 NOP | Programming Lead\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3325041,\"name\":\"Benjamin Hall\",\"username\":\"bhall-ctre\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/bhall-ctre/{size}/198180_2.png\",\"created_at\":\"2024-03-05T23:05:41.940Z\",\"cooked\":\"\\u003caside class=\\\"quote no-group\\\" data-username=\\\"JaiCodes\\\" data-post=\\\"8\\\" data-topic=\\\"456994\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg loading=\\\"lazy\\\" alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/user_avatar/www.chiefdelphi.com/jaicodes/48/203987_2.png\\\" class=\\\"avatar\\\"\\u003e JaiCodes:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003eThe units for the feedforward and \\u003cspan class=\\\"abbreviation\\\"\\u003ePID\\u003ctemplate class=\\\"tooltiptext\\\" data-text=\\\"Proportional Integral Derivative\\\"\\u003e\\u003c/template\\u003e\\u003c/span\\u003e is meters. We switched over to Motion Magic and used the same feedforward gains. The minimum rotation unit is 0 and maximum is 33.69.\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003cp\\u003eThis sounds like your units have changed, since Motion Magic® uses rotations after the \\u003ccode\\u003eSensorToMechanismRatio\\u003c/code\\u003e while your previous ProfiledPIDController used meters. You may need to adjust kV, kA, and \\u003cspan class=\\\"abbreviation\\\"\\u003ePID\\u003ctemplate class=\\\"tooltiptext\\\" data-text=\\\"Proportional Integral Derivative\\\"\\u003e\\u003c/template\\u003e\\u003c/span\\u003e values as a result. Your Motion Magic® cruise velocity and acceleration may also be too low if they are currently defined in meters.\\u003c/p\\u003e\\n\\u003caside class=\\\"quote no-group\\\" data-username=\\\"JaiCodes\\\" data-post=\\\"9\\\" data-topic=\\\"456994\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg loading=\\\"lazy\\\" alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/user_avatar/www.chiefdelphi.com/jaicodes/48/203987_2.png\\\" class=\\\"avatar\\\"\\u003e JaiCodes:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003eI did set the update frequency and it still stays at 14.\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003cp\\u003eI’d like to look into this more. How are you refreshing the ClosedLoopReference status signal? Are you just calling \\u003ccode\\u003egetClosedLoopReference().getValue()\\u003c/code\\u003e, or are you caching the signal and manually refreshing? If the latter, are you calling \\u003ccode\\u003erefresh()/waitForUpdate()\\u003c/code\\u003e, or are you doing \\u003ccode\\u003eBaseStatusSignal.refreshAll()/waitForAll()\\u003c/code\\u003e?\\u003c/p\\u003e\",\"post_number\":10,\"post_type\":1,\"posts_count\":12,\"updated_at\":\"2024-03-05T23:05:41.940Z\",\"reply_count\":1,\"reply_to_post_number\":8,\"quote_count\":2,\"incoming_link_count\":1,\"reads\":55,\"readers_count\":54,\"score\":21.0,\"yours\":false,\"topic_id\":456994,\"topic_slug\":\"motion-profiling-causing-stuttering\",\"display_username\":\"Benjamin Hall\",\"primary_group_name\":\"CTRE\",\"flair_name\":\"CTRE\",\"flair_url\":\"/uploads/default/original/3X/1/b/1bd2b430e1bb6427d1c6504ff6abcd31de851a6d.png\",\"flair_bg_color\":\"\",\"flair_color\":\"\",\"flair_group_id\":57,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":48146,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"Software Engineering Intern at CTR Electronics\"},\"post_url\":\"/t/motion-profiling-causing-stuttering/456994/10\",\"custom_user_title\":\"Software Engineering Intern at CTR Electronics\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3325071,\"name\":\"Jainish Patel\",\"username\":\"JaiCodes\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/jaicodes/{size}/203987_2.png\",\"created_at\":\"2024-03-05T23:15:58.662Z\",\"cooked\":\"\\u003cp\\u003eI figured out my \\u003cspan class=\\\"abbreviation\\\"\\u003ePID\\u003ctemplate class=\\\"tooltiptext\\\" data-text=\\\"Proportional Integral Derivative\\\"\\u003e\\u003c/template\\u003e\\u003c/span\\u003e issue with the elevator motor and decided not to use Motion Magic for the time being. I would love to use it for the future though. I’m using the \\u003ccode\\u003eBaseStatusSignal.refershAll()\\u003c/code\\u003e. Ignore my code for the elevator but focus on tilt.\\u003c/p\\u003e\\n\\u003cp\\u003eHere is my code:\\u003c/p\\u003e\\n\\u003cpre data-code-wrap=\\\"java\\\"\\u003e\\u003ccode class=\\\"lang-java\\\"\\u003epackage frc.robot.subsystems.elevator;\\n\\nimport com.ctre.phoenix6.BaseStatusSignal;\\nimport com.ctre.phoenix6.StatusSignal;\\nimport com.ctre.phoenix6.configs.HardwareLimitSwitchConfigs;\\nimport com.ctre.phoenix6.configs.MotorOutputConfigs;\\nimport com.ctre.phoenix6.configs.Slot0Configs;\\nimport com.ctre.phoenix6.configs.TalonFXConfiguration;\\nimport com.ctre.phoenix6.controls.ControlRequest;\\nimport com.ctre.phoenix6.controls.Follower;\\nimport com.ctre.phoenix6.controls.MotionMagicDutyCycle;\\nimport com.ctre.phoenix6.controls.MotionMagicVoltage;\\nimport com.ctre.phoenix6.controls.PositionVoltage;\\nimport com.ctre.phoenix6.controls.VoltageOut;\\nimport com.ctre.phoenix6.hardware.TalonFX;\\nimport com.ctre.phoenix6.signals.ForwardLimitValue;\\nimport com.ctre.phoenix6.signals.InvertedValue;\\nimport com.ctre.phoenix6.signals.NeutralModeValue;\\n\\nimport edu.wpi.first.math.geometry.Rotation2d;\\nimport edu.wpi.first.math.util.Units;\\nimport edu.wpi.first.wpilibj.DigitalInput;\\nimport edu.wpi.first.wpilibj.DutyCycleEncoder;\\nimport frc.robot.Constants;\\n\\npublic class ElevatorIOTalonFX implements ElevatorIO {\\n    TalonFX rightTiltMotor;\\n    TalonFX leftTiltMotor;\\n    TalonFX extensionMotor;\\n\\n    DigitalInput buttonState = new DigitalInput(Constants.ElevatorConstants.neutralModeButton);\\n\\n    private final StatusSignal\\u0026lt;Double\\u0026gt; rightTiltPosRad;\\n    private final StatusSignal\\u0026lt;Double\\u0026gt; rightTiltVelc;\\n    private final StatusSignal\\u0026lt;Double\\u0026gt; rightTiltApplVolts;\\n    private final StatusSignal\\u0026lt;Double\\u0026gt; rightTiltCurrAmp;\\n\\n    private final StatusSignal\\u0026lt;Double\\u0026gt; leftTiltPosRad;\\n    private final StatusSignal\\u0026lt;Double\\u0026gt; leftTiltVelc;\\n    private final StatusSignal\\u0026lt;Double\\u0026gt; leftTiltApplVolts;\\n    private final StatusSignal\\u0026lt;Double\\u0026gt; leftTiltCurrAmp;\\n\\n    private final StatusSignal\\u0026lt;Double\\u0026gt; elePosRad;\\n    private final StatusSignal\\u0026lt;Double\\u0026gt; eleVelc;\\n    private final StatusSignal\\u0026lt;Double\\u0026gt; eleApplVolts;\\n    private final StatusSignal\\u0026lt;Double\\u0026gt; eleCurrAmp;\\n\\n    private final StatusSignal\\u0026lt;Double\\u0026gt; tiltSetpoint;\\n    private final StatusSignal\\u0026lt;Double\\u0026gt; extensionSetpoint;\\n\\n    final MotionMagicVoltage tiltRequest = new MotionMagicVoltage(0);\\n    final MotionMagicDutyCycle extensionRequest = new MotionMagicDutyCycle(0);\\n\\n    boolean isBrake;\\n\\n    public ElevatorIOTalonFX() {\\n        rightTiltMotor = new TalonFX(Constants.ElevatorConstants.rightTiltMotorCANID, \\\"rio\\\");\\n        leftTiltMotor = new TalonFX(Constants.ElevatorConstants.leftTiltMotorCANID, \\\"rio\\\");\\n        extensionMotor = new TalonFX(Constants.ElevatorConstants.extensionMotorCANID, \\\"rio\\\");\\n\\n        leftTiltMotor.setControl(new Follower(rightTiltMotor.getDeviceID(), true));\\n\\n        var commonMotorConfig = new TalonFXConfiguration();\\n        commonMotorConfig.CurrentLimits.StatorCurrentLimit = 50.0;\\n        commonMotorConfig.CurrentLimits.StatorCurrentLimitEnable = true;\\n\\n        rightTiltMotor.getConfigurator().apply(commonMotorConfig);\\n        leftTiltMotor.getConfigurator().apply(commonMotorConfig);\\n        extensionMotor.getConfigurator().apply(commonMotorConfig);\\n\\n        var configClockwise = new MotorOutputConfigs();\\n        configClockwise.Inverted = InvertedValue.Clockwise_Positive;\\n        configClockwise.NeutralMode = NeutralModeValue.Brake;\\n\\n\\n        var configCounterclockwise = new MotorOutputConfigs();\\n\\n        configCounterclockwise.Inverted = InvertedValue.CounterClockwise_Positive;\\n        configCounterclockwise.NeutralMode = NeutralModeValue.Brake;\\n\\n        rightTiltMotor.getConfigurator().apply(configCounterclockwise);\\n        leftTiltMotor.getConfigurator().apply(configClockwise);\\n        extensionMotor.getConfigurator().apply(configCounterclockwise);\\n\\n        var limitSwitchConfig = new HardwareLimitSwitchConfigs();\\n        limitSwitchConfig.ForwardLimitEnable = false;\\n        limitSwitchConfig.ReverseLimitEnable = false;\\n\\n        extensionMotor.getConfigurator().apply(limitSwitchConfig);\\n\\n        var feedbackConfigs = new TalonFXConfiguration();\\n\\n        var slot0config = feedbackConfigs.Slot0;\\n        slot0config.kS = 0.13857;   \\n        slot0config.kG = 0.040253;\\n        slot0config.kV = 0.10339;\\n        slot0config.kA = 0.0058069;\\n        slot0config.kP = 1.75;\\n        slot0config.kI = 0;\\n        slot0config.kD = 0;\\n\\n        var motionMagicConfigs = feedbackConfigs.MotionMagic;\\n        motionMagicConfigs.MotionMagicCruiseVelocity = 94.7;\\n        motionMagicConfigs.MotionMagicAcceleration = 108;\\n        motionMagicConfigs.MotionMagicJerk = 1600;\\n\\n        rightTiltMotor.getConfigurator().apply(feedbackConfigs);\\n        \\n\\n        isBrake = true;\\n\\n        rightTiltPosRad = rightTiltMotor.getRotorPosition();\\n        rightTiltVelc = rightTiltMotor.getVelocity();\\n        rightTiltApplVolts = rightTiltMotor.getMotorVoltage();\\n        rightTiltCurrAmp = rightTiltMotor.getStatorCurrent();\\n\\n        leftTiltPosRad = leftTiltMotor.getPosition();\\n        leftTiltVelc = leftTiltMotor.getVelocity();\\n        leftTiltApplVolts = leftTiltMotor.getMotorVoltage();\\n        leftTiltCurrAmp = leftTiltMotor.getStatorCurrent();\\n\\n        elePosRad = extensionMotor.getPosition();\\n        eleVelc =  extensionMotor.getVelocity();\\n        eleApplVolts = extensionMotor.getMotorVoltage();\\n        eleCurrAmp =  extensionMotor.getStatorCurrent();\\n\\n        tiltSetpoint = rightTiltMotor.getClosedLoopReference();\\n        extensionSetpoint = extensionMotor.getClosedLoopReference();\\n\\n        BaseStatusSignal.setUpdateFrequencyForAll(\\n            50.0,\\n            rightTiltVelc,\\n            rightTiltApplVolts,\\n            rightTiltCurrAmp,\\n            leftTiltPosRad,\\n            leftTiltVelc,\\n            leftTiltApplVolts,\\n            leftTiltCurrAmp,\\n            elePosRad,\\n            eleVelc,\\n            eleApplVolts,\\n            eleCurrAmp\\n        );\\n\\n        BaseStatusSignal.setUpdateFrequencyForAll(100, rightTiltPosRad, tiltSetpoint, extensionSetpoint);\\n\\n        rightTiltMotor.optimizeBusUtilization();\\n        leftTiltMotor.optimizeBusUtilization();\\n        extensionMotor.optimizeBusUtilization();\\n    }\\n\\n    @Override\\n    public void updateInputs(ElevatorIOInputs inputs) {\\n        BaseStatusSignal.refreshAll(\\n            rightTiltVelc,\\n            rightTiltApplVolts,\\n            rightTiltCurrAmp,\\n            leftTiltPosRad,\\n            leftTiltVelc,\\n            leftTiltApplVolts,\\n            leftTiltCurrAmp,\\n            elePosRad,\\n            eleVelc,\\n            eleApplVolts,\\n            eleCurrAmp\\n        );\\n\\n        BaseStatusSignal.refreshAll(rightTiltPosRad, tiltSetpoint, extensionSetpoint);\\n\\n        inputs.absoluteDeg = (rightTiltPosRad.getValueAsDouble() + 2.2222) * 2.42 + -5;\\n        inputs.absoluteVelc = rightTiltPosRad.getValueAsDouble() * 2.42;\\n\\n        inputs.rightTiltPositionRad = rightTiltPosRad.getValueAsDouble();\\n        inputs.rightTiltVelocityRadPerSec = rightTiltVelc.getValueAsDouble();\\n        inputs.rightTiltAppliedVolts = rightTiltApplVolts.getValueAsDouble();\\n        inputs.rightTiltCurrentAmps = rightTiltCurrAmp.getValueAsDouble();\\n\\n        inputs.leftTiltPositionRad = new Rotation2d(Units.degreesToRadians(leftTiltPosRad.getValueAsDouble()));\\n        inputs.leftTiltVelocityRadPerSec = leftTiltVelc.getValueAsDouble();\\n        inputs.leftTiltAppliedVolts = leftTiltApplVolts.getValueAsDouble();\\n        inputs.leftTiltCurrentAmps = leftTiltCurrAmp.getValueAsDouble();\\n\\n        // Negating the value since going up equals negative value when instead it should be positive\\n        inputs.elevatorEncoder = Units.inchesToMeters(elePosRad.getValueAsDouble() * 14.75 / 33.69);\\n        inputs.elevatorPositionRad = new Rotation2d(Units.degreesToRadians(-elePosRad.getValueAsDouble() / 10));\\n        inputs.elevatorVelocityRadPerSec = -eleVelc.getValueAsDouble() / 10; \\n        inputs.elevatorLinearVelocity = 4.5 * (-eleVelc.getValueAsDouble() / 10);\\n\\n        inputs.elevatorLimitReached = extensionMotor.getForwardLimit().getValue() == ForwardLimitValue.ClosedToGround;\\n        inputs.elevatorAppliedVolts = eleApplVolts.getValueAsDouble();\\n        inputs.elevatorCurrentAmps = eleCurrAmp.getValueAsDouble();\\n\\n        inputs.tiltGoal = tiltSetpoint.getValueAsDouble();\\n        inputs.extensionGoal = extensionSetpoint.getValueAsDouble();\\n\\n        // TRUE -- NOT PRESSED, FALSE -- PRESSED\\n        inputs.neturalModeButton = buttonState.get();\\n        inputs.isBrakeMode = isBrake;\\n\\n        inputs.tiltReached = rightTiltMotor.getForwardLimit().getValue() == ForwardLimitValue.ClosedToGround;\\n    } \\n    \\n    \\n\\n    @Override\\n    public void setTiltVoltage(double volts) {\\n        rightTiltMotor.setControl(new VoltageOut(volts));\\n        leftTiltMotor.setControl(new VoltageOut(volts));\\n    }\\n\\n    @Override \\n    public void setElevatorVoltage(double volts) {\\n        extensionMotor.setControl(new VoltageOut(volts));\\n    }\\n\\n    @Override \\n    public void setElevatorCustomControl(ControlRequest request) {\\n        extensionMotor.setControl(request);\\n    }\\n\\n    @Override\\n    public void setExtensionEncoderValue(double value) {\\n        extensionMotor.setPosition(value);\\n    }\\n\\n    @Override\\n    public void runTiltSetpoint(double rotSetpoint) {\\n        rightTiltMotor.setControl(tiltRequest.withPosition(rotSetpoint));\\n        leftTiltMotor.setControl(new Follower(rightTiltMotor.getDeviceID(), true));\\n    }\\n\\n    @Override\\n    public void runElevatorSetpoint(double rotExtension) {\\n        // extensionMotor.setControl(extensionRequest.withPosition(rotExtension));\\n    }\\n\\n    @Override\\n    public void setBrakeMode(boolean state) {\\n        if (state) {\\n            var configClockwise = new MotorOutputConfigs();\\n            configClockwise.Inverted = InvertedValue.Clockwise_Positive;\\n            configClockwise.NeutralMode = NeutralModeValue.Brake;\\n\\n\\n            var configCounterclockwise = new MotorOutputConfigs();\\n\\n            configCounterclockwise.Inverted = InvertedValue.CounterClockwise_Positive;\\n            configCounterclockwise.NeutralMode = NeutralModeValue.Brake;\\n\\n            rightTiltMotor.getConfigurator().apply(configCounterclockwise);\\n            leftTiltMotor.getConfigurator().apply(configClockwise);\\n\\n            extensionMotor.getConfigurator().apply(configCounterclockwise);\\n\\n            isBrake = true;\\n        } else if (state == false) {\\n            var configClockwise = new MotorOutputConfigs();\\n            configClockwise.Inverted = InvertedValue.Clockwise_Positive;\\n            configClockwise.NeutralMode = NeutralModeValue.Coast;\\n\\n\\n            var configCounterclockwise = new MotorOutputConfigs();\\n\\n            configCounterclockwise.Inverted = InvertedValue.CounterClockwise_Positive;\\n            configCounterclockwise.NeutralMode = NeutralModeValue.Coast;\\n\\n            rightTiltMotor.getConfigurator().apply(configCounterclockwise);\\n            leftTiltMotor.getConfigurator().apply(configClockwise);\\n\\n            extensionMotor.getConfigurator().apply(configCounterclockwise);\\n\\n            isBrake = false;\\n        }\\n    }\\n\\n    @Override\\n    public void setTiltMotorEncoderValue(double degrees) {\\n        rightTiltMotor.setPosition(Units.degreesToRotations(degrees) * 133.3333333333333333333);\\n        leftTiltMotor.setPosition(Units.degreesToRotations(degrees) * 133.3333333333333333333);\\n    }\\n}\\n\\n\\u003c/code\\u003e\\u003c/pre\\u003e\",\"post_number\":11,\"post_type\":1,\"posts_count\":12,\"updated_at\":\"2024-03-05T23:15:58.662Z\",\"reply_count\":0,\"reply_to_post_number\":10,\"quote_count\":0,\"incoming_link_count\":1,\"reads\":50,\"readers_count\":49,\"score\":15.0,\"yours\":false,\"topic_id\":456994,\"topic_slug\":\"motion-profiling-causing-stuttering\",\"display_username\":\"Jainish Patel\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"reply_to_user\":{\"id\":48146,\"username\":\"bhall-ctre\",\"name\":\"Benjamin Hall\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/bhall-ctre/{size}/198180_2.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":54172,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"4065 NOP | Programming Lead\"},\"post_url\":\"/t/motion-profiling-causing-stuttering/456994/11\",\"custom_user_title\":\"4065 NOP | Programming Lead\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3548751,\"name\":\"system\",\"username\":\"system\",\"avatar_template\":\"/uploads/default/original/4X/9/3/2/93234578e69f55873c63fc00fe2d0d85f23bce55.png\",\"created_at\":\"2025-03-05T23:16:01.026Z\",\"cooked\":\"\\u003cp\\u003eThis topic was automatically closed 365 days after the last reply. New replies are no longer allowed.\\u003c/p\\u003e\",\"post_number\":12,\"post_type\":3,\"posts_count\":12,\"updated_at\":\"2025-03-05T23:16:01.026Z\",\"reply_count\":0,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":1,\"reads\":4,\"readers_count\":3,\"score\":5.8,\"yours\":false,\"topic_id\":456994,\"topic_slug\":\"motion-profiling-causing-stuttering\",\"display_username\":\"system\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[],\"moderator\":true,\"admin\":true,\"staff\":true,\"user_id\":-1,\"hidden\":false,\"trust_level\":4,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"action_code\":\"autoclosed.enabled\",\"post_url\":\"/t/motion-profiling-causing-stuttering/456994/12\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true}],\"stream\":[3322283,3322589,3322962,3323039,3323058,3324008,3324103,3324474,3324487,3325041,3325071,3548751]},\"timeline_lookup\":[[1,588],[2,587],[6,586],[8,585],[12,220]],\"suggested_topics\":[{\"fancy_title\":\"Using through bore encoder as relative encoder for elevator\",\"id\":496778,\"title\":\"Using through bore encoder as relative encoder for elevator\",\"slug\":\"using-through-bore-encoder-as-relative-encoder-for-elevator\",\"posts_count\":2,\"reply_count\":0,\"highest_post_number\":2,\"image_url\":null,\"created_at\":\"2025-03-24T20:51:40.350Z\",\"last_posted_at\":\"2025-03-25T01:21:50.687Z\",\"bumped\":true,\"bumped_at\":\"2025-03-25T01:21:50.687Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"Solved, I had the encoder in the wrong mode the little switch was on S it needed to be on A\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[\"robot\"],\"tags_descriptions\":{},\"like_count\":0,\"views\":132,\"category_id\":30,\"featured_link\":null,\"has_accepted_answer\":true,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3567663,\"topic_post_liked\":false,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":false,\"topic_post_is_current_users\":null,\"topic_post_number\":2,\"topic_post_user\":{\"id\":74572,\"username\":\"Myles\",\"name\":\"\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/m/779978/{size}.png\"},\"posters\":[{\"extras\":\"latest single\",\"description\":\"Original Poster, Most Recent Poster, Accepted Answer\",\"user\":{\"id\":74572,\"username\":\"Myles\",\"name\":\"\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/m/779978/{size}.png\",\"trust_level\":2}}]},{\"fancy_title\":\"Reef Alignment in Code\",\"id\":482630,\"title\":\"Reef Alignment in Code\",\"slug\":\"reef-alignment-in-code\",\"posts_count\":6,\"reply_count\":2,\"highest_post_number\":6,\"image_url\":null,\"created_at\":\"2025-01-19T06:40:35.224Z\",\"last_posted_at\":\"2025-01-19T18:08:53.160Z\",\"bumped\":true,\"bumped_at\":\"2025-01-19T18:08:53.160Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"You can use Commands.defer() to create the command on schedule. /** * decides which reef to align and return the desired robot pose for auto alignment **/ public Pose2d decideAutoAlignmentTa…\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[\"java\"],\"tags_descriptions\":{},\"like_count\":6,\"views\":799,\"category_id\":30,\"featured_link\":null,\"has_accepted_answer\":true,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3487359,\"topic_post_liked\":false,\"topic_post_like_count\":3,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":true,\"topic_post_is_current_users\":null,\"topic_post_number\":3,\"topic_post_user\":{\"id\":60033,\"username\":\"catrix\",\"name\":\"sam liu\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/c/dbc845/{size}.png\"},\"posters\":[{\"extras\":null,\"description\":\"Original Poster\",\"user\":{\"id\":61960,\"username\":\"Wihy\",\"name\":\"Wihy\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/wihy/{size}/225659_2.png\",\"trust_level\":2}},{\"extras\":null,\"description\":\"Frequent Poster, Accepted Answer\",\"user\":{\"id\":60033,\"username\":\"catrix\",\"name\":\"sam liu\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/c/dbc845/{size}.png\",\"trust_level\":2}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":53032,\"username\":\"Traptricker\",\"name\":\"Jackson Elia\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/traptricker/{size}/215403_2.png\",\"trust_level\":2}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":49147,\"username\":\"CarvalhoJeo\",\"name\":\"Luca Carvalho\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/carvalhojeo/{size}/249007_2.png\",\"trust_level\":2}},{\"extras\":\"latest\",\"description\":\"Most Recent Poster\",\"user\":{\"id\":50684,\"username\":\"crueter\",\"name\":\"\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/crueter/{size}/258043_2.png\",\"trust_level\":2}}]},{\"fancy_title\":\"Motion Magic Voltage Issue on Elevator – Help Needed\",\"id\":492517,\"title\":\"Motion Magic Voltage Issue on Elevator – Help Needed\",\"slug\":\"motion-magic-voltage-issue-on-elevator-help-needed\",\"posts_count\":5,\"reply_count\":3,\"highest_post_number\":5,\"image_url\":null,\"created_at\":\"2025-02-20T23:50:30.818Z\",\"last_posted_at\":\"2025-02-21T16:24:58.680Z\",\"bumped\":true,\"bumped_at\":\"2025-02-21T16:24:58.680Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"Hello everyone! I am the lead programmer for Team 2491 NoMythic, and this year we are running an elevator with two end an algae end effector and a coral end effector. Elevator Setup Stru…\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[\"pid\",\"elevator\",\"phoenix\",\"phoenix-6\",\"motionmagic\"],\"tags_descriptions\":{},\"like_count\":3,\"views\":210,\"category_id\":30,\"featured_link\":null,\"has_accepted_answer\":false,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3534832,\"topic_post_liked\":false,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":false,\"topic_post_is_current_users\":null,\"topic_post_number\":1,\"topic_post_user\":{\"id\":73641,\"username\":\"rflood\",\"name\":\"Rowan Flood\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/r/7bcc69/{size}.png\"},\"posters\":[{\"extras\":null,\"description\":\"Original Poster\",\"user\":{\"id\":73641,\"username\":\"rflood\",\"name\":\"Rowan Flood\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/r/7bcc69/{size}.png\",\"trust_level\":1}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":12381,\"username\":\"Oblarg\",\"name\":\"Eli Barnett\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/oblarg/{size}/161674_2.png\",\"trust_level\":2}},{\"extras\":\"latest\",\"description\":\"Most Recent Poster\",\"user\":{\"id\":36833,\"username\":\"chauser\",\"name\":\"Carl Hauser\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/c/a587f6/{size}.png\",\"trust_level\":2}}]},{\"fancy_title\":\"Limelight 3 restarting periodically\",\"id\":484423,\"title\":\"Limelight 3 restarting periodically\",\"slug\":\"limelight-3-restarting-periodically\",\"posts_count\":7,\"reply_count\":4,\"highest_post_number\":8,\"image_url\":null,\"created_at\":\"2025-01-31T03:02:10.843Z\",\"last_posted_at\":\"2025-02-01T19:05:58.972Z\",\"bumped\":true,\"bumped_at\":\"2025-02-01T19:05:58.972Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"plugging the Limelight 3 to the 12V 2A slot on the VRM worked! The limelight now works flawlessly. Thank you everyone for your help!\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[\"limelight\"],\"tags_descriptions\":{},\"like_count\":1,\"views\":209,\"category_id\":30,\"featured_link\":null,\"has_accepted_answer\":true,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3499144,\"topic_post_liked\":false,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":false,\"topic_post_is_current_users\":null,\"topic_post_number\":8,\"topic_post_user\":{\"id\":64852,\"username\":\"Mehmet1\",\"name\":\"9016a\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/mehmet1/{size}/238645_2.png\"},\"posters\":[{\"extras\":\"latest\",\"description\":\"Original Poster, Most Recent Poster, Accepted Answer\",\"user\":{\"id\":64852,\"username\":\"Mehmet1\",\"name\":\"9016a\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/mehmet1/{size}/238645_2.png\",\"trust_level\":2}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":8002,\"username\":\"Akash_Rastogi\",\"name\":\"\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/akash_rastogi/{size}/169937_2.png\",\"trust_level\":2}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":65,\"username\":\"Joe_Ross\",\"name\":\"Joe Ross\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/joe_ross/{size}/37_2.png\",\"moderator\":true,\"trust_level\":4}}]},{\"fancy_title\":\"Exploring the use of an Oak D lite and Spectacular AI for localization\",\"id\":498538,\"title\":\"Exploring the use of an Oak D lite and Spectacular AI for localization\",\"slug\":\"exploring-the-use-of-an-oak-d-lite-and-spectacular-ai-for-localization\",\"posts_count\":37,\"reply_count\":23,\"highest_post_number\":37,\"image_url\":null,\"created_at\":\"2025-04-09T03:12:17.772Z\",\"last_posted_at\":\"2025-05-08T02:40:47.446Z\",\"bumped\":true,\"bumped_at\":\"2025-05-08T06:20:27.217Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"Recently, while looking in the Questnav Thread, I saw a post by @viggy96 suggesting the use of an Oak d camera with the spectacular ai tracking suite as a potential alternative to Questnav. This is a…\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[\"vision\",\"localization\"],\"tags_descriptions\":{},\"like_count\":31,\"views\":1724,\"category_id\":30,\"featured_link\":null,\"has_accepted_answer\":false,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3584803,\"topic_post_liked\":false,\"topic_post_like_count\":4,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":true,\"topic_post_is_current_users\":null,\"topic_post_number\":1,\"topic_post_user\":{\"id\":62239,\"username\":\"dragonblade316\",\"name\":\"Teddy\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/dragonblade316/{size}/211424_2.png\"},\"posters\":[{\"extras\":\"latest\",\"description\":\"Original Poster, Most Recent Poster\",\"user\":{\"id\":62239,\"username\":\"dragonblade316\",\"name\":\"Teddy\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/dragonblade316/{size}/211424_2.png\",\"trust_level\":2}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":12790,\"username\":\"rahilm\",\"name\":\"rahilm\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/r/d9b06d/{size}.png\",\"trust_level\":2}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":63359,\"username\":\"predobrega\",\"name\":\"Pedro Braga\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/predobrega/{size}/211207_2.png\",\"trust_level\":2}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":24613,\"username\":\"viggy96\",\"name\":\"viggy96\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/viggy96/{size}/252784_2.png\",\"trust_level\":2}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":63643,\"username\":\"taciturnaxolotl\",\"name\":\"kieran\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/taciturnaxolotl/{size}/240907_2.png\",\"trust_level\":2}}]}],\"tags\":[\"talon\"],\"tags_descriptions\":{},\"fancy_title\":\"Motion Profiling Causing Stuttering\",\"id\":456994,\"title\":\"Motion Profiling Causing Stuttering\",\"posts_count\":12,\"created_at\":\"2024-03-03T00:19:06.428Z\",\"views\":702,\"reply_count\":9,\"like_count\":12,\"last_posted_at\":\"2025-03-05T23:16:01.026Z\",\"visible\":true,\"closed\":true,\"archived\":false,\"has_summary\":false,\"archetype\":\"regular\",\"slug\":\"motion-profiling-causing-stuttering\",\"category_id\":30,\"word_count\":2439,\"deleted_at\":null,\"user_id\":54172,\"featured_link\":null,\"pinned_globally\":false,\"pinned_at\":null,\"pinned_until\":null,\"image_url\":\"https://www.chiefdelphi.com/uploads/default/original/3X/8/c/8c25a9c2678ed62f2d3030c865cb5cf63effbdd9.png\",\"slow_mode_seconds\":0,\"draft\":null,\"draft_key\":\"topic_456994\",\"draft_sequence\":null,\"unpinned\":null,\"pinned\":false,\"current_post_number\":1,\"highest_post_number\":12,\"deleted_by\":null,\"actions_summary\":[{\"id\":4,\"count\":0,\"hidden\":false,\"can_act\":false},{\"id\":8,\"count\":0,\"hidden\":false,\"can_act\":false},{\"id\":10,\"count\":0,\"hidden\":false,\"can_act\":false},{\"id\":7,\"count\":0,\"hidden\":false,\"can_act\":false}],\"chunk_size\":20,\"bookmarked\":false,\"topic_timer\":null,\"message_bus_last_id\":0,\"participant_count\":2,\"show_read_indicator\":false,\"thumbnails\":[{\"max_width\":null,\"max_height\":null,\"width\":719,\"height\":377,\"url\":\"https://www.chiefdelphi.com/uploads/default/original/3X/8/c/8c25a9c2678ed62f2d3030c865cb5cf63effbdd9.png\"}],\"slow_mode_enabled_until\":null,\"valid_reactions\":[\"heart\",\"laughing\",\"point_up\",\"+1\",\"-1\",\"100\",\"open_mouth\",\"cry\",\"question\",\"thinking\",\"call_me_hand\",\"hugs\",\"angry\"],\"accepted_answer\":{\"post_number\":5,\"username\":\"bhall-ctre\",\"name\":null,\"excerpt\":\"As long as the units are the same, the same feedforward and PID values should work with Motion Magic®. If you were just using the Talon FX getPosition() for your measurement, for example, then the position and velocity units are already the same (rotations). However, if you were scaling the Talon FX\\u0026hellip;\",\"accepter_name\":null},\"user_chosen_thumbnail_url\":null,\"sidecar_installed\":true,\"can_vote\":false,\"vote_count\":0,\"user_voted\":false,\"discourse_zendesk_plugin_zendesk_id\":null,\"discourse_zendesk_plugin_zendesk_url\":\"https://your-url.zendesk.com/agent/tickets/\",\"details\":{\"can_edit\":false,\"notification_level\":1,\"participants\":[{\"id\":54172,\"username\":\"JaiCodes\",\"name\":\"Jainish Patel\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/jaicodes/{size}/203987_2.png\",\"post_count\":7,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":48146,\"username\":\"bhall-ctre\",\"name\":\"Benjamin Hall\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/bhall-ctre/{size}/198180_2.png\",\"post_count\":4,\"primary_group_name\":\"CTRE\",\"flair_name\":\"CTRE\",\"flair_url\":\"/uploads/default/original/3X/1/b/1bd2b430e1bb6427d1c6504ff6abcd31de851a6d.png\",\"flair_color\":\"\",\"flair_bg_color\":\"\",\"flair_group_id\":57,\"trust_level\":2}],\"created_by\":{\"id\":54172,\"username\":\"JaiCodes\",\"name\":\"Jainish Patel\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/jaicodes/{size}/203987_2.png\"},\"last_poster\":{\"id\":-1,\"username\":\"system\",\"name\":\"system\",\"avatar_template\":\"/uploads/default/original/4X/9/3/2/93234578e69f55873c63fc00fe2d0d85f23bce55.png\"},\"links\":[{\"url\":\"https://drive.google.com/file/d/1V1CbQt4mwWHPlKoHshDAdsjcSyzXIZhZ/view?usp=sharing\",\"title\":\"IMG_5001.mov - Google Drive\",\"internal\":false,\"attachment\":false,\"reflection\":false,\"clicks\":15,\"user_id\":54172,\"domain\":\"drive.google.com\",\"root_domain\":\"google.com\"},{\"url\":\"https://v6.docs.ctr-electronics.com/en/stable/docs/api-reference/device-specific/talonfx/motion-magic.html#using-motion-magic-in-api\",\"title\":\"Motion Magic® Controls\",\"internal\":false,\"attachment\":false,\"reflection\":false,\"clicks\":15,\"user_id\":48146,\"domain\":\"v6.docs.ctr-electronics.com\",\"root_domain\":\"ctr-electronics.com\"},{\"url\":\"https://v6.docs.ctr-electronics.com/en/stable/docs/tuner/tools/log-extractor.html\",\"title\":\"Extracting Signal Logs\",\"internal\":false,\"attachment\":false,\"reflection\":false,\"clicks\":3,\"user_id\":48146,\"domain\":\"v6.docs.ctr-electronics.com\",\"root_domain\":\"ctr-electronics.com\"},{\"url\":\"https://github.com/CrossTheRoadElec/Phoenix6-Examples/blob/main/java/PhoenixSysId/src/main/java/frc/robot/subsystems/FlywheelMechanism.java\",\"title\":\"Phoenix6-Examples/java/PhoenixSysId/src/main/java/frc/robot/subsystems/FlywheelMechanism.java at main · CrossTheRoadElec/Phoenix6-Examples · GitHub\",\"internal\":false,\"attachment\":false,\"reflection\":false,\"clicks\":2,\"user_id\":48146,\"domain\":\"github.com\",\"root_domain\":\"github.com\"}]},\"bookmarks\":[]}"}
