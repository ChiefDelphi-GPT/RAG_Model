{"data":"{\"post_stream\":{\"posts\":[{\"id\":3296012,\"name\":null,\"username\":\"Raven_Robotics\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/raven_robotics/{size}/184532_2.png\",\"created_at\":\"2024-01-27T21:25:08.165Z\",\"cooked\":\"\\u003cp\\u003eOur robot drives as intended when the target angle is less than 90 degrees. When near the 90 degree mark (when the optimization would kick in) the wheels jitter rapidly a couple times before righting themselves. Typically, only one or two jitter at a time. Removing the optimize function removes the jitters (but is obviously not ideal). We’ve tried messing with the \\u003cspan class=\\\"abbreviation\\\"\\u003ePID\\u003ctemplate class=\\\"tooltiptext\\\" data-text=\\\"Proportional Integral Derivative\\\"\\u003e\\u003c/template\\u003e\\u003c/span\\u003e values, and while the problem is less pronounced at very low speeds, it is still present.\\u003c/p\\u003e\\n\\u003cp\\u003eWe are using a Through Bore Encoder that is plugged into the top of the motor controller. Any help in resolving this issue would be greatly appreciated.\\u003c/p\\u003e\\n\\u003cp\\u003eSwerve Module:\\u003c/p\\u003e\\n\\u003cpre\\u003e\\u003ccode class=\\\"lang-auto\\\"\\u003e  public void setDesiredState(SwerveModuleState desiredState) {\\n    // Apply chassis angular offset to the desired state.\\n    SwerveModuleState correctedDesiredState = new SwerveModuleState();\\n    correctedDesiredState.speedMetersPerSecond = desiredState.speedMetersPerSecond;\\n    correctedDesiredState.angle = desiredState.angle.plus(Rotation2d.fromRadians(m_chassisAngularOffset));\\n\\n    // Optimize the reference state to avoid spinning further than 90 degrees.\\n    SwerveModuleState optimizedDesiredState = SwerveModuleState.optimize(correctedDesiredState,\\n        new Rotation2d(m_turningEncoder.getPosition()));\\n\\n    System.out.println(\\\"Desired State - \\\" + optimizedDesiredState);\\n\\n    // Command driving and turning SPARKS MAX towards their respective setpoints.\\n    m_drivingPIDController.setReference(optimizedDesiredState.speedMetersPerSecond, CANSparkMax.ControlType.kVelocity);\\n    m_turningPIDController.setReference(optimizedDesiredState.angle.getRadians(), CANSparkMax.ControlType.kPosition);\\n\\n    m_desiredState = desiredState;\\n  }\\n\\u003c/code\\u003e\\u003c/pre\\u003e\\n\\u003cp\\u003eConstants:\\u003c/p\\u003e\\n\\u003cpre\\u003e\\u003ccode class=\\\"lang-auto\\\"\\u003e\\n    public static final double kDrivingEncoderPositionFactor = (WHEEL_DIAMETER_METERS * Math.PI)\\n        / DRIVING_MOTOR_REDUCTION; // meters\\n    public static final double kDrivingEncoderVelocityFactor = ((WHEEL_DIAMETER_METERS * Math.PI)\\n        / DRIVING_MOTOR_REDUCTION) / 60.0; // meters per second\\n\\n    public static final double kTurningEncoderPositionFactor = (2 * Math.PI); // radians\\n    public static final double kTurningEncoderVelocityFactor = (2 * Math.PI) / 60.0; // radians per second\\n\\n    public static final double kTurningEncoderPositionPIDMinInput = 0; // radians\\n    public static final double kTurningEncoderPositionPIDMaxInput = 2 * Math.PI; // radians\\n\\n    public static final double P_MODULE_TURNING_CONTROLLER = 0.1;\\n\\n    public static final double P_MODULE_DRIVE_CONTROLLER = 0.2;\\n\\u003c/code\\u003e\\u003c/pre\\u003e\",\"post_number\":1,\"post_type\":1,\"posts_count\":9,\"updated_at\":\"2024-01-27T21:25:08.165Z\",\"reply_count\":0,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":336,\"reads\":142,\"readers_count\":141,\"score\":1708.4,\"yours\":false,\"topic_id\":452323,\"topic_slug\":\"swerve-drive-optimization-jittering\",\"display_username\":null,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":null,\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":57040,\"hidden\":false,\"trust_level\":1,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"post_url\":\"/t/swerve-drive-optimization-jittering/452323/1\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true,\"can_vote\":false},{\"id\":3296357,\"name\":\"\",\"username\":\"rtsledge\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/r/db5fbb/{size}.png\",\"created_at\":\"2024-01-28T13:28:50.776Z\",\"cooked\":\"\\u003cp\\u003eWhat type of motor and motor controller combo?\\u003c/p\\u003e\\n\\u003cp\\u003eAnd which type of swerve module?\\u003c/p\\u003e\\n\\u003cp\\u003eAnd could post your constructor code so we can see how everything is being initialized?\\u003c/p\\u003e\",\"post_number\":2,\"post_type\":1,\"posts_count\":9,\"updated_at\":\"2024-01-28T14:34:36.609Z\",\"reply_count\":2,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":106,\"readers_count\":105,\"score\":31.2,\"yours\":false,\"topic_id\":452323,\"topic_slug\":\"swerve-drive-optimization-jittering\",\"display_username\":\"\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":3,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":null,\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":63687,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"post_url\":\"/t/swerve-drive-optimization-jittering/452323/2\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3296359,\"name\":\"Daniel C.\",\"username\":\"Daniel1464\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/d/6bbea6/{size}.png\",\"created_at\":\"2024-01-28T13:32:24.599Z\",\"cooked\":\"\\u003cp\\u003eI would presume that they are using spark maxes + rev encoders because of of the method calls.\\u003c/p\\u003e\",\"post_number\":3,\"post_type\":1,\"posts_count\":9,\"updated_at\":\"2024-01-28T13:32:24.599Z\",\"reply_count\":1,\"reply_to_post_number\":2,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":103,\"readers_count\":102,\"score\":25.6,\"yours\":false,\"topic_id\":452323,\"topic_slug\":\"swerve-drive-optimization-jittering\",\"display_username\":\"Daniel C.\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":null,\"reply_to_user\":{\"id\":63687,\"username\":\"rtsledge\",\"name\":\"\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/r/db5fbb/{size}.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":56324,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"post_url\":\"/t/swerve-drive-optimization-jittering/452323/3\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3296362,\"name\":\"\",\"username\":\"rtsledge\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/r/db5fbb/{size}.png\",\"created_at\":\"2024-01-28T13:42:32.496Z\",\"cooked\":\"\\u003cp\\u003eagreed, but you know what they say about assumptions…… \\u003cimg src=\\\"https://www.chiefdelphi.com/images/emoji/google/grin.png?v=12\\\" title=\\\":grin:\\\" class=\\\"emoji\\\" alt=\\\":grin:\\\" loading=\\\"lazy\\\" width=\\\"20\\\" height=\\\"20\\\"\\u003e\\u003c/p\\u003e\",\"post_number\":4,\"post_type\":1,\"posts_count\":9,\"updated_at\":\"2024-01-28T13:42:32.496Z\",\"reply_count\":0,\"reply_to_post_number\":3,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":101,\"readers_count\":100,\"score\":20.2,\"yours\":false,\"topic_id\":452323,\"topic_slug\":\"swerve-drive-optimization-jittering\",\"display_username\":\"\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":null,\"reply_to_user\":{\"id\":56324,\"username\":\"Daniel1464\",\"name\":\"Daniel C.\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/d/6bbea6/{size}.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":63687,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"post_url\":\"/t/swerve-drive-optimization-jittering/452323/4\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3296373,\"name\":\"Yishai Levy\",\"username\":\"levyishai\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/levyishai/{size}/264719_2.png\",\"created_at\":\"2024-01-28T14:30:48.230Z\",\"cooked\":\"\\u003cp\\u003eI would assume it is one of the following:\\u003c/p\\u003e\\n\\u003col\\u003e\\n\\u003cli\\u003eSomething wrong with the offsets\\u003c/li\\u003e\\n\\u003cli\\u003eThe encoder doesn’t return the position in radians\\u003cbr\\u003e\\nProbably the latter\\u003c/li\\u003e\\n\\u003c/ol\\u003e\",\"post_number\":5,\"post_type\":1,\"posts_count\":9,\"updated_at\":\"2024-01-28T14:37:52.291Z\",\"reply_count\":0,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":4,\"reads\":89,\"readers_count\":88,\"score\":37.8,\"yours\":false,\"topic_id\":452323,\"topic_slug\":\"swerve-drive-optimization-jittering\",\"display_username\":\"Yishai Levy\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":2,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":57809,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"Team Captain, Programming Lead \\u0026 Operator\"},\"post_url\":\"/t/swerve-drive-optimization-jittering/452323/5\",\"custom_user_title\":\"Team Captain, Programming Lead \\u0026 Operator\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3296374,\"name\":\"Kevin S\",\"username\":\"Kevin_S\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/k/cc9497/{size}.png\",\"created_at\":\"2024-01-28T14:30:57.168Z\",\"cooked\":\"\\u003cp\\u003eMy guess is that you are running into problems where either the sensor is not giving you perfect values or if you are manually driving, the joystick is not giving you a perfect value, and that is leading to the shortest path flip flopping.\\u003c/p\\u003e\\n\\u003cp\\u003eYou could possibly add something that looks at the current velocity of the turning motor, and then bias the code to prefer continuing in one direction when the desired state is approximately 90 degrees.\\u003c/p\\u003e\\n\\u003cp\\u003eIf you really wanted to be fancy, you could actually take into consideration the angular momentum for the module, and figure out which direction to turn needs the least energy to get to your desired state.\\u003c/p\\u003e\\n\\u003cp\\u003eIf you wanted to test this theory, you could just always force the motors to turn in the positive direction when near 90 degrees (this might actually fix your stated issue as well).\\u003c/p\\u003e\",\"post_number\":6,\"post_type\":1,\"posts_count\":9,\"updated_at\":\"2024-01-28T14:34:25.018Z\",\"reply_count\":0,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":1,\"reads\":85,\"readers_count\":84,\"score\":22.0,\"yours\":false,\"topic_id\":452323,\"topic_slug\":\"swerve-drive-optimization-jittering\",\"display_username\":\"Kevin S\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":17080,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"post_url\":\"/t/swerve-drive-optimization-jittering/452323/6\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3296425,\"name\":null,\"username\":\"Raven_Robotics\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/raven_robotics/{size}/184532_2.png\",\"created_at\":\"2024-01-28T16:38:47.493Z\",\"cooked\":\"\\u003cp\\u003eWe are using a \\u003ca href=\\\"https://www.revrobotics.com/rev-21-3005/\\\" rel=\\\"noopener nofollow ugc\\\"\\u003eRevRobotics ion\\u003c/a\\u003e for our swerve module and a SparkMax as our motor controller.\\u003c/p\\u003e\\n\\u003cp\\u003eHere’s the constructor:\\u003c/p\\u003e\\n\\u003cpre\\u003e\\u003ccode class=\\\"lang-auto\\\"\\u003e/**\\n   * Constructs a MAXSwerveModule and configures the driving and turning motor,\\n   * encoder, and PID controller. This configuration is specific to the REV\\n   * MAXSwerve Module built with NEOs, SPARKS MAX, and a Through Bore\\n   * Encoder.\\n   */\\n  public SwerveModule(int drivingCANId, int turningCANId, double chassisAngularOffset, boolean isReversed) {\\n    m_drivingSparkMax = new CANSparkMax(drivingCANId, MotorType.kBrushless);\\n    m_turningSparkMax = new CANSparkMax(turningCANId, MotorType.kBrushless);\\n\\n   // m_turningSparkMax = new CANSparkMax(0, MotorType.kBrushless);\\n\\n    // Factory reset, so we get the SPARKS MAX to a known state before configuring\\n    // them. This is useful in case a SPARK MAX is swapped out.\\n    m_drivingSparkMax.restoreFactoryDefaults();\\n    m_turningSparkMax.restoreFactoryDefaults();\\n\\n    // Setup encoders and PID controllers for the driving and turning SPARKS MAX.\\n    m_drivingEncoder = m_drivingSparkMax.getEncoder();\\n    m_turningEncoder = m_turningSparkMax.getAbsoluteEncoder(Type.kDutyCycle);\\n    m_drivingPIDController = m_drivingSparkMax.getPIDController();\\n    m_turningPIDController = m_turningSparkMax.getPIDController();\\n    m_drivingPIDController.setFeedbackDevice(m_drivingEncoder);\\n    m_turningPIDController.setFeedbackDevice(m_turningEncoder);\\n\\n    // Apply position and velocity conversion factors for the driving encoder. The\\n    // native units for position and velocity are rotations and RPM, respectively,\\n    // but we want meters and meters per second to use with WPILib's swerve APIs.\\n    m_drivingEncoder.setPositionConversionFactor(ModuleConstants.kDrivingEncoderPositionFactor);\\n    m_drivingEncoder.setVelocityConversionFactor(ModuleConstants.kDrivingEncoderVelocityFactor);\\n\\n    // Apply position and velocity conversion factors for the turning encoder. We\\n    // want these in radians and radians per second to use with WPILib's swerve\\n    // APIs.\\n    m_turningEncoder.setPositionConversionFactor(ModuleConstants.kTurningEncoderPositionFactor);\\n    m_turningEncoder.setVelocityConversionFactor(ModuleConstants.kTurningEncoderVelocityFactor);\\n\\n    // Invert the turning encoder, since the output shaft rotates in the opposite direction of\\n    // the steering motor in the MAXSwerve Module.\\n    if (isReversed)\\n    {\\n      m_turningEncoder.setInverted(true);\\n    }\\n    \\n    // Enable PID wrap around for the turning motor. This will allow the PID\\n    // controller to go through 0 to get to the setpoint i.e. going from 350 degrees\\n    // to 10 degrees will go through 0 rather than the other direction which is a\\n    // longer route.\\n    m_turningPIDController.setPositionPIDWrappingEnabled(true);\\n    m_turningPIDController.setPositionPIDWrappingMinInput(ModuleConstants.kTurningEncoderPositionPIDMinInput); // Min 0\\n    m_turningPIDController.setPositionPIDWrappingMaxInput(ModuleConstants.kTurningEncoderPositionPIDMaxInput); // Max 2 * PI\\n    \\n\\n    // Set the PID gains for the driving motor. Note these are example gains, and you\\n    // may need to tune them for your own robot!\\n    m_drivingPIDController.setP(ModuleConstants.P_MODULE_DRIVE_CONTROLLER);\\n    m_drivingPIDController.setI(0);\\n    m_drivingPIDController.setD(0);\\n    // m_drivingPIDController.setFF(1 / ModuleConstants.kDriveWheelFreeSpeedRps); // FF Value - 0.20875544852568829440720072304831\\n    m_drivingPIDController.setOutputRange(-1, 1);\\n\\n    // Set the PID gains for the turning motor. Note these are example gains, and you\\n    // may need to tune them for your own robot!\\n    m_turningPIDController.setP(ModuleConstants.P_MODULE_TURNING_CONTROLLER);\\n    m_turningPIDController.setI(0);\\n    m_turningPIDController.setD(0);\\n    // m_turningPIDController.setFF(1 / ModuleConstants.kDriveWheelFreeSpeedRps);\\n    m_turningPIDController.setOutputRange(-1, 1);\\n\\n    m_drivingSparkMax.setIdleMode(IdleMode.kCoast);\\n    m_turningSparkMax.setIdleMode(IdleMode.kCoast);\\n    m_drivingSparkMax.setSmartCurrentLimit(60);\\n    m_turningSparkMax.setSmartCurrentLimit(20);\\n\\n    // Save the SPARK MAX configurations. If a SPARK MAX browns out during\\n    // operation, it will maintain the above configurations.\\n    m_drivingSparkMax.burnFlash();\\n    m_turningSparkMax.burnFlash();\\n\\n    m_chassisAngularOffset = chassisAngularOffset;\\n    m_desiredState.angle = new Rotation2d(m_turningEncoder.getPosition());\\n    m_drivingEncoder.setPosition(0);\\n  }\\n\\n\\u003c/code\\u003e\\u003c/pre\\u003e\",\"post_number\":7,\"post_type\":1,\"posts_count\":9,\"updated_at\":\"2024-01-28T16:38:47.493Z\",\"reply_count\":1,\"reply_to_post_number\":2,\"quote_count\":0,\"incoming_link_count\":1,\"reads\":67,\"readers_count\":66,\"score\":23.4,\"yours\":false,\"topic_id\":452323,\"topic_slug\":\"swerve-drive-optimization-jittering\",\"display_username\":null,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"link_counts\":[{\"url\":\"https://www.revrobotics.com/rev-21-3005/\",\"internal\":false,\"reflection\":false,\"title\":\"3in MAXSwerve Module - REV Robotics\",\"clicks\":3}],\"read\":true,\"user_title\":null,\"reply_to_user\":{\"id\":63687,\"username\":\"rtsledge\",\"name\":\"\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/r/db5fbb/{size}.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":57040,\"hidden\":false,\"trust_level\":1,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"post_url\":\"/t/swerve-drive-optimization-jittering/452323/7\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true},{\"id\":3296484,\"name\":\"\",\"username\":\"rtsledge\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/r/db5fbb/{size}.png\",\"created_at\":\"2024-01-28T18:16:06.412Z\",\"cooked\":\"\\u003cp\\u003eOur team started from this code as well and have it working.  I compared with ours + original from Rev and found a few differences…\\u003c/p\\u003e\\n\\u003col\\u003e\\n\\u003cli\\u003eFor idle mode (.setIdleMode()) we are using Brake instead of coast.\\u003c/li\\u003e\\n\\u003c/ol\\u003e\\n\\u003cpre\\u003e\\u003ccode class=\\\"lang-auto\\\"\\u003e    m_drivingSparkMax.setIdleMode(IdleMode.kBrake);\\n    m_turningSparkMax.setIdleMode(IdleMode.kBrake);\\n\\u003c/code\\u003e\\u003c/pre\\u003e\\n\\u003col start=\\\"2\\\"\\u003e\\n\\u003cli\\u003e\\n\\u003cp\\u003eWe are using a P value for the turning motors of 0.75.  I realize you probably reduced from 1 to try to tune the \\u003cspan class=\\\"abbreviation\\\"\\u003ePID\\u003ctemplate class=\\\"tooltiptext\\\" data-text=\\\"Proportional Integral Derivative\\\"\\u003e\\u003c/template\\u003e\\u003c/span\\u003e.  However, I feel like 0.1 is pretty small.\\u003c/p\\u003e\\n\\u003c/li\\u003e\\n\\u003cli\\u003e\\n\\u003cp\\u003eThe default periodic status rate for DutyCycle encoders plugged into the sparkmax is 200ms.   Your control loop is probably running at 20ms.   The data the optimize function is using when you call m_turningEncoder.getPosition() is updating at this rate.   Having the data be less stale with optimize might help as well.?.?\\u003c/p\\u003e\\n\\u003c/li\\u003e\\n\\u003c/ol\\u003e\\n\\u003cp\\u003e\\u003cdiv class=\\\"lightbox-wrapper\\\"\\u003e\\u003ca class=\\\"lightbox\\\" href=\\\"https://www.chiefdelphi.com/uploads/default/original/3X/7/5/759665628ad64d8c6615a9ed49dffd8e5fd312a0.png\\\" data-download-href=\\\"https://www.chiefdelphi.com/uploads/default/759665628ad64d8c6615a9ed49dffd8e5fd312a0\\\" title=\\\"Screenshot 2024-01-28 114444\\\"\\u003e\\u003cimg src=\\\"https://www.chiefdelphi.com/uploads/default/optimized/3X/7/5/759665628ad64d8c6615a9ed49dffd8e5fd312a0_2_599x500.png\\\" alt=\\\"Screenshot 2024-01-28 114444\\\" data-base62-sha1=\\\"gMe5kONnKtLmLpFNt5y6WzQgYfK\\\" width=\\\"599\\\" height=\\\"500\\\" srcset=\\\"https://www.chiefdelphi.com/uploads/default/optimized/3X/7/5/759665628ad64d8c6615a9ed49dffd8e5fd312a0_2_599x500.png, https://www.chiefdelphi.com/uploads/default/original/3X/7/5/759665628ad64d8c6615a9ed49dffd8e5fd312a0.png 1.5x, https://www.chiefdelphi.com/uploads/default/original/3X/7/5/759665628ad64d8c6615a9ed49dffd8e5fd312a0.png 2x\\\" data-dominant-color=\\\"F7F7F6\\\"\\u003e\\u003cdiv class=\\\"meta\\\"\\u003e\\u003csvg class=\\\"fa d-icon d-icon-far-image svg-icon\\\" aria-hidden=\\\"true\\\"\\u003e\\u003cuse href=\\\"#far-image\\\"\\u003e\\u003c/use\\u003e\\u003c/svg\\u003e\\u003cspan class=\\\"filename\\\"\\u003eScreenshot 2024-01-28 114444\\u003c/span\\u003e\\u003cspan class=\\\"informations\\\"\\u003e737×615 41.7 KB\\u003c/span\\u003e\\u003csvg class=\\\"fa d-icon d-icon-discourse-expand svg-icon\\\" aria-hidden=\\\"true\\\"\\u003e\\u003cuse href=\\\"#discourse-expand\\\"\\u003e\\u003c/use\\u003e\\u003c/svg\\u003e\\u003c/div\\u003e\\u003c/a\\u003e\\u003c/div\\u003e\\u003c/p\\u003e\\n\\u003cp\\u003eThis is C++ code below, so you will have to port to Java.  We did the following for our status reporting rates.  For the duty cycle encoder position, we have it set to report at 15ms.\\u003c/p\\u003e\\n\\u003cpre\\u003e\\u003ccode class=\\\"lang-auto\\\"\\u003e// see https://github.com/bovlb/frc-tips/blob/main/can-bus/README.md\\n// see https://docs.revrobotics.com/sparkmax/operating-modes/control-interfaces#periodic-status-frames for details.\\n\\n   /* Set the spark max periodic frame periods for each of the driving  */\\n   /* spark max motor controllers.                                      */\\n   m_drivingSparkMax.SetPeriodicFramePeriod(rev::CANSparkLowLevel::PeriodicFrame::kStatus0, 55);      // Applied *** Output, Faults, Stick Faults, Is Follower\\n   m_drivingSparkMax.SetPeriodicFramePeriod(rev::CANSparkLowLevel::PeriodicFrame::kStatus1, 15);      // Motor Velocity, Motor Tempature, Motor Voltage, Motor Current\\n   m_drivingSparkMax.SetPeriodicFramePeriod(rev::CANSparkLowLevel::PeriodicFrame::kStatus2, 15);      // Motor Position\\n   m_drivingSparkMax.SetPeriodicFramePeriod(rev::CANSparkLowLevel::PeriodicFrame::kStatus3, 65535);   // Analog Sensor Voltage, Velocity, Position\\n   m_drivingSparkMax.SetPeriodicFramePeriod(rev::CANSparkLowLevel::PeriodicFrame::kStatus4, 65535);   // Alternate Encoder Velocity, Position\\n   m_drivingSparkMax.SetPeriodicFramePeriod(rev::CANSparkLowLevel::PeriodicFrame::kStatus5, 65535);   // Duty Cycle Absolute Encoder Position, Absolute Angle\\n   m_drivingSparkMax.SetPeriodicFramePeriod(rev::CANSparkLowLevel::PeriodicFrame::kStatus6, 65565);   // Duty Cycle Absolute Encoder Velocity, Frequency\\n\\n   /* Set the spark max periodic frame periods for each of the turning  */\\n   /* spark max motor controllers.                                      */\\n   m_turningSparkMax.SetPeriodicFramePeriod(rev::CANSparkLowLevel::PeriodicFrame::kStatus0, 55);      // Applied *** Output, Faults, Stick Faults, Is Follower\\n   m_turningSparkMax.SetPeriodicFramePeriod(rev::CANSparkLowLevel::PeriodicFrame::kStatus1, 65535);   // Motor Velocity, Motor Tempature, Motor Voltage, Motor Current\\n   m_turningSparkMax.SetPeriodicFramePeriod(rev::CANSparkLowLevel::PeriodicFrame::kStatus2, 65535);   // Motor Position\\n   m_turningSparkMax.SetPeriodicFramePeriod(rev::CANSparkLowLevel::PeriodicFrame::kStatus3, 65535);   // Analog Sensor Voltage, Velocity, Position\\n   m_turningSparkMax.SetPeriodicFramePeriod(rev::CANSparkLowLevel::PeriodicFrame::kStatus4, 65535);   // Alternate Encoder Velocity, Position\\n   m_turningSparkMax.SetPeriodicFramePeriod(rev::CANSparkLowLevel::PeriodicFrame::kStatus5, 15);      // Duty Cycle Absolute Encoder Position, Absolute Angle\\n   m_turningSparkMax.SetPeriodicFramePeriod(rev::CANSparkLowLevel::PeriodicFrame::kStatus6, 65565);   // Duty Cycle Absolute Encoder Velocity, Frequency\\n\\n\\u003c/code\\u003e\\u003c/pre\\u003e\\n\\u003col start=\\\"4\\\"\\u003e\\n\\u003cli\\u003eWhat is your battery voltage when you are testing?   When our voltage gets to 11V, we start to get some jitter in our turning.   We can see the voltage brown out as low as 9V when we get to this point.  I think when we get this jitter is at low voltage we just don’t have enough juice for the way our \\u003cspan class=\\\"abbreviation\\\"\\u003ePID\\u003ctemplate class=\\\"tooltiptext\\\" data-text=\\\"Proportional Integral Derivative\\\"\\u003e\\u003c/template\\u003e\\u003c/span\\u003e is tuned.\\u003c/li\\u003e\\n\\u003c/ol\\u003e\\n\\u003cp\\u003eJust some things to try, hopefully one of them helps out!\\u003c/p\\u003e\",\"post_number\":8,\"post_type\":1,\"posts_count\":9,\"updated_at\":\"2024-01-28T18:19:36.809Z\",\"reply_count\":0,\"reply_to_post_number\":7,\"quote_count\":0,\"incoming_link_count\":10,\"reads\":60,\"readers_count\":59,\"score\":62.0,\"yours\":false,\"topic_id\":452323,\"topic_slug\":\"swerve-drive-optimization-jittering\",\"display_username\":\"\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":3,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"link_counts\":[{\"url\":\"https://www.chiefdelphi.com/uploads/default/original/3X/7/5/759665628ad64d8c6615a9ed49dffd8e5fd312a0.png\",\"internal\":true,\"reflection\":false,\"clicks\":0}],\"read\":true,\"user_title\":null,\"reply_to_user\":{\"id\":57040,\"username\":\"Raven_Robotics\",\"name\":null,\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/raven_robotics/{size}/184532_2.png\"},\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":63687,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"post_url\":\"/t/swerve-drive-optimization-jittering/452323/8\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":true,\"topic_accepted_answer\":true},{\"id\":3493865,\"name\":\"system\",\"username\":\"system\",\"avatar_template\":\"/uploads/default/original/4X/9/3/2/93234578e69f55873c63fc00fe2d0d85f23bce55.png\",\"created_at\":\"2025-01-27T18:16:34.147Z\",\"cooked\":\"\\u003cp\\u003eThis topic was automatically closed 365 days after the last reply. New replies are no longer allowed.\\u003c/p\\u003e\",\"post_number\":9,\"post_type\":3,\"posts_count\":9,\"updated_at\":\"2025-01-27T18:16:34.147Z\",\"reply_count\":0,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":9,\"readers_count\":8,\"score\":1.8,\"yours\":false,\"topic_id\":452323,\"topic_slug\":\"swerve-drive-optimization-jittering\",\"display_username\":\"system\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[],\"moderator\":true,\"admin\":true,\"staff\":true,\"user_id\":-1,\"hidden\":false,\"trust_level\":4,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"action_code\":\"autoclosed.enabled\",\"post_url\":\"/t/swerve-drive-optimization-jittering/452323/9\",\"custom_user_title\":null,\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":true}],\"stream\":[3296012,3296357,3296359,3296362,3296373,3296374,3296425,3296484,3493865]},\"timeline_lookup\":[[1,623],[2,622],[9,257]],\"suggested_topics\":[{\"fancy_title\":\"Path Planner configuration setup help\",\"id\":482411,\"title\":\"Path Planner configuration setup help\",\"slug\":\"path-planner-configuration-setup-help\",\"posts_count\":4,\"reply_count\":1,\"highest_post_number\":4,\"image_url\":null,\"created_at\":\"2025-01-18T02:37:21.805Z\",\"last_posted_at\":\"2025-01-24T17:10:00.252Z\",\"bumped\":true,\"bumped_at\":\"2025-01-24T17:10:00.252Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"If I’m reading this right it seems like you are trying to run the autobuilder configure outside of a constructor or method. the compiler is trying to interpret it as a new method instead of running i…\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[\"programming\",\"pathplanner\"],\"tags_descriptions\":{},\"like_count\":0,\"views\":170,\"category_id\":75,\"featured_link\":null,\"has_accepted_answer\":true,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3486948,\"topic_post_liked\":false,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":false,\"topic_post_is_current_users\":null,\"topic_post_number\":3,\"topic_post_user\":{\"id\":63596,\"username\":\"Otter502\",\"name\":\"Val\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/otter502/{size}/245799_2.png\"},\"posters\":[{\"extras\":\"latest\",\"description\":\"Original Poster, Most Recent Poster\",\"user\":{\"id\":59968,\"username\":\"TheANT\",\"name\":\"\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/theant/{size}/197187_2.png\",\"trust_level\":1}},{\"extras\":null,\"description\":\"Frequent Poster, Accepted Answer\",\"user\":{\"id\":63596,\"username\":\"Otter502\",\"name\":\"Val\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/otter502/{size}/245799_2.png\",\"trust_level\":2}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":55182,\"username\":\"Flatop\",\"name\":\"Kyle Burman\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/f/a4c791/{size}.png\",\"trust_level\":2}}]},{\"fancy_title\":\"Swerve Drive Help Please\",\"id\":484719,\"title\":\"Swerve Drive Help Please\",\"slug\":\"swerve-drive-help-please\",\"posts_count\":13,\"reply_count\":9,\"highest_post_number\":13,\"image_url\":null,\"created_at\":\"2025-02-01T23:37:30.117Z\",\"last_posted_at\":\"2025-02-02T13:35:20.027Z\",\"bumped\":true,\"bumped_at\":\"2025-02-02T13:35:20.027Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"So we are stuck. We are using last year’s swerve drive that worked (despite hardware issues at times) but this year it is dead. Cannot get it do drive consistently. We are using YAGSL for the first…\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[\"swerve\"],\"tags_descriptions\":{},\"like_count\":4,\"views\":201,\"category_id\":75,\"featured_link\":null,\"has_accepted_answer\":false,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3499455,\"topic_post_liked\":false,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":false,\"topic_post_is_current_users\":null,\"topic_post_number\":1,\"topic_post_user\":{\"id\":64810,\"username\":\"stnelsen\",\"name\":\"Seth Nelsen\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/s/f0a364/{size}.png\"},\"posters\":[{\"extras\":null,\"description\":\"Original Poster\",\"user\":{\"id\":64810,\"username\":\"stnelsen\",\"name\":\"Seth Nelsen\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/s/f0a364/{size}.png\",\"trust_level\":1}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":66298,\"username\":\"sokoloff\",\"name\":\"Jim Sokoloff\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/sokoloff/{size}/231724_2.png\",\"trust_level\":2}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":19235,\"username\":\"Skyehawk\",\"name\":\"Skye Leake\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/skyehawk/{size}/179363_2.png\",\"moderator\":true,\"trust_level\":4}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":58305,\"username\":\"ramondeleonca\",\"name\":\"Ramón\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/r/c5a1d2/{size}.png\",\"trust_level\":1}},{\"extras\":\"latest\",\"description\":\"Most Recent Poster\",\"user\":{\"id\":56954,\"username\":\"aopalka\",\"name\":\"Alex\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/a/f9ae1b/{size}.png\",\"trust_level\":2}}]},{\"fancy_title\":\"Rev Soft Limit Example\",\"id\":491029,\"title\":\"Rev Soft Limit Example\",\"slug\":\"rev-soft-limit-example\",\"posts_count\":7,\"reply_count\":4,\"highest_post_number\":7,\"image_url\":null,\"created_at\":\"2025-02-10T14:28:35.551Z\",\"last_posted_at\":\"2025-02-20T22:52:23.570Z\",\"bumped\":true,\"bumped_at\":\"2025-02-20T22:52:23.570Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"Hello, recently I have been looking for how to code a soft limit using a rev motor controller and neo motor. The only examples I find are from 2022 when the syntax was different, does anyone have a mo…\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[],\"tags_descriptions\":{},\"like_count\":1,\"views\":362,\"category_id\":75,\"featured_link\":null,\"has_accepted_answer\":false,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3522168,\"topic_post_liked\":false,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":true,\"topic_post_is_current_users\":null,\"topic_post_number\":1,\"topic_post_user\":{\"id\":63946,\"username\":\"TuckerS\",\"name\":\"Tucker Stanton\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/t/c4cdca/{size}.png\"},\"posters\":[{\"extras\":null,\"description\":\"Original Poster\",\"user\":{\"id\":63946,\"username\":\"TuckerS\",\"name\":\"Tucker Stanton\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/t/c4cdca/{size}.png\",\"trust_level\":1}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":2992,\"username\":\"lynca\",\"name\":\"Andy Lynch\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/lynca/{size}/937_2.png\",\"trust_level\":2}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":73613,\"username\":\"Wabbitt\",\"name\":\"William Babbitt\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/w/e480ec/{size}.png\",\"trust_level\":1}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":51278,\"username\":\"JamerGamer789\",\"name\":\"James\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/j/e19b73/{size}.png\",\"trust_level\":2}},{\"extras\":\"latest\",\"description\":\"Most Recent Poster\",\"user\":{\"id\":44763,\"username\":\"tekdemo\",\"name\":\"Dan\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/tekdemo/{size}/138330_2.png\",\"trust_level\":2}}]},{\"fancy_title\":\"Swerve code help\",\"id\":491105,\"title\":\"Swerve code help\",\"slug\":\"swerve-code-help\",\"posts_count\":7,\"reply_count\":4,\"highest_post_number\":7,\"image_url\":null,\"created_at\":\"2025-02-10T23:58:14.162Z\",\"last_posted_at\":\"2025-02-11T16:18:21.258Z\",\"bumped\":true,\"bumped_at\":\"2025-02-11T16:18:21.258Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"When we enable are robot it just proceeds to shake each swerve module I will be able to linked the code tomorrow afternoon if anyone has anything to fix this we would be very grateful I also have a v…\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[],\"tags_descriptions\":{},\"like_count\":0,\"views\":137,\"category_id\":75,\"featured_link\":null,\"has_accepted_answer\":false,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3522865,\"topic_post_liked\":false,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":false,\"topic_post_is_current_users\":null,\"topic_post_number\":1,\"topic_post_user\":{\"id\":64705,\"username\":\"LaytonK737\",\"name\":\"Layton\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/l/aca169/{size}.png\"},\"posters\":[{\"extras\":\"latest\",\"description\":\"Original Poster, Most Recent Poster\",\"user\":{\"id\":64705,\"username\":\"LaytonK737\",\"name\":\"Layton\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/l/aca169/{size}.png\",\"trust_level\":2}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":19235,\"username\":\"Skyehawk\",\"name\":\"Skye Leake\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/skyehawk/{size}/179363_2.png\",\"moderator\":true,\"trust_level\":4}}]},{\"fancy_title\":\"Alternate encoder for closed loop control ( rev )\",\"id\":491339,\"title\":\"Alternate encoder for closed loop control ( rev )\",\"slug\":\"alternate-encoder-for-closed-loop-control-rev\",\"posts_count\":15,\"reply_count\":10,\"highest_post_number\":15,\"image_url\":null,\"created_at\":\"2025-02-12T12:31:11.861Z\",\"last_posted_at\":\"2025-02-13T00:43:39.923Z\",\"bumped\":true,\"bumped_at\":\"2025-02-13T00:43:39.923Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"An alternative to this If you want the Spark Flex closed loop control, you can use the Absolute encoder connected to the rio. You just need to pass that information to the Spark on bootup, …\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[],\"tags_descriptions\":{},\"like_count\":2,\"views\":256,\"category_id\":75,\"featured_link\":null,\"has_accepted_answer\":true,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3525283,\"topic_post_liked\":false,\"topic_post_like_count\":1,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":false,\"topic_post_is_current_users\":null,\"topic_post_number\":12,\"topic_post_user\":{\"id\":44763,\"username\":\"tekdemo\",\"name\":\"Dan\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/tekdemo/{size}/138330_2.png\"},\"posters\":[{\"extras\":\"latest\",\"description\":\"Original Poster, Most Recent Poster\",\"user\":{\"id\":71369,\"username\":\"Jakeb\",\"name\":\"\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/j/e19adc/{size}.png\",\"trust_level\":1}},{\"extras\":null,\"description\":\"Frequent Poster, Accepted Answer\",\"user\":{\"id\":44763,\"username\":\"tekdemo\",\"name\":\"Dan\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/tekdemo/{size}/138330_2.png\",\"trust_level\":2}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":49147,\"username\":\"CarvalhoJeo\",\"name\":\"Luca Carvalho\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/carvalhojeo/{size}/249007_2.png\",\"trust_level\":2}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":9105,\"username\":\"Fletch1373\",\"name\":\"Fletch\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/fletch1373/{size}/220073_2.png\",\"trust_level\":2}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":51887,\"username\":\"nstrike\",\"name\":\"\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/nstrike/{size}/167038_2.png\",\"trust_level\":2}}]}],\"tags\":[\"swerve\",\"programming\"],\"tags_descriptions\":{},\"fancy_title\":\"Swerve Drive Optimization Jittering\",\"id\":452323,\"title\":\"Swerve Drive Optimization Jittering\",\"posts_count\":9,\"created_at\":\"2024-01-27T21:25:08.079Z\",\"views\":621,\"reply_count\":4,\"like_count\":0,\"last_posted_at\":\"2025-01-27T18:16:34.147Z\",\"visible\":true,\"closed\":true,\"archived\":false,\"has_summary\":false,\"archetype\":\"regular\",\"slug\":\"swerve-drive-optimization-jittering\",\"category_id\":75,\"word_count\":1463,\"deleted_at\":null,\"user_id\":57040,\"featured_link\":null,\"pinned_globally\":false,\"pinned_at\":null,\"pinned_until\":null,\"image_url\":null,\"slow_mode_seconds\":0,\"draft\":null,\"draft_key\":\"topic_452323\",\"draft_sequence\":null,\"unpinned\":null,\"pinned\":false,\"current_post_number\":1,\"highest_post_number\":9,\"deleted_by\":null,\"actions_summary\":[{\"id\":4,\"count\":0,\"hidden\":false,\"can_act\":false},{\"id\":8,\"count\":0,\"hidden\":false,\"can_act\":false},{\"id\":10,\"count\":0,\"hidden\":false,\"can_act\":false},{\"id\":7,\"count\":0,\"hidden\":false,\"can_act\":false}],\"chunk_size\":20,\"bookmarked\":false,\"topic_timer\":null,\"message_bus_last_id\":0,\"participant_count\":5,\"show_read_indicator\":false,\"thumbnails\":null,\"slow_mode_enabled_until\":null,\"valid_reactions\":[\"heart\",\"laughing\",\"point_up\",\"+1\",\"-1\",\"100\",\"open_mouth\",\"cry\",\"question\",\"thinking\",\"call_me_hand\",\"hugs\",\"angry\"],\"accepted_answer\":{\"post_number\":8,\"username\":\"rtsledge\",\"name\":null,\"excerpt\":\"Our team started from this code as well and have it working.  I compared with ours + original from Rev and found a few differences… \\n\\nFor idle mode (.setIdleMode()) we are using Brake instead of coast.\\n\\n    m_drivingSparkMax.setIdleMode(IdleMode.kBrake);\\n    m_turningSparkMax.setIdleMode(IdleMode.kB\\u0026hellip;\",\"accepter_name\":null},\"user_chosen_thumbnail_url\":null,\"sidecar_installed\":true,\"can_vote\":false,\"vote_count\":0,\"user_voted\":false,\"discourse_zendesk_plugin_zendesk_id\":null,\"discourse_zendesk_plugin_zendesk_url\":\"https://your-url.zendesk.com/agent/tickets/\",\"details\":{\"can_edit\":false,\"notification_level\":1,\"participants\":[{\"id\":63687,\"username\":\"rtsledge\",\"name\":\"\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/r/db5fbb/{size}.png\",\"post_count\":3,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":57040,\"username\":\"Raven_Robotics\",\"name\":null,\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/raven_robotics/{size}/184532_2.png\",\"post_count\":2,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":1},{\"id\":17080,\"username\":\"Kevin_S\",\"name\":\"Kevin S\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/k/cc9497/{size}.png\",\"post_count\":1,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":56324,\"username\":\"Daniel1464\",\"name\":\"Daniel C.\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/d/6bbea6/{size}.png\",\"post_count\":1,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":57809,\"username\":\"levyishai\",\"name\":\"Yishai Levy\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/levyishai/{size}/264719_2.png\",\"post_count\":1,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2}],\"created_by\":{\"id\":57040,\"username\":\"Raven_Robotics\",\"name\":null,\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/raven_robotics/{size}/184532_2.png\"},\"last_poster\":{\"id\":-1,\"username\":\"system\",\"name\":\"system\",\"avatar_template\":\"/uploads/default/original/4X/9/3/2/93234578e69f55873c63fc00fe2d0d85f23bce55.png\"},\"links\":[{\"url\":\"https://www.revrobotics.com/rev-21-3005/\",\"title\":\"3in MAXSwerve Module - REV Robotics\",\"internal\":false,\"attachment\":false,\"reflection\":false,\"clicks\":3,\"user_id\":57040,\"domain\":\"www.revrobotics.com\",\"root_domain\":\"revrobotics.com\"}]},\"bookmarks\":[]}"}
