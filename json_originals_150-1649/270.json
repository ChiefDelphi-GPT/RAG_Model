{"data":"{\"post_stream\":{\"posts\":[{\"id\":3672869,\"name\":\"Gal\",\"username\":\"GalDotan\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/galdotan/{size}/201749_2.png\",\"created_at\":\"2025-07-02T22:36:36.224Z\",\"cooked\":\"\\u003cp\\u003eThis is the code I’m running: I’ve been experimenting with TalonFX SimState, but it appears that no matter what I do, I get unrealistic current draw.\\u003c/p\\u003e\\n\\u003cp\\u003e\\u003cdiv class=\\\"lightbox-wrapper\\\"\\u003e\\u003ca class=\\\"lightbox\\\" href=\\\"https://www.chiefdelphi.com/uploads/default/original/4X/7/2/e/72ec0dc4e44971c2696c6a2b921e17a7d90cba3a.png\\\" data-download-href=\\\"https://www.chiefdelphi.com/uploads/default/72ec0dc4e44971c2696c6a2b921e17a7d90cba3a\\\" title=\\\"image\\\"\\u003e\\u003cimg src=\\\"https://www.chiefdelphi.com/uploads/default/original/4X/7/2/e/72ec0dc4e44971c2696c6a2b921e17a7d90cba3a.png\\\" alt=\\\"image\\\" data-base62-sha1=\\\"goEaOUpYHYE2u56ZK1lnbFmNsEy\\\" width=\\\"452\\\" height=\\\"500\\\" data-dominant-color=\\\"262827\\\"\\u003e\\u003cdiv class=\\\"meta\\\"\\u003e\\u003csvg class=\\\"fa d-icon d-icon-far-image svg-icon\\\" aria-hidden=\\\"true\\\"\\u003e\\u003cuse href=\\\"#far-image\\\"\\u003e\\u003c/use\\u003e\\u003c/svg\\u003e\\u003cspan class=\\\"filename\\\"\\u003eimage\\u003c/span\\u003e\\u003cspan class=\\\"informations\\\"\\u003e827×913 56.4 KB\\u003c/span\\u003e\\u003csvg class=\\\"fa d-icon d-icon-discourse-expand svg-icon\\\" aria-hidden=\\\"true\\\"\\u003e\\u003cuse href=\\\"#discourse-expand\\\"\\u003e\\u003c/use\\u003e\\u003c/svg\\u003e\\u003c/div\\u003e\\u003c/a\\u003e\\u003c/div\\u003e\\u003c/p\\u003e\\n\\u003cp\\u003eWhen I run teleop, I receive this:\\u003cbr\\u003e\\n\\u003cimg src=\\\"https://www.chiefdelphi.com/uploads/default/original/4X/9/1/d/91d24ffd4c9126ab76f1f5feebe70c717c13c79d.png\\\" alt=\\\"image\\\" data-base62-sha1=\\\"kNZPbwOOahlWKuLnJssG5Eprvlj\\\" width=\\\"376\\\" height=\\\"158\\\"\\u003e\\u003c/p\\u003e\\n\\u003cp\\u003eRecalc is used to estimate the simulation’s Kv and Ka:\\u003cbr\\u003e\\n\\u003cdiv class=\\\"lightbox-wrapper\\\"\\u003e\\u003ca class=\\\"lightbox\\\" href=\\\"https://www.chiefdelphi.com/uploads/default/original/4X/0/3/6/036f4a682f365532db86dc415ddffaf89895d80c.png\\\" data-download-href=\\\"https://www.chiefdelphi.com/uploads/default/036f4a682f365532db86dc415ddffaf89895d80c\\\" title=\\\"image\\\"\\u003e\\u003cimg src=\\\"https://www.chiefdelphi.com/uploads/default/optimized/4X/0/3/6/036f4a682f365532db86dc415ddffaf89895d80c_2_690x292.png\\\" alt=\\\"image\\\" data-base62-sha1=\\\"unS2aYlGvCBcyurhQQD65Eu6Be\\\" width=\\\"690\\\" height=\\\"292\\\" srcset=\\\"https://www.chiefdelphi.com/uploads/default/optimized/4X/0/3/6/036f4a682f365532db86dc415ddffaf89895d80c_2_690x292.png, https://www.chiefdelphi.com/uploads/default/optimized/4X/0/3/6/036f4a682f365532db86dc415ddffaf89895d80c_2_1035x438.png 1.5x, https://www.chiefdelphi.com/uploads/default/optimized/4X/0/3/6/036f4a682f365532db86dc415ddffaf89895d80c_2_1380x584.png 2x\\\" data-dominant-color=\\\"F5F7F9\\\"\\u003e\\u003cdiv class=\\\"meta\\\"\\u003e\\u003csvg class=\\\"fa d-icon d-icon-far-image svg-icon\\\" aria-hidden=\\\"true\\\"\\u003e\\u003cuse href=\\\"#far-image\\\"\\u003e\\u003c/use\\u003e\\u003c/svg\\u003e\\u003cspan class=\\\"filename\\\"\\u003eimage\\u003c/span\\u003e\\u003cspan class=\\\"informations\\\"\\u003e1689×715 75.7 KB\\u003c/span\\u003e\\u003csvg class=\\\"fa d-icon d-icon-discourse-expand svg-icon\\\" aria-hidden=\\\"true\\\"\\u003e\\u003cuse href=\\\"#discourse-expand\\\"\\u003e\\u003c/use\\u003e\\u003c/svg\\u003e\\u003c/div\\u003e\\u003c/a\\u003e\\u003c/div\\u003e\\u003c/p\\u003e\\n\\u003cp\\u003eAdditionally, when I print the current draw from the DCMotorSim, I receive a much more reasonable figure of 55 that then lowers as expected. The current from the Talon FX starts at 117 amps and then steadily drops to 111 amps, which is significantly more than what is expected for this system.\\u003c/p\\u003e\\n\\u003cp\\u003eHas anyone seen this?\\u003c/p\\u003e\",\"post_number\":1,\"post_type\":1,\"posts_count\":9,\"updated_at\":\"2025-07-02T22:36:36.224Z\",\"reply_count\":0,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":18,\"reads\":256,\"readers_count\":255,\"score\":171.2,\"yours\":false,\"topic_id\":503869,\"topic_slug\":\"ctre-talon-fx-simulation\",\"display_username\":\"Gal\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":null,\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":2}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":60986,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"5951 Software and electrical lead\"},\"post_url\":\"/t/ctre-talon-fx-simulation/503869/1\",\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":2}],\"current_user_reaction\":null,\"reaction_users_count\":2,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3672966,\"name\":\"paulonis\",\"username\":\"paulonis\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/p/5fc32e/{size}.png\",\"created_at\":\"2025-07-03T00:52:54.709Z\",\"cooked\":\"\\u003cp\\u003eWhat do you see if you use \\u003ccode\\u003egetSupplyCurrent()\\u003c/code\\u003e rather than \\u003ccode\\u003egetStatorCurrent()\\u003c/code\\u003e?\\u003c/p\\u003e\",\"post_number\":2,\"post_type\":1,\"posts_count\":9,\"updated_at\":\"2025-07-03T00:52:54.709Z\",\"reply_count\":0,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":194,\"readers_count\":193,\"score\":38.8,\"yours\":false,\"topic_id\":503869,\"topic_slug\":\"ctre-talon-fx-simulation\",\"display_username\":\"paulonis\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":22261,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"post_url\":\"/t/ctre-talon-fx-simulation/503869/2\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3672968,\"name\":null,\"username\":\"NJ4611\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/n/71c47a/{size}.png\",\"created_at\":\"2025-07-03T00:59:42.546Z\",\"cooked\":\"\\u003cp\\u003eI had a similar issue when making the sims for my team. I’ll be honest, I just ended up clamping the current to a reasonable value. Duct tape solutions always work lol.\\u003c/p\\u003e\",\"post_number\":3,\"post_type\":1,\"posts_count\":9,\"updated_at\":\"2025-07-03T00:59:42.546Z\",\"reply_count\":0,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":193,\"readers_count\":192,\"score\":38.6,\"yours\":false,\"topic_id\":503869,\"topic_slug\":\"ctre-talon-fx-simulation\",\"display_username\":null,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":null,\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":75029,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"post_url\":\"/t/ctre-talon-fx-simulation/503869/3\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3673013,\"name\":\"Kabir\",\"username\":\"kn4\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/kn4/{size}/235296_2.png\",\"created_at\":\"2025-07-03T02:19:24.347Z\",\"cooked\":\"\\u003cp\\u003eYour kV and kA values from recalc use units of meters, but you appear to be using the values from the DCMotorSim as if it uses rotation units.\\u003c/p\\u003e\\n\\u003cp\\u003eAlso, you might get weird behavior (values jumping on enable/disable, issues running on a real robot, no simulation of deceleration while disabled) if you keep all the simulation code in teleopPeriodic. You should move all the code that interacts with the DCMotorSim and TalonFXSimState to simulationPeriodic.\\u003c/p\\u003e\",\"post_number\":4,\"post_type\":1,\"posts_count\":9,\"updated_at\":\"2025-07-03T02:22:55.280Z\",\"reply_count\":1,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":183,\"readers_count\":182,\"score\":71.6,\"yours\":false,\"topic_id\":503869,\"topic_slug\":\"ctre-talon-fx-simulation\",\"display_username\":\"Kabir\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":2}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":57470,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"2724 programmer\"},\"post_url\":\"/t/ctre-talon-fx-simulation/503869/4\",\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":1},{\"id\":\"point_up\",\"type\":\"emoji\",\"count\":1}],\"current_user_reaction\":null,\"reaction_users_count\":2,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3673084,\"name\":\"Benjamin Hall\",\"username\":\"bhall-ctre\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/bhall-ctre/{size}/198180_2.png\",\"created_at\":\"2025-07-03T03:41:03.595Z\",\"cooked\":\"\\u003cp\\u003eTo expand upon this, \\u003ccode\\u003eDCMotorSim\\u003c/code\\u003e expects that the kV/kA provided to \\u003ccode\\u003eLinearSystemId.createDCMotorSystem\\u003c/code\\u003e are defined in terms of Volts in the numerator and radians in the denominator. The kV of a Kraken X60 before gearing is about 12 V / (100 rps * 2pi) = 0.019 V/(rad/s). It looks like that sim code is set up for a gear ratio of 4 (which should be moved into a constant), in which case I would expect a kV about 4 times that, or 0.076 V/(rad/s). The kA will similarly need to be converted.\\u003c/p\\u003e\\n\\u003cp\\u003eWith our simulated motor controllers, the sim rotor velocity needs to be reasonable for the simulated current (and by extension simulated current limiting) to behave correctly. Steady-state rotor velocity at 12 V should be around 100 rps, which is an easy way to identify unit conversion issues.\\u003c/p\\u003e\\n\\u003cp\\u003eAs for code organization, in particular, the five lines of code using \\u003ccode\\u003etestMotorSimState\\u003c/code\\u003e and \\u003ccode\\u003etestMotorSim\\u003c/code\\u003e should live inside \\u003ccode\\u003esimulationPeriodic()\\u003c/code\\u003e. Those two objects should generally not be used outside that function, and that function generally should not use anything aside from those two objects. In other words, physics simulation should be isolated from the rest of the robot code.\\u003c/p\\u003e\",\"post_number\":5,\"post_type\":1,\"posts_count\":9,\"updated_at\":\"2025-07-03T03:45:57.488Z\",\"reply_count\":1,\"reply_to_post_number\":4,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":170,\"readers_count\":169,\"score\":84.0,\"yours\":false,\"topic_id\":503869,\"topic_slug\":\"ctre-talon-fx-simulation\",\"display_username\":\"Benjamin Hall\",\"primary_group_name\":\"CTRE\",\"flair_name\":\"CTRE\",\"flair_url\":\"/uploads/default/original/3X/1/b/1bd2b430e1bb6427d1c6504ff6abcd31de851a6d.png\",\"flair_bg_color\":\"\",\"flair_color\":\"\",\"flair_group_id\":57,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"reply_to_user\":{\"id\":57470,\"username\":\"kn4\",\"name\":\"Kabir\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/kn4/{size}/235296_2.png\"},\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":3}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":48146,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"Software Engineering Intern at CTR Electronics\"},\"post_url\":\"/t/ctre-talon-fx-simulation/503869/5\",\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":3}],\"current_user_reaction\":null,\"reaction_users_count\":3,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3676405,\"name\":\"paulonis\",\"username\":\"paulonis\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/p/5fc32e/{size}.png\",\"created_at\":\"2025-07-08T02:44:24.978Z\",\"cooked\":\"\\u003cp\\u003eThis post interested me, so I dug in a little on the topic.  I created my own code with a few differences from the original:\\u003c/p\\u003e\\n\\u003cul\\u003e\\n\\u003cli\\u003eI’m simulating a single Kraken X60 to keep things simple initially\\u003c/li\\u003e\\n\\u003cli\\u003eMy motor drives a wheel system with MoI of 0.03 kg-m2 which accelerates much slower than the original so discretization at the roboRio cycle time does not completely obliterate the system dynamics\\u003c/li\\u003e\\n\\u003cli\\u003eI use a 6:1 gear reduction which coupled with the MoI makes the overall system kind of like the drive side of a swerve module\\u003c/li\\u003e\\n\\u003cli\\u003eI’m making an open-loop request of 10 volts to see the effect of current limiting, but not enough to require modeling battery voltage drop\\u003c/li\\u003e\\n\\u003c/ul\\u003e\\n\\u003cp\\u003eI’ve simulated with a variety of current limiting options, but the one I’m going to include in this post is a stator limit of 120A and no supply limit.\\u003c/p\\u003e\\n\\u003cp\\u003eI have a \\u003ca href=\\\"https://github.com/mpaulonis/TestTalonFXSim/tree/CD250707\\\" rel=\\\"noopener nofollow ugc\\\"\\u003ecode repository\\u003c/a\\u003e and I’m also including Robot.java as text below in case I inadvertently modify the repository.\\u003c/p\\u003e\\n\\u003cdetails\\u003e\\n\\u003csummary\\u003e\\nRobot.java\\u003c/summary\\u003e\\n\\u003cpre data-code-wrap=\\\"java\\\"\\u003e\\u003ccode class=\\\"lang-java\\\"\\u003epackage frc.robot;\\n\\nimport static edu.wpi.first.units.Units.*;\\n\\nimport com.ctre.phoenix6.BaseStatusSignal;\\nimport com.ctre.phoenix6.StatusCode;\\nimport com.ctre.phoenix6.StatusSignal;\\nimport com.ctre.phoenix6.configs.TalonFXConfiguration;\\nimport com.ctre.phoenix6.controls.VoltageOut;\\nimport com.ctre.phoenix6.hardware.TalonFX;\\nimport com.ctre.phoenix6.sim.TalonFXSimState;\\nimport com.ctre.phoenix6.signals.FeedbackSensorSourceValue;\\nimport com.ctre.phoenix6.signals.InvertedValue;\\n\\nimport edu.wpi.first.epilogue.Epilogue;\\nimport edu.wpi.first.epilogue.Logged;\\nimport edu.wpi.first.math.system.plant.DCMotor;\\nimport edu.wpi.first.math.system.plant.LinearSystemId;\\nimport edu.wpi.first.units.measure.Angle;\\nimport edu.wpi.first.units.measure.AngularVelocity;\\nimport edu.wpi.first.units.measure.Current;\\nimport edu.wpi.first.units.measure.Voltage;\\nimport edu.wpi.first.wpilibj.RobotController;\\nimport edu.wpi.first.wpilibj.TimedRobot;\\nimport edu.wpi.first.wpilibj.simulation.DCMotorSim;\\n\\n@SuppressWarnings(\\\"unused\\\")\\n@Logged\\npublic class Robot extends TimedRobot {\\n    private final TalonFX leaderFX = new TalonFX(1);\\n\\n    private final double testVoltage = 10.0;\\n    private final boolean statorCurrentLimitEnabled = true;\\n    private final double statorCurrentLimitAmps = 120.0;\\n    private final boolean supplyCurrentLimitEnabled = false;\\n    private final double supplyCurrentLimitAmps = 70.0;\\n\\n    private final VoltageOut voltageRequest = new VoltageOut(0.0);\\n\\n    private StatusSignal\\u0026lt;Angle\\u0026gt; leaderWheelPositionSS = leaderFX.getPosition();\\n    private StatusSignal\\u0026lt;AngularVelocity\\u0026gt; leaderWheelVelocitySS = leaderFX.getVelocity();\\n    private StatusSignal\\u0026lt;Angle\\u0026gt; leaderMotorPositionSS = leaderFX.getRotorPosition();\\n    private StatusSignal\\u0026lt;AngularVelocity\\u0026gt; leaderMotorVelocitySS = leaderFX.getRotorVelocity();\\n    private StatusSignal\\u0026lt;Current\\u0026gt; leaderSupplyCurrentSS = leaderFX.getSupplyCurrent();\\n    private StatusSignal\\u0026lt;Current\\u0026gt; leaderStatorCurrentSS = leaderFX.getStatorCurrent();\\n    private StatusSignal\\u0026lt;Voltage\\u0026gt; leaderVoltageSS = leaderFX.getMotorVoltage();\\n    private StatusCode returnCode;\\n\\n    private final TalonFXSimState leaderSim = leaderFX.getSimState();\\n\\n    private final double updateIntervalSec = 0.02;\\n\\n    private final DCMotor motor = DCMotor.getKrakenX60(1);\\n    private final double gearReduction = 6.0;\\n    private final double wheelMoiKgMSq = 0.03;\\n    private final DCMotorSim wheelSim = new DCMotorSim(LinearSystemId.createDCMotorSystem(motor, wheelMoiKgMSq, gearReduction), motor);\\n\\n    // Values for Epilogue to log -- unused warnings suppressed\\n    private double batteryVoltageVolts;\\n\\n    private double leaderMotorPositionRot;\\n    private double leaderMotorVelocityRPS;\\n    private double leaderWheelPositionRot;\\n    private double leaderWheelVelocityRPS;\\n    private double leaderSupplyCurrentAmps;\\n    private double leaderStatorCurrentAmps;\\n    private double leaderVoltageVolts;\\n\\n    private double leaderSimSupplyCurrentAmps;\\n    private double leaderSimTorqueCurrentAmps;\\n    private double leaderSimVoltageVolts;\\n\\n    private double modelWheelPositionRot;\\n    private double modelWheelVelocityRPS;\\n    private double modelWheelAccelRadPerSecSq;\\n    private double modelCurrentAmps;\\n    \\n    public Robot() {\\n        Epilogue.bind(this);\\n\\n        TalonFXConfiguration fxCfg = new TalonFXConfiguration();\\n        fxCfg.Feedback.withFeedbackSensorSource(FeedbackSensorSourceValue.RotorSensor);\\n        fxCfg.Feedback.SensorToMechanismRatio = gearReduction;\\n        fxCfg.MotorOutput.Inverted = InvertedValue.CounterClockwise_Positive;\\n        fxCfg.CurrentLimits.StatorCurrentLimitEnable = statorCurrentLimitEnabled;\\n        fxCfg.CurrentLimits.StatorCurrentLimit = statorCurrentLimitAmps;\\n        fxCfg.CurrentLimits.SupplyCurrentLimitEnable = supplyCurrentLimitEnabled;\\n        fxCfg.CurrentLimits.SupplyCurrentLimit = supplyCurrentLimitAmps;\\n        for (int i = 0; i \\u0026lt; 5; ++i) {\\n            returnCode = leaderFX.getConfigurator().apply(fxCfg);\\n            if (returnCode.isOK()) break;}\\n\\n        BaseStatusSignal.setUpdateFrequencyForAll(1.0/updateIntervalSec,\\n            leaderFX.getPosition(),\\n            leaderFX.getVelocity(),\\n            leaderFX.getRotorPosition(),\\n            leaderFX.getRotorVelocity(),\\n            leaderFX.getSupplyCurrent(),\\n            leaderFX.getStatorCurrent(),\\n            leaderFX.getMotorVoltage());\\n\\n        wheelSim.setState(0.0, 0.0);\\n    }\\n\\n    @Override\\n    public void simulationPeriodic() {\\n\\n        batteryVoltageVolts = RobotController.getBatteryVoltage();\\n        leaderSim.setSupplyVoltage(batteryVoltageVolts);\\n\\n        leaderSimVoltageVolts = leaderSim.getMotorVoltage();\\n        leaderSimSupplyCurrentAmps = leaderSim.getSupplyCurrent();\\n        leaderSimTorqueCurrentAmps = leaderSim.getTorqueCurrent();\\n\\n        wheelSim.setInputVoltage(leaderSimVoltageVolts);\\n        wheelSim.update(updateIntervalSec);\\n\\n        modelWheelPositionRot = wheelSim.getAngularPositionRotations();\\n        modelWheelVelocityRPS = wheelSim.getAngularVelocity().in(RotationsPerSecond);\\n        modelWheelAccelRadPerSecSq = wheelSim.getAngularAccelerationRadPerSecSq();\\n        modelCurrentAmps = wheelSim.getCurrentDrawAmps();\\n\\n        leaderSim.setRawRotorPosition(modelWheelPositionRot * gearReduction);\\n        leaderSim.setRotorVelocity(modelWheelVelocityRPS * gearReduction);\\n    }\\n\\n    @Override\\n    public void teleopPeriodic() {\\n        \\n        leaderFX.setControl(voltageRequest.withOutput(testVoltage));\\n\\n        BaseStatusSignal.refreshAll(\\n            leaderWheelPositionSS,\\n            leaderWheelVelocitySS,\\n            leaderMotorPositionSS,\\n            leaderMotorVelocitySS,\\n            leaderSupplyCurrentSS,\\n            leaderStatorCurrentSS,\\n            leaderVoltageSS);\\n\\n        leaderWheelPositionRot = leaderWheelPositionSS.getValue().in(Rotations);\\n        leaderWheelVelocityRPS = leaderWheelVelocitySS.getValue().in(RotationsPerSecond);\\n        leaderMotorPositionRot = leaderMotorPositionSS.getValue().in(Rotations);\\n        leaderMotorVelocityRPS = leaderMotorVelocitySS.getValue().in(RotationsPerSecond);\\n        leaderSupplyCurrentAmps = leaderSupplyCurrentSS.getValueAsDouble();\\n        leaderStatorCurrentAmps = leaderStatorCurrentSS.getValueAsDouble();\\n        leaderVoltageVolts = leaderVoltageSS.getValueAsDouble();\\n    }\\n}\\n\\u003c/code\\u003e\\u003c/pre\\u003e\\n\\u003c/details\\u003e\\n\\u003cp\\u003eThe results are not deterministic.  There appears to be a source of noise in the Talon simulation or somewhere.  The plot below shows typical output.\\u003c/p\\u003e\\n\\u003cdetails\\u003e\\n\\u003csummary\\u003e\\nAdvantageScope plot of results\\u003c/summary\\u003e\\n\\u003cp\\u003e\\u003cdiv class=\\\"lightbox-wrapper\\\"\\u003e\\u003ca class=\\\"lightbox\\\" href=\\\"https://www.chiefdelphi.com/uploads/default/original/4X/6/3/b/63b7639bfad9f803de87907ccb0dce292eddc7af.png\\\" data-download-href=\\\"https://www.chiefdelphi.com/uploads/default/63b7639bfad9f803de87907ccb0dce292eddc7af\\\" title=\\\"TalonFXSimulation\\\"\\u003e\\u003cimg src=\\\"https://www.chiefdelphi.com/uploads/default/optimized/4X/6/3/b/63b7639bfad9f803de87907ccb0dce292eddc7af_2_690x333.png\\\" alt=\\\"TalonFXSimulation\\\" data-base62-sha1=\\\"ee8b5IrQu12ukRsEtUvWnoSOLmf\\\" width=\\\"690\\\" height=\\\"333\\\" srcset=\\\"https://www.chiefdelphi.com/uploads/default/optimized/4X/6/3/b/63b7639bfad9f803de87907ccb0dce292eddc7af_2_690x333.png, https://www.chiefdelphi.com/uploads/default/optimized/4X/6/3/b/63b7639bfad9f803de87907ccb0dce292eddc7af_2_1035x499.png 1.5x, https://www.chiefdelphi.com/uploads/default/optimized/4X/6/3/b/63b7639bfad9f803de87907ccb0dce292eddc7af_2_1380x666.png 2x\\\" data-dominant-color=\\\"282827\\\"\\u003e\\u003cdiv class=\\\"meta\\\"\\u003e\\u003csvg class=\\\"fa d-icon d-icon-far-image svg-icon\\\" aria-hidden=\\\"true\\\"\\u003e\\u003cuse href=\\\"#far-image\\\"\\u003e\\u003c/use\\u003e\\u003c/svg\\u003e\\u003cspan class=\\\"filename\\\"\\u003eTalonFXSimulation\\u003c/span\\u003e\\u003cspan class=\\\"informations\\\"\\u003e1916×925 89.9 KB\\u003c/span\\u003e\\u003csvg class=\\\"fa d-icon d-icon-discourse-expand svg-icon\\\" aria-hidden=\\\"true\\\"\\u003e\\u003cuse href=\\\"#discourse-expand\\\"\\u003e\\u003c/use\\u003e\\u003c/svg\\u003e\\u003c/div\\u003e\\u003c/a\\u003e\\u003c/div\\u003e\\u003c/p\\u003e\\n\\u003c/details\\u003e\\n\\u003cp\\u003eIn some ways, the results look as expected.  The 120A stator current limit (gray line) is enforced as the motor starts to drive the wheel.  The voltage (red line) is being limited to manage the stator current.  The supply current (yellow line) starts off low, but increases as the voltage increases toward the requested value of 10V.  As the wheel velocity (blue line) approaches steady-state, the current comes off the stator limit and both stator and supply current drop.  The wheel velocity eventually reaches the expected value for a 10V input.\\u003c/p\\u003e\\n\\u003cp\\u003eThere are some problems, however:\\u003c/p\\u003e\\n\\u003cul\\u003e\\n\\u003cli\\u003eThe current from the DCMotorSim physics model is not close to the stator current from the Talon during spin-up.  The model current (green line) hovers around 70A rather than the Talon limit in the 110-120A range.\\u003c/li\\u003e\\n\\u003cli\\u003eAt steady-state velocity, when the modeled current goes to 0, the Talon sim stator current goes to  negative 15A and the supply current goes to negative 13A.\\u003c/li\\u003e\\n\\u003c/ul\\u003e\\n\\u003cp\\u003eI attempted to use the \\u003ca href=\\\"https://ambcalc.com/startup?=\\u0026amp;volt=10\\u0026amp;sim-ratio=6\\u0026amp;max-ratio=10\\u0026amp;radius=2\\u0026amp;mass-u=1\\u0026amp;mass=11.625\\u0026amp;load=0\\u0026amp;by_vel=%5E\\u0026amp;stop-vel-rot=1000\\u0026amp;tmax=1\\u0026amp;dt=4\\u0026amp;maxI=120\\\" rel=\\\"noopener nofollow ugc\\\"\\u003eMechanism Startup Calculator from AMBCalc\\u003c/a\\u003e (be patient while the calculator works to generate results for my specific inputs included in the link) to compare against the simulated results from Java.  AMBCalc shows wheel acceleration of 414 rad/sec2 during stator current limiting and the current is limited for 0.13 sec.   The Java results show wheel acceleration around 275 rad/sec2 during stator current limiting and the current is limited for 0.23 sec.  I attempted to make the MoI in AMBCalc match that in the Java code.  If I change the AMBCalc stator current limit from 120A to 80A, the calculator shows wheel acceleration of 273 rad/sec2 during 0.24 sec of current limiting, almost a perfect match to the Java simulation, but with a much lower current limit that is kind of close to the current from the physics model of about 70A.\\u003c/p\\u003e\\n\\u003cp\\u003eI’d like to think that the model and Talon simulation current would be in much better agreement than they are and that the Talon currents would not go negative at steady-state.  I’d also like to think that the current-limited acceleration from the calculator would be much closer to that of the Java simulation.\\u003c/p\\u003e\\n\\u003cp\\u003eI can’t explain what I am seeing.  If there is a problem with my code that is creating these issues, I don’t know what it is.  If anyone sees something wrong with my approach to this simulation or can explain the results, please let me know.\\u003c/p\\u003e\",\"post_number\":6,\"post_type\":1,\"posts_count\":9,\"updated_at\":\"2025-07-08T02:46:47.306Z\",\"reply_count\":1,\"reply_to_post_number\":null,\"quote_count\":0,\"incoming_link_count\":0,\"reads\":113,\"readers_count\":112,\"score\":27.6,\"yours\":false,\"topic_id\":503869,\"topic_slug\":\"ctre-talon-fx-simulation\",\"display_username\":\"paulonis\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"link_counts\":[{\"url\":\"https://ambcalc.com/startup?=\\u0026volt=10\\u0026sim-ratio=6\\u0026max-ratio=10\\u0026radius=2\\u0026mass-u=1\\u0026mass=11.625\\u0026load=0\\u0026by_vel=%5E\\u0026stop-vel-rot=1000\\u0026tmax=1\\u0026dt=4\\u0026maxI=120\",\"internal\":false,\"reflection\":false,\"title\":\"Mechanism Startup Calculator - AMB Robotics Calculator\",\"clicks\":1},{\"url\":\"https://github.com/mpaulonis/TestTalonFXSim/tree/CD250707\",\"internal\":false,\"reflection\":false,\"title\":\"GitHub - mpaulonis/TestTalonFXSim at CD250707\",\"clicks\":0}],\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":22261,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"post_url\":\"/t/ctre-talon-fx-simulation/503869/6\",\"reactions\":[],\"current_user_reaction\":null,\"reaction_users_count\":0,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3676467,\"name\":\"Benjamin Hall\",\"username\":\"bhall-ctre\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/bhall-ctre/{size}/198180_2.png\",\"created_at\":\"2025-07-08T05:02:01.306Z\",\"cooked\":\"\\u003caside class=\\\"quote no-group\\\" data-username=\\\"paulonis\\\" data-post=\\\"6\\\" data-topic=\\\"503869\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg loading=\\\"lazy\\\" alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/letter_avatar_proxy/v4/letter/p/5fc32e/48.png\\\" class=\\\"avatar\\\"\\u003e paulonis:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003eAt steady-state velocity, when the modeled current goes to 0, the Talon sim stator current goes to negative 15A and the supply current goes to negative 13A.\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003cp\\u003eIn the 2025 API, the Talon FX simulation layer assumes a Kraken X60 with \\u003cspan class=\\\"abbreviation\\\"\\u003eFOC\\u003ctemplate class=\\\"tooltiptext\\\" data-text=\\\"Field Oriented Control\\\"\\u003e\\u003c/template\\u003e\\u003c/span\\u003e. Switching to \\u003ccode\\u003eDCMotorSim.getKrakenX60Foc(1)\\u003c/code\\u003e fixes this issue and partially closes the error on the other one.\\u003c/p\\u003e\\n\\u003caside class=\\\"quote no-group\\\" data-username=\\\"paulonis\\\" data-post=\\\"6\\\" data-topic=\\\"503869\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg loading=\\\"lazy\\\" alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/letter_avatar_proxy/v4/letter/p/5fc32e/48.png\\\" class=\\\"avatar\\\"\\u003e paulonis:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003eThe current from the DCMotorSim physics model is not close to the stator current from the Talon during spin-up. The model current (green line) hovers around 70A rather than the Talon limit in the 110-120A range.\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003cp\\u003eThis one is a bit more interesting and appears to be related to DCMotorSim only running at 50 Hz instead of something closer to 1 kHz. Our simulated current measurements are currently based on the instantaneous current given the simulated duty cycle and the current rotor velocity, updated at 1 kHz. I suspect this is a discretization issue between that and DCMotorSim. I believe DCMotorSim assumes the motor’s back emf exponentially decays towards the supplied motor voltage for the 20 ms update, when in the case of current limiting the applied motor voltage is constantly moving along with back emf.\\u003c/p\\u003e\\n\\u003cp\\u003eIf you put our simulation code into a \\u003ccode\\u003eNotifier\\u003c/code\\u003e (as we do in our swerve projects), you’ll notice that the rest of the error goes away as you speed it up. 500 Hz appears to be sufficient to eliminate the error. Increasing the MOI further (such as all the way to 0.2 kg m^2) also fixes the issue at the original 50 Hz.\\u003c/p\\u003e\\n\\u003cpre data-code-wrap=\\\"java\\\"\\u003e\\u003ccode class=\\\"lang-java\\\"\\u003e    private final double updateIntervalSec = 0.002; // 500 Hz\\n    private Notifier m_simNotifier = null;\\n\\n    @Override\\n    public void simulationInit() {\\n        /* replaces simulationPeriodic() */\\n        if (m_simNotifier == null) {\\n            m_simNotifier = new Notifier(() -\\u0026gt; {\\n                batteryVoltageVolts = RobotController.getBatteryVoltage();\\n                leaderSim.setSupplyVoltage(batteryVoltageVolts);\\n\\n                leaderSimVoltageVolts = leaderSim.getMotorVoltage();\\n                leaderSimSupplyCurrentAmps = leaderSim.getSupplyCurrent();\\n                leaderSimTorqueCurrentAmps = leaderSim.getTorqueCurrent();\\n\\n                wheelSim.setInputVoltage(leaderSimVoltageVolts);\\n                wheelSim.update(updateIntervalSec);\\n\\n                modelWheelPositionRot = wheelSim.getAngularPositionRotations();\\n                modelWheelVelocityRPS = wheelSim.getAngularVelocity().in(RotationsPerSecond);\\n                modelWheelAccelRadPerSecSq = wheelSim.getAngularAccelerationRadPerSecSq();\\n                modelCurrentAmps = wheelSim.getCurrentDrawAmps();\\n\\n                leaderSim.setRawRotorPosition(modelWheelPositionRot * gearReduction);\\n                leaderSim.setRotorVelocity(modelWheelVelocityRPS * gearReduction);\\n            });\\n            m_simNotifier.startPeriodic(updateIntervalSec);\\n        }\\n    }\\n\\u003c/code\\u003e\\u003c/pre\\u003e\",\"post_number\":7,\"post_type\":1,\"posts_count\":9,\"updated_at\":\"2025-07-08T05:28:45.713Z\",\"reply_count\":1,\"reply_to_post_number\":6,\"quote_count\":1,\"incoming_link_count\":0,\"reads\":102,\"readers_count\":101,\"score\":100.4,\"yours\":false,\"topic_id\":503869,\"topic_slug\":\"ctre-talon-fx-simulation\",\"display_username\":\"Benjamin Hall\",\"primary_group_name\":\"CTRE\",\"flair_name\":\"CTRE\",\"flair_url\":\"/uploads/default/original/3X/1/b/1bd2b430e1bb6427d1c6504ff6abcd31de851a6d.png\",\"flair_bg_color\":\"\",\"flair_color\":\"\",\"flair_group_id\":57,\"badges_granted\":[],\"version\":2,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":5}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":48146,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"Software Engineering Intern at CTR Electronics\"},\"post_url\":\"/t/ctre-talon-fx-simulation/503869/7\",\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":5}],\"current_user_reaction\":null,\"reaction_users_count\":5,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3676650,\"name\":\"paulonis\",\"username\":\"paulonis\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/p/5fc32e/{size}.png\",\"created_at\":\"2025-07-08T17:43:48.416Z\",\"cooked\":\"\\u003cp\\u003eThat’s some critical insider insight!  Thanks for providing it.\\u003c/p\\u003e\\n\\u003cp\\u003eAre there plans to update TalonFXSimState for 2026 to simulate current (and by extension current-limited voltage ramp rates and mechanism acceleration) more accurately for Falcons, X44’s, and any use of trapezoidal commutation?\\u003c/p\\u003e\\n\\u003cp\\u003eA related question, and one I could test myself, is how does the 2025 TalonFXSimState deal with multiple motors driving a mechanism?  Are simulated currents accurate for only a single KrakenX60Foc, or does it provide good per-motor current estimates for a leader/follower arrangement?\\u003c/p\\u003e\\n\\u003cp\\u003eThe need for high frequency updates of TalonFXSimState for mechanisms with faster dynamics (maybe 90+% of use cases?) should perhaps not come as a surprise given the high frequency processing in the TalonFX hardware.  However, the guidance from \\u003cspan class=\\\"abbreviation\\\"\\u003eCTRE\\u003ctemplate class=\\\"tooltiptext\\\" data-text=\\\"Cross The Road Electronics\\\"\\u003e\\u003c/template\\u003e\\u003c/span\\u003e in documentation and examples is to run the simState in simulationPeriodic.  Even your comment in this topic\\u003c/p\\u003e\\n\\u003caside class=\\\"quote group-CTRE\\\" data-username=\\\"bhall-ctre\\\" data-post=\\\"5\\\" data-topic=\\\"503869\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg loading=\\\"lazy\\\" alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/user_avatar/www.chiefdelphi.com/bhall-ctre/48/198180_2.png\\\" class=\\\"avatar\\\"\\u003e bhall-ctre:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003ethe five lines of code using \\u003ccode\\u003etestMotorSimState\\u003c/code\\u003e and \\u003ccode\\u003etestMotorSim\\u003c/code\\u003e should live inside \\u003ccode\\u003esimulationPeriodic()\\u003c/code\\u003e.\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003cp\\u003eprovides the same guidance.  It seems like many users would be well served if the documentation recommended the separate thread with high frequency updates like you provided here or at least presented it as an option for more accurate simulation of most mechanisms.\\u003c/p\\u003e\",\"post_number\":8,\"post_type\":1,\"posts_count\":9,\"updated_at\":\"2025-07-08T17:43:48.416Z\",\"reply_count\":1,\"reply_to_post_number\":7,\"quote_count\":1,\"incoming_link_count\":0,\"reads\":63,\"readers_count\":62,\"score\":32.6,\"yours\":false,\"topic_id\":503869,\"topic_slug\":\"ctre-talon-fx-simulation\",\"display_username\":\"paulonis\",\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_bg_color\":null,\"flair_color\":null,\"flair_group_id\":null,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"reply_to_user\":{\"id\":48146,\"username\":\"bhall-ctre\",\"name\":\"Benjamin Hall\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/bhall-ctre/{size}/198180_2.png\"},\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":1}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":22261,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"post_url\":\"/t/ctre-talon-fx-simulation/503869/8\",\"reactions\":[{\"id\":\"heart\",\"type\":\"emoji\",\"count\":1}],\"current_user_reaction\":null,\"reaction_users_count\":1,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null},{\"id\":3676682,\"name\":\"Benjamin Hall\",\"username\":\"bhall-ctre\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/bhall-ctre/{size}/198180_2.png\",\"created_at\":\"2025-07-08T18:08:37.642Z\",\"cooked\":\"\\u003caside class=\\\"quote no-group\\\" data-username=\\\"paulonis\\\" data-post=\\\"8\\\" data-topic=\\\"503869\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg loading=\\\"lazy\\\" alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/letter_avatar_proxy/v4/letter/p/5fc32e/48.png\\\" class=\\\"avatar\\\"\\u003e paulonis:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003eAre there plans to update TalonFXSimState for 2026 to simulate current (and by extension current-limited voltage ramp rates and mechanism acceleration) more accurately for Falcons, X44’s, and any use of trapezoidal commutation?\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003cp\\u003eWe don’t have any timeline on this, but we are looking into ways to add proper support for all of the other Talon FX powered motors in simulation.\\u003c/p\\u003e\\n\\u003caside class=\\\"quote no-group\\\" data-username=\\\"paulonis\\\" data-post=\\\"8\\\" data-topic=\\\"503869\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg loading=\\\"lazy\\\" alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/letter_avatar_proxy/v4/letter/p/5fc32e/48.png\\\" class=\\\"avatar\\\"\\u003e paulonis:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003eA related question, and one I could test myself, is how does the 2025 TalonFXSimState deal with multiple motors driving a mechanism? Are simulated currents accurate for only a single KrakenX60Foc, or does it provide good per-motor current estimates for a leader/follower arrangement?\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003cp\\u003eAs long as you specify the right number of motors in the \\u003ccode\\u003eDCMotor.getKrakenX60Foc(...)\\u003c/code\\u003e factory, the simulated currents should be reasonable. I think the behavior is technically more accurate if you give the DCMotorSim the average motor voltage of the leader and its followers (rather than just the leader’s), but everything still behaves well using the leader (as I believe is most common).\\u003c/p\\u003e\\n\\u003caside class=\\\"quote no-group\\\" data-username=\\\"paulonis\\\" data-post=\\\"8\\\" data-topic=\\\"503869\\\"\\u003e\\n\\u003cdiv class=\\\"title\\\"\\u003e\\n\\u003cdiv class=\\\"quote-controls\\\"\\u003e\\u003c/div\\u003e\\n\\u003cimg loading=\\\"lazy\\\" alt=\\\"\\\" width=\\\"24\\\" height=\\\"24\\\" src=\\\"https://www.chiefdelphi.com/letter_avatar_proxy/v4/letter/p/5fc32e/48.png\\\" class=\\\"avatar\\\"\\u003e paulonis:\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp\\u003eIt seems like many users would be well served if the documentation recommended the separate thread with high frequency updates like you provided here or at least presented it as an option for more accurate simulation of most mechanisms.\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003c/aside\\u003e\\n\\u003cp\\u003eAt least for our swerve projects, we do use a Notifier to work around this issue as well as improve the behavior of onboard closed-loop control.\\u003c/p\\u003e\\n\\u003cp\\u003eThe main concern with documentation and examples is that students aren’t familiar with thread safety, and too often we see teams mixing their simulation logic into their regular robot logic (or vice versa). We’re much more comfortable putting a multithreaded sim implementation into our generated projects—where we already have thread safety guarantees elsewhere, and users are unlikely to modify it—than we are broadly recommending it to teams.\\u003c/p\\u003e\\n\\u003cp\\u003eWith that said, we can at least put a note in our documentation that it is an option and warn of the thread safety concerns.\\u003c/p\\u003e\",\"post_number\":9,\"post_type\":1,\"posts_count\":9,\"updated_at\":\"2025-07-08T18:10:29.266Z\",\"reply_count\":0,\"reply_to_post_number\":8,\"quote_count\":1,\"incoming_link_count\":0,\"reads\":60,\"readers_count\":59,\"score\":42.0,\"yours\":false,\"topic_id\":503869,\"topic_slug\":\"ctre-talon-fx-simulation\",\"display_username\":\"Benjamin Hall\",\"primary_group_name\":\"CTRE\",\"flair_name\":\"CTRE\",\"flair_url\":\"/uploads/default/original/3X/1/b/1bd2b430e1bb6427d1c6504ff6abcd31de851a6d.png\",\"flair_bg_color\":\"\",\"flair_color\":\"\",\"flair_group_id\":57,\"badges_granted\":[],\"version\":1,\"can_edit\":false,\"can_delete\":false,\"can_recover\":false,\"can_see_hidden_post\":true,\"can_wiki\":false,\"read\":true,\"user_title\":\"\",\"bookmarked\":false,\"actions_summary\":[{\"id\":2,\"count\":2}],\"moderator\":false,\"admin\":false,\"staff\":false,\"user_id\":48146,\"hidden\":false,\"trust_level\":2,\"deleted_at\":null,\"user_deleted\":false,\"edit_reason\":null,\"can_view_edit_history\":true,\"wiki\":false,\"user_custom_fields\":{\"user_field_4\":\"Software Engineering Intern at CTR Electronics\"},\"post_url\":\"/t/ctre-talon-fx-simulation/503869/9\",\"reactions\":[{\"id\":\"+1\",\"type\":\"emoji\",\"count\":1},{\"id\":\"heart\",\"type\":\"emoji\",\"count\":1}],\"current_user_reaction\":null,\"reaction_users_count\":2,\"current_user_used_main_reaction\":false,\"can_accept_answer\":false,\"can_unaccept_answer\":false,\"accepted_answer\":false,\"topic_accepted_answer\":null}],\"stream\":[3672869,3672966,3672968,3673013,3673084,3676405,3676467,3676650,3676682]},\"timeline_lookup\":[[1,32],[6,27],[8,26]],\"suggested_topics\":[{\"id\":471543,\"title\":\"Flexible Autos: How Do Teams Do It?\",\"fancy_title\":\"Flexible Autos: How Do Teams Do It?\",\"slug\":\"flexible-autos-how-do-teams-do-it\",\"posts_count\":20,\"reply_count\":15,\"highest_post_number\":20,\"image_url\":null,\"created_at\":\"2024-09-20T20:55:04.087Z\",\"last_posted_at\":\"2024-09-23T03:29:49.510Z\",\"bumped\":true,\"bumped_at\":\"2024-09-23T03:29:49.510Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"Hello all, I am thinking through improvements to our team’s autonomous system, and I am unsure what tools / methods satisfy the requirements I am looking for. Here’s the workflow that I would …\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[],\"tags_descriptions\":{},\"like_count\":26,\"views\":1316,\"category_id\":30,\"featured_link\":null,\"has_accepted_answer\":false,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3425607,\"topic_post_liked\":false,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":true,\"topic_post_is_current_users\":null,\"topic_post_number\":1,\"topic_post_user\":{\"id\":62962,\"username\":\"Paraduks\",\"name\":\"Sam\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/p/ea5d25/{size}.png\"},\"posters\":[{\"extras\":null,\"description\":\"Original Poster\",\"user\":{\"id\":62962,\"username\":\"Paraduks\",\"name\":\"Sam\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/p/ea5d25/{size}.png\",\"trust_level\":2}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":13827,\"username\":\"chadr03\",\"name\":\"2582\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/chadr03/{size}/195529_2.png\",\"trust_level\":2}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":48345,\"username\":\"narmstro\",\"name\":\"Nicholas Armstrong\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/n/5e9695/{size}.png\",\"trust_level\":2}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":12381,\"username\":\"Oblarg\",\"name\":\"Eli Barnett\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/oblarg/{size}/161674_2.png\",\"trust_level\":2}},{\"extras\":\"latest\",\"description\":\"Most Recent Poster\",\"user\":{\"id\":25916,\"username\":\"SamCarlberg\",\"name\":\"Sam Carlberg\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/samcarlberg/{size}/207684_2.png\",\"trust_level\":2}}]},{\"id\":481714,\"title\":\"Named commands does not work\",\"fancy_title\":\"Named commands does not work\",\"slug\":\"named-commands-does-not-work\",\"posts_count\":4,\"reply_count\":2,\"highest_post_number\":4,\"image_url\":null,\"created_at\":\"2025-01-14T19:32:17.479Z\",\"last_posted_at\":\"2025-01-14T20:50:18.344Z\",\"bumped\":true,\"bumped_at\":\"2025-01-14T20:50:18.344Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"Hi! We’re experiencing an issue with our namedCommands. We’re trying to use the registerCommad function, but it doesn’t seem to be working as expected. While we can select the named command in the P…\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[\"pathplanner\"],\"tags_descriptions\":{},\"like_count\":0,\"views\":139,\"category_id\":30,\"featured_link\":null,\"has_accepted_answer\":false,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3482402,\"topic_post_liked\":false,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":false,\"topic_post_is_current_users\":null,\"topic_post_number\":1,\"topic_post_user\":{\"id\":29450,\"username\":\"G3_6740\",\"name\":\"G3 6740\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/g/3d9bf3/{size}.png\"},\"posters\":[{\"extras\":null,\"description\":\"Original Poster\",\"user\":{\"id\":29450,\"username\":\"G3_6740\",\"name\":\"G3 6740\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/g/3d9bf3/{size}.png\",\"trust_level\":1}},{\"extras\":\"latest\",\"description\":\"Most Recent Poster\",\"user\":{\"id\":18342,\"username\":\"jdaming\",\"name\":\"Jason Daming\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/jdaming/{size}/137720_2.png\",\"trust_level\":2}}]},{\"id\":479177,\"title\":\"Setting up new limelight on a new robot\",\"fancy_title\":\"Setting up new limelight on a new robot\",\"slug\":\"setting-up-new-limelight-on-a-new-robot\",\"posts_count\":2,\"reply_count\":0,\"highest_post_number\":2,\"image_url\":null,\"created_at\":\"2025-01-05T22:46:04.992Z\",\"last_posted_at\":\"2025-01-06T15:38:42.490Z\",\"bumped\":true,\"bumped_at\":\"2025-01-06T15:38:42.490Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"Hi, When setting up new limelight on new robot for apriltag tracking (3d) - what is your process? best practices? Do you always do ChArUco calibration? How to perfectly set the position offsets? R…\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[\"limelight\",\"vision\"],\"tags_descriptions\":{},\"like_count\":1,\"views\":131,\"category_id\":30,\"featured_link\":null,\"has_accepted_answer\":false,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3471552,\"topic_post_liked\":false,\"topic_post_like_count\":1,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":false,\"topic_post_is_current_users\":null,\"topic_post_number\":1,\"topic_post_user\":{\"id\":70379,\"username\":\"theoneandonly\",\"name\":\"theoneandonly\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/t/3bc359/{size}.png\"},\"posters\":[{\"extras\":null,\"description\":\"Original Poster\",\"user\":{\"id\":70379,\"username\":\"theoneandonly\",\"name\":\"theoneandonly\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/t/3bc359/{size}.png\",\"trust_level\":0}},{\"extras\":\"latest\",\"description\":\"Most Recent Poster\",\"user\":{\"id\":24594,\"username\":\"SLAB-Mr.Thomas\",\"name\":\"SLAB-Mr.Thomas\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/slab-mr.thomas/{size}/182153_2.png\",\"trust_level\":2}}]},{\"id\":480678,\"title\":\"Swerve on Break vs Coast Mode\",\"fancy_title\":\"Swerve on Break vs Coast Mode\",\"slug\":\"swerve-on-break-vs-coast-mode\",\"posts_count\":16,\"reply_count\":8,\"highest_post_number\":16,\"image_url\":null,\"created_at\":\"2025-01-10T13:31:31.974Z\",\"last_posted_at\":\"2025-01-10T18:21:50.740Z\",\"bumped\":true,\"bumped_at\":\"2025-01-10T18:21:50.740Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"What is your take having both drive and angle motors of swerve on Coast while driving? Does one really have an advantage over the other, and if so how can we ensure the modules return to Coast mode wh…\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[\"swerve\"],\"tags_descriptions\":{},\"like_count\":23,\"views\":722,\"category_id\":30,\"featured_link\":null,\"has_accepted_answer\":false,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3477857,\"topic_post_liked\":false,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":false,\"topic_post_is_current_users\":null,\"topic_post_number\":1,\"topic_post_user\":{\"id\":53237,\"username\":\"cantogr07\",\"name\":\"Can Toğran\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/cantogr07/{size}/208647_2.png\"},\"posters\":[{\"extras\":null,\"description\":\"Original Poster\",\"user\":{\"id\":53237,\"username\":\"cantogr07\",\"name\":\"Can Toğran\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/cantogr07/{size}/208647_2.png\",\"trust_level\":2}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":70495,\"username\":\"Trillen\",\"name\":\"David Berry\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/t/6a8cbe/{size}.png\",\"trust_level\":2}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":59182,\"username\":\"TrevJag\",\"name\":\"Trevor Dayal (he/him)\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/trevjag/{size}/235892_2.png\",\"trust_level\":3}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":7841,\"username\":\"Tom_Line\",\"name\":\"Tom Line\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/tom_line/{size}/236809_2.png\",\"trust_level\":2}},{\"extras\":\"latest\",\"description\":\"Most Recent Poster\",\"user\":{\"id\":19116,\"username\":\"thatnameistaken\",\"name\":\"Joshua J\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/t/57b2e6/{size}.png\",\"trust_level\":2}}]},{\"id\":482791,\"title\":\"CTRE Swerve - FieldCentricFacingAngle\",\"fancy_title\":\"CTRE Swerve - FieldCentricFacingAngle\",\"slug\":\"ctre-swerve-fieldcentricfacingangle\",\"posts_count\":4,\"reply_count\":1,\"highest_post_number\":4,\"image_url\":null,\"created_at\":\"2025-01-20T21:50:58.098Z\",\"last_posted_at\":\"2025-03-12T14:45:09.694Z\",\"bumped\":true,\"bumped_at\":\"2025-03-12T14:45:09.694Z\",\"archetype\":\"regular\",\"unseen\":false,\"pinned\":false,\"unpinned\":null,\"excerpt\":\"Our team is using the CTRE generated Swerve drive for the first time. Normal drive is working fine but our driver prefers to use the right joystick to set the angle instead of rotating. We’ve tried …\",\"visible\":true,\"closed\":false,\"archived\":false,\"bookmarked\":null,\"liked\":null,\"tags\":[],\"tags_descriptions\":{},\"like_count\":0,\"views\":289,\"category_id\":30,\"featured_link\":null,\"has_accepted_answer\":false,\"sidecar_installed\":true,\"include_dominant_colour\":false,\"topic_post_id\":3488474,\"topic_post_liked\":false,\"topic_post_can_like\":false,\"topic_post_can_unlike\":false,\"topic_post_bookmarked\":false,\"topic_post_is_current_users\":null,\"topic_post_number\":1,\"topic_post_user\":{\"id\":64978,\"username\":\"anthv\",\"name\":\"Anthony\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/a/9de053/{size}.png\"},\"posters\":[{\"extras\":null,\"description\":\"Original Poster\",\"user\":{\"id\":64978,\"username\":\"anthv\",\"name\":\"Anthony\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/a/9de053/{size}.png\",\"trust_level\":1}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":59796,\"username\":\"Arrowmag\",\"name\":\"Joey Tidrow\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/arrowmag/{size}/233870_2.png\",\"trust_level\":2}},{\"extras\":null,\"description\":\"Frequent Poster\",\"user\":{\"id\":50684,\"username\":\"crueter\",\"name\":\"\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/crueter/{size}/258043_2.png\",\"trust_level\":2}},{\"extras\":\"latest\",\"description\":\"Most Recent Poster\",\"user\":{\"id\":51835,\"username\":\"JimB1918\",\"name\":\"Jim Barstow\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/jimb1918/{size}/166841_2.png\",\"trust_level\":2}}]}],\"tags\":[],\"tags_descriptions\":{},\"id\":503869,\"title\":\"CTRE Talon FX Simulation\",\"fancy_title\":\"CTRE Talon FX Simulation\",\"posts_count\":9,\"created_at\":\"2025-07-02T22:36:36.172Z\",\"views\":563,\"reply_count\":4,\"like_count\":15,\"last_posted_at\":\"2025-07-08T18:08:37.642Z\",\"visible\":true,\"closed\":false,\"archived\":false,\"has_summary\":false,\"archetype\":\"regular\",\"slug\":\"ctre-talon-fx-simulation\",\"category_id\":30,\"word_count\":2531,\"deleted_at\":null,\"user_id\":60986,\"featured_link\":null,\"pinned_globally\":false,\"pinned_at\":null,\"pinned_until\":null,\"image_url\":\"https://www.chiefdelphi.com/uploads/default/original/4X/7/2/e/72ec0dc4e44971c2696c6a2b921e17a7d90cba3a.png\",\"slow_mode_seconds\":0,\"draft\":null,\"draft_key\":\"topic_503869\",\"draft_sequence\":null,\"unpinned\":null,\"pinned\":false,\"current_post_number\":1,\"highest_post_number\":9,\"deleted_by\":null,\"actions_summary\":[{\"id\":4,\"count\":0,\"hidden\":false,\"can_act\":false},{\"id\":8,\"count\":0,\"hidden\":false,\"can_act\":false},{\"id\":10,\"count\":0,\"hidden\":false,\"can_act\":false},{\"id\":7,\"count\":0,\"hidden\":false,\"can_act\":false}],\"chunk_size\":20,\"bookmarked\":false,\"topic_timer\":{\"id\":47857,\"execute_at\":\"2026-07-08T18:08:37.642Z\",\"duration_minutes\":525600,\"based_on_last_post\":true,\"status_type\":\"close\",\"category_id\":null},\"message_bus_last_id\":0,\"participant_count\":5,\"show_read_indicator\":false,\"thumbnails\":[{\"max_width\":null,\"max_height\":null,\"width\":827,\"height\":913,\"url\":\"https://www.chiefdelphi.com/uploads/default/original/4X/7/2/e/72ec0dc4e44971c2696c6a2b921e17a7d90cba3a.png\"}],\"slow_mode_enabled_until\":null,\"valid_reactions\":[\"heart\",\"laughing\",\"point_up\",\"+1\",\"-1\",\"100\",\"open_mouth\",\"cry\",\"question\",\"thinking\",\"call_me_hand\",\"hugs\",\"angry\"],\"user_chosen_thumbnail_url\":null,\"sidecar_installed\":true,\"details\":{\"can_edit\":false,\"notification_level\":1,\"participants\":[{\"id\":22261,\"username\":\"paulonis\",\"name\":\"paulonis\",\"avatar_template\":\"/letter_avatar_proxy/v4/letter/p/5fc32e/{size}.png\",\"post_count\":3,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":48146,\"username\":\"bhall-ctre\",\"name\":\"Benjamin Hall\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/bhall-ctre/{size}/198180_2.png\",\"post_count\":3,\"primary_group_name\":\"CTRE\",\"flair_name\":\"CTRE\",\"flair_url\":\"/uploads/default/original/3X/1/b/1bd2b430e1bb6427d1c6504ff6abcd31de851a6d.png\",\"flair_color\":\"\",\"flair_bg_color\":\"\",\"flair_group_id\":57,\"trust_level\":2},{\"id\":57470,\"username\":\"kn4\",\"name\":\"Kabir\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/kn4/{size}/235296_2.png\",\"post_count\":1,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":60986,\"username\":\"GalDotan\",\"name\":\"Gal\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/galdotan/{size}/201749_2.png\",\"post_count\":1,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2},{\"id\":75029,\"username\":\"NJ4611\",\"name\":null,\"avatar_template\":\"/letter_avatar_proxy/v4/letter/n/71c47a/{size}.png\",\"post_count\":1,\"primary_group_name\":null,\"flair_name\":null,\"flair_url\":null,\"flair_color\":null,\"flair_bg_color\":null,\"flair_group_id\":null,\"trust_level\":2}],\"created_by\":{\"id\":60986,\"username\":\"GalDotan\",\"name\":\"Gal\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/galdotan/{size}/201749_2.png\"},\"last_poster\":{\"id\":48146,\"username\":\"bhall-ctre\",\"name\":\"Benjamin Hall\",\"avatar_template\":\"/user_avatar/www.chiefdelphi.com/bhall-ctre/{size}/198180_2.png\"},\"links\":[{\"url\":\"https://ambcalc.com/startup?=\\u0026volt=10\\u0026sim-ratio=6\\u0026max-ratio=10\\u0026radius=2\\u0026mass-u=1\\u0026mass=11.625\\u0026load=0\\u0026by_vel=%5E\\u0026stop-vel-rot=1000\\u0026tmax=1\\u0026dt=4\\u0026maxI=120\",\"title\":\"Mechanism Startup Calculator - AMB Robotics Calculator\",\"internal\":false,\"attachment\":false,\"reflection\":false,\"clicks\":1,\"user_id\":22261,\"domain\":\"ambcalc.com\",\"root_domain\":\"ambcalc.com\"}]},\"bookmarks\":[]}"}
